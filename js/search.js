window.addEventListener("load", () => {

    const search_result = "searchresult.html";
    // 現在表示中のページ
    const currentPage = getCurrentPageName();

    // 現在ページのファイル名の取得
    function getCurrentPageName() {
        // URLをスラッシュで分割し、末端をファイル名とする
        // 末端が空（URLがスラッシュで終わっている）のときはトップページ
        const pathNames = location.pathname.split("/");
        const pathName = pathNames[pathNames.length - 1];
        return pathName;
    }

    const SUMMARY_LENGTH = 30;
    const REPLACE_SYMBOL = getReplaceSymbol();
    const REPLACE_KANA = getReplaceKana();
    const SEARCH_INDEX = getSearchIndex();
    const HIT_COUNT_WORDS = getHitCountWord();
    let andRegExp;
    let orRegExp;

    // 表示URLから検索キーワードを取得
    // 検索キーワードがあれば、ハイライトと検索結果の復元
    const keyword = getParam("search");
    if (!keyword || keyword.trim() == "") {
        // 空欄の場合、何もしない
        return;
    }

    // 検索キーワードの本文ハイライト
    // 検索条件の正規表現化（全半角を区別しない）
    const regExpKeyword = covertRegExp(keyword);

    // 空白文字で区切る
    const keywords = regExpKeyword.split(/[\s　]+/);

    // ヒットしたキーワードの取得のためのOR条件の正規表現
    orRegExp = new RegExp(`(${keywords.join(")|(")})`, "ig");

    // AND条件の正規表現
    andRegExp = new RegExp(`^(?=.*${keywords.join(")(?=.*")}).*`, "ig");

    if (currentPage == search_result) {
        // 検索キーワードで検索
        document.querySelector("#input_search").value = keyword;
        search(keyword);
    } else {
        // 検索キーワードの本文ハイライト
        // 検索条件の正規表現化（全半角を区別しない）
        const regExpKeyword = covertRegExp(keyword);

        // 空白文字で区切る
        const keywords = regExpKeyword.split(/[\s　]+/);

        // ヒットしたキーワードの取得のためのOR条件の正規表現
        orRegExp = new RegExp(`(${keywords.join(")|(")})`, "ig");

        // AND条件の正規表現
        andRegExp = new RegExp(`^(?=.*${keywords.join(")(?=.*")}).*`, "ig");

        // 本文中の検索
        const contents = document.querySelector("#top");
        searchContent(contents)
    }

    // 本文中の検索
    function searchContent(element) {
        element.childNodes.forEach((child) => {
            // テキストノードの判定
            if (child.nodeType == Node.TEXT_NODE) {
                if (child.nodeValue.trim()) {
                    // キーワードにマッチする箇所をハイライト用のタグでくくる
                    const replacedValue = child.nodeValue.replace(orRegExp, function($1) {
                        // マーキングタグ自体が検索条件に合致し文字列置換されることを防ぐ
                        return `<span class="hit hit_word">${$1}</span>`;
                    });

                    // 置換されていれば、本文と置き換え
                    if (replacedValue != child.nodeValue) {
                        const hitNode = document.createElement("span");
                        hitNode.classList.add("hit")
                        hitNode.innerHTML = replacedValue
                        element.replaceChild(hitNode, child);
                    }
                }
            } else {
                // テキストノード以外は子ノードを再帰検索
                searchContent(child, orRegExp)
            }
        });
    }

    // URLパラメータから指定されたキーの値を取得
    function getParam(key) {
        const url = new URL(location.href);
        return url.searchParams.get(key);
    }

    // 検索処理
    function search(keyword) {

        // ヒットした項目の格納先
        const titleHitContents = [];
        const bodyHitContents = [];

        SEARCH_INDEX.forEach((searchContent) => {
            // タイトル検索
            andRegExp.lastIndex = 0;
            orRegExp.lastIndex = 0;
            const hitTitle = searchKeywords(searchContent.title)
            if (hitTitle) {
                const result = new Object();
                result.title = hitTitle;
                result.link = createSearchResultUrl(searchContent.link, keyword);
                titleHitContents.push(result)
            }

            // 本文検索
            andRegExp.lastIndex = 0;
            orRegExp.lastIndex = 0;
            const hitBody = searchKeywords(searchContent.body, SUMMARY_LENGTH)
            if (hitBody) {
                const result = new Object();
                result.title = searchContent.title;
                result.summary = hitBody;
                result.link = createSearchResultUrl(searchContent.link, keyword);
                bodyHitContents.push(result)
            }
        });

        // タイトルヒット→本文ヒットの順で検索結果のマージ
        const searchResult = titleHitContents.concat(bodyHitContents);

        // 検索結果のタグ構築
        const resultTags = [];
        searchResult.forEach((content) => {
            resultTags.push("<div class=\"search_result_item\">");
            resultTags.push(`<a href="${content.link}">`);
            resultTags.push(`<div class="search_result_title">${content.title}</div>`);
            if (content.summary) {
                resultTags.push(`<div class="search_result_summary">${content.summary}</div>`);
            }

            resultTags.push("</a>");
            resultTags.push("</div>");
        });

        // ヒット件数と検索結果の表示
        document.querySelector("#hit_count").textContent = createHitCount(searchResult.length);
        document.querySelector("#search_result").innerHTML = resultTags.join("");
    }

    // 検索結果のリンク用URL組立
    function createSearchResultUrl(url, keyword) {
        if (url.indexOf("#") > 0) {
            // URLにハッシュが含まれている場合、検索キーワードをファイル名とハッシュの間に差し込む
            const base = url.split("#")[0];
            const hash = url.split("#")[1];
            return `${base}?search=${keyword}#${hash}`;
        } else {
            return `${url}?search=${keyword}`;
        }
    }

    function createHitCount(hitCount) {
        const hitCountWord = HIT_COUNT_WORDS[document.querySelector("html").attributes["lang"].value];
        return hitCountWord.replace("$$$", hitCount);
    }

    // 文字列内のキーワード検索
    function searchKeywords(target, summaryLength = 0) {
        if (!andRegExp.test(target)) {
            // ヒット無し
            return "";
        }

        // 文字列の長さによって前後の省略記号を付与
        let prefix = "";
        let sufix = "";
        if (summaryLength && target.length > summaryLength) {
            sufix = "..."
            prefix = "...";

            let startPos = target.search(orRegExp) - parseInt(summaryLength / 2);
            let endPos = startPos + summaryLength;
            if (startPos < 0) {
                startPos = 0;
                target = target.substring(0, summaryLength)
                prefix = "";
            } else if (endPos > target.length) {
                startPos = target.length - summaryLength;
                target = target.substring(startPos, endPos)
                sufix = ""
            } else {
                target = target.substring(startPos, endPos)
            }
        }

        target = target.replace(orRegExp, function($1) {
            // マーキングタグ自体が検索条件に合致し文字列置換されることを防ぐ
            return `<span class="hit">${$1}</span>`;
        });

        return `${prefix}${target}${sufix}`;
    }

    // 全半角を区別しないため、正規表現に変換する
    function covertRegExp(keyword) {
        // 記号→英数字→カナの順に変換
        let regExpKeyword = convertSymbol(keyword)
        regExpKeyword = convertAlphameric(regExpKeyword)
        regExpKeyword = convertKana(regExpKeyword)
        return regExpKeyword;
    }

    // 記号の正規表現変換
    function convertSymbol(text) {
        // エスケープ対象の記号
        const regexpEscapeJson = /([$()\-^\\\|\[\]{},:+*.?])/g;

        // 半角記号を全角記号に置換
        return text.replace(
            new RegExp(`(${Object.keys(REPLACE_SYMBOL).join("|")})`, "g"),
            (key) => {
                // 記号をエスケープ
                key = key.replace(regexpEscapeJson, "\\$1");
                return REPLACE_SYMBOL[key];
            }
        )

        // 全角記号を全角/半角の区別しないように正規表現に置換
        .replace(
            new RegExp(`(${Object.values(REPLACE_SYMBOL).join("|")})`, "g"),
            (value) => {
                const half = Object.keys(REPLACE_SYMBOL).find((key) => REPLACE_SYMBOL[key] === value);
                return `[${half}|${value}]`;
            }
        );
    }

    // 英数字の正規表現変換
    function convertAlphameric(text) {
        // 全角英数字を半角に置換
        return text.replace(/[\uFF21-\uFF3A\uFF41-\uFF5A\uFF10-\uFF19]/g,
            (s) => {
                return String.fromCharCode(s.charCodeAt(0) - 0xFEE0);
            }
        )

        // 半角英数字を半角/全角の正規表現に置換
        .replace(/[a-zA-Z0-9]/g,
            (s) => {
                return `[${String.fromCharCode(s.charCodeAt(0))}|${String.fromCharCode(s.charCodeAt(0) + 0xFEE0)}]`;
            }
        );
    }

    // カナの正規表現変換
    function convertKana(text) {
        // 半角カナを全角カナに置換
        return text.replace(
            new RegExp(`(${Object.keys(REPLACE_KANA).join("|")})`, "g"),
            (key) => {
                return REPLACE_KANA[key];
            }
        )

        // 全角カナを全角/半角の正規表現に置換
        .replace(
            new RegExp(`(${Object.values(REPLACE_KANA).join("|")})`, "g"),
            (value) => {
                const half = Object.keys(REPLACE_KANA).find((key) => REPLACE_KANA[key] === value);
                return `[${half}|${value}]`;
            }
        );
    }

    function getHitCountWord() {
        return {
            "ja": "$$$件ヒット",
            "en": "$$$ item(s)",
            "zh-cmn-Hans": "$$$项",
            "ko": "$$$건",
            "zh-cmn-Hant-TW": "$$$件",
        }
    }

    // 記号の全半角正規表現置換定義
    function getReplaceSymbol() {
        return {
            "\u0021": "\uFF01", // ! ！
            "\u0022": "\u201D", // " ”
            "\u0023": "\uFF03", // # ＃
            "\u005C\u0024": "\uFF04", // \$ ＄
            "\u0025": "\uFF05", // % ％
            "\u0026": "\uFF06", // & ＆
            "\u0027": "\u2019", // ' ’
            "\u005C\u0028": "\uFF08", // \( （
            "\u005C\u0029": "\uFF09", // \) ）
            "\u005C\u002A": "\uFF0A", // \* ＊
            "\u005C\u002B": "\uFF0B", // \+ ＋
            "\u005C\u002C": "\uFF0C", // \, ，
            "\u005C\u002D": "\uFF0D", // \- －
            "\u005C\u002E": "\uFF0E", // \. ．
            "\u002F": "\uFF0F", // / ／
            "\u005C\u003A": "\uFF1A", // \: ：
            "\u003B": "\uFF1B", // ; ；
            "\u003C": "\uFF1C", // < ＜
            "\u003D": "\uFF1D", // = ＝
            "\u003E": "\uFF1E", // > ＞
            "\u005C\u003F": "\uFF1F", // \? ？
            "\u0040": "\uFF20", // @ ＠
            "\u005C\u005B": "\uFF3B", // \[ ［
            "\u005C\u005C": "\uFFE5", // \\ ￥
            "\u005C\u005D": "\uFF3D", // \] ］
            "\u005C\u005E": "\uFF3E", // \^ ＾
            "\u005F": "\uFF3F", // _ ＿
            "\u0060": "\u2018", // ` ‘
            "\u005C\u007B": "\uFF5B", // \{ ｛
            "\u005C\u007C": "\uFF5C", // \| ｜
            "\u005C\u007D": "\uFF5D", // \} ｝
            "\u007E": "\uFF5E" // ~ ～
        };
    }

    // カナの全半角正規表現置換定義
    function getReplaceKana() {
        return {
            "\uFF73\uFF9E": "\u30F4", // "ｳﾞ" "ヴ"
            "\uFF76\uFF9E": "\u30AC", // "ｶﾞ" "ガ"
            "\uFF77\uFF9E": "\u30AE", // "ｷﾞ" "ギ"
            "\uFF78\uFF9E": "\u30B0", // "ｸﾞ" "グ"
            "\uFF79\uFF9E": "\u30B2", // "ｹﾞ" "ゲ"
            "\uFF7A\uFF9E": "\u30B4", // "ｺﾞ" "ゴ"
            "\uFF7B\uFF9E": "\u30B6", // "ｻﾞ" "ザ"
            "\uFF7C\uFF9E": "\u30B8", // "ｼﾞ" "ジ"
            "\uFF7D\uFF9E": "\u30BA", // "ｽﾞ" "ズ"
            "\uFF7E\uFF9E": "\u30BC", // "ｾﾞ" "ゼ"
            "\uFF7F\uFF9E": "\u30BE", // "ｿﾞ" "ゾ"
            "\uFF80\uFF9E": "\u30C0", // "ﾀﾞ" "ダ"
            "\uFF81\uFF9E": "\u30C2", // "ﾁﾞ" "ヂ"
            "\uFF82\uFF9E": "\u30C5", // "ﾂﾞ" "ヅ"
            "\uFF83\uFF9E": "\u30C7", // "ﾃﾞ" "デ"
            "\uFF84\uFF9E": "\u30C9", // "ﾄﾞ" "ド"
            "\uFF8A\uFF9E": "\u30D0", // "ﾊﾞ" "バ"
            "\uFF8B\uFF9E": "\u30D3", // "ﾋﾞ" "ビ"
            "\uFF8C\uFF9E": "\u30D6", // "ﾌﾞ" "ブ"
            "\uFF8D\uFF9E": "\u30D9", // "ﾍﾞ" "ベ"
            "\uFF8E\uFF9E": "\u30DC", // "ﾎﾞ" "ボ"
            "\uFF8A\uFF9F": "\u30D1", // "ﾊﾟ" "パ"
            "\uFF8B\uFF9F": "\u30D4", // "ﾋﾟ" "ピ"
            "\uFF8C\uFF9F": "\u30D7", // "ﾌﾟ" "プ"
            "\uFF8D\uFF9F": "\u30DA", // "ﾍﾟ" "ペ"
            "\uFF8E\uFF9F": "\u30DD", // "ﾎﾟ" "ポ"
            "\uFF71": "\u30A2", // "ｱ" "ア"
            "\uFF72": "\u30A4", // "ｲ" "イ"
            "\uFF73": "\u30A6", // "ｳ" "ウ"
            "\uFF74": "\u30A8", // "ｴ" "エ"
            "\uFF75": "\u30AA", // "ｵ" "オ"
            "\uFF76": "\u30AB", // "ｶ" "カ"
            "\uFF77": "\u30AD", // "ｷ" "キ"
            "\uFF78": "\u30AF", // "ｸ" "ク"
            "\uFF79": "\u30B1", // "ｹ" "ケ"
            "\uFF7A": "\u30B3", // "ｺ" "コ"
            "\uFF7B": "\u30B5", // "ｻ" "サ"
            "\uFF7C": "\u30B7", // "ｼ" "シ"
            "\uFF7D": "\u30B9", // "ｽ" "ス"
            "\uFF7E": "\u30BB", // "ｾ" "セ"
            "\uFF7F": "\u30BD", // "ｿ" "ソ"
            "\uFF80": "\u30BF", // "ﾀ" "タ"
            "\uFF81": "\u30C1", // "ﾁ" "チ"
            "\uFF82": "\u30C4", // "ﾂ" "ツ"
            "\uFF83": "\u30C6", // "ﾃ" "テ"
            "\uFF84": "\u30C8", // "ﾄ" "ト"
            "\uFF85": "\u30CA", // "ﾅ" "ナ"
            "\uFF86": "\u30CB", // "ﾆ" "ニ"
            "\uFF87": "\u30CC", // "ﾇ" "ヌ"
            "\uFF88": "\u30CD", // "ﾈ" "ネ"
            "\uFF89": "\u30CE", // "ﾉ" "ノ"
            "\uFF8A": "\u30CF", // "ﾊ" "ハ"
            "\uFF8B": "\u30D2", // "ﾋ" "ヒ"
            "\uFF8C": "\u30D5", // "ﾌ" "フ"
            "\uFF8D": "\u30D8", // "ﾍ" "ヘ"
            "\uFF8E": "\u30DB", // "ﾎ" "ホ"
            "\uFF8F": "\u30DE", // "ﾏ" "マ"
            "\uFF90": "\u30DF", // "ﾐ" "ミ"
            "\uFF91": "\u30E0", // "ﾑ" "ム"
            "\uFF92": "\u30E1", // "ﾒ" "メ"
            "\uFF93": "\u30E2", // "ﾓ" "モ"
            "\uFF94": "\u30E4", // "ﾔ" "ヤ"
            "\uFF95": "\u30E6", // "ﾕ" "ユ"
            "\uFF96": "\u30E8", // "ﾖ" "ヨ"
            "\uFF97": "\u30E9", // "ﾗ" "ラ"
            "\uFF98": "\u30EA", // "ﾘ" "リ"
            "\uFF99": "\u30EB", // "ﾙ" "ル"
            "\uFF9A": "\u30EC", // "ﾚ" "レ"
            "\uFF9B": "\u30ED", // "ﾛ" "ロ"
            "\uFF9C": "\u30EF", // "ﾜ" "ワ"
            "\uFF66": "\u30F2", // "ｦ" "ヲ"
            "\uFF9D": "\u30F3", // "ﾝ" "ン"
            "\uFF67": "\u30A1", // "ｧ" "ァ"
            "\uFF68": "\u30A3", // "ｨ" "ィ"
            "\uFF69": "\u30A5", // "ｩ" "ゥ"
            "\uFF6A": "\u30A7", // "ｪ" "ェ"
            "\uFF6B": "\u30A9", // "ｫ" "ォ"
            "\uFF6F": "\u30C3", // "ｯ" "ッ"
            "\uFF6C": "\u30E3", // "ｬ" "ャ"
            "\uFF6D": "\u30E5", // "ｭ" "ュ"
            "\uFF6E": "\u30E7", // "ｮ" "ョ"
            "\uFF61": "\u3002", // ｡ 。
            "\uFF62": "\u300C", // ｢ 「
            "\uFF63": "\u300D", // ｣ 」
            "\uFF64": "\u3001", // ､ 、
            "\uFF65": "\u30FB", // ･ ・
            "\uFF70": "\u30FC", // ｰ ー
        };
    }

    // 検索用インデックス
    function getSearchIndex() {
        return [{"link":"./index.html","title":"KV-X500/X300\u7CFB\u5217\u6307\u4EE4\u53C2\u8003\u624B\u518C","body":"\u672C\u624B\u518C\u8BF4\u660E\u4E86\u53EF\u7F16\u7A0B\u63A7\u5236\u5668\u201CKV-X500/X300\u7CFB\u5217\u201D\u7684\u57FA\u672C\u64CD\u4F5C\u65B9\u6CD5\u3002\u4E3A\u4E86\u5145\u5206\u5229\u7528\u672C\u673A\u7684\u6027\u80FD\u548C\u529F\u80FD\uFF0C\u8BF7\u4ED4\u7EC6\u9605\u8BFB \u672C\u624B\u518C\uFF0C\u5728\u5145\u5206\u7406\u89E3\u540E\u4F7F\u7528\u672C\u673A\u3002"},{"link":"index.html","title":"KV-X500/X300\u7CFB\u5217\u6307\u4EE4\u53C2\u8003\u624B\u518C","body":"\u672C\u624B\u518C\u8BF4\u660E\u4E86\u53EF\u7F16\u7A0B\u63A7\u5236\u5668\u201CKV-X500/X300\u7CFB\u5217\u201D\u7684\u57FA\u672C\u64CD\u4F5C\u65B9\u6CD5\u3002\u4E3A\u4E86\u5145\u5206\u5229\u7528\u672C\u673A\u7684\u6027\u80FD\u548C\u529F\u80FD\uFF0C\u8BF7\u4ED4\u7EC6\u9605\u8BFB \u672C\u624B\u518C\uFF0C\u5728\u5145\u5206\u7406\u89E3\u540E\u4F7F\u7528\u672C\u673A\u3002"},{"link":"./00_01_Introduction-1.html","title":"\u524D\u8A00","body":"\u524D\u8A00 \u672C\u624B\u518C\u8BF4\u660E\u4E86\u201CKV-X500/X300\u7CFB\u5217\u201D\u7684\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u53EF\u4F7F\u7528\u7684\u5404\u79CD\u6307\u4EE4/FB/FUN\u3002 \u8BF7\u59A5\u5584\u4FDD\u7BA1\u672C\u624B\u518C\uFF0C\u4EE5\u4FBF\u968F\u65F6\u67E5\u9605\u3002 \u672C\u624B\u518C\u5E94\u9001\u8FBE\u6700\u7EC8\u7528\u6237\u7684\u624B\u4E2D\u3002 \u76F8\u5173\u624B\u518C \u5B9E\u9645\u7F16\u7A0B\u65F6\uFF0C\u8BF7\u4E00\u5E76\u9605\u8BFB\u4E0B\u8FF0\u624B\u518C\u3002 \u540D\u79F0 \u8BF4\u660E KV-X500/X300\u7CFB\u5217\u00A0\u6307\u4EE4\u53C2\u8003\u624B\u518C \u672C\u624B\u518C\u3002\u8BF4\u660E\u4E86\u53EF\u5728\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u7684\u5404\u79CD\u6307\u4EE4/FB/FUN\u3002 KV STUDIO \u7528\u6237\u624B\u518C \u8BF4\u660E\u4E86\u201CKV STUDIO\u201D\u7684\u64CD\u4F5C\u65B9\u6CD5\u3002 CPU\u5355\u5143\u00A0\u7528\u6237\u624B\u518C \u8BF4\u660E\u4E86CPU\u5355\u5143\u7684\u7CFB\u7EDF\u914D\u7F6E/\u89C4\u683C\u3001CPU\u5185\u7F6E\u529F\u80FD\u548C\u7A0B\u5E8F\u7F16\u7A0B\u65B9\u6CD5\u3002"},{"link":"./00_01_Introduction-2.html","title":"\u5B89\u5168\u4F7F\u7528\u6CE8\u610F\u4E8B\u9879","body":"\u5B89\u5168\u4F7F\u7528\u6CE8\u610F\u4E8B\u9879 \u7B26\u53F7 \u4EE5\u4E0B\u7B26\u53F7\u4E3A\u672C\u624B\u518C\u4E2D\u7684\u91CD\u8981\u63D0\u793A\u4FE1\u606F\u3002\u8BF7\u52A1\u5FC5\u4ED4\u7EC6\u9605\u8BFB\u3002 \u00A0 \u8868\u793A\u82E5\u4E0D\u9075\u5B88\u8BE5\u6CE8\u610F\u4E8B\u9879\uFF0C\u5C06\u5BFC\u81F4\u6B7B\u4EA1\u6216\u5F15\u53D1\u91CD\u5927\u4F24\u5BB3\u3002 \u00A0 \u8868\u793A\u82E5\u4E0D\u9075\u5B88\u8BE5\u6CE8\u610F\u4E8B\u9879\uFF0C\u53EF\u80FD\u5BFC\u81F4\u6B7B\u4EA1\u6216\u5F15\u53D1\u91CD\u5927\u4F24\u5BB3\u3002 \u00A0 \u8868\u793A\u82E5\u4E0D\u9075\u5B88\u8BE5\u6CE8\u610F\u4E8B\u9879\uFF0C\u53EF\u80FD\u5BFC\u81F4\u4EBA\u5458\u906D\u53D7\u8F7B\u5FAE\u6216\u4E2D\u5EA6\u7684\u4F24\u5BB3\u3002 \u00A0 \u8868\u793A\u82E5\u4E0D\u9075\u5B88\u8BE5\u6CE8\u610F\u4E8B\u9879\uFF0C\u5C06\u5BFC\u81F4\u672C\u4EA7\u54C1\u635F\u5BB3\u4EE5\u53CA\u8D22\u4EA7\u635F\u5931\u3002 \u00A0 \u8868\u793A\u4F7F\u7528\u8FC7\u7A0B\u4E2D\uFF0C\u5FC5\u987B\u9075\u5B88\u7684\u6CE8\u610F\u4E8B\u9879\u548C\u4F7F\u7528\u9650\u5236\u7B49\u3002 \u00A0 \u8868\u793A\u6B63\u786E\u4F7F\u7528\u672C\u4EA7\u54C1\u6240\u5FC5\u987B\u6CE8\u610F\u7684\u5176\u5B83\u4FE1\u606F\u3002 \u00A0 \u8868\u793A\u4E3A\u4E86\u66F4\u597D\u5730\u7406\u89E3\u548C\u4F7F\u7528\u6709\u5173\u4FE1\u606F\u6240\u7ED9\u51FA\u7684\u4E00\u4E9B\u5C0F\u8BC0\u7A8D\u3002 \u4E00\u822C\u6CE8\u610F\u4E8B\u9879 \u00A0 \u2022 \u4E0D\u80FD\u7528\u4E8E\u4FDD\u62A4\u4EBA\u4F53\u53CA\u4EBA\u4F53\u7684\u4E00\u90E8\u5206\u3002 \u2022 \u672C\u4EA7\u54C1\u5E76\u975E\u8BBE\u8BA1\u7528\u4E8E\u9632\u7206\u533A\u57DF\uFF0C\u56E0\u6B64\u5207\u4E0D\u53EF\u5C06\u5176\u7528\u4E8E\u9632\u7206\u533A\u57DF\u3002 \u2022 \u8BF7\u52FF\u5C06\u672C\u4EA7\u54C1\u7528\u4E8E\u53EF\u80FD\u4F1A\u56E0\u8FD0\u884C\u72B6\u6001\u5BFC\u81F4\u4EBA\u8EAB\u53CA\u8D22\u4EA7\u53D7\u5230\u8F83\u5927\u5371\u5BB3\u7684\u7528\u9014\uFF08\u53D1\u7535\u7AD9\u3001\u822A\u7A7A\u3001\u94C1\u8DEF\u3001\u8239\u8236\u3001\u8F66\u8F86\u3001\u533B\u7597\u5668\u68B0\u3001\u6E38\u4E50\u8BBE\u65BD\u7B49\uFF09\u3002 \u00A0 \u2022 \u5728\u4F7F\u7528KV STUDIO\u65F6\uFF0C\u5E94\u5148\u786E\u8BA4 KV-8000/7000/5000/3000/1000\uFF0CKV Nano \u7CFB\u5217\u7684\u529F\u80FD\u53CA\u6027\u80FD\u662F\u5426\u6B63\u5E38\u4E4B\u540E\u518D\u884C\u4F7F\u7528\u3002 \u2022 \u5728\u5F00\u59CB\u5DE5\u4F5C\u6216\u64CD\u4F5C\u65F6\uFF0C\u5E94\u5728\u786E\u8BA4\u672C\u4EA7\u54C1\u7684\u529F\u80FD\u548C\u6027\u80FD\u6B63\u5E38\u540E\u518D\u4F7F\u7528\u3002 \u2022 \u4ECE\u6545\u969C\u81EA\u4FDD\u7684\u89C2\u70B9\u4E0A\u51FA\u53D1\uFF0C\u5E94\u91C7\u7528\u4E0D\u901A\u8FC7 PLC \u7684\u65B9\u6CD5\u8BBE\u7F6E\u5B89\u5168\u56DE\u8DEF\uFF0C\u4EE5\u4FBF\u5373\u4F7F PLC \u672C\u8EAB\u53D1\u751F\u6545\u969C\u65F6\uFF0C\u4E5F\u80FD\u4F7F\u6574\u4E2A\u7CFB\u7EDF\u5B9E\u73B0\u6545\u969C\u5B89\u5168\u3002 \u2022 \u7531\u4E8E\u8F93\u51FA\u56DE\u8DEF\u548C\u5185\u90E8\u56DE\u8DEF\u7684\u6545\u969C\uFF0C\u6709\u65F6\u53EF\u80FD\u65E0\u6CD5\u8FDB\u884C\u6B63\u5E38\u7684\u63A7\u5236\u52A8\u4F5C\u3002\u706B\u707E\u7B49\u91CD\u5927\u4E8B\u6545\u539F\u56E0\uFF0C\u8BF7\u52A1\u5FC5\u8BBE\u7F6E\u5B89\u5168\u56DE\u8DEF\u3002 \u2022 \u5728\u5B89\u88C5\u672C\u4EA7\u54C1\u65F6\uFF0C\u8BF7\u5BF9\u76EE\u6807\u8BBE\u5907\u6574\u4F53\u5145\u5206\u5B9E\u65BD\u98CE\u9669\u8BC4\u4F30\uFF0C\u5E76\u786E\u8BA4\u5DF2\u91C7\u53D6\u9002\u5F53\u63AA\u65BD\u964D\u4F4E\u98CE\u9669\u3002\u4E3A\u4E86\u786E\u4FDD\u5728\u672C\u4EA7\u54C1\u53D1\u751F\u5F02\u5E38\u65F6\u6216\u5B89\u88C5\u672C\u4EA7\u54C1\u540E\u4E5F\u80FD\u591F\u8BA9\u8BBE\u5907\u6574\u4F53\u5B89\u5168\u8FD0\u8F6C\uFF0C\u8BF7\u5728\u4E0D\u4F9D\u8D56\u672C\u4EA7\u54C1\u7684\u60C5\u51B5\u4E0B\u8BBE\u7F6E\u9002\u5F53\u7684\u4FDD\u62A4\u63AA\u65BD\u3002 \u00A0 \u901A\u8FC7\u672C\u4F7F\u7528\u8BF4\u660E\u4E66\u4E2D\u7684\u89C4\u5B9A\u65B9\u6CD5\u4EE5\u5916\u7684\u5176\u5B83\u65B9\u6CD5\u4F7F\u7528\u672C\u516C\u53F8\u4EA7\u54C1\u65F6\uFF0C\u53EF\u80FD\u4F1A\u6709\u635F\u672C\u4EA7\u54C1\u5177\u5907\u7684\u4FDD\u62A4\u529F\u80FD\u3002 \u00A0 \u2022 \u5BF9\u4E8E\u5728\u6240\u793A\u6807\u51C6\u4EE5\u5916\u7684\u6807\u51C6\u4E0B\u4F7F\u7528\u4EE5\u53CA\u4F7F\u7528\u4FEE\u6539\u540E\u7684\u4EA7\u54C1\uFF0C\u5E76\u4E0D\u80FD\u591F\u4FDD\u8BC1\u5176\u529F\u80FD\u4EE5\u53CA\u6027\u80FD\uFF0C\u656C\u8BF7\u6CE8\u610F\u3002 \u2022 \u5C06\u672C\u516C\u53F8\u4EA7\u54C1\u4E0E\u5176\u5B83\u8BBE\u5907\u7EC4\u5408\u4F7F\u7528\u65F6\uFF0C\u6839\u636E\u4F7F\u7528\u6761\u4EF6\u3001\u73AF\u5883\u7B49\uFF0C\u6709\u65F6\u529F\u80FD\u548C\u6027\u80FD\u5C06\u65E0\u6CD5\u6EE1\u8DB3\uFF0C\u8BF7\u5728\u5145\u5206\u8003\u8651\u540E\u4F7F\u7528\u3002"},{"link":"./00_01_Introduction-3.html","title":"\u4F7F\u7528\u624B\u518C\u7684\u6784\u6210","body":"\u4F7F\u7528\u624B\u518C\u7684\u6784\u6210 1\u7AE0 \u6307\u4EE4\u6982\u8FF0 \u672C\u7AE0\u5BF9\u672C\u624B\u518C\u4E2D\u7684\u6307\u4EE4\u7684\u8868\u793A\u89C4\u5219\u3001\u8F6F\u5143\u4EF6\u8BF4\u660E\u3001\u6570\u636E\u5904\u7406\u65B9\u6CD5\u7B49\u5904\u7406\u6307\u4EE4\u65F6\u7684\u57FA\u7840\u77E5\u8BC6\u8FDB\u884C\u4E86\u8BF4\u660E\uFF08\u5404\u6307\u4EE4\u7684\u8BE6\u7EC6\u8BF4\u660E\u4E2D\uFF0C\u4EE5\u638C\u63E1\u8FD9\u4E9B\u57FA\u7840\u77E5\u8BC6\u4E3A\u524D\u63D0\uFF09\u3002 2\u7AE0 \u6307\u4EE4 \u5BF9\u4E8E\u53EF\u5728\u201CKV-X500/X300\u7CFB\u5217\u201D\u7684\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u7684\u6307\u4EE4\uFF0C\u6309\u529F\u80FD\u7C7B\u522B\u8FDB\u884C\u5206\u7C7B\uFF0C\u5E76\u8BF4\u660E\u4E86\u6BCF\u79CD\u6307\u4EE4\u7684\u64CD\u4F5C\u6570\u3001\u52A8\u4F5C\u548C\u793A\u4F8B\u7A0B\u5E8F\u3002 3\u7AE0 FB/FUN \u5BF9\u4E8E\u53EF\u5728\u201CKV-X500/X300\u7CFB\u5217\u201D\u7684\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u7684FB/FUN\uFF0C\u6309\u529F\u80FD\u7C7B\u522B\u8FDB\u884C\u5206\u7C7B\uFF0C\u5E76\u8BF4\u660E\u4E86\u6BCF\u79CDFB/FUN\u7684\u81EA\u53D8\u91CF\u3001\u52A8\u4F5C\u548C\u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6\u3002 4\u7AE0 ST \u8BF4\u660E\u4E86ST\u7684\u8BED\u6CD5\u548C\u6CE8\u610F\u70B9\u3002 \u9644\u5F55 \u00A0 \u8BB0\u8FF0\u4E86\u6307\u4EE4/FB/FUN\u7684\u5904\u7406\u65F6\u95F4\u76F8\u5173\u5185\u5BB9\u3002"},{"link":"./00_01_Introduction-4.html","title":"\u7528\u8BED\u548C\u7B26\u53F7","body":"\u7528\u8BED\u548C\u7B26\u53F7 \u5173\u4E8E\u672F\u8BED \u5728\u8BE5\u624B\u518C\u7684\u8BF4\u660E\u4E2D\uFF0C\u9664\u90E8\u5206\u5185\u5BB9\u5916\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u7684\u672F\u8BED\u3002 \u672F\u8BED \u8BF4\u660E \u53EF\u7F16\u7A0B\u63A7\u5236\u5668 \u901A\u8FC7\u53D8\u66F4\u7A0B\u5E8F\u53EF\u81EA\u7531\u5730\u63A7\u5236\u673A\u5668\u7684\u7535\u5B50\u88C5\u7F6E\uFF0C\u4E5F\u79F0\u4F5CPLC(Programmable Logic Controller)\u3002 KV-X550/X530/X520/X500/X310 \u672C\u516C\u53F8\u751F\u4EA7\u7684\u53EF\u7F16\u7A0B\u63A7\u5236\u5668\u3002 KV-X500/X300\u7CFB\u5217 KV-X550/X530/X520/X500/X310 CPU \u5355\u5143 KV-X550/X530/X520/X500/X310 KV STUDIO \u652F\u6301 KV \u7CFB\u5217\u7A0B\u5E8F\u5236\u4F5C\u7684\u8F6F\u4EF6\u3002 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u7528 KV STUDIO \u7F16\u5236\u7684\u7A0B\u5E8F\u3002 \u5173\u4E8E\u7B26\u53F7 \u672C\u624B\u518C\u8BF4\u660E\u4E2D\uFF0C\u4F7F\u7528\u4E0B\u5217\u7B26\u53F7\u8868\u793A\u83DC\u5355\u53CA\u6309\u94AE\u3002 \u672F\u8BED \u8BF4\u660E \uFF03 \u524D\u9762\u5E26\u6709\u201C#\u201D\u7684\u503C\u4EE5\u5341\u8FDB\u5236\u8868\u793A\u3002\u57FA\u672C\u4E0A\uFF0C\u6240\u6709\u6570\u503C\u90FD\u4EE5\u5341\u8FDB\u5236\u8868\u793A\uFF0C\u5373\u4F7F\u5B83\u4EEC\u524D\u9762\u6CA1\u6709\u524D\u7F00\u201C#\u201D\u3002 \uFF04 \u524D\u9762\u5E26\u6709\u201C\uFF04\u201D\u7684\u503C\u4EE5\u5341\u516D\u8FDB\u5236\u8868\u793A\u3002 [DM0/DM1] \u5F53\u5904\u7406 32 \u4F4D\u6570\u503C\u65F6\uFF0C\u4F7F\u7528 2 \u4E2A\u8F6F\u5143\u4EF6\u3002\u7F16\u7A0B\u65F6\u53EA\u4F7F\u7528\u4FDD\u5B58\u4F4E 16 \u4F4D\u7684\u8F6F\u5143\u4EF6\u7F16\u53F7\u6765\u8868\u793A\uFF08\u5728\u5DE6\u4F8B\u4E2D\uFF0C\u4E3A DM0\uFF09\u3002\u5DE6\u4F8B\u6240\u793A\u4E3A\u6B63\u5728\u5904\u7406\u7684\u662F 32 \u4F4D\u6570\u636E\u3002 \u00A0 \u8868\u793A\u662F\u5728\u4FE1\u53F7\u7684\u4E0A\u5347\u6CBF\uFF08\u8F6F\u5143\u4EF6 ON\uFF09\u3002 \u00A0 \u8868\u793A\u4FE1\u53F7\u5904\u4E8E\u201CON\u201D\u72B6\u6001\u7684\u6301\u7EED\u65F6\u95F4\u3002 \u00A0 \u8868\u793A\u662F\u5728\u4FE1\u53F7\u7684\u4E0B\u964D\u6CBF\uFF08\u8F6F\u5143\u4EF6 OFF\uFF09\u3002"},{"link":"./01_01_Overview-1.html","title":"\u7B2C1\u7AE0 \u6307\u4EE4\u6982\u8FF0","body":"\u7B2C1\u7AE0 \u6307\u4EE4\u6982\u8FF0 \u672C\u7AE0\u5BF9\u672C\u624B\u518C\u4E2D\u7684\u6307\u4EE4\u4EE5\u53CAFB\uFF08\u529F\u80FD\u5757\uFF09/FUN\uFF08\u529F\u80FD\uFF09\u7684\u8868\u793A\u89C4\u5219\u3001\u8F6F\u5143\u4EF6\u8BF4\u660E\u3001\u6570\u636E\u5904\u7406\u65B9\u6CD5\u7B49\u5904\u7406\u6307\u4EE4\u65F6\u7684\u57FA\u7840\u77E5\u8BC6\u8FDB\u884C\u4E86\u8BF4\u660E\u3002 \uFF08\u5728\u7B2C 2 \u7AE0\u5230\u7B2C 5 \u7AE0\u5404\u6307\u4EE4\u7684\u8BE6\u7EC6\u8BF4\u660E\u4E2D\uFF0C\u4EE5\u638C\u63E1\u8FD9\u4E9B\u57FA\u7840\u77E5\u8BC6\u4E3A\u524D\u63D0\u3002\uFF09"},{"link":"./01_01_Overview-2.html","title":"\u6307\u4EE4\u7684\u5206\u7C7B","body":"\u6307\u4EE4\u7684\u5206\u7C7B \u53EF\u5728KV-X500/X300\u7CFB\u5217\u7684\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u7684\u6307\u4EE4\uFF0C\u5206\u4E3A\u4EE5\u4E0B\u4E24\u79CD\u3002 \u6307\u4EE4 \u8FD9\u4E9B\u6307\u4EE4\u662F\u7F16\u5199\u987A\u63A7\u7A0B\u5E8F\u6700\u57FA\u672C\u7684\u6307\u4EE4\u3002\u4F7F\u7528\u8FD9\u4E9B\u6307\u4EE4\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u4E0E\u4E00\u822C\u7EE7\u7535\u5668\u987A\u5E8F\u63A7\u5236\u56DE\u8DEF\u76F8\u540C\u7684\u673A\u68B0\u63A7\u5236\u529F\u80FD\u3002 FUN/FB \u7528\u4E8E\u6267\u884C\u7B97\u672F/\u903B\u8F91\u8FD0\u7B97\u3001\u6570\u636E\u5904\u7406\u548C\u5B58\u50A8\u63A7\u5236\u7B49\u590D\u6742\u5904\u7406\u7684\u529F\u80FD\u548C\u529F\u80FD\u5757\u3002 \u00A0 ST\u7A0B\u5E8F\u4E0D\u80FD\u4F7F\u7528\u6307\u4EE4\u3002\u63CF\u8FF0ST\u7A0B\u5E8F\u65F6\u8BF7\u4F7F\u7528FUN/FB\u3002 FUN/FB\u53EF\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u548CST\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u3002"},{"link":"./01_01_Overview-3.html","title":"\u6307\u4EE4\u8BF4\u660E","body":"\u6307\u4EE4\u8BF4\u660E \u4E0B\u8FF0\u662F\u5BF9\u8BB0\u8F7D\u4E86\u5404\u6307\u4EE4\u5185\u5BB9\u7684\u9875\u9762\u7684\u8BE6\u7EC6\u8BF4\u660E\u3002\u6307\u4EE4\u548CFUN/FB\u7684\u8BB0\u8F7D\u5185\u5BB9\u6709\u6240\u4E0D\u540C\u3002 \u2022 \u6307\u4EE4 \u2022 FUN/FB \u6307\u4EE4 \u00A0 \u7F16\u53F7 \u5185\u5BB9 \u8BF4\u660E 1 \u540D\u79F0 \u6307\u4EE4\u7684\u540D\u79F0\u3002\u5E26\u6709\uFF20\u65F6\uFF0C\u8868\u793A\u652F\u6301\u5FAE\u5206\u6267\u884C\u3002 \u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u548C\u5DEE\u5206\u6267\u884C\u578B 2 \u540E\u7F00 \u8868\u793A\u652F\u6301\u7684\u540E\u7F00\u3002 \u540E\u7F00 3 \u64CD\u4F5C\u6570 \u7528\u6307\u4EE4\u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u53CA\u5176\u8BF4\u660E\u3002\u64CD\u4F5C\u6570\u662F\u5BF9\u6307\u4EE4\u6307\u5B9A\u7684\u503C\u548C\u53D8\u91CF/\u8F6F\u5143\u4EF6\u3002\u64CD\u4F5C\u6570\u6839\u636E\u4F5C\u7528\u5206\u4E3A\u4EE5\u4E0B3\u79CD\u3002 \u2022 Src \uFF1A\u6E90\u64CD\u4F5C\u6570\u3002\u6267\u884C\u6307\u4EE4\u4E4B\u524D\u53C2\u7167\u7684\u5BF9\u8C61\u3002 \u2022 Dst \uFF1A\u76EE\u7684\u64CD\u4F5C\u6570\u3002\u6307\u4EE4\u6267\u884C\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 \u2022 Num \uFF1A\u7528\u4E8E\u6267\u884C\u6307\u4EE4\u7684\u6570\u503C\u3002 4 \u5360\u6709\u5927\u5C0F \u64CD\u4F5C\u6570\u7684\u5360\u6709\u5927\u5C0F\u3002\u5982\u679C\u8981\u4E3A\u64CD\u4F5C\u6570\u6307\u5B9A\u53D8\u91CF\uFF0C\u8BF7\u6307\u5B9A\u4E0D\u5C0F\u4E8E\u5360\u6709\u5927\u5C0F\u7684\u53D8\u91CF\u3002\u5982\u679C\u6307\u5B9A\u4E86\u6570\u636E\u5927\u5C0F\u6BD4\u64CD\u4F5C\u6570\u7684\u5360\u6709\u5927\u5C0F\u66F4\u5C0F\u7684\u53D8\u91CF\uFF0C\u5219\u4F1A\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\u6216\u8FD0\u7B97\u9519\u8BEF\u3002 \u8FD0\u7B97\u9519\u8BEF FUN/FB \u00A0\u00A0\u00A0 \u7F16\u53F7 \u5185\u5BB9 \u8BF4\u660E 1 \u540D\u79F0 \u6307\u4EE4\u7684\u540D\u79F0\u3002 2 FUN/FB \u8868\u793A\u6307\u4EE4\u662FFUN\uFF08\u529F\u80FD\uFF09\u8FD8\u662FFB\uFF08\u529F\u80FD\u5757\uFF09\u3002\u529F\u80FD\u548C\u529F\u80FD\u5757\u7684\u4E0D\u540C\u4E4B\u5904\uFF0C\u8BF7\u53C2\u9605CPU\u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 3 LD\u63CF\u8FF0 \u7528\u68AF\u5F62\u56FE\u7A0B\u5E8F\u7F16\u5199\u6307\u4EE4\u65F6\u7684\u56FE\u3002 4 ST\u63CF\u8FF0 \u7528ST\u7A0B\u5E8F\u7F16\u5199\u6307\u4EE4\u65F6\u7684\u63CF\u8FF0\u65B9\u6CD5\u3002 5 \u81EA\u53D8\u91CF \u6307\u4EE4\u5E26\u6709\u7684\u81EA\u53D8\u91CF\u7684\u540D\u79F0\u3002 6 \u7C7B\u578B \u81EA\u53D8\u91CF\u7684\u7C7B\u578B\u3002\u6709\u4EE5\u4E0B\u51E0\u79CD\u7C7B\u578B\u3002 \u2022 IN \uFF1A\u5BF9\u6307\u4EE4\u5B58\u50A8\u503C\u3002 \u2022 OUT \uFF1A\u4ECE\u6307\u4EE4\u83B7\u53D6\u5B58\u50A8\u503C\u3002 \u2022 IN-OUT \uFF1A\u5C06\u53D8\u91CF/\u8F6F\u5143\u4EF6\u7684\u53C2\u7167\u4F20\u8F93\u7ED9\u6307\u4EE4\u3002 \u2022 RETURN \uFF1A\u6307\u4EE4\u7684\u8FD4\u56DE\u503C\u3002\u4EC5\u5B58\u5728\u4E8E\u529F\u80FD\u4E2D\u3002 7 \u6570\u636E\u7C7B\u578B \u81EA\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\u3002\u6307\u5B9A\u4E86\u53D8\u91CF\u65F6\uFF0C\u5982\u679C\u81EA\u53D8\u91CF\u548C\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5219\u4F1A\u6267\u884C\u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362\u3002 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u2022 \u8BB0\u8F7D\u4E3A\u201C-\u201D\u65F6\uFF0C\u8868\u793A\u6709\u591A\u4E2A\u53EF\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u3002 \u2022 \u5728\u8BB0\u8F7D\u4E86\u201C-\u201D\u7684\u81EA\u53D8\u91CF\u4E2D\u6307\u5B9A\u4E86\u8F6F\u5143\u4EF6\u65F6\uFF0C\u5176\u8BF4\u660E\u5982\u4E0B\u3002 \u2012 \u68AF\u5F62\u56FE \uFF1A\u8F6F\u5143\u4EF6\u4F5C\u4E3AUINT * \u5904\u7406\u3002 \u2012 ST \uFF1A\u6839\u636E\u8F6F\u5143\u4EF6\u9644\u5E26\u7684\u540E\u7F00\u51B3\u5B9A\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B\u3002 \u5982\u679C\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u65E0\u6CD5\u5BF9\u81EA\u53D8\u91CF\u6267\u884C\u6570\u636E\u7C7B\u578B\u81EA\u52A8\u8F6C\u6362\uFF0C\u5219\u4F1A\u5728KV STUDIO\u4E2D\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\u3002\u9519\u8BEF\u6D88\u606F\u4E2D\u4F1A\u663E\u793A\u53EF\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u8BF7\u786E\u8BA4\u9519\u8BEF\u6D88\u606F\u3002 8 \u9ED8\u8BA4\u503C \u81EA\u53D8\u91CF\u7684\u9ED8\u8BA4\u503C\u3002\u8BB0\u8F7D\u4E86\u9ED8\u8BA4\u503C\u7684\u81EA\u53D8\u91CF\u53EF\u7701\u7565\u3002\u5982\u679C\u7701\u7565\uFF0C\u6307\u4EE4\u4F1A\u6309\u9ED8\u8BA4\u503C\u4E2D\u8BB0\u8F7D\u7684\u503C\u52A8\u4F5C\u3002 9 \u6CE8\u91CA \u81EA\u53D8\u91CF\u7684\u8BF4\u660E\u3002 * : \u4E5F\u6709\u7528UINT\u4EE5\u5916\u7684\u7C7B\u578B\u8BC6\u522B\u7684\u6307\u4EE4\u3002\u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u3002 \u5176\u5B83\u6CE8\u610F\u4E8B\u9879 \u258C \u6307\u4EE4\u5927\u5C0F\u7684\u76F8\u5173\u6CE8\u610F\u4E8B\u9879 \u7F16\u5236\u7A0B\u5E8F\u65F6\u8BF7\u6CE8\u610F\u7A0B\u5E8F\u5927\u5C0F\uFF08\u6307\u4EE4\u7684\u5B57\u8282\u5927\u5C0F\u7684\u5408\u8BA1\uFF09\u3001\u5BF9\u8C61\u5927\u5C0F\u3001\u5185\u90E8\u5DE5\u4F5C\u4F7F\u7528\u91CF\u3002\u5982\u679C\u4EFB\u4F55\u4E00\u9879\u8D85\u51FA\u89C4\u5B9A\u5927\u5C0F\uFF0C\u5219\u5728\u7A0B\u5E8F\u8F6C\u6362\u65F6\uFF0C\u5747\u4F1A\u51FA\u9519\u3002 \u258C \u8F6F\u5143\u4EF6\u5206\u914D\u7684\u76F8\u5173\u6CE8\u610F\u4E8B\u9879 \u5728\u4F7F\u7528\u5904\u7406\u591A\u4E2A\u8F6F\u5143\u4EF6\u7684\u6307\u4EE4\uFF08BMOV \u7B49\uFF09\u65F6\uFF0C\u8BF7\u6CE8\u610F\u751F\u6210\u7A0B\u5E8F\u65F6\u4E0D\u8981\u8D85\u51FA\u5168\u5C40\u8F6F\u5143\u4EF6\u7684\u8303\u56F4\u6216\u5C40\u90E8\u8F6F\u5143\u4EF6\u7684\u8303\u56F4\u3002 \u5173\u4E8E\u8F6F\u5143\u4EF6\u7684\u5206\u914D\u8303\u56F4\uFF0C\u8BF7\u53C2\u7167\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u258C \u53D8\u91CF\u5206\u914D\u7684\u6CE8\u610F\u4E8B\u9879 \u5728\u7F16\u5199\u7A0B\u5E8F\u65F6\uFF0C\u8BF7\u6CE8\u610F\u6307\u4EE4\u7684\u5904\u7406\u533A\u57DF\u4E0D\u8981\u8D85\u8FC7\u6307\u5B9A\u53D8\u91CF\u7684\u533A\u57DF\u3002\u5982\u679C\u8D85\u8FC7\u4E86\u53D8\u91CF\u7684\u533A\u57DF\uFF0C\u5219\u4F1A\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\u6216\u8FD0\u7B97\u9519\u8BEF\u3002 \u258C \u5904\u7406\u901F\u5EA6\u7684\u76F8\u5173\u6CE8\u610F\u4E8B\u9879 \u2022 \u5982\u679C\u5728\u540E\u7F00\u4E3A .D/.L/.F \u7B49\u3001\u5904\u7406 32 \u4F4D\u6570\u636E\u7684\u6307\u4EE4\u7684\u64CD\u4F5C\u6570\u4E2D\uFF0C\u6307\u5B9A DM/EM/FM/TM \u7B49 16 \u4F4D\u5B57\u8F6F\u5143\u4EF6\uFF0C\u8BF7\u4F7F\u7528\u5076\u6570\u7F16\u53F7\u7684\u8F6F\u5143\u4EF6\u3002 \u5426\u5219\uFF0C\u82E5\u4F7F\u7528\u5947\u6570\u7F16\u53F7\u7684 2 \u4E2A\u5B57\u6307\u5B9A\uFF0C\u5904\u7406\u901F\u5EA6\u4F1A\u51CF\u6162\u3002\u53E6\u5916\uFF0C\u5C40\u90E8\u8F6F\u5143\u4EF6\u4E5F\u8BF7\u540C\u6837\u4F7F\u7528\u5076\u6570\u7F16\u53F7\u3002 \u2022 \u540E\u7F00\u4E3A.DF\u65F6\uFF0C\u5982\u679C\u5728\u5904\u740664\u4F4D\u6570\u636E\u7684\u6307\u4EE4\u7684\u64CD\u4F5C\u6570\u4E2D\u6307\u5B9ADM/EM/FM/TM\u7B4916\u4F4D\u7684\u5B57\u8F6F\u5143\u4EF6\uFF0C\u8BF7\u4F7F\u7528\u5076\u6570\u7F16\u53F7\u7684\u8F6F\u5143\u4EF6\u3002 \u5982\u679C\u4F7F\u7528\u4EE5\u5947\u6570\u7F16\u53F7\u8D77\u59CB\u76844\u4E2A\u5B57\uFF0C\u5219\u5904\u7406\u901F\u5EA6\u53D8\u6162\u3002\u53E6\u5916\uFF0C\u5C40\u90E8\u8F6F\u5143\u4EF6\u4E5F\u8BF7\u540C\u6837\u4F7F\u7528\u5076\u6570\u7F16\u53F7\u3002 \u2022 \u540E\u7F00\u662F.A\u65F6\uFF0C\u5982\u679C\u64CD\u4F5C\u6570\u95F4\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5904\u7406\u901F\u5EA6\u4F1A\u53D8\u6162\u3002 \u2022 \u5982\u679C\u975E\u6307\u5B9A\u901A\u9053\u8D77\u59CB\u5904\u7684\u4F4D\u8F6F\u5143\u4EF6\uFF0C\u5728\u8DE8\u8D8A\u5230\u4E0B\u4E00\u901A\u9053\u5904\u7406\u4F4D\u8F6F\u5143\u4EF6\u65F6\uFF0C\u5904\u7406\u901F\u5EA6\u51CF\u6162\u3002 \u2022 \u6307\u5B9ABOOL\u578B\u6570\u7EC4\u65F6\uFF0C\u5982\u679C\u8D85\u8FC7\u4E8616\u4F4D\u7684\u8FB9\u754C\uFF0C\u5219\u4F1A\u5BFC\u81F4\u5904\u7406\u901F\u5EA6\u53D8\u6162\u3002 \u4F8B\uFF1AMOV arrbVar[#5] uVar \u5728\u6B64\u4F8B\u4E2D\uFF0C\u8DE8\u5360\u4E86arrbVar[#5]\uFF5EarrbVar[#20]\u548C16\u4F4D\u7684\u8FB9\u754C\uFF0C\u6240\u4EE5\u5904\u7406\u901F\u5EA6\u53D8\u6162\u3002"},{"link":"./01_01_Overview-4.html","title":"\u540E\u7F00","body":"\u540E\u7F00 \u672B\u5C3E\u5E26\u201C.U\u201D\u3001\u201C.S\u201D\u3001\u201C.D\u201D\u3001\u201C.L\u201D\u3001\u201C.F\u201D\u3001\u201C.DF\u201D\u7B26\u53F7\u201C\u540E\u7F00\u201D\u7684\u6307\u4EE4\uFF0C\u6839\u636E\u540E\u7F00\u7684\u4E0D\u540C\uFF0C\u53EF\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B\u5206\u522B\u4E3A \uFF1A16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C16 \u4F4D\u6709\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C32 \u4F4D\u6709\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\uFF0C\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u3002 \u672B\u5C3E\u5E26\u6709\u201C.A\u201D\u8BB0\u53F7\u201C\u540E\u7F00\u201D\u7684\u6307\u4EE4\uFF0C\u56E0\u64CD\u4F5C\u6570\u4E2D\u4F7F\u7528\u7684\u53D8\u91CF\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u6307\u4EE4\u6240\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B\u4E5F\u4E0D\u540C\u3002 \u00A0 \u5728ST\u4E2D\u4F7F\u7528\u7684\u540E\u7F00\u7684\u8BE6\u7EC6\u5185\u5BB9\uFF0C\u8BF7\u53C2\u9605\u300AKV STUDIO for KV-X500/X300\u7CFB\u5217 \u7528\u6237\u624B\u518C\u300B\u3002 \u540E\u7F00\u7684\u5B9A\u4E49 \u6240\u8C13\u540E\u7F00\u662F\u6307\u4F5C\u4E3A\u63A5\u5C3E\u8BED\u9644\u5728\u6307\u4EE4\u540E\u7684\u7B26\u53F7\uFF0C\u6709\u4EE5\u4E0B 7 \u79CD\u3002 \u00A0 \u25A1.U\u3000\u3000\u25A1.S\u3000\u3000\u25A1.D\u3000\u3000\u25A1.L\u3000\u3000\u25A1.F\u3000\u3000\u25A1.DF\u3000\u3000\u25A1.A \u00A0 \u00A0 \u25A1\u4E2D\u4E3A\u5BF9\u5E94\u540E\u7F00\u7684\u6307\u4EE4\u3002 \u4F8B\uFF09 MOV.(U) MOV.S MOV.D MOV.L MOV.F MOV.DF MOV.A \u25A1.U\uFF1A\u4F5C\u4E3A 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u5904\u7406\u3002(0\uFF5E65535) \u25A1.S\uFF1A\u4F5C\u4E3A 16 \u4F4D\u6709\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u5904\u7406\u3002(\uFF0D32768\uFF5E\u002B32767) \u25A1.D\uFF1A\u4F5C\u4E3A 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u5904\u7406\u3002(0\uFF5E4294967295) \u25A1.L\uFF1A\u4F5C\u4E3A 32 \u4F4D\u6709\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u5904\u7406\u3002(\uFF0D2147483648\uFF5E\u002B2147483647) \u25A1.F\uFF1A\u4F5C\u4E3A\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5904\u7406\u3002\uFF08\u6709\u6548\u4F4D\u6570\uFF1A\u7EA67\u4F4D\uFF09 \u00A0 \u25A1.DF\uFF1A\u4F5C\u4E3A\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5904\u7406\u3002\uFF08\u6709\u6548\u4F4D\u6570\uFF1A\u7EA616\u4F4D\uFF09 \u00A0 \u25A1.A\uFF1A\u64CD\u4F5C\u6570\u4E2D\u4F7F\u7528\u7684\u53D8\u91CF\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u6307\u4EE4\u6240\u5904\u7406\u7684\u6570\u636E\u7C7B\u578B\u4E5F\u4E0D\u540C\u3002 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u25A1.U\u00A0\u5728 KV STUDIO \u4E2D\u7701\u7565\u8868\u793A\u3002\u53E6\u5916\uFF0C\u4E0D\u5E26\u540E\u7F00\u7684\u6307\u4EE4\uFF0C\u4F5C\u4E3A 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u5904\u7406\u3002\u6839\u636E\u540E\u7F00\uFF0C\u5BF9\u5E94\u6307\u4EE4\u4EE5\u5341\u8FDB\u5236\u8868\u793A\u7684\u503C\u5904\u7406\u4E8C\u8FDB\u5236\u6570\u636E\u3002\u56E0\u6B64\uFF0C\u5373\u4F7F\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u540C\uFF0C\u540E\u7F00\u4E0D\u540C\u7684\u8BDD\uFF0C\u6307\u4EE4\u6267\u884C\u7ED3\u679C\u4E5F\u4F1A\u4E0D\u540C\u3002 .U \u548C .S \u7684\u533A\u522B \u25A1.U \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u4F5C\u4E3A 16 \u4F4D\u65E0\u7B26\u53F7\u6570\u636E\u5904\u7406\u3002 \u25A1.S \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u4F5C\u4E3A 16 \u4F4D\u6709\u7B26\u53F7\u6570\u636E\u5904\u7406\u3002 \u56E0\u6B64\uFF0C\u4E8C\u8FDB\u5236\u6570\u636E\u548C\u5BF9\u5E94\u540E\u7F00\u7684\u5341\u8FDB\u5236\u8868\u793A\u7684\u5173\u7CFB\uFF0C\u5982\u4E0B\u6240\u793A\u3002 BIN \u4E8C\u8FDB\u5236 \u5B58\u50A8 1111111111111111 \u7684\u503C\u65F6 \u25A1.U \u65E0\u7B26\u53F7\u5341\u8FDB\u5236 65535 \u25A1.S \u6709\u7B26\u53F7\u5341\u8FDB\u5236 \uFF0D1 \u793A\u4F8B\uFF1A\u5C06\u5B58\u50A8\u5728DM0\u4E2D\u768416\u4F4DBIN\u6570\u636E(1111111111111111)\u4E0E\u5E38\u6570\uFF03100\u6BD4\u8F83\u65F6 \u5982\u679C\u540E\u7F00\u4E3A\u25A1.U\uFF0C\u5219 DM0 \u7684\u503C\u4E3A 65535\u3002 \u00A0 \u56E0\u6B64\uFF0C\u5982\u679C DM0 (65535) \u003E #100\uFF0C\u5219\u63A5\u70B9\u53D8\u4E3A ON\u3002 \u5982\u679C\u540E\u7F00\u4E3A\u25A1.S\uFF0C\u5219 DM0 \u7684\u503C\u4E3A -1\u3002 \u00A0 \u56E0\u6B64\uFF0C\u5982\u679C DM0(-1) \u003C 100\uFF0C\u5219\u63A5\u70B9\u53D8\u4E3A OFF\u3002 .D \u548C .L \u7684\u533A\u522B \u25A1.D \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u4F5C\u4E3A 32 \u4F4D\u65E0\u7B26\u53F7\u6570\u636E\u5904\u7406\u3002 \u25A1.L\u00A0\u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u4F5C\u4E3A 32 \u4F4D\u6709\u7B26\u53F7\u6570\u636E\u5904\u7406\u3002 \u56E0\u6B64\uFF0C\u4E8C\u8FDB\u5236\u6570\u636E\u548C\u5BF9\u5E94\u540E\u7F00\u7684\u5341\u8FDB\u5236\u8868\u793A\u7684\u5173\u7CFB\uFF0C\u5982\u4E0B\u6240\u793A\u3002 BIN \u4E8C\u8FDB\u5236 \u5B58\u50A8 11111111111111111111111111111111 \u7684\u503C\u65F6 \u25A1.D \u65E0\u7B26\u53F7\u5341\u8FDB\u5236 4294967295 \u25A1.L \u6709\u7B26\u53F7\u5341\u8FDB\u5236 \uFF0D1 \u793A\u4F8B\uFF1A\u5C06 DM0/DM1 \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E(11111111111111111111111111111111)\u4E0E\u5E38\u6570#100 \u6BD4\u8F83\u65F6 \u5982\u679C\u540E\u7F00\u4E3A\u25A1.D\uFF0C\u5219 DM0/DM1 \u7684\u503C\u4E3A 4294967295\u3002 \u00A0 \u56E0\u6B64\uFF0CDM0\uFF5EDM1(4294967295) \u003E 100\uFF0C\u63A5\u70B9\u53D8\u4E3A ON\u3002 \u5982\u679C\u540E\u7F00\u4E3A\u25A1.L\uFF0C\u5219\u00A0DM0/DM1 \u7684\u503C\u4E3A -1\u3002 \u00A0 \u56E0\u6B64\uFF0CDM0\uFF5EDM1(-1) \u003C 100\uFF0C\u63A5\u70B9\u53D8\u4E3A OFF\u3002 \u00A0 \u5BF9\u4E8E\u6570\u636E\u4F20\u9001\uFF0C\u540E\u7F00\u4E2D\u4F7F\u7528 .U\u3001.S (.D\u548C.L)\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\uFF0C\u6267\u884C\u7ED3\u679C\u5747\u76F8\u540C\u3002 \u6307\u4EE4\u7684\u6267\u884C\u524D\u540E\uFF0C\u4E0E\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u5341\u8FDB\u5236\u8868\u793A\u7684\u503C\u65E0\u5173\u3002 \u540E\u7F00\u53EA\u4E0E\u6570\u636E\u957F\u5EA6\u6709\u5173\uFF0816 \u4F4D/32 \u4F4D\uFF09\u3002 \u793A\u4F8B\uFF1A\u4F7F\u7528 MOV \u6307\u4EE4\uFF0C\u5C06 DM0 \u4F20\u9001\u5230 DM10 \u4E2D\u7684\u793A\u4F8B\u3002 \u00A0 \u00A0 \u5BF9\u4E8E\u540E\u7F00 .F\uFF0C\u5219\u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u4F5C\u4E3A\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5904\u7406\u3002\u6570\u636E\u53D8\u4E3A 32 \u4F4D\u6570\u636E\u3002\u56E0\u6B64\uFF0C\u5728 MOV\u6307\u4EE4\u4E2D\uFF0C\u5373\u4F7F\u5728\u540E\u7F00\u540E\u4F7F\u7528 .F\uFF0C\u4E5F\u5177\u6709\u4E0E\u4F7F\u7528 .D\u3001.L \u65F6\u76F8\u540C\u7684\u7ED3\u679C\u3002 \u00A0 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\u65F6\uFF0C\u4F1A\u81EA\u52A8\u8F6C\u6362\u6570\u636E\u7C7B\u578B\u5E76\u6267\u884C\u6307\u4EE4\u3002 \u2022 \u7528\u6307\u4EE4\u6307\u5B9A\u540E\u7F00.A\u65F6\uFF0C\u64CD\u4F5C\u6570\u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\u6570\u636E\u7C7B\u578B\u4E0D\u4E00\u81F4 \u2022 \u4F7F\u7528FUN/FB\u65F6\uFF0C\u81EA\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u6307\u5B9A\u4E3A\u81EA\u53D8\u91CF\u7684\u53D8\u91CF\u6570\u636E\u7C7B\u578B\u4E0D\u4E00\u81F4 \u8F6C\u6362\u7684\u89C4\u5219 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362\u5C06\u6839\u636E\u4EE5\u4E0B\u89C4\u5219\u6267\u884C\u3002 \u2022 \u6307\u4EE4 \u2022 FUN/FB \u258C \u6307\u4EE4 \u2022 \u5BF9\u6307\u4EE4\u8F93\u5165\u7684\u64CD\u4F5C\u6570\uFF0C\u6839\u636E\u8F93\u5165\u64CD\u4F5C\u6570\u4E2D\u7EA7\u522B\u8D85\u9AD8\u7684\u6570\u636E\u7C7B\u578B\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\u3002\u4F46\u662F\uFF0C\u8D85\u9AD8\u7EA7\u522B\u4E3AINT\u6216UINT\u65F6\uFF0C\u5168\u90E8\u8F6C\u6362\u4E3ADINT\u578B\u3002 \u2022 \u6309\u7167\u8F93\u51FA\u64CD\u4F5C\u6570\u7684\u6570\u636E\u7C7B\u578B\u8F6C\u6362\u7C7B\u578B\u540E\u5B58\u50A8\u6307\u4EE4\u5904\u7406\u7ED3\u679C\u3002 \u00A0 \u8FD9\u91CC\u7684\u8F93\u5165\u8868\u793A\u6307\u4EE4\u64CD\u4F5C\u6570\u4E2D Src \u7684\u64CD\u4F5C\u6570\u3002\u8F93\u51FA\u8868\u793A\u6307\u4EE4\u64CD\u4F5C\u6570\u4E2D Dst \u7684\u64CD\u4F5C\u6570\u3002 \u53D8\u91CF\u6570\u636E\u7C7B\u578B\u7684\u7EA7\u522B\u8868\u5982\u4E0B\u3002 \u7EA7\u522B \u6570\u636E\u7C7B\u578B 1 INT 2 UINT 3 DINT 4 UDINT 5 REAL 6 LREAL \u793A\u4F8B\uFF1A \u00A0 (1) \u00A0\u00A0\u00A0 \u8F93\u5165\u64CD\u4F5C\u6570\u4E2D\u8D85\u9AD8\u7EA7\u522B\u662FUINT\uFF0C\u5C06uiVarIN\u6570\u636E\u7C7B\u578B\u8F6C\u6362\u4E3ADINT\u7C7B\u578B\u3002 (2) \u00A0\u00A0\u00A0 \u8F93\u51FA\u64CD\u4F5C\u6570\u7684\u6570\u636E\u7C7B\u578B\u662FUDINT\uFF0C\u5C06 (1) \u7684DINT\u6570\u636E\u8F6C\u6362\u4E3AUDINT\uFF0C\u5B58\u5165udiVarOUT\u3002 \u00A0 \u6570\u636E\u7C7B\u578B\u7684\u8F6C\u6362\u52A8\u4F5C\u5982\u4E0B\u3002 \u00A0 \u8F6C\u6362\u540E\u7684\u6570\u636E\u7C7B\u578B BOOL INT UINT DINT UDINT REAL LREAL \u8F6C\u6362\u524D\u7684\u6570\u636E\u7C7B\u578B BOOL - \u6545\u969C \u6545\u969C \u6545\u969C \u6545\u969C \u6545\u969C \u6545\u969C INT \u6545\u969C - A B B E2 E2 UINT \u6545\u969C A - C C E2 E2 DINT \u6545\u969C D D - A E2 E2 UDINT \u6545\u969C D D A - E2 E2 REAL \u6545\u969C E1 E1 E1 E1 - F LREAL \u6545\u969C E1 E1 E1 E1 F - A\uFF1A\u76F4\u63A5\u590D\u5236\u6570\u636E\u3002 B\uFF1A\u8F6C\u6362\u524D\u7684\u6570\u636E\u6700\u9AD8\u4F4D\u662F1\u65F6\uFF08\u8D1F\u6570\u65F6\uFF09\uFF0C\u8F6C\u6362\u540E\u7684\u9AD8\u4F4D16\u4F4D\u5B58\u50A8\u4E3AHFFFF\u3002 C\uFF1A\u590D\u5236\u4F4E\u4F4D16\u4F4D\uFF0C\u9AD8\u4F4D16\u4F4D\u5B58\u50A8\u4E3AH0000\u3002 D\uFF1A\u590D\u5236\u4F4E\u4F4D16\u4F4D\u3002 E1\uFF1A\u8F6C\u6362\u4E3A\u6574\u6570\u7C7B\u578B\u3002 E2\uFF1A\u5728\u6D6E\u52A8\u5C0F\u6570\u70B9\u7C7B\u578B\u4E0B\u76F4\u63A5\u8F6C\u6362\u503C\u3002 F\uFF1A\u5728\u6D6E\u52A8\u5C0F\u6570\u70B9\u7C7B\u578B\u4E0B\u76F4\u63A5\u8F6C\u6362\u503C \u6545\u969C\uFF1A\u65E0\u6CD5\u6307\u5B9A\u7684\u7EC4\u5408\u3002\u8F6C\u6362\u65F6\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 \u258C FUN/FB \u2022 \u5982\u679C\u81EA\u53D8\u91CF\u7C7B\u578B\u662FIN\uFF0C\u5219\u4F1A\u6309\u7167\u81EA\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\u8F6C\u6362\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u5E76\u4F20\u8F93\u503C\u3002 \u2022 \u5982\u679C\u81EA\u53D8\u91CF\u7C7B\u578B\u662FOUT\u6216RETURN\uFF0C\u5219\u4F1A\u6309\u7167\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\u8F6C\u6362\u81EA\u53D8\u91CF\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u5E76\u4F20\u8F93\u503C\u3002 \u8FDB\u884C\u6570\u636E\u7C7B\u578B\u81EA\u52A8\u8F6C\u6362\u7684\u6307\u4EE4 \u6307\u4EE4 \u6DFB\u52A0\u540E\u7F00.A\uFF0C\u80FD\u8FDB\u884C\u6570\u636E\u7C7B\u578B\u81EA\u52A8\u8F6C\u6362\u7684\u4EC5\u9650\u4E8E\u90E8\u5206\u6307\u4EE4\u3002 \u5173\u4E8E\u662F\u5426\u80FD\u6DFB\u52A0\u6DFB\u52A0\u540E\u7F00.A\uFF0C\u8BF7\u53C2\u7167\u5404\u6307\u4EE4\u7684\u8BF4\u660E\u3002 FUN/FB \u6240\u6709\u7684FUN/FB\u90FD\u4F1A\u81EA\u52A8\u8F6C\u6362\u6570\u636E\u7C7B\u578B\u3002 \u00A0 \u00A0 \u2022 \u9644\u52A0\u540E\u7F00.A\u65F6\u53EF\u5728\u64CD\u4F5C\u6570\u6307\u5B9A\u7684\u53EA\u6709\u53D8\u91CF\u53CAFB\u81EA\u53D8\u91CF(IN/OUT/IN-OUT)\u3002\u6307\u5B9A\u4E86\u8F6F\u5143\u4EF6\u65F6\uFF0C\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\u3002 \u2022 \u9644\u52A0\u540E\u7F00.A\u65F6\uFF0C\u5982\u679C\u5BF9\u64CD\u4F5C\u6570\u6307\u5B9A\u4E86\u95F4\u63A5\u53C2\u7167\u7684\u53D8\u91CF\uFF0C\u5219\u4F1A\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\u3002 \u2022 \u4F7F\u7528Logix\u683C\u5F0F\u65F6\u521D\u59CB\u540E\u7F00\u662F.A\uFF0C\u5728\u7701\u7565\u540E\u7F00\u7684\u72B6\u6001\u4E0B\u8F93\u5165\u6307\u4EE4\uFF0C\u5982\u679C\u8BE5\u6307\u4EE4\u652F\u6301\u540E\u7F00.A\uFF0C\u4F1A\u9644\u52A0\u540E\u7F00.A\u3002"},{"link":"./01_01_Overview-5.html","title":"\u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u548C\u5DEE\u5206\u6267\u884C\u578B","body":"\u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u548C\u5DEE\u5206\u6267\u884C\u578B \u6307\u4EE4\u4E2D\u542B\u6709\u4EE5\u4E0B\u4E24\u79CD\u7C7B\u578B\uFF0C\u201C\u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u201D\u548C\u201C\u5DEE\u5206\u6267\u884C\u578B\u201D\uFF08\u8109\u51B2\u6267\u884C\u578B\uFF09\u3002\u5BF9\u4E8E\u201C\u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u201D\uFF0C\u5982\u679C\u6267\u884C\u6761\u4EF6\u6210\u7ACB\uFF08ON\uFF09\uFF0C\u5219\u6BCF\u6B21\u626B\u63CF\u90FD\u6267\u884C\u8BE5\u6307\u4EE4\uFF1B\u5BF9\u4E8E\u201C\u5DEE\u5206\u6267\u884C\u578B\u201D\uFF0C\u5219\u53EA\u6709\u5728\u6267\u884C\u6761\u4EF6\u6210\u7ACB\uFF08ON\uFF09\u65F6\u5728\u4E0A\u5347\u6CBF\u6267\u884C\u4E00\u6B21\uFF0C\u6216\u6267\u884C\u6761\u4EF6\u4E0D\u6210\u7ACB\uFF08OFF\uFF09\u65F6\u5728\u4E0B\u964D\u6CBF\u6267\u884C\u4E00\u6B21\u3002 \u00A0 \u6709\u65F6\u4F1A\u51FA\u73B0\u6CA1\u6709\u5DEE\u5206\u6267\u884C\u578B\u7684\u6307\u4EE4\u6216\u53EA\u6709\u5DEE\u5206\u6267\u884C\u578B\u7684\u6307\u4EE4\u3002 \u6982\u8FF0 \u258C \u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B \u8FD9\u4E9B\u6307\u4EE4\u5C06\u5728\u6267\u884C\u6761\u4EF6\u6210\u7ACB\uFF08ON\uFF09\u65F6\uFF0C\u6BCF\u6B21\u626B\u63CF\u65F6\u6267\u884C\u3002 \u00A0 \u258C \u5DEE\u5206\u6267\u884C\u578B \u8FD9\u4E9B\u6307\u4EE4\u53EA\u5728\u6267\u884C\u6761\u4EF6\u4E0A\u5347\u6CBF\u65F6\uFF0C\u6BCF\u6B21\u626B\u63CF\u65F6\u6267\u884C\u3002 \u00A0 \u6539\u4E3A\u5FAE\u5206\u6267\u884C\u578B \u258C \u6307\u4EE4 \u5728\u6307\u4EE4\u7684\u524D\u9762\u6DFB\u52A0\uFF20\uFF0C\u5373\u53D8\u4E3A\u5FAE\u5206\u6267\u884C\u578B\u3002 \u00A0 \u258C FUN/FB \u6253\u5F00FUN/FB\u7684\u8BBE\u5B9A\u5BF9\u8BDD\u6846\uFF0C\u52FE\u9009\u201C\u5FAE\u5206\u201D\uFF0C\u5373\u53D8\u4E3A\u5FAE\u5206\u6267\u884C\u578B\u3002 \u00A0 \u68C0\u6D4B\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF\u7684\u6761\u4EF6 \u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u53EF\u4EE5\u5BF9\u6267\u884C\u6761\u4EF6\u4E0A\u4E00\u6B21\u7684\u6570\u503C\u548C\u8FD9\u4E00\u6B21\u7684\u6570\u503C\u8FDB\u884C\u6BD4\u8F83\uFF0C\u5E76\u5C06\u72B6\u6001\u4ECE OFF \u5230 ON \u7684\u53D8\u5316\uFF0C\u68C0\u6D4B\u4E3A\u4E0A\u5347\u6CBF\u3002\u4ECE ON \u53D8\u4E3A \u00A0OFF \u65F6\uFF0C\u68C0\u6D4B\u4E3A\u4E0B\u964D\u6CBF\u3002 A\uFF1A\u5982\u679C\u524D\u4E00\u503C\u4E3A ON\uFF0C\u5F53\u524D\u503C\u4E3A OFF\uFF0C\u68C0\u6D4B\u5230\u4E0B\u964D\u6CBF\u3002 B\uFF1A\u5982\u679C\u524D\u4E00\u503C\u4E3A OFF\uFF0C\u5F53\u524D\u503C\u4E3A ON\uFF0C\u68C0\u6D4B\u5230\u4E0A\u5347\u6CBF\u3002 \u00A0 \u5173\u4E8E\u524D\u4E00\u503C\u7684\u521D\u59CB\u5316 \u4E0A\u7535\u65F6\u6216 PROG \u2192 RUN \u65F6\u3001\u5F00\u59CB\u6267\u884C\u6A21\u5757/\u5B8F\u6307\u4EE4\u65F6 \u4EE5\u53CA RUN \u671F\u95F4\uFF0C\u5BF9\u4E8E\u4E0A\u5347\u6CBF\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\uFF0C \u524D\u4E00\u503C\u5C06\u521D\u59CB\u5316\u4E3A ON\uFF1B\u5BF9\u4E8E\u4E0B\u964D\u6CBF\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\uFF0C\u524D\u4E00\u503C\u5C06\u521D\u59CB\u5316\u4E3A OFF\u3002 \u258C \u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \uFF081\uFF09\u5728 SBN \u548C RET \u6307\u4EE4\u95F4\u4F7F\u7528\u65F6\uFF08\u5B50\u7A0B\u5E8F\u5185\uFF09 \u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u7684\u524D\u4E00\u503C\uFF0C\u5904\u4E8E\u4E0A\u4E00\u6B21\u5B50\u7A0B\u5E8F\u88AB\u6267\u884C\u65F6\u7684\u72B6\u6001\u3002 \u5982\u679C\u5728\u4E00\u6B21\u626B\u63CF\u65F6\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u88AB\u6267\u884C\u4E86\u4E24\u6B21\u4EE5\u4E0A\uFF0C\u6216\u5728\u7B2C n \u6B21\u5B50\u7A0B\u5E8F\u548C\u7B2C n\u002B1 \u6B21\u5B50\u7A0B\u5E8F\u6267\u884C\u7684\u8FDE\u7EED\u626B\u63CF\u65F6\u95F4\u5185\uFF0C\u6CA1\u6709\u88AB\u6267\u884C\uFF0C\u52A1\u8BF7\u6CE8\u610F\u3002 \u00A0 \u7B2C n \u6B21\u548C\u7B2C n\u002B1 \u6B21\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u8FDE\u7EED\u672A\u88AB\u6267\u884C\u65F6 \u00A0 \u6A21\u5F0F A \u4E2D\uFF0C\u524D\u4E00\u503C\uFF08\u7B2C n \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A OFF\uFF0C\u5F53\u524D\u503C\uFF08\u7B2C n\u002B1 \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u53D8\u4E3A ON\uFF0C\u68C0\u6D4B\u5230\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C@MOV \u88AB\u6267\u884C\u3002 \u6A21\u5F0F B \u4E2D\uFF0C\u524D\u4E00\u503C\uFF08\u7B2C n \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A ON\uFF0C\u5F53\u524D\u503C\uFF08\u7B2C n\u002B1 \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E5F\u4E3A ON\uFF0C\u6CA1\u6709\u53D8\u5316\u65F6\uFF0C\u68C0\u6D4B\u4E0D\u5230\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C@MOV \u672A\u88AB\u6267\u884C\u3002 \u00A0 \u5373\u4F7F\u7B2Cn\u002B1\u6B21\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u7684\u72B6\u6001\u76F8\u540C\uFF0C\u6709\u65F6\u4E5F\u4F1A\u50CF\u4E0A\u9762\u90A3\u6837\u51FA\u73B0\u4E0D\u540C\u3002 \u4E00\u6B21\u626B\u63CF\u4E2D\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u6267\u884C\u4E24\u6B21\u4EE5\u4E0A\u65F6 \u00A0 \u7B2Cn-1\u3001n\u3001n\u002B1\u6B21\u7684\u5FAE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u7684\u72B6\u6001\u4E3A\u4EE5\u4E0B\u65F6 \u2012 \u7B2C n-1 \u6B21\uFF1AOFF \u2012 \u7B2C n \u6B21\uFF1AON \u2012 \u7B2C n\u002B1 \u6B21\uFF1AON \u5982\u679C\u7B2C n \u6B21\u6307\u4EE4\u7684\u524D\u4E00\u503C\uFF08\u7B2C n-1 \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A OFF\uFF0C\u5F53\u524D\u503C\uFF08\u7B2C n \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A ON \u65F6\uFF0C\u5219\u68C0\u6D4B\u5230\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C@MOV \u88AB\u6267\u884C\u3002 \u00A0 \u5982\u679C\u7B2C n\u002B1 \u6B21\u7684\u524D\u4E00\u503C\uFF08\u7B2C n \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A ON\uFF0C\u5F53\u524D\u503C\uFF08\u7B2C n\u002B1 \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E5F\u4E3A ON\uFF0C\u6CA1\u6709\u51FA\u73B0\u53D8\u5316\u65F6\uFF0C\u5219\u672A\u68C0\u6D4B\u5230\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C@MOV \u672A\u88AB\u6267\u884C\u3002 \uFF082\uFF09\u5728 CJ/NCJ\u548C LABEL \u6307\u4EE4\u95F4\u4F7F\u7528\u65F6 \u5FAE\u5206\u6267\u884C\u7C7B\u578B\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u4E00\u6B21\u6570\u503C\uFF0C\u5904\u4E8E\u4E0A\u4E00\u6B21CJ/NCJ~LABEL\u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u88AB\u6267\u884C\u65F6\u7684\u72B6\u6001\u3002\u5C06 CJ/NCJ \u548C LABEL \u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u6267\u884C\u6B21\u6570\u8BBE\u4E3A n \u65F6\uFF0C\u7B2C n\u002B1 \u6B21\u7684\u524D\u4E00\u503C\u5904\u4E8E\u7B2C n \u6B21\u7684\u72B6\u6001\u3002 CJ/NCJ \u548C LABEL \u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\uFF0C\u5728\u7B2C n \u6B21\u548C\u7B2C n\u002B1 \u6B21\u95F4\u8FDE\u7EED\u672A\u88AB\u6267\u884C\u65F6\uFF0C\u52A1\u8BF7\u6CE8\u610F\u3002 \u00A0 \u00A0 \u6A21\u5F0F A \u4E2D\uFF0C\u524D\u4E00\u503C\uFF08\u7B2C n \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A OFF\uFF0C\u5F53\u524D\u503C\uFF08\u7B2C n\u002B1 \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u53D8\u4E3A ON\uFF0C\u68C0\u6D4B\u5230\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C@MOV \u88AB\u6267\u884C\u3002 \u00A0 \u6A21\u5F0F B \u4E2D\uFF0C\u524D\u4E00\u503C\uFF08\u7B2C n \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E3A ON\uFF0C\u5F53\u524D\u503C\uFF08\u7B2C n\u002B1 \u6B21\u7684 R001 \u7684\u72B6\u6001\uFF09\u4E5F\u4E3A ON\uFF0C\u6CA1\u6709\u53D8\u5316\u65F6\uFF0C\u68C0\u6D4B\u4E0D\u5230\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C@MOV \u672A\u88AB\u6267\u884C\u3002 \u00A0 \u5373\u4F7F\u7B2Cn\u002B1\u6B21\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u7684\u72B6\u6001\u76F8\u540C\uFF0C\u6709\u65F6\u4E5F\u4F1A\u50CF\u4E0A\u9762\u90A3\u6837\u51FA\u73B0\u4E0D\u540C\u3002 \uFF083\uFF09\u5728 FOR \u548C NEXT \u6307\u4EE4\u4E4B\u95F4\u4F7F\u7528\u65F6 \u5FAE\u5206\u6267\u884C\u7C7B\u578B\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u4E00\u6B21\u6570\u503C\uFF0C\u5904\u4E8E\u6267\u884C FOR NEXT \u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u88AB\u6267\u884C\u65F6\u7684\u72B6\u6001\u3002\u5C06 FOR \u548C NEXT \u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u6267\u884C\u6B21\u6570\u8BBE\u4E3A n \u65F6\uFF0C\u7B2C n\u002B1 \u6B21\u6307\u4EE4\u7684\u524D\u4E00\u503C\u5904\u4E8E\u7B2C n \u6B21\u7684\u72B6\u6001\u3002 \u4F8B\u5982\uFF0C\u4E3A FOR NEXT \u6307\u4EE4\u95F4\u7684\u4E0A\u5347\u6CBF MR0 \u9009\u62E9\u6267\u884C\u6761\u4EF6\u65F6\uFF0C\u4EC5\u5728\u7B2C\u4E00\u4E2A\u5B9E\u4F8B\u4E2D\u4F1A\u5728 ON \u6761\u4EF6\u4E0A\u6267\u884C\uFF0C\u4ECE\u7B2C\u4E8C\u4E2A\u5B9E\u4F8B\u5F00\u59CB\u90FD\u4F1A\u5728 OFF \u6761\u4EF6\u4E0A\u6267\u884C\u3002"},{"link":"./01_01_Overview-6.html","title":"FUN/FB\u7684\u901A\u7528\u81EA\u53D8\u91CF","body":"FUN/FB\u7684\u901A\u7528\u81EA\u53D8\u91CF \u4E0B\u9762\u8BF4\u660EFUN/FB\u5177\u6709\u7684\u901A\u7528\u81EA\u53D8\u91CF\u3002\u8FD9\u4E9B\u901A\u7528\u81EA\u53D8\u91CF\u5728\u5404\u6307\u4EE4\u7684\u8BF4\u660E\u4E2D\u4E0D\u518D\u8BB0\u8F7D\u3002\u53E6\u5916\uFF0C\u6709\u4E9B\u6307\u4EE4\u4E0D\u5177\u6709\u67D0\u4E9B\u901A\u7528\u81EA\u53D8\u91CF\u3002\u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u5404\u6307\u4EE4\u7684\u8BF4\u660E\u3002 FUN\u7684\u901A\u7528\u81EA\u53D8\u91CF FUN\u5177\u6709\u4E0B\u8FF0\u901A\u7528\u81EA\u53D8\u91CF\u3002 \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u5185\u5BB9 EN IN BOOL \u2014 \u4F7F\u80FD\u8F93\u5165\uFF0C\u6267\u884C\u6761\u4EF6\u3002 \u2022 TRUE \uFF1A\u6267\u884C\u6307\u4EE4 \u2022 FALSE \uFF1A\u4E0D\u6267\u884C\u6307\u4EE4 ENO OUT BOOL \u2014 \u4F7F\u80FD\u8F93\u51FA\uFF0C\u6267\u884C\u7ED3\u679C\u3002 \u2022 TRUE \uFF1A\u6B63\u5E38\u7ED3\u675F \u2022 FALSE \uFF1A\u5F02\u5E38\u7ED3\u675F\uFF0C\u672A\u6267\u884C Result RETURN \uFF08\u53D6\u51B3\u4E8EFUN\uFF09 \u2014 \u8FD4\u56DE\u503C\u3002 \u5177\u6709\u8FD4\u56DE\u503C\u7684FUN\u5728ST\u4E2D\uFF0CFUN\u672C\u8EAB\u5E26\u6709\u503C\u3002 \u4F8B\uFF09Value := 2 * SIN(Radian); FB\u7684\u901A\u7528\u81EA\u53D8\u91CF FB\u5177\u6709\u4E0B\u8FF0\u901A\u7528\u81EA\u53D8\u91CF\u3002 \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u5185\u5BB9 Execute IN BOOL \u2014 \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u3002\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u540E\uFF0C\u5373\u4F7F\u8BBE\u5B9ATRUE\u2192FALSE\uFF0C\u4ECD\u4F1A\u7EE7\u7EED\u6267\u884C\u6307\u4EE4\u3002 Busy OUT BOOL \u2014 \u5728\u6307\u4EE4\u7684\u6267\u884C\u4E2D\u53D8\u4E3ATRUE\u3002\u5728 Execute \u53D8\u4E3ATRUE\u7684\u540C\u65F6\uFF0C Busy \u4E5F\u53D8\u4E3ATRUE\u3002\u6307\u4EE4\u5728\u6B63\u5E38\u7ED3\u675F\u6216\u5F02\u5E38\u7ED3\u675F\u65F6\uFF0C\u53D8\u4E3AFALSE\u3002 Done OUT BOOL \u2014 \u6307\u4EE4\u6B63\u5E38\u7ED3\u675F\u65F6\uFF0C\u53D8\u4E3ATRUE\u3002\u6B63\u5E38\u7ED3\u675F\u540E\uFF0C\u5728 Execute \u53D8\u4E3AFALSE\u4E4B\u524D\u4FDD\u6301TRUE\u3002 \u4F46\u662F\uFF0C\u5982\u679C\u5728\u6B63\u5E38\u7ED3\u675F\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u662FFALSE\uFF0C\u5219 Done \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 Error OUT BOOL \u2014 \u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u65F6\uFF0C\u53D8\u4E3ATRUE\u3002\u5F02\u5E38\u7ED3\u675F\u540E\uFF0C\u5728 Execute \u53D8\u4E3AFALSE\u4E4B\u524D\u4FDD\u6301TRUE\u3002 \u4F46\u662F\uFF0C\u5982\u679C\u5728\u5F02\u5E38\u7ED3\u675F\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u662FFALSE\uFF0C\u5219 Error \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 ErrorID OUT UINT \u2014 \u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\uFF0C\u8868\u793A\u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u7684\u539F\u56E0\u3002\u6267\u884C\u6307\u4EE4\u65F6\uFF0C\u5B58\u50A80\uFF0C\u5728\u5F02\u5E38\u7ED3\u675F\u65F6\u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\u3002\u5728\u6B63\u5E38\u7ED3\u675F\u65F6\u5B58\u50A80\u3002 \u258C \u6B63\u5E38\u7ED3\u675F\u65F6 \u00A0 (1) Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5728\u6B64\u65F6\u95F4\u70B9\u5411 ErrorID \u5B58\u50A80\u3002 (2) \u6307\u4EE4\u6B63\u5E38\u7ED3\u675F\u65F6\uFF0C Busy \u53D8\u4E3AFALSE\uFF0C Done \u53D8\u4E3ATRUE\u3002 (3) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (4) \u5728\u6307\u4EE4\u7684\u6267\u884C\u4E2D\u5C06 Execute \u8BBE\u4E3AFALSE\u3002\u6307\u4EE4\u4ECD\u5904\u4E8E\u6267\u884C\u4E2D\u72B6\u6001\u3002 (5) \u4E4B\u540E\uFF0C\u5982\u679C\u6307\u4EE4\u6B63\u5E38\u7ED3\u675F\uFF0C\u5219 Busy \u53D8\u4E3AFALSE\uFF0C Done \u53D8\u4E3ATRUE\u3002 (6) \u5728(5)\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u5DF2\u7ECF\u53D8\u4E3AFALSE\uFF0C\u6240\u4EE5 Done \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 \u258C \u5F02\u5E38\u7ED3\u675F\u65F6 \u00A0 (1) Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5728\u6B64\u65F6\u95F4\u70B9\u5411 ErrorID \u5B58\u50A80\u3002 (2) \u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u65F6\uFF0C Busy \u53D8\u4E3AFALSE\uFF0C Error \u53D8\u4E3ATRUE\uFF0C\u5411 ErrorID \u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\u3002 (3) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Error \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (4) \u5728\u6307\u4EE4\u7684\u6267\u884C\u4E2D\u5C06 Execute \u8BBE\u4E3AFALSE\u3002\u6307\u4EE4\u4ECD\u5904\u4E8E\u6267\u884C\u4E2D\u72B6\u6001\u3002 (5) \u4E4B\u540E\uFF0C\u5982\u679C\u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\uFF0C\u5219 Busy \u53D8\u4E3AFALSE\uFF0C Error \u53D8\u4E3ATRUE\uFF0C\u5411 ErrorID \u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\u3002 (6) \u5728(5)\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u5DF2\u7ECF\u53D8\u4E3AFALSE\uFF0C\u6240\u4EE5 Done \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002"},{"link":"./01_01_Overview-7.html","title":"\u8FD0\u7B97\u9519\u8BEF","body":"\u8FD0\u7B97\u9519\u8BEF \u5404\u6307\u4EE4\u4F1A\u5728\u6267\u884C\u65F6\u786E\u8BA4\u5BF9\u64CD\u4F5C\u6570\u6307\u5B9A\u7684\u81EA\u53D8\u91CF\u662F\u5426\u6B63\u786E\u3002\u5982\u4E0D\u6B63\u786E\uFF0C\u5219\u4F1A\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u3002\u4E0B\u9762\u8BF4\u660E\u8FD0\u7B97\u9519\u8BEF\u7684\u53D1\u751F\u6761\u4EF6\u548C\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\u3002 \u8FD0\u7B97\u9519\u8BEF\u7684\u53D1\u751F\u6761\u4EF6 \u5404\u6307\u4EE4\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u7684\u6761\u4EF6\u5982\u4E0B\u3002 1.\u5BF9\u81EA\u53D8\u91CF\u6307\u5B9A\u7684\u8F6F\u5143\u4EF6/\u53D8\u91CF\u8D85\u51FA\u64CD\u4F5C\u6570\u8303\u56F4 \u2022 \u64CD\u4F5C\u6570\u7684\u5360\u6709\u5927\u5C0F\u8D85\u8FC7\u4E86\u8F6F\u5143\u4EF6/\u53D8\u91CF\u7684\u5927\u5C0F \u2022 \u64CD\u4F5C\u6570\u5360\u6709\u7684\u7EC8\u7AEF\u8D85\u8FC7\u4E86\u5168\u5C40\u8F6F\u5143\u4EF6\u7684\u533A\u57DF \u2022 \u6307\u5B9A\u8D85\u51FA\u6570\u7EC4\u8303\u56F4 2.\u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002 \u00A0 \u8FD9\u4E9B\u662F\u6240\u6709\u6307\u4EE4\u7684\u901A\u7528\u6761\u4EF6\u3002\u6B64\u5916\uFF0C\u8FD8\u6709\u5404\u6307\u4EE4\u7279\u6709\u7684\u6761\u4EF6\u3002\u5404\u6307\u4EE4\u7279\u6709\u6761\u4EF6\u7684\u8BE6\u7EC6\u5185\u5BB9\uFF0C\u8BF7\u53C2\u9605\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u3002 \u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C \u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u65F6\uFF0C\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u548C_ProgramError\u53D1\u751F\u5982\u4E0B\u53D8\u5316\u3002 \u6307\u4EE4 CR2012 _ProgramError \u6307\u4EE4 OFF\u2192ON * SET FUN/FB \u4E0D\u53D8\u5316 SET * : CR2012\u7684\u8BE6\u7EC6\u52A8\u4F5C\u5185\u5BB9\uFF0C\u8BF7\u53C2\u9605\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u3002 \u00A0 _ProgramError\u662F\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u65F6\uFF0C\u5B58\u5728\u4E8E\u6BCF\u4E2ASET\u7684\u6A21\u5757\u4E2D\u7684\u5C40\u90E8\u7CFB\u7EDF\u53D8\u91CF\u3002\u5728\u6267\u884C\u590D\u4F4D\u4E4B\u524D\uFF0C\u4E0D\u4F1A\u53D8\u4E3AOFF\u3002\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_00_Instruction.html","title":"\u7B2C2\u7AE0 \u6307\u4EE4","body":"\u7B2C2\u7AE0 \u6307\u4EE4 \u2022 \u63A5\u70B9\u8F93\u5165/\u8F93\u51FA \uFF1A\u5904\u7406\u4F4D\u7684\u6307\u4EE4\u3002 \u2022 \u4F4D\u8F93\u5165/\u8F93\u51FA \uFF1A\u5904\u7406\u5B57\u6570\u636E\u4E2D\u7684\u4F4D\u7684\u6307\u4EE4\u3002 \u2022 \u6BD4\u8F83 \uFF1A\u5224\u5B9A\u6570\u503C\u3001\u5B57\u7B26\u4E32\u7684\u5927\u5C0F\u5173\u7CFB\u4EE5\u53CA\u4E00\u81F4/\u4E0D\u4E00\u81F4\u7684\u6307\u4EE4\u3002 \u2022 \u5B9A\u65F6\u5668 \u8BA1\u6570\u5668 \uFF1A\u5B9A\u65F6\u5668\u548C\u8BA1\u6570\u5668\u7684\u76F8\u5173\u6307\u4EE4\u3002 \u2022 \u8FDE\u63A5/\u7ED3\u675F \uFF1A\u5728\u8FDE\u63A5\u7EBF\u4E0A\u6267\u884C\u903B\u8F91\u9006\u8F6C\u548C\u5FAE\u5206\u7684\u6307\u4EE4\u3002 \u2022 \u7B97\u672F \uFF1A\u6267\u884C\u56DB\u5219\u8FD0\u7B97\u548C\u903B\u8F91\u8FD0\u7B97\u7684\u6307\u4EE4\u3002 \u2022 \u6570\u636E\u4F20\u8F93 \uFF1A\u4F20\u8F93\uFF08\u590D\u5236\uFF09\u6570\u636E\u7684\u6307\u4EE4\u3002 \u2022 \u65F6\u95F4_\u65E5\u671F\u65F6\u523B \uFF1A\u65F6\u95F4\u548C\u65E5\u671F\u65F6\u523B\u7684\u76F8\u5173\u6307\u4EE4\u3002 \u2022 \u7F13\u51B2\u5B58\u50A8\u5668 \uFF1A\u8BFB\u5199\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6307\u4EE4\u3002 \u2022 \u6D41\u7A0B \uFF1A\u91CD\u590D\u6267\u884C\u6216\u8DF3\u8FC7\u7A0B\u5E8F\u7684\u6307\u4EE4\u3002 \u2022 \u4F20\u611F\u5668 \uFF1A\u8BFB\u5199\u7528EtherNet/IP\u8FDE\u63A5\u7684\u8BBE\u5907\u7684\u8BBE\u5B9A\u7684\u6307\u4EE4\u3002 \u2022 \u529F\u80FD\u5757 \uFF1A\u7528\u6765\u8C03\u7528\u529F\u80FD\u5757/\u529F\u80FD\u7684\u6307\u4EE4\u3002 \u00A0 \u00A0 ST\u7A0B\u5E8F\u4E0D\u80FD\u4F7F\u7528\u6307\u4EE4\u3002\u8BF7\u5728ST\u7A0B\u5E8F\u4E2D\u4F7F\u7528 FUN/FB \u3002"},{"link":"./02_01_Instruction_ContactInOut.html","title":"\u63A5\u70B9\u8F93\u5165/\u8F93\u51FA","body":"\u63A5\u70B9\u8F93\u5165/\u8F93\u51FA \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 LD \u88C5\u5165 \u4E0E\u5DE6\u6BCD\u7EBF\u5E38\u5F00\u63A5\u70B9\u8FDE\u63A5\u3002 LDB \u53D6\u53CD\u88C5\u5165 \u4E0E\u5DE6\u6BCD\u7EBF\u5E38\u95ED\u63A5\u70B9\u8FDE\u63A5\u3002 AND \u4E0E \u4E0E\u5E38\u5F00\u63A5\u70B9\u4E32\u8054\u8FDE\u63A5\u3002 ANB \u53D6\u53CD\u4E0E \u4E0E\u5E38\u95ED\u63A5\u70B9\u4E32\u8054\u8FDE\u63A5\u3002 OR \u6216 \u4E0E\u5E38\u5F00\u63A5\u70B9\u5E76\u8054\u8FDE\u63A5\u3002 ORB \u53D6\u53CD\u6216 \u4E0E\u5E38\u95ED\u63A5\u70B9\u5E76\u8054\u8FDE\u63A5\u3002 LDP \u53D6\u8109\u51B2\u4E0A\u5347\u6CBF \u5728\u6307\u5B9A\u7684\u4F4D\u7684\u4E0A\u5347\u6CBF\uFF08OFF\u2192ON\uFF09\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 ANP \u4E0E\u8109\u51B2\u4E0A\u5347\u6CBF ORP \u6216\u8109\u51B2\u4E0A\u5347\u6CBF LDF \u53D6\u8109\u51B2\u4E0B\u964D\u6CBF \u5728\u6307\u5B9A\u7684\u4F4D\u7684\u4E0B\u964D\u6CBF\uFF08ON\u2192OFF\uFF09\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 ANF \u4E0E\u8109\u51B2\u4E0B\u964D\u6CBF ORF \u6216\u8109\u51B2\u4E0B\u964D\u6CBF LDPB \u53D6\u53CD\u8109\u51B2\u4E0A\u5347\u6CBF \u5728\u6307\u5B9A\u7684\u4F4D\u7684\u4E0A\u5347\u6CBF\uFF08OFF\u2192ON\uFF09\uFF0C\u4EC51\u6B21\u626B\u63CF\u6210\u4E3A OFF\u3002 ANPB \u4E0E\u53CD\u8109\u51B2\u4E0A\u5347\u6CBF ORPB \u6216\u53CD\u8109\u51B2\u4E0A\u5347\u6CBF LDFB \u53D6\u53CD\u8109\u51B2\u4E0B\u964D\u6CBF \u5728\u6307\u5B9A\u7684\u4F4D\u7684\u4E0B\u964D\u6CBF\uFF08ON\u2192OFF\uFF09\uFF0C\u4EC51\u6B21\u626B\u63CF\u6210\u4E3A OFF\u3002 ANFB \u4E0E\u53CD\u8109\u51B2\u4E0B\u964D\u6CBF ORFB \u6216\u53CD\u8109\u51B2\u4E0B\u964D\u6CBF OUT \u8F93\u51FA \u8F93\u51FAON/OFF\u72B6\u6001\u3002 OUB \u53D6\u53CD\u8F93\u51FA SET \u7F6E\u4F4D \u5C06\u4F4D\u7F6E\u4E8E ON \u5E76\u4FDD\u6301\u3002 RES \u590D\u4F4D \u5C06\u4F4D\u7F6E\u4E8E OFF\u3002 DIFU \u4E0A\u5347\u6CBF\u5DEE\u5206 \u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CFON\u3002 DIFD \u4E0B\u964D\u6CBF\u5DEE\u5206 \u6267\u884C\u6761\u4EF6\u7684\u4E0B\u964D\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CFON\u3002 ONDL \u5EF6\u65F6\u63A5\u901A \u6307\u5B9A\u7684\u4F4D\u4F5C\u4E3A ON \u5EF6\u8FDF\u5B9A\u65F6\u5668\u8FDB\u884C\u52A8\u4F5C\u3002 OFDL \u5EF6\u65F6\u65AD\u5F00 \u6307\u5B9A\u7684\u4F4D\u4F5C\u4E3A OFF \u5EF6\u8FDF\u5B9A\u65F6\u5668\u8FDB\u884C\u52A8\u4F5C\u3002 SHOT \u5355\u6B21\u89E6\u53D1 \u6307\u5B9A\u7684\u4F4D\u6309\u5355\u6B21\u89E6\u53D1\u5B9A\u65F6\u5668\u8FDB\u884C\u52A8\u4F5C FLIK \u95EA\u53D8 \u5C06\u6307\u5B9A\u7684\u4F4D\u6309\u7167\u95EA\u70C1\u56DE\u8DEF\u52A0\u4EE5\u4F7F\u7528\u3002 ALT \u4EA4\u53D8 \u53CD\u8F6CON/OFF\u72B6\u6001\u3002 LD LD \u88C5\u5165 LDB LDB \u53D6\u53CD\u88C5\u5165 AND AND \u4E0E ANB ANB \u53D6\u53CD\u4E0E OR OR \u6216 ORB ORB \u53D6\u53CD\u6216 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 * : **B \u65F6\uFF0C\u5728   \u5185\u586B\u5199 \u201C/\u201D\u3002 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u7528\u4E8E\u8FDE\u63A5\u5DE6\u6BCD\u7EBF\u7684\u4F4D\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Src \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u8F7D\u5165\u6700\u4F4E\u4F4D\u7684\u72B6\u6001\u3002 \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C LD \u5C06 Src \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\u8FDE\u63A5\u5230\u6BCD\u7EBF\u3002 \u5C06 Src \u7684ON/OFF\u72B6\u6001\u4F20\u9001\u7ED9 LD \u4EE5\u540E\u7684\u6307\u4EE4\u3002 \u258C LDB \u5C06 Src \u4F5C\u4E3A\u5E38\u95ED\u63A5\u70B9\u6BCD\u7EBF\u8FDE\u63A5\u3002 \u5C06 Src \u7684ON/OFF\u4EE5\u53CD\u8F6C\u540E\u7684\u72B6\u6001\u4F20\u9001\u7ED9 LDB \u4EE5\u540E\u7684\u6307\u4EE4\u3002 \u258C AND \u5C06 Src \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\u4E0E\u56DE\u8DEF\u5757\u4E32\u8054\u3002 \u258C ANB \u5C06 Src \u4F5C\u4E3A\u5E38\u95ED\u63A5\u70B9\u4E0E\u56DE\u8DEF\u5757\u4E32\u8054\u3002 \u258C OR \u5C06 Src \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\u4E0E\u56DE\u8DEF\u5757\u5E76\u8054\u3002 \u258C ORB \u5C06 Src \u4F5C\u4E3A\u5E38\u95ED\u63A5\u70B9\u4E0E\u56DE\u8DEF\u5757\u5E76\u8054\u3002 \u00A0 \u00A0 \u00A0 \u4E32\u8054\u8FDE\u63A5/\u5E76\u8054\u8FDE\u63A5\u7684\u63A5\u70B9\u7684\u6570\u91CF\uFF0C\u6CA1\u6709\u9650\u5236\u3002 \u00A0 \u4E0D\u5141\u8BB8\u5E76\u8054\u975E\u63A5\u70B9\u6307\u4EE4\u3002 \u00A0 *\uFF1A\u63A5\u70B9\u4EE5\u5916\u7684\u6307\u4EE4 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002\u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR \u65F6\u3001\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u63A5\u70B9\u4E3A OFF\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 LDP LDP \u53D6\u8109\u51B2\u4E0A\u5347\u6CBF ANP ANP \u4E0E\u8109\u51B2\u4E0A\u5347\u6CBF \u00A0\u00A0\u00A0 ORP ORP \u6216\u8109\u51B2\u4E0A\u5347\u6CBF LDF LDF \u53D6\u8109\u51B2\u4E0B\u964D\u6CBF ANF ANF \u4E0E\u8109\u51B2\u4E0B\u964D\u6CBF ORF ORF \u6216\u8109\u51B2\u4E0B\u964D\u6CBF \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 * : \u4E2D\u6709\u3000\uFF0A\uFF0AP \u65F6\uFF0C\u586B\u5199\u2191, \uFF0A\uFF0AF \u65F6\uFF0C\u586B\u5199\u2193\u3002 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF\u7684\u4F4D\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Src \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u8F7D\u5165\u6700\u4F4E\u4F4D\u7684\u72B6\u6001\u3002 \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C LDP, ANP, ORP \u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 \u6307 \u4EE4 \u52A8\u3000\u4F5C LDP \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u5DE6\u6BCD\u7EBF\u8FDE\u63A5\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 ANP \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u4E32\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 ORP \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u5E76\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 \u258C LDF, ANF, ORF \u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 \u6307 \u4EE4 \u52A8\u3000\u4F5C LDF \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u5DE6\u6BCD\u7EBF\u8FDE\u63A5\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 ANF \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u4E32\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 ORF \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u5E76\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A ON\u3002 \u00A0 \u00A0 \u2022 \u7528ST\u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF\u65F6\uFF0C\u5E94\u4F7F\u7528R_TRIG/F_TRIG\u6307\u4EE4\u3002 ST\uFF1A \u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF \u2022 \u5728\u5B50\u7A0B\u5E8F\u5185\u3001STP\uFF5ESTE\u6307\u4EE4\u95F4\u3001CJ\uFF08NCJ\uFF09\uFF5ELABEL\u6307\u4EE4\u95F4\u3001FOR\uFF5ENEXT\u6307\u4EE4\u95F4\u4F7F\u7528\u65F6\u9700\u8981\u52A0\u4EE5\u6CE8\u610F\u3002 \u300C\u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u300D \u2022 \u4E0D\u5141\u8BB8\u5E76\u8054\u975E\u63A5\u70B9\u6307\u4EE4\u3002 \u00A0 *\uFF1A\u63A5\u70B9\u4EE5\u5916\u7684\u6307\u4EE4 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR \u65F6\u3001\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u63A5\u70B9\u4E3A OFF\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7A0B\u5E8F\u8D44\u4EA7\u5316 LDPB LDPB \u53D6\u53CD\u8109\u51B2\u4E0A\u5347\u6CBF ANPB ANPB \u4E0E\u53CD\u8109\u51B2\u4E0A\u5347\u6CBF ORPB ORPB \u6216\u53CD\u8109\u51B2\u4E0A\u5347\u6CBF LDFB LDFB \u53D6\u53CD\u8109\u51B2\u4E0B\u964D\u6CBF ANFB ANFB \u4E0E\u53CD\u8109\u51B2\u4E0B\u964D\u6CBF ORFB ORFB \u6216\u53CD\u8109\u51B2\u4E0B\u964D\u6CBF \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 * : \u4E2D\u6709\u3000\uFF0A\uFF0APB \u65F6\uFF0C\u586B\u5199\u2191, \uFF0A\uFF0AFB \u65F6\uFF0C\u586B\u5199\u2193\u3002 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF\u7684\u4F4D\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Src \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u8F7D\u5165\u6700\u4F4E\u4F4D\u7684\u72B6\u6001\u3002 \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C LDPB, ANPB, ORPB \u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 \u6307 \u4EE4 \u52A8\u3000\u4F5C LDPB \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u5DE6\u6BCD\u7EBF\u8FDE\u63A5\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 ANPB \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u4E32\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 ORPB \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u5E76\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0A\u5347\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 \u258C LDFB, ANFB, ORFB \u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 \u6307 \u4EE4 \u52A8\u3000\u4F5C LDFB \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u5DE6\u6BCD\u7EBF\u8FDE\u63A5\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 ANFB \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u4E32\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 ORFB \u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\uFF0C\u4E0E\u56DE\u8DEF\u5757\u5E76\u8054\u3002\u6B64\u63A5\u70B9\u5728\u68C0\u6D4B\u5230 Src \u7684\u4E0B\u964D\u6CBF\u540E\uFF0C\u4EC51\u6B21\u626B\u63CF\u4E3A OFF\u3002 \u00A0 \u00A0 \u2022 \u5728\u5B50\u7A0B\u5E8F\u5185\u3001STP\uFF5ESTE\u6307\u4EE4\u95F4\u3001CJ\uFF08NCJ\uFF09\uFF5ELABEL\u6307\u4EE4\u95F4\u3001FOR\uFF5ENEXT\u6307\u4EE4\u95F4\u4F7F\u7528\u65F6\u9700\u8981\u52A0\u4EE5\u6CE8\u610F\u3002 \u300C\u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u300D \u2022 \u4E0D\u5141\u8BB8\u5E76\u8054\u975E\u63A5\u70B9\u6307\u4EE4\u3002 \u00A0 *\uFF1A\u63A5\u70B9\u4EE5\u5916\u7684\u6307\u4EE4 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR \u65F6\u3001\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u63A5\u70B9\u4E3A OFF\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u00A0 OUT OUT \u8F93\u51FA OUB OUB \u53D6\u53CD\u8F93\u51FA \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9A\u8F93\u51FA\u5BF9\u8C61\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u8F93\u51FA\u81F3\u6700\u4F4E\u4F4D\u7684\u4F4D\u3002 \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u5982\u679C\u8F93\u51FA\u5230\u4E00\u4E2A\u8F93\u5165\u7EE7\u7535\u5668\uFF0C\u5219\u5728\u4E0B\u6B21\u626B\u63CF\u65F6\uFF0C\u8F93\u5165\u7AEF\u5B50\u7684\u72B6\u6001\u88AB\u8986\u76D6\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C OUT \u5C06\u6B64\u6307\u4EE4\u4E4B\u524D\u4E3A\u6B62\u7684ON/OFF\u72B6\u6001\u8F93\u51FA\u81F3 Dst \u3002 \u258C OUB \u5C06\u6B64\u6307\u4EE4\u4E4B\u524D\u4E3A\u6B62\u7684ON/OFF\u7684\u53CD\u8F6C\u72B6\u6001\u8F93\u51FA\u81F3 Dst \u3002 \u00A0 \u00A0 \u53CC\u7EBF\u5708 \u5982\u679C\u5728\u540C\u4E00\u8F93\u51FA\u7EE7\u7535\u5668\u4E2D\uFF0C\u4F7F\u7528\u4E86\u591A\u4E2A OUT/OUB \u6307\u4EE4\uFF0C\u5219\u5728\u7A0B\u5E8F\u4E2D\uFF0C\u4F18\u5148\u8F93\u51FA\u6700\u540E\u7F16\u7A0B\u7684\u6307\u4EE4\u3002 R001 OFF \u65F6\uFF0C\u5373\u4F7F R000 ON\uFF0CR500 \u4E5F\u4E0D ON\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u7528\u95F4\u63A5\u6307\u5B9A\u5728 Dst \u4E2D\u6307\u5B9A\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 SET (@)SET \u7F6E\u4F4D RES (@)RES \u590D\u4F4D \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9AON/OFF\u7684\u53C2\u7167\u5BF9\u8C61\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u6700\u4F4E\u4F4D\u7684\u4F4D\u6267\u884CON/OFF\u3002 \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u5982\u679C\u8F93\u51FA\u5230\u4E00\u4E2A\u8F93\u5165\u7EE7\u7535\u5668\uFF0C\u5219\u5728\u4E0B\u6B21\u626B\u63CF\u65F6\uFF0C\u8F93\u5165\u7AEF\u5B50\u7684\u72B6\u6001\u88AB\u8986\u76D6\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C SET \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u7F6E\u4E8E ON\u3002\u4E00\u65E6\u6210\u4E3A ON \u540E\uFF0C\u5373\u4F7F\u6267\u884C\u6761\u4EF6\u6210\u4E3A OFF\uFF0C\u4F4D\u4E5F\u4F1A\u4FDD\u6301 ON \u7684\u72B6\u6001\uFF08ON \u7684\u4F4D\u901A\u8FC7 RES \u6307\u4EE4\u7B49\u7F6E\u4E8E OFF\uFF09\u3002\u6267\u884C\u6761\u4EF6 OFF \u65F6\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u5B9A\u65F6\u5668\u7684\u5F53\u524D\u503C\u6210\u4E3A 0\u3002 \u8BA1\u6570\u5668\u7684\u5F53\u524D\u503C\u4E0E\u8BBE\u5B9A\u503C\u76F8\u540C\u3002 \u258C RES \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u7F6E\u4E8E OFF\u3002 \u5B9A\u65F6\u5668\u7684\u5F53\u524D\u503C\u4E0E\u8BBE\u5B9A\u503C\u76F8\u540C\u3002 \u8BA1\u6570\u5668\u7684\u5F53\u524D\u503C\u4E3A\u201C0\u201D\u3002 \u258C @\u25A1\u25A1\u25A1 \u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF08OFF\u2192ON\u65F6\uFF09\uFF0C\u4EC51\u6B21\u626B\u63CF\uFF0C\u6267\u884C\u4E0A\u8FF0\u64CD\u4F5C\u3002 \u00A0 \u00A0 \u7A0B\u5E8F\u540E\u9762\u7F16\u7A0B\u7684 SET \u548C RES \u6307\u4EE4\u4F18\u5148\u6267\u884C\u3002 \u00A0 * : \u53EA\u6267\u884C1\u6B21\u626B\u63CF \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 DIFU DIFU \u4E0A\u5347\u6CBF\u5DEE\u5206 DIFD DIFD \u4E0B\u964D\u6CBF\u5DEE\u5206 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9A\u4EC51\u6B21\u626B\u63CF\u6210\u4E3A ON \u7684\u5BF9\u8C61\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u5BF9\u6700\u4F4E\u4F4D\u7684\u4F4D\u6267\u884C\u8BBE\u7F6E/\u590D\u4F4D \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C DIFU \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CF Dst \u7F6E\u4E8E ON\u3002 \u4F7F\u7528\u5176\u5B83 DIFU \u6307\u4EE4\u7684\u64CD\u4F5C\u6570\u4E0D\u80FD\u91CD\u590D\u3002 \u258C DIFD \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0B\u964D\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CF Dst \u7F6E\u4E8E ON\u3002 \u4F7F\u7528\u5176\u5B83 DIFD \u6307\u4EE4\u7684\u64CD\u4F5C\u6570\u4E0D\u80FD\u91CD\u590D\u3002 \u00A0 \u00A0 \u00A0 \u5982\u679C\u5728\u5B50\u7A0B\u5E8F\u5185\uFF0C\u5728CJ\uFF08NCJ\uFF09~ LABEL\u95F4\u4F7F\u7528\u65F6\uFF0C\u8BF7\u4E88\u4EE5\u6CE8\u610F\u3002 \u300C\u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u300D \u5728\u6269\u5C55\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528 DIFD \u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u3002 \u00A0 DIFD \u6307\u4EE4\u5982\u540C\uFF08a\uFF09\u8FDB\u884C\u8BB0\u8FF0\u65F6\uFF0C\u8F93\u5165R000\u6210\u4E3A OFF \u7684\u626B\u63CF\u65F6\uFF0CR1000\u6210\u4E3A ON\uFF0C\u56E0\u6B64R000\u548CR1000\u4E0D\u4F1A\u540C\u65F6\u6210\u4E3A ON\uFF0C\u5728\u8FD9\u6837\u7684\u68AF\u5F62\u56FE\u72B6\u6001\u4E0B\uFF0C\u8F93\u51FAR500\u4E0D\u4F1A\u6210\u4E3A ON\u3002 \u00A0 \u5982(b)\u6216(c)\u6240\u793A\u8FDB\u884C\u7F16\u7A0B\uFF0C\u5219\u56E0R000 OFF\u7684\u626B\u63CF\uFF0C\u80FD\u591FON R500\u3002 \u00A0 DIFU\u547D\u4EE4\uFF0C\u5373\u4F7F\u5982(d)\u6240\u793A\u8FDB\u884C\u7F16\u7A0B\uFF0C\u5219\u5728\u8F93\u5165R000 ON\u7684\u626B\u63CF\u7684\u540C\u65F6\uFF0C\u8F93\u5165R1000 ON\uFF0C\u8F93\u51FAR500 ON\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u7528\u95F4\u63A5\u6307\u5B9A\u5728 Dst \u4E2D\u6307\u5B9A\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 ONDL ONDL \u5EF6\u65F6\u63A5\u901A OFDL OFDL \u5EF6\u65F6\u65AD\u5F00 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num \u6307\u5B9A ON \u5EF6\u8FDF/OFF \u5EF6\u8FDF\u7684\u8BBE\u5B9A\u503C\uFF080\uFF5E65535\uFF09\u6216\u8BBE\u5B9A\u503C\u7684\u53C2\u7167\u6E90\u3002\u5EF6\u65F6\u5355\u4F4D\u662F 10ms\u3002 16 \u4F4D Dst \u6307\u5B9A ON \u5EF6\u8FDF/OFF \u5EF6\u8FDF\u52A8\u4F5C\u7684\u5BF9\u8C61\u3002 *1 1 \u4F4D *1: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u6700\u4F4E\u4F4D\u7684\u4F4D\u6267\u884C ON \u5EF6\u8FDF/ OFF \u5EF6\u8FDF\u52A8\u4F5C\u3002 \u4E0D\u80FD\u4F7F\u7528\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u2022 \u5982\u679C\u8F93\u51FA\u5230\u4E00\u4E2A\u8F93\u5165\u7EE7\u7535\u5668\uFF0C\u5219\u5728\u4E0B\u6B21\u626B\u63CF\u65F6\uFF0C\u8F93\u5165\u7AEF\u5B50\u7684\u72B6\u6001\u88AB\u8986\u76D6\u3002 \u2022 Dst \u901A\u8FC7 OUT \u6307\u4EE4\u7B49\u5176\u4ED6\u6307\u4EE4\u52A0\u4EE5\u4F7F\u7528\u65F6\uFF0C\u6309\u53CC\u91CD\u7EBF\u5708\u8FDB\u884C\u52A8\u4F5C\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C ONDL Dst \u6309 ON \u5EF6\u8FDF\u5B9A\u65F6\u5668\u8FDB\u884C\u52A8\u4F5C\u3002 (1) \u6267\u884C\u6761\u4EF6 ON \u65F6\uFF0C Num \u00D710ms \u4E4B\u540E\uFF0C Dst ON\u3002 (2) \u6267\u884C\u6761\u4EF6\u4E3A OFF \u65F6\uFF0C Dst \u4E5F\u5C06\u540C\u65F6\u6210\u4E3A OFF\u3002 (3) \u5982\u679C\u5728\u6267\u884C\u6761\u4EF6\u5728 Num X10ms \u4E4B\u524D OFF\uFF0C\u5219 Dst \u4E0D\u53D8\u4E3AON\u3002 \u00A0 \u258C OFDL Dst \u3092\u6309 ON \u5EF6\u8FDF\u5B9A\u65F6\u5668\u8FDB\u884C\u52A8\u4F5C\u3002 (1) \u6267\u884C\u6761\u4EF6 ON \u65F6\uFF0C\u540C\u65F6 Dst OFF\u3002 (2) \u5728\u6267\u884C\u6761\u4EF6 OFF \u8D77\uFF0C Num X10ms \u4E4B\u540E\uFF0C Dst OFF\u3002 (3) \u5982\u679C\u5728\u6267\u884C\u6761\u4EF6\u5728 Num \u00D710ms \u524D ON\uFF0C\u5219 Dst \u4E0D\u53D8\u4E3A OFF\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u7528\u95F4\u63A5\u6307\u5B9A\u5728 Dst \u4E2D\u6307\u5B9A\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u2022 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u2022 \u8BEF\u5DEE\u8303\u56F4\u5728\u00B110 \u00B5 sec\u002B1 \u6B21\u626B\u63CF\u65F6\u95F4\u5185\u3002 \u2022 Num \u7F6E\u96F6\uFF0C\u5EF6\u65F6\u63A5\u901A\u548C\u5EF6\u65F6\u65AD\u5F00\u90FD\u5C06\u6267\u884C\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u3002 \u2022 \u5982\u679C\u5728\u5B50\u7A0B\u5E8F\u5185\uFF0C\u5728 STP~STE \u6307\u4EE4\u95F4\u3001STG~JMP/ENDS \u6307\u4EE4\u95F4\u3001CJ\uFF08NCJ\uFF09~ LABEL\u95F4\u4F7F\u7528\u65F6\uFF0C\u8BF7\u4E88\u4EE5\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u4F7F\u7528\u5B9A\u65F6\u5668\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u201D\u3002 \u2022 \u5982\u679C\u5728 RUN \u4E2D\u8FDB\u884C\u5199\u5165\uFF0C\u9700\u8981\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u5173\u4E8E RUN \u4E2D\u5199\u5165\u201D\u3002 SHOT SHOT \u5355\u6B21\u89E6\u53D1 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num \u6307\u5B9A\u5355\u6B21\u89E6\u53D1\u7684\u8BBE\u5B9A\u503C\uFF080\uFF5E65535\uFF09\u6216\u8BBE\u5B9A\u503C\u7684\u53C2\u7167\u6E90\u3002\u5EF6\u65F6\u5355\u4F4D\u662F 10ms\u3002 16 \u4F4D Dst \u6307\u5B9A\u5355\u6B21\u89E6\u53D1\u7684\u52A8\u4F5C\u5BF9\u8C61\u3002 *1 1 \u4F4D *1: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u6700\u4F4E\u4F4D\u7684\u4F4D\u6267\u884C\u5355\u6B21\u89E6\u53D1\u52A8\u4F5C\u3002 \u4E0D\u80FD\u4F7F\u7528\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u5982\u679C\u8F93\u51FA\u5230\u4E00\u4E2A\u8F93\u5165\u7EE7\u7535\u5668\uFF0C\u5219\u5728\u4E0B\u6B21\u626B\u63CF\u65F6\uFF0C\u8F93\u5165\u7AEF\u5B50\u7684\u72B6\u6001\u88AB\u8986\u76D6\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C SHOT \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u5C06 Dst \u7F6E\u4E8E ON\u3002 Num X10ms \u4E4B\u540E\uFF0C Dst OFF\u3002 Dst \u4E3A ON \u671F\u95F4\uFF0C\u5FFD\u7565\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u7528\u95F4\u63A5\u6307\u5B9A\u5728 Dst \u4E2D\u6307\u5B9A\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u2022 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u2022 \u8BEF\u5DEE\u8303\u56F4\u5728\u00B110msec\u002B1 \u6B21\u626B\u63CF\u65F6\u95F4\u5185\u3002 \u2022 Num \u7F6E\u96F6\uFF0C\u90FD\u5C06\u6267\u884C\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u3002 \u2022 \u5728\u7B2C\u4E00\u6B21\u626B\u63CF\u4E2D\uFF0C\u5982\u679C\u6267\u884C\u6761\u4EF6 ON\uFF0C\u4E5F\u4F1A\u6B63\u5E38\u52A8\u4F5C\u3002 \u2022 Num \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\uFF0C\u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\u8BFB\u53D6 ON \u65F6\u95F4\u3002 Dst \u00A0 OFF \u4E3A\u6B62\u7684\u65F6\u95F4\uFF0C\u81F3\u4E0B\u4E00\u6B21\u6267\u884C\u6761\u4EF6 ON \u65F6\uFF0C\u4E0D\u53EF\u4EE5\u66F4\u6539\u3002 \u2022 \u5982\u679C\u5728\u5B50\u7A0B\u5E8F\u5185\uFF0C\u5728 STP~STE \u6307\u4EE4\u95F4\u3001CJ\uFF08NCJ\uFF09~ LABEL\u95F4\u4F7F\u7528\u65F6\uFF0C\u8BF7\u4E88\u4EE5\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u4F7F\u7528\u5B9A\u65F6\u5668\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u201D\u3002 \u2022 \u5982\u679C\u5728 RUN \u4E2D\u8FDB\u884C\u5199\u5165\uFF0C\u9700\u8981\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u5173\u4E8E RUN \u4E2D\u5199\u5165\u201D\u3002 FLIK FLIK \u95EA\u53D8 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num1 \u8BBE\u5B9A\u5C06 Dst \u7F6E\u4E8E ON \u7684\u8BBE\u5B9A\u503C\uFF080\uFF5E65535\uFF09\u6216\u8BBE\u5B9A\u503C\u7684\u53C2\u7167\u6E90\u3002\u5EF6\u65F6\u5355\u4F4D\u662F 10ms\u3002 16 \u4F4D Num2 \u8BBE\u5B9A\u5C06 Dst \u7F6E\u4E8E OFF \u7684\u8BBE\u5B9A\u503C\uFF080\uFF5E65535\uFF09\u6216\u8BBE\u5B9A\u503C\u7684\u53C2\u7167\u6E90\u3002\u5EF6\u65F6\u5355\u4F4D\u662F 10ms\u3002 16 \u4F4D Dst \u6307\u5B9A\u6267\u884C\u95EA\u70C1\u56DE\u8DEF\u52A8\u4F5C\u7684\u5BF9\u8C61\u3002 *1 1 \u4F4D *1: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u6700\u4F4E\u4F4D\u7684\u4F4D\u6267\u884C\u95EA\u70C1\u56DE\u8DEF\u7684\u52A8\u4F5C\u3002 \u4E0D\u80FD\u4F7F\u7528\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u5982\u679C\u8F93\u51FA\u5230\u4E00\u4E2A\u8F93\u5165\u7EE7\u7535\u5668\uFF0C\u5219\u5728\u4E0B\u6B21\u626B\u63CF\u65F6\uFF0C\u8F93\u5165\u7AEF\u5B50\u7684\u72B6\u6001\u88AB\u8986\u76D6\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C FLIK (1) \u6267\u884C\u6761\u4EF6\u4E3A ON \u671F\u95F4\uFF0C Dst \u53CD\u590D\u5207\u6362ON/OFF\u3002\u4ECE ON \u7684\u72B6\u6001\u5F00\u59CB\u6267\u884C\u3002 ON \u7684\u65F6\u95F4\u662F Num1 X10ms\uFF0COFF \u7684\u65F6\u95F4\u662F\u4E3A Num2 X10ms\u3002 (2) Dst \u72B6\u6001 ON \u671F\u95F4\uFF0C\u5982\u679C\u6267\u884C\u6761\u4EF6 OFF\uFF0C Dst \u4E5F OFF\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u7528\u95F4\u63A5\u6307\u5B9A\u5728 Dst \u4E2D\u6307\u5B9A\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u2022 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u2022 \u8BEF\u5DEE\u8303\u56F4\u5728\u00B110msec\u002B1 \u6B21\u626B\u63CF\u65F6\u95F4\u5185\u3002 \u2022 Num1 ,  Num2 \u7F6E\u96F6\uFF0C\u90FD\u5C06\u6267\u884C\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u3002 \u2022 \u5982\u679C\u5728\u5B50\u7A0B\u5E8F\u5185\uFF0C\u5728 CJ\uFF08NCJ\uFF09~LABEL \u95F4\u4F7F\u7528\u65F6\uFF0C\u8BF7\u4E88\u4EE5\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u4F7F\u7528\u5B9A\u65F6\u5668\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u201D\u3002 \u2022 \u5982\u679C\u5728 RUN \u4E2D\u8FDB\u884C\u5199\u5165\uFF0C\u9700\u8981\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u5173\u4E8E RUN \u4E2D\u5199\u5165\u201D\u3002 ALT ALT \u4EA4\u53D8 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9A\u72B6\u6001\u53CD\u8F6C\u5BF9\u8C61\u3002 *1*2 1 \u4F4D *1: \u901A\u8FC7 DR \u6307\u5B9A\u7EE7\u7535\u5668\u65F6\uFF0C\u53EF\u4EE5\u4E0D\u53D7\u626B\u63CF\u65F6\u95F4\u7684\u5F71\u54CD\u5B9E\u73B0\u9AD8\u901F\u5237\u65B0\u3002 *2: Dst \u6307\u5B9A\u4E3A\u5B57\u6570\u636E\u65F6\uFF0C\u6700\u4F4E\u4F4D\u7684\u4F4D\u7684\u72B6\u6001\u6267\u884C\u53CD\u8F6C\u3002 \u53EF\u4EE5\u5B9E\u73B0\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u5982\u679C\u8F93\u51FA\u5230\u4E00\u4E2A\u8F93\u5165\u7EE7\u7535\u5668\uFF0C\u5219\u5728\u4E0B\u6B21\u626B\u63CF\u65F6\uFF0C\u8F93\u5165\u7AEF\u5B50\u7684\u72B6\u6001\u88AB\u8986\u76D6\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C ALT \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u5C06 Dst \u7684\u72B6\u6001\u53CD\u8F6C\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3AON\u3001\u9664\u6B64\u4EE5\u5916\u4E3AOFF\u3002 \u2022 \u7528\u95F4\u63A5\u6307\u5B9A\u5728 Dst \u4E2D\u6307\u5B9A\u5B9A\u65F6\u5668/\u8BA1\u6570\u5668\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u6307\u5B9A\u4E86 DR \u4F46\u6269\u5C55\u8F93\u5165\u8F93\u51FA\u5355\u5143\u4E0D\u9002\u7528\u76F4\u63A5\u8F93\u5165\u8F93\u51FA\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u3001DR\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u2022 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u2022 \u5728\u5B50\u7A0B\u5E8F\u5185\u3001CJ\uFF08NCJ\uFF09\uFF5ELABEL\u6307\u4EE4\u95F4\u4F7F\u7528\u65F6\uFF0C\u9700\u8981\u52A0\u4EE5\u6CE8\u610F\u3002 \u300C\u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u300D"},{"link":"./02_02_Instruction_BitInOut.html","title":"\u4F4D\u8F93\u5165/\u8F93\u51FA","body":"\u4F4D\u8F93\u5165/\u8F93\u51FA \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 BLD \u4F4D\u72B6\u6001 \u4F5C\u4E3A\u4F20\u9012\u5B57\u6570\u636E\u7684\u6307\u5B9A\u4F4D\u7684ON/OFF\u4FE1\u606F\u7684\u63A5\u70B9\u8FDB\u884C\u52A8\u4F5C\u3002 BAND \u4F4D\u4E0E BOR \u4F4D\u6216 BLDB \u4F4D\u72B6\u6001\u53D6\u53CD \u4F5C\u4E3A\u5C06\u5B57\u6570\u636E\u7684\u6307\u5B9A\u4F4D\u7684ON/OFF\u4FE1\u606F\u53CD\u8F6C\u540E\u8FDB\u884C\u4F20\u9012\u7684\u63A5\u70B9\u8FDB\u884C\u52A8\u4F5C\u3002 \u00A0\u00A0\u00A0 BANB \u4F4D\u53D6\u53CD\u4E0E BORB \u4F4D\u53D6\u53CD\u6216 BOUT \u4F4D\u8F93\u51FA \u5C06\u8F93\u5165\u72B6\u6001\u53CD\u6620\u81F3\u5B57\u6570\u636E\u7684\u6307\u5B9A\u4F4D\u3002 BOUB \u4F4D\u53D6\u53CD\u8F93\u51FA BSET \u7F6E\u4F4D \u5C06\u5B57\u6570\u636E\u7684\u6307\u5B9A\u4F4D\u7F6E\u4E8E ON \u5E76\u4FDD\u6301\u3002 BRES \u590D\u4F4D \u5C06\u5B57\u6570\u636E\u7684\u6307\u5B9A\u4F4D\u7F6E\u4E8E OFF\u3002 BLD BLD(.U) BLD.D \u4F4D\u72B6\u6001 BAND BAND(.U) BAND.D \u4F4D\u4E0E BOR BOR(.U) BOR.D \u4F4D\u6216 BLDB BLDB(.U) BLDB.D \u4F4D\u72B6\u6001\u53D6\u53CD BANB BANB(.U) BANB.D \u4F4D\u53D6\u53CD\u4E0E BORB BORB(.U) BORB.D \u4F4D\u53D6\u53CD\u6216 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 * : \u5728 \u4E2D\uFF0C\u6839\u636E\u6307\u4EE4\u653E\u5165\u4E0B\u8FF0\u5185\u5BB9\u3002 \u2012 BLD, BAND, BOR\uFF1A\u00A0 \u2012 BLD.D, BAND.D, BOR.D\uFF1A \u2012 BLDB, BANB, BORB\uFF1A  \u2012 BLDB.D, BANB.D, BORB.D\uFF1A \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u8BFB\u53D6\u4F4D\u72B6\u6001\u7684\u5E38\u6570\u4EE5\u5916\u7684\u503C\u3002 *1 .U 16 \u4F4D .D 32 \u4F4D Num \u6307\u5B9A Src \u7684\u4F4D\u7684\u4F4D\u7F6E\uFF08.U\u65F60\uFF5E15\u3001.D\u65F60\uFF5E31\uFF09\u3002 16 \u4F4D *1: Src \u6307\u5B9A\u4E3A\u4F4D\u6570\u636E\u65F6\uFF0C\u8BFB\u53D6\u7B2C Src \u002B Num \u4F4D\u7684\u4F4D\u72B6\u6001\u3002 \u5373\u4F7F\u7EE7\u7535\u5668\u8DE8\u8D8A\u901A\u9053\uFF0C\u4E5F\u80FD\u6B63\u5E38\u64CD\u4F5C\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C BLD(.U), BLD.D,BAND(.U), BAND.D, BOR(.U), BOR.D \u6307\u4EE4\u7684\u672C\u8EAB\u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\u3002\u6B64\u63A5\u70B9\u5C06 Src \u7684\u7B2C Num \u4F4D\u7684 ON/OFF \u72B6\u6001\u4F20\u9012\u7ED9\u4EE5\u540E\u7684\u6307\u4EE4\u3002 \u258C BLDB(.U), BLDB.D, BANB(.U), BANB.D, BORB(.U), BORB.D \u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u5E38\u95ED\u63A5\u70B9\u3002\u6B64\u63A5\u70B9\u5C06 Src \u7684\u7B2C\u4F4D Num \u7684ON/OFF\u72B6\u6001\u53CD\u8F6C\u540E\u4F20\u9012\u7ED9\u4EE5\u540E\u7684\u6307\u4EE4\u3002 \u00A0 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002\u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u2022 \u5982\u679C CR2012 ON\uFF0C\u63A5\u70B9\u4E3A OFF\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u2022 Num \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u4E00\u822C\u5730\uFF0C\u5982\u679C\u540E\u7F00\u662F .U\uFF0C\u5219 Num \u7684\u503C\u6307\u5B9A\u4E3A 0~15\uFF1B\u5982\u679C\u540E\u7F00\u662F .D\uFF0C\u5219 Num \u7684\u503C\u6307\u5B9A\u4E3A 0~31\u3002 Num \u7684\u503C\u8D85\u8FC7\u4E86 0~15 \u6216 0~31\uFF0C\u5219\u4F7F\u7528\u4EE5\u4E0B\u503C\u3002 \u2012 \u540E\u7F00\u4E3A U \u65F6\uFF1A\u4F7F\u7528 Num \u7684\u4F4E\u4F4D4\u4F4D\u7684\u503C\u3002 \u2012 \u540E\u7F00\u4E3A D \u65F6\uFF1A\u4F7F\u7528 Num \u7684\u4F4E\u4F4D5\u4F4D\u7684\u503C\u3002 \u793A\u4F8B\uFF1ADM1000 \u7684\u503C\u4E3A 0\uFF08\u4E8C\u8FDB\u5236 \uFF1A0000 0000 0001 0100\uFF09\u65F6\uFF0C\u4F4E\u4F4D4\u4F4D\u7684\u503C\u4E3A4\uFF0C\u56E0\u6B64DM0\u7684\u7B2C4\u4F4D\u6210\u4E3A\u6307\u5B9A\u5BF9\u8C61\u3002 \u00A0 \u00A0 \u00A0 BOUT BOUT(.U) BOUT.D \u4F4D\u8F93\u51FA BOUB BOUB(.U) BOUB.D \u4F4D\u53D6\u53CD\u8F93\u51FA \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u53CD\u6620\u8F93\u5165\u72B6\u6001\u7684\u5BF9\u8C61\u3002 *1 .U 16 \u4F4D .D 32 \u4F4D Num \u6307\u5B9A\u53CD\u6620\u5230 Src \u7684\u7B2C\u51E0\u4F4D\u3002\uFF08\u5982\u679C\u540E\u7F00\u4E3A.U\uFF0C\u5219\u4E3A 0~15\uFF1B\u5982\u679C\u540E\u7F00\u4E3A.D\uFF0C\u5219\u4E3A 0~31\uFF09\u3002 16\u00A0\u4F4D *1: Src \u6307\u5B9A\u4E3A\u4F4D\u6570\u636E\u65F6\uFF0C\u8BFB\u53D6\u7B2C Src \u002B Num \u4F4D\u7684\u4F4D\u72B6\u6001\u3002 \u5373\u4F7F\u7EE7\u7535\u5668\u8DE8\u8D8A\u901A\u9053\uFF0C\u4E5F\u80FD\u6B63\u5E38\u64CD\u4F5C\u3002 \u00A0 Num \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u4E00\u822C\u5730\uFF0C\u5982\u679C\u540E\u7F00\u662F .U\uFF0C\u5219 Num \u7684\u503C\u6307\u5B9A\u4E3A 0~15\uFF1B\u5982\u679C\u540E\u7F00\u662F .D\uFF0C\u5219 Num \u7684\u503C\u6307\u5B9A\u4E3A 0~31\u3002 Num \u7684\u503C\u8D85\u8FC7\u4E86 0~15 \u6216 0~31\uFF0C\u5219\u4F7F\u7528\u4EE5\u4E0B\u503C\u3002 \u2022 \u540E\u7F00\u4E3A U \u65F6\uFF1A\u4F7F\u7528 Num \u7684\u4F4E\u4F4D4\u4F4D\u7684\u503C\u3002 \u2022 \u540E\u7F00\u4E3A D \u65F6\uFF1A\u4F7F\u7528 Num \u7684\u4F4E\u4F4D5\u4F4D\u7684\u503C\u3002 \u793A\u4F8B\uFF1ADM1000 \u7684\u503C\u4E3A 0\uFF08\u4E8C\u8FDB\u5236 \uFF1A0000 0000 0001 0100\uFF09\u65F6\uFF0C\u56E0\u4E3A\u4F4E 4 \u4F4D\u7684\u503C\u662F 4\uFF0C\u6240\u4EE5 DM0 \u7684\u7B2C 4 \u4F4D\u4E3A\u8F93\u51FA\u76EE\u7684\u5730\u5740\u3002 \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C BOUT \u5C06\u8F93\u5165\uFF08\u6B64\u6307\u4EE4\u4E4B\u524D\u7684\uFF09\u72B6\u6001\u8F93\u51FA\u81F3 Dst \u7684\u7B2C Num \u4F4D\u3002 \u258C BOUB \u5C06\u8F93\u5165\uFF08\u6B64\u6307\u4EE4\u4E4B\u524D\u7684\uFF09\u72B6\u6001\u53CD\u8F6C\u540E\u8F93\u51FA\u81F3 Dst \u7684\u7B2C Num \u4F4D\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 BSET (@)BSET(.U) (@)BSET.D \u7F6E\u4F4D BRES (@)BRES(.U) (@)BRES.D \u590D\u4F4D \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9A\u6267\u884C\u8BBE\u7F6E/\u590D\u4F4D\uFF08\u542B\u4F4D\uFF09\u7684\u5BF9\u8C61\u3002 *1 .U 16 \u4F4D .D 32 \u4F4D Num \u6307\u5B9A\u53CD\u6620\u5230\u7684 Dst \u7B2C\u51E0\u4F4D\u3002\uFF08\u5982\u679C\u540E\u7F00\u4E3A.U\uFF0C\u5219\u4E3A 0~15\uFF1B\u5982\u679C\u540E\u7F00\u4E3A.D\uFF0C\u5219\u4E3A 0~31\uFF09\u3002 16 \u4F4D *1: Dst \u6307\u5B9A\u4E3A\u4F4D\u6570\u636E\u65F6\uFF0C\u8BFB\u53D6\u7B2C Dst \u002B Num \u4F4D\u7684\u4F4D\u72B6\u6001\u3002 \u5373\u4F7F\u7EE7\u7535\u5668\u8DE8\u8D8A\u901A\u9053\uFF0C\u4E5F\u80FD\u6B63\u5E38\u64CD\u4F5C\u3002 \u00A0 Num \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u4E00\u822C\u5730\uFF0C\u5982\u679C\u540E\u7F00\u662F .U\uFF0C\u5219 Num \u7684\u503C\u6307\u5B9A\u4E3A 0~15\uFF1B\u5982\u679C\u540E\u7F00\u662F .D\uFF0C\u5219 Num \u7684\u503C\u6307\u5B9A\u4E3A 0~31\u3002 Num \u7684\u503C\u8D85\u8FC7\u4E86 0~15 \u6216 0~31\uFF0C\u5219\u4F7F\u7528\u4EE5\u4E0B\u503C\u3002 \u2022 \u540E\u7F00\u4E3A U \u65F6\uFF1A\u4F7F\u7528 Num \u7684\u4F4E\u4F4D4\u4F4D\u7684\u503C\u3002 \u2022 \u540E\u7F00\u4E3A D \u65F6\uFF1A\u4F7F\u7528 Num \u7684\u4F4E\u4F4D5\u4F4D\u7684\u503C\u3002 \u793A\u4F8B\uFF1ADM1000 \u7684\u503C\u4E3A 0\uFF08\u4E8C\u8FDB\u5236 \uFF1A0000 0000 0001 0100\uFF09\u65F6\uFF0C\u56E0\u4E3A\u4F4E 4 \u4F4D\u7684\u503C\u662F 4\uFF0C\u6240\u4EE5 DM0 \u7684\u7B2C 4 \u4F4D\u4E3A\u8F93\u51FA\u76EE\u7684\u5730\u5740\u3002 \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C BSET \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u7684\u7B2C Num \u4F4D\u7F6E\u4E8E ON \u5E76\u4FDD\u6301\u3002 \u00A0 \u00A0 \u258C BRES \u6267\u884C\u6761\u4EF6 ON \u65F6\uFF0C Dst \u7684\u7B2C Num \u4F4D OFF\u3002 \u00A0 \u258C @\u25A1\u25A1\u25A1 \u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF08OFF\u2192ON\u65F6\uFF09\uFF0C\u4EC51\u6B21\u626B\u63CF\uFF0C\u6267\u884C\u4E0A\u8FF0\u64CD\u4F5C\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_03_Instruction_Comparison.html","title":"\u6BD4\u8F83","body":"\u6BD4\u8F83 \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 LD= \u63A5\u70B9\u578B\u6BD4\u8F83\u8FD0\u7B97 \u6839\u636E\u4E8C\u8FDB\u5236\u6570\u636E\u6BD4\u8F83\u8FD0\u7B97\u7684\u7ED3\u679C\uFF0C\u5C06\u6307\u4EE4\u672C\u8EAB\u5F53\u6210\u63A5\u70B9\u6765 ON/OFF\u3002 LD\u003C LD\u003E LD\u003C= LD\u003E= LD\u003C\u003E AND= AND\u003C AND\u003E AND\u003C= AND\u003E= AND\u003C\u003E OR= OR\u003C OR\u003E OR\u003C= OR\u003E= OR\u003C\u003E = \u003C= \u00A0 \u003C \u003E= \u00A0 \u003E \u003C\u003E (.U) .S .D .L .F .DF .A \u63A5\u70B9\u578B\u6BD4\u8F83\u8FD0\u7B97 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 * : \u4E2D\uFF0C\u8BF7\u586B\u5199=\u3000\u003C\u3000\u003E\u3000\u003C\u003E\u3000\u003C=\u3000\u003E= \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Src1 \u6307\u5B9A\u6BD4\u8F83\u6570\u636E\u6216\u6BD4\u8F83\u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Src2 \u6307\u5B9A\u6BD4\u8F83\u6570\u636E\u6216\u6BD4\u8F83\u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D * : \u9644\u52A0\u540E\u7F00A\u65F6\u7684\u5360\u7528\u5927\u5C0F\u6839\u636E\u6570\u636E\u7C7B\u578B\u7684\u8F6C\u6362\u89C4\u5219\uFF0C\u5360\u7528\u5927\u5C0F\u53D1\u751F\u53D8\u5316\u3002 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u00A0 \u2022 \u6BD4\u8F83\u9635\u5217\u6216\u7ED3\u6784\u4F53\u578B\u7684\u53D8\u91CF\u65F6\uFF0C\u5373\u4F7F\u4F7F\u7528\u63A5\u70B9\u578B\u6BD4\u8F83\u8FD0\u7B97\u6307\u4EE4\uFF0C\u4E5F\u4EC5\u662F\u4ECE\u53D8\u91CF\u7684\u524D\u5934\u5F00\u59CB\u6309\u64CD\u4F5C\u6570\u7684\u5360\u7528\u5927\u5C0F\u8FDB\u884C\u6BD4\u8F83\u3002\u6267\u884C\u9635\u5217\u6216\u7ED3\u6784\u4F53\u7684\u5168\u90E8\u8981\u7D20\u3001\u5168\u90E8\u6210\u5458\u7684\u6BD4\u8F83\u65F6\u4F7F\u7528 EQ/NE \u6307\u4EE4\u3002 EQ NE \u2022 \u9644\u52A0\u540E\u7F00.A\u65F6\u6307\u5B9A\u6570\u7EC4\u578B\u6216\u7ED3\u6784\u4F53\u578B\u53D8\u91CF\u65F6\uFF0C\u8BF7\u4E00\u8D77\u6307\u5B9A\u8981\u7D20\u7F16\u53F7\u3001\u6210\u5458\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C \u25A1(.U ) \u00A0\u25A1.S\uFF0816 \u4F4D\u4E8C\u8FDB\u5236\u6570\u636E\u6BD4\u8F83\u6307\u4EE4\uFF09 =, \u003C, \u003E, \u003C=, \u003E=, \u003C\u003E \u5BF9\u4E8E Src1 ,  Src2 \u6240\u6307\u5B9A\u7684 \u65E0\u7B26\u53F716\u4F4D BIN \u6570\u636E \u6267\u884C\u6BD4\u8F83\u8FD0\u7B97\u3002\u6839\u636E\u6BD4\u8F83\u8FD0\u7B97\u7ED3\u679C\uFF0C\u8BE5\u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u63A5\u70B9 ON/OFF\u3002 =.S, \u003C.S, \u003E.S, \u003C=.S, \u003E=.S, \u003C\u003E.S \u5BF9\u4E8E Src1 ,  Src2 \u6240\u6307\u5B9A\u7684 \u5E26\u7B26\u53F716\u4F4D BIN \u6570\u636E \u6267\u884C\u6BD4\u8F83\u8FD0\u7B97\u3002\u6839\u636E\u6BD4\u8F83\u8FD0\u7B97\u7ED3\u679C\uFF0C\u8BE5\u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u63A5\u70B9 ON/OFF\u3002 \u6307\u4EE4 \u52A8\u4F5C ON \u52A8\u4F5C OFF LD=\u3000AND=\u3000OR=\u3000LD=.S\u3000AND=.S\u3000OR=.S Src1 = Src2 Src1 \u003C\u003E Src2 LD\u003C\u3000AND\u003C\u3000OR\u003C\u3000LD\u003C.S\u3000AND\u003C.S\u3000OR\u003C.S Src1 \u003C Src2 Src1 \u003E= Src2 LD\u003E\u3000AND\u003E\u3000OR\u003E\u3000LD\u003E.S\u3000AND\u003E.S\u3000OR\u003E.S Src1 \u003E Src2 Src1 \u003C= Src2 LD\u003C=\u3000AND\u003C=\u3000OR\u003C=\u3000LD\u003C=.S\u3000AND\u003C=.S\u3000OR\u003C=.S Src1 \u003C= Src2 Src1 \u003E Src2 LD\u003E=\u3000AND\u003E=\u3000OR\u003E=\u3000LD\u003E=.S\u3000AND\u003E=.S\u3000OR\u003E=.S Src1 \u003E= Src2 Src1 \u003C Src2 LD\u003C\u003E\u3000AND\u003C\u003E\u3000OR\u003C\u003E\u3000LD\u003C\u003E.S\u3000AND\u003C\u003E.S\u3000OR\u003C\u003E.S Src1 \u003C\u003E Src2 Src1 = Src2 \u258C \u25A1.D \u00A0\u25A1.L\uFF0832 \u4F4D\u4E8C\u8FDB\u5236\u6570\u636E\u6BD4\u8F83\u6307\u4EE4\uFF09 =.D, \u003C.D, \u003E.D, \u003C=.D, \u003E=.D, \u003C\u003E.D \u5BF9\u4E8E Src1 ,  Src2 \u6240\u6307\u5B9A\u7684 \u65E0\u7B26\u53F732\u4F4D BIN \u6570\u636E \u6267\u884C\u6BD4\u8F83\u8FD0\u7B97\u3002\u6839\u636E\u6BD4\u8F83\u8FD0\u7B97\u7ED3\u679C\uFF0C\u8BE5\u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u63A5\u70B9 ON/OFF\u3002 =.L, \u003C.L, \u003E.L, \u003C=.L, \u003E=.L, \u003C\u003E.L \u5BF9\u4E8E Src1 ,  Src2 \u6240\u6307\u5B9A\u7684 \u5E26\u7B26\u53F732\u4F4D BIN \u6570\u636E \u6267\u884C\u6BD4\u8F83\u8FD0\u7B97\u3002\u6839\u636E\u6BD4\u8F83\u8FD0\u7B97\u7ED3\u679C\uFF0C\u8BE5\u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u63A5\u70B9 ON/OFF\u3002 \u6307\u4EE4 \u52A8\u4F5C ON \u52A8\u4F5C OFF LD=.D\u3000AND=.D\u3000OR=.D LD=.L\u3000AND=.L\u3000OR=.L [Src1\u002B1/Src1] \uFF1D [Src2\u002B1/Src2] [Src1\u002B1/Src1] \u003C\u003E [Src2\u002B1/Src2] LD\u003C.D\u3000AND\u003C.D\u3000OR\u003C.D LD\u003C.L\u3000AND\u003C.L\u3000OR\u003C.L [Src1\u002B1/Src1] \u003C [Src2\u002B1/Src2] [Src1\u002B1/Src1] \u003E= [Src2\u002B1/Src2] LD\u003E.D\u3000AND\u003E.D\u3000OR\u003E.D LD\u003E.L\u3000AND\u003E.L\u3000OR\u003E.L [Src1\u002B1/Src1] \u003E [Src2\u002B1/Src2] [Src1\u002B1/Src1] \u003C= [Src2\u002B1/Src2] LD\u003C=.D\u3000AND\u003C=.D\u3000OR\u003C=.D LD\u003C=.L\u3000AND\u003C=.L\u3000OR\u003C=.L [Src1\u002B1/Src1] \u003C= [Src2\u002B1/Src2] [Src1\u002B1/Src1] \u003E [Src2\u002B1/Src2] LD\u003E=.D\u3000AND\u003E=.D\u3000OR\u003E=.D LD\u003E=.L\u3000AND\u003E=.L\u3000OR\u003E=.L [Src1\u002B1/Src1] \u003E= [Src2\u002B1/Src2] [Src1\u002B1/Src1] \u003C [Src2\u002B1/Src2] LD\u003C\u003E.D\u3000AND\u003C\u003E.D\u3000OR\u003C\u003E.D LD\u003C\u003E.L\u3000AND\u003C\u003E.L\u3000OR\u003C\u003E.L [Src1\u002B1/Src1] \u003C\u003E [Src2\u002B1/Src2] [Src1\u002B1/Src1] = [Src2\u002B1/Src2] \u258C \u25A1.F\uFF08\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u6BD4\u8F83\u6307\u4EE4\uFF09 =.F, \u003C.F, \u003E.F, \u003C=.F, \u003E=.F, \u003C\u003E.F \u5BF9\u4E8E Src1 ,  Src2 \u6240\u6307\u5B9A\u7684 \u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E \u6267\u884C\u6BD4\u8F83\u8FD0\u7B97\u3002\u6839\u636E\u6BD4\u8F83\u8FD0\u7B97\u7ED3\u679C\uFF0C\u8BE5\u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u63A5\u70B9 ON/OFF\u3002 \u6307\u4EE4 \u52A8\u4F5C ON \u52A8\u4F5C OFF LD=.F\u3000AND=.F\u3000OR=.F [Src1\u002B1/Src1] = [Src2\u002B1/Src2] [Src1\u002B1/Src1]\u00A0\u003C\u003E\u00A0[Src2\u002B1/Src2] LD\u003C.F\u3000AND\u003C.F\u3000OR\u003C.F [Src1\u002B1/Src1]\u00A0\u003C\u00A0[Src2\u002B1/Src2] [Src1\u002B1/Src1]\u00A0\u003E=\u00A0[Src2\u002B1/Src2] LD\u003E.F\u3000AND\u003E.F\u3000OR\u003E.F [Src1\u002B1/Src1]\u00A0\u003E\u00A0[Src2\u002B1/Src2] [Src1\u002B1/Src1]\u00A0\u003C=\u00A0[Src2\u002B1/Src2] LD\u003C=.F\u3000AND\u003C=.F\u3000OR\u003C=.F [Src1\u002B1/Src1]\u00A0\u003C=\u00A0[Src2\u002B1/Src2] [Src1\u002B1/Src1]\u00A0\u003E\u00A0[Src2\u002B1/Src2] LD\u003E=.F\u3000AND\u003E=.F\u3000OR\u003E=.F [Src1\u002B1/Src1]\u00A0\u003E=\u00A0[Src2\u002B1/Src2] [Src1\u002B1/Src1]\u00A0\u003C\u00A0[Src2\u002B1/Src2] LD\u003C\u003E.F\u3000AND\u003C\u003E.F\u3000OR\u003C\u003E.F [Src1\u002B1/Src1]\u00A0\u003C\u003E\u00A0[Src2\u002B1/Src2] [Src1\u002B1/Src1] = [Src2\u002B1/Src2] \u258C \u25A1.DF\uFF08\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u6BD4\u8F83\u6307\u4EE4\uFF09 =.DF, \u003C.DF, \u003E.DF, \u003C=.DF, \u003E=.DF, \u003C\u003E.DF \u5BF9\u4E8E Src1 ,  Src2 \u6240\u6307\u5B9A\u7684 \u500D\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E \u6267\u884C\u6BD4\u8F83\u8FD0\u7B97\u3002\u6839\u636E\u6BD4\u8F83\u8FD0\u7B97\u7ED3\u679C\uFF0C\u8BE5\u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u63A5\u70B9 ON/OFF\u3002 \u6307\u4EE4 \u52A8\u4F5C ON \u52A8\u4F5C OFF LD=.DF\u3000AND=.DF\u3000OR=.DF [Src1\u002B3\uFF5ESrc1] = [Src2\u002B3\uFF5ESrc2] [Src1\u002B3\uFF5ESrc1] \u003C\u003E [Src2\u002B3\uFF5ESrc2] LD\u003C.DF\u3000AND\u003C.DF\u3000OR\u003C.DF [Src1\u002B3\uFF5ESrc1] \u003C [Src2\u002B3\uFF5ESrc2] [Src1\u002B3\uFF5ESrc1] \u003E= [Src2\u002B3\uFF5ESrc2] LD\u003E.DF\u3000AND\u003E.DF\u3000OR\u003E.DF [Src1\u002B3\uFF5ESrc1] \u003E [Src2\u002B3\uFF5ESrc2] [Src1\u002B3\uFF5ESrc1] \u003C= [Src2\u002B3\uFF5ESrc2] LD\u003C=.DF\u3000AND\u003C=.DF\u3000OR\u003C=.DF [Src1\u002B3\uFF5ESrc1] \u003C= [Src2\u002B3\uFF5ESrc2] [Src1\u002B3\uFF5ESrc1] \u003E [Src2\u002B3\uFF5ESrc2] LD\u003E=.DF\u3000AND\u003E=.DF\u3000OR\u003E=.DF [Src1\u002B3\uFF5ESrc1] \u003E= [Src2\u002B3\uFF5ESrc2] [Src1\u002B3\uFF5ESrc1] \u003C [Src2\u002B3\uFF5ESrc2] LD\u003C\u003E.DF\u3000AND\u003C\u003E.DF\u3000OR\u003C\u003E.DF [Src1\u002B3\uFF5ESrc1] \u003C\u003E [Src2\u002B3\uFF5ESrc2] [Src1\u002B3\uFF5ESrc1] = [Src2\u002B3\uFF5ESrc2] \u258C \u25A1.A\uFF08\u6570\u636E\u6BD4\u8F83\u6307\u4EE4\uFF09 =.A, \u003C.A, \u003E.A, \u003C=.A, \u003E=.A, \u003C\u003E.A \u4EE5 Src1 ,  Src2 \u6307\u5B9A\u7684\u53D8\u91CF\u4E2D\uFF0C\u5BF9\u7EA7\u522B\u66F4\u9AD8\u7684\u53D8\u91CF\u6570\u636E\u7C7B\u578B\u8FDB\u884C\u7C7B\u578B\u8F6C\u6362\u540E\uFF0C\u6BD4\u8F83\u8FD0\u7B97\u6570\u636E\u3002 \u52A8\u4F5C\u8BF4\u660E\u8BF7\u53C2\u7167\u25A1(.U) \u25A1.S / \u25A1D \u25A1L / \u25A1.F / \u25A1.DF\u6307\u4EE4\u3002 \u7C7B\u578B\u8F6C\u6362\u7684\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u53C2\u7167 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002\u672A\u4F7F\u7528\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u63A5\u70B9\u4E3A OFF\u3002OR=\u3001OR\u003C\u3001OR\u003E,OR\u003C=,OR\u003E=, OR\u003C\u003E\u65F6\uFF0C\u6307\u4EE4\u65E0\u6CD5\u6267\u884C\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_04_Instruction_TimerCounter.html","title":"\u5B9A\u65F6\u5668 \u8BA1\u6570\u5668","body":"\u5B9A\u65F6\u5668 \u8BA1\u6570\u5668 \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 TMR \u5B9A\u65F6\u5668 100ms\u300132 \u4F4D\u5EF6\u65F6\u63A5\u901A\u51CF\u5B9A\u65F6\u5668\u3002 TMH 10ms\u9AD8\u901F\u5B9A\u65F6\u5668 10ms\u300132 \u4F4D\u5EF6\u65F6\u63A5\u901A\u51CF\u5B9A\u65F6\u5668\u3002 TMS 1ms \u9AD8\u901F\u5B9A\u65F6\u5668 1ms\u300132 \u4F4D\u5EF6\u65F6\u63A5\u901A\u51CF\u5B9A\u65F6\u5668\u3002 TMU 10 \u03BCs  \u9AD8\u901F\u5B9A\u65F6\u5668 10 \u03BCs \u300132 \u4F4D\u5EF6\u65F6\u63A5\u901A\u51CF\u5B9A\u65F6\u5668\u3002 C \u8BA1\u6570\u5668 32 \u4F4D\u52A0\u8BA1\u6570\u5668\u3002 OUTC \u8F93\u51FA\u8BA1\u6570\u5668 32 \u4F4D\u52A0\u8BA1\u6570\u5668\u3002 TMR TMR \u5B9A\u65F6\u5668 TMH TMH 10ms\u9AD8\u901F\u5B9A\u65F6\u5668 TMS TMS 1ms \u9AD8\u901F\u5B9A\u65F6\u5668 TMU TMU 10 \u00B5 s \u9AD8\u901F\u5B9A\u65F6\u5668 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Num \u6307\u5B9A\u5B9A\u65F6\u5668\u7684\u7F16\u53F7\uFF080\uFF5E3999\uFF09\u3002 *1 16 \u4F4D Src \u6307\u5B9A\u5B9A\u65F6\u5668\u7684\u8BBE\u5B9A\u503C\u3002\u53EF\u5728 0~4294967295 \u7684\u8303\u56F4\u5185\u8BBE\u5B9A\u3002 32 \u4F4D *1: \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u3002 \u00A0 \u5B9A\u65F6\u5668\u7684\u7F16\u53F7 Num \u4E0D\u80FD\u548C\u5176\u4ED6\u5B9A\u65F6\u5668\u6307\u4EE4\u7684\u7F16\u53F7\u91CD\u590D\u4F7F\u7528\u3002 \u64CD\u4F5C\u8BF4\u660E \u6267\u884C\u6761\u4EF6ON\u65F6\uFF0C Num \u6307\u5B9A\u7684\u5B9A\u65F6\u5668\u542F\u52A8\u3002 Src \u6307\u5B9A\u7684\u503C\uFF08\u8BBE\u5B9A\u503C\uFF09\u4F5C\u4E3A\u5B9A\u65F6\u5668\u542F\u52A8\u65F6\u7684\u5F53\u524D\u503C\u3002\u5F53\u524D\u503C\u6BCF\u9694100ms\uFF08TMR\uFF09/ 10ms\uFF08TMH\uFF09/ 1ms\uFF08TMS\uFF09/ 10\u03BCs\uFF08TMU\uFF09\u6267\u884C\u51CF\u6CD5\u8FD0\u7B97\uFF08\uFF0D1\uFF09\u3002 \u5F53\u524D\u503C\u53D8\u6210\u4E3A\u201C#0\u201D\u65F6\uFF0C\u5B9A\u65F6\u5668 T\u00A0 Num \u00A0 ON\u3002 \u6267\u884C\u6761\u4EF6 OFF \u65F6\uFF0C\u5B9A\u65F6\u5668 T\u00A0 Num \u00A0 OFF\uFF0C\u5F53\u524D\u503C\u590D\u4F4D\u3002 \u00A0 \u00A0 \u2022 TMR \u6307\u4EE4\u7684\u8BEF\u5DEE\u4E3A\u201C\u00B1100 ms \u002B\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u201D\u3002 \u2022 TMH \u6307\u4EE4\u7684\u8BEF\u5DEE\u4E3A\u201C\u00B110ms \u002B\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u201D\u3002 \u2022 TMS \u6307\u4EE4\u7684\u8BEF\u5DEE\u4E3A\u201C\u00B11ms \u002B\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u201D\u3002 \u2022 TMU \u6307\u4EE4\u7684\u8BEF\u5DEE\u4E3A\u201C\u00B110\u03BCs \u002B\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u201D\u3002 \u2022 Src \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\uFF0C\u52A8\u4F5C\u4E2D\u5728\u6BCF\u6B21\u626B\u63CF\u66F4\u65B0\u8BBE\u5B9A\u503C\u3002 \u2022 \u5982\u679C\u8BBE\u5B9A\u503C\u4E2D\u8BBE\u5B9A\u4E3A\u201C0\u201D\uFF0C\u5219\u5728\u6267\u884C\u6761\u4EF6 ON \u671F\u95F4\uFF0C\u5B9A\u65F6\u5668 T  Num \u00A0 ON\u3002 \u2022 \u5982\u679C\u5728 RUN \u4E2D\u8FDB\u884C\u5199\u5165\uFF0C\u9700\u8981\u6CE8\u610F \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u5173\u4E8E RUN \u4E2D\u5199\u5165\u201D\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u4F7F\u7528\u5B9A\u65F6\u5668\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u201D\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F\u793A\u4F8B\u7A0B\u5E8F \u258C TMR \u8F93\u5165\u7EE7\u7535\u5668 R000 ON \u65F6\uFF0C3 \u79D2\u949F\u4EE5\u540E\u5B9A\u65F6\u5668 T0 ON\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u4E5F ON\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD R000 TMR #0 #30 LD T0 OUT R500 \u258C TMH \u8F93\u5165\u7EE7\u7535\u5668 R000 ON \u65F6\uFF0C0.5 \u79D2\u949F\u4EE5\u540E\u5B9A\u65F6\u5668 T0 ON\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u4E5F ON\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD R000 TMH #0 #50 LD T0 OUT R500 \u258C TMS \u8F93\u5165\u7EE7\u7535\u5668 R000 ON \u65F6\uFF0C7 ms\u949F\u4EE5\u540E\u5B9A\u65F6\u5668 T0 ON\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u4E5F ON\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD R000 TMS #0 #7 LD T0 OUT R500 \u258C TMU \u8F93\u5165\u7EE7\u7535\u5668 R000 ON \u65F6\uFF0C70 \u03BCs\u949F\u4EE5\u540E\u5B9A\u65F6\u5668 T0 ON\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u4E5F ON\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD R000 TMU #0 #7 LD T0 OUT R500 \u5B9A\u65F6\u5668\u5F53\u524D\u503C/\u8BBE\u5B9A\u503C\u7684\u8BFB\u53D6\u4E0E\u66F4\u6539 \u258C \u5F53\u524D\u503C\u7684\u8BFB\u53D6 \u53EF\u4EE5\u901A\u8FC7 MOV.D \u6307\u4EE4\u8BFB\u53D6\u3002 \u793A\u4F8B\uFF1A\u5728\u6570\u636E\u5B58\u50A8\u5668[DM0/DM1]\u4E2D\u5B58\u50A8\u4E86 T0 \u7684\u5F53\u524D\u503C\u3002 \u00A0 \u258C \u5F53\u524D\u503C\u7684\u66F4\u6539 \u53EF\u4EE5\u901A\u8FC7 MOD.D \u6307\u4EE4\u6216 DW.D \u6307\u4EE4\u66F4\u6539\u3002 \u793A\u4F8B\uFF1A\u5C06 T0 \u7684\u5F53\u524D\u503C\u53D8\u4E3A 100000\u3002 \u00A0 \u00A0 \u5982\u679C\u5F53\u524D\u503C\u2266\u8BBE\u5B9A\u503C\uFF0C\u5F53\u524D\u503C\u88AB\u66F4\u6539\u4E3A\u5199\u5165\u503C\u3002 \u5982\u679C\u5F53\u524D\u503C\u003E\u8BBE\u5B9A\u503C\uFF0C\u5F53\u524D\u503C\u88AB\u66F4\u6539\u4E3A\u4E0E\u8BBE\u5B9A\u503C\u540C\u6837\u7684\u503C\u3002 \u258C \u8BBE\u5B9A\u503C\u7684\u8BFB\u53D6\u3002 \u2022 \u8BBE\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\uFF08 \uFF09\uFF1A\u53EF\u4EE5\u901A\u8FC7MOV.D\u6307\u4EE4\u8BFB\u53D6\u3002 \u793A\u4F8B\uFF1A\u5728\u6570\u636E\u5B58\u50A8\u5668[DM10/DM11]\u4E2D\u8BFB\u53D6 T0 \u7684\u8BBE\u5B9A\u503C\u3002 \u00A0 \u2022 \u5982\u679C\u7528\u5B9A\u6570\u7684\u65B9\u5F0F\u6765\u8BBE\u5B9A\uFF08 \uFF09\uFF1A\u5219\u4E0D\u53EF\u4EE5\u8BFB\u53D6\u3002 \u258C \u8BBE\u5B9A\u503C\u7684\u66F4\u6539\u3002 \u4EC5\u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\uFF08 \uFF09\u624D\u53EF\u53D8\u66F4\u3002 \u793A\u4F8B\uFF1A\u5C06 T0 \u7684\u8BBE\u5B9A\u503C\u53D8\u4E3A[DM10/DM11]\u3002 \u00A0 MOV DW C C \u8BA1\u6570\u5668 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u30AA\u30DA\u30E9\u30F3\u30C9 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Num \u6307\u5B9A\u8BA1\u6570\u5668\u7684\u7F16\u53F7\uFF080\uFF5E3999\uFF09\u3002 *1 16 \u4F4D Src1 \u6307\u5B9A\u8BA1\u6570\u5668\u7684\u8BBE\u5B9A\u503C\u3002\u53EF\u5728 0~4924967295 \u7684\u8303\u56F4\u5185\u6307\u5B9A\u3002 32 \u4F4D Src2 \u6307\u5B9A\u7528\u4E8E\u8BA1\u6570\u8F93\u5165\u7684\u5BF9\u8C61\u3002 *2 1 \u4F4D *1: \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u3002 *2: \u6307\u5B9A\u4E86\u5B57\u6570\u636E\u65F6\uFF0C\u5C06\u8BE5\u8F6F\u5143\u4EF6\u7684\u6700\u4F4E\u4F4D\u7684\u4F4D\u7528\u4E8E\u8BA1\u6570\u8F93\u5165\u3002 \u4E0D\u80FD\u4F7F\u7528\u5B57\u6570\u636E\u7684\u4F4D\u6307\u5B9A\u3002 \u00A0 \u8BA1\u6570\u5668\u7684\u7F16\u53F7 Num \u4E0D\u80FD\u548C\u4EE5\u4E0B\u7684\u6307\u4EE4\u7F16\u53F7\u91CD\u590D\u4F7F\u7528\u3002 C, OUTC \u64CD\u4F5C\u8BF4\u660E \u6267\u884C\u6761\u4EF6 ON \u65F6\uFF0C\u5728 Src2 \u7684\u4E0A\u5347\u6CBF\uFF0C Num \u7684\u5F53\u524D\u503C\u52A0\u201C1\u201D\u3002\u5728 Src1 \u6307\u5B9A\u7684\u8BBE\u5B9A\u503C\u4E0E\u5F53\u524D\u503C\u76F8\u540C\u65F6\uFF0C\u8BA1\u6570\u5668 C\u00A0 Num \u00A0 ON\u3002\u5F53\u6267\u884C\u6761\u4EF6 OFF \u65F6\uFF0C\u8BA1\u6570\u5668 C\u00A0 Num \u00A0 OFF\uFF0C\u5F53\u524D\u503C\u590D\u4F4D\u4E3A\u201C\u96F6\u201D\u3002\u6267\u884C\u6761\u4EF6\u4F5C\u4E3A\u590D\u4F4D\u8F93\u5165\u4F7F\u7528\u3002 \u00A0 \u00A0 \u2022 \u8BA1\u6570\u5668\u6307\u4EE4\u7684\u54CD\u5E94\u901F\u5EA6\u53D6\u51B3\u4E8E\u626B\u63CF\u65F6\u95F4\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u8BA1\u6570\u5668\u7684\u6700\u5927\u8BA1\u6570\u901F\u5EA6\u201D\u3002 \u2022 Src1 \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\u65F6\uFF0C\u52A8\u4F5C\u4E2D\u5728\u6BCF\u6B21\u626B\u63CF\u66F4\u65B0\u8BBE\u5B9A\u503C\u3002 \u2022 \u5982\u679C\u8BBE\u5B9A\u503C\u4E2D\u8BBE\u5B9A\u4E3A\u201C0\u201D\uFF0C\u5219\u5728\u6267\u884C\u6761\u4EF6 ON \u671F\u95F4\uFF0C\u8BA1\u6570\u5668 C\u00A0 Num \u00A0 ON\u3002 \u2022 \u5982\u679C\u5728 RUN \u4E2D\u8FDB\u884C\u5199\u5165\uFF0C\u9700\u8981\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u5173\u4E8E RUN \u4E2D\u5199\u5165\u201D\u3002 \u00A0 \u8BA1\u6570\u5668 C \u7684\u5F53\u524D\u503C\uFF0C\u5728 PROG \u6A21\u5F0F\u548C\u7535\u6E90 OFF \u65F6\u4E5F\u80FD\u4FDD\u6301\u3002 \u53EF\u4EE5\u5728CPU\u7CFB\u7EDF\u8BBE\u5B9A\u4E2D\uFF0C\u8BBE\u5B9A\u4E3A\u7535\u6E90OFF\u65F6\u8FDB\u884C\u6E05\u9664\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u5982\u679C\u8F93\u5165\u7EE7\u7535\u5668 R001 \u8BA1\u6570 10 \u6B21\uFF0C\u5219\u8F93\u51FA\u7EE7\u7535\u5668 R500 ON\u3002 \u5982\u679C\u8F93\u5165\u7EE7\u7535\u5668 R000 ON\uFF0C\u8BA1\u6570\u5668 C0 \u5219\u590D\u4F4D\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LDB R000 C #0 #10 R001 LD C0 OUT R500 \u8BA1\u6570\u5668\u5F53\u524D\u503C/\u8BBE\u5B9A\u503C\u7684\u8BFB\u53D6\u4E0E\u66F4\u6539 \u258C \u5F53\u524D\u503C\u7684\u8BFB\u53D6 \u53EF\u4EE5\u901A\u8FC7 MOV.D \u6307\u4EE4\u8BFB\u53D6\u3002 \u793A\u4F8B\uFF1A\u5728\u6570\u636E\u5B58\u50A8\u5668[DM0/DM1]\u4E2D\u5B58\u50A8\u4E86 C0 \u7684\u5F53\u524D\u503C\u3002 \u00A0 \u258C \u5F53\u524D\u503C\u7684\u66F4\u6539 \u53EF\u4EE5\u901A\u8FC7 MOD.D \u6307\u4EE4\u6216 DW.D \u6307\u4EE4\u66F4\u6539\u3002 \u793A\u4F8B\uFF1A\u5C06 C0 \u7684\u5F53\u524D\u503C\u53D8\u4E3A 100000\u3002 \u00A0 \u00A0 \u5982\u679C\u5F53\u524D\u503C\u003C=\u8BBE\u5B9A\u503C\uFF0C\u5F53\u524D\u503C\u88AB\u66F4\u6539\u4E3A\u5199\u5165\u503C\u3002 \u5982\u679C\u5F53\u524D\u503C\u003E\u8BBE\u5B9A\u503C\uFF0C\u5F53\u524D\u503C\u88AB\u66F4\u6539\u4E3A\u4E0E\u8BBE\u5B9A\u503C\u540C\u6837\u7684\u503C\u3002 \u258C \u8BBE\u5B9A\u503C\u7684\u8BFB\u53D6 \u2022 \u5982\u679C\u8BBE\u5B9A\u503C\u5728\u8F6F\u5143\u4EF6\uFF08 \uFF09\u4E2D\u8BBE\u5B9A \uFF1A\u53EF\u4EE5\u901A\u8FC7 MOV.D \u6307\u4EE4\u8BFB\u53D6\u3002 \u793A\u4F8B\uFF1A\u5728\u6570\u636E\u5B58\u50A8\u5668[DM10/DM11]\u4E2D\u8BFB\u53D6 C0 \u7684\u8BBE\u5B9A\u503C\u3002 \u00A0 \u2022 \u5982\u679C\u7528\u5B9A\u6570\u7684\u65B9\u5F0F\u6765\u8BBE\u5B9A\uFF08 \uFF09 \uFF1A\u5219\u4E0D\u53EF\u4EE5\u8BFB\u53D6\u3002 \u258C \u8BBE\u5B9A\u503C\u7684\u66F4\u6539 \u53EA\u6709\u5728\u8F6F\u5143\u4EF6\u88AB\u6307\u5B9A\u7684\u60C5\u51B5\u4E0B\uFF08  \uFF09\u624D\u53EF\u4EE5\u66F4\u6539\u3002 \u793A\u4F8B\uFF1A\u5C06 C0 \u7684\u8BBE\u5B9A\u503C\u53D8\u4E3A[DM10/DM11]\u3002 \u00A0 \u00A0 \u5982\u679C\u5F53\u524D\u503C\u003C=\u8BBE\u5B9A\u503C\uFF0C\u5F53\u524D\u503C\u4E0D\u53D1\u751F\u53D8\u5316\u3002 \u5982\u679C\u5F53\u524D\u503C\u003E\u8BBE\u5B9A\u503C\uFF0C\u5F53\u524D\u503C\u88AB\u66F4\u6539\u4E3A\u4E0E\u8BBE\u5B9A\u503C\u540C\u6837\u7684\u503C\u3002 \u00A0 MOV DW OUTC OUTC \u8F93\u51FA\u8BA1\u6570\u5668 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Num \u6307\u5B9A\u8BA1\u6570\u5668\u7684\u7F16\u53F7\uFF080\uFF5E3999\uFF09\u3002 *1 16 \u4F4D Src \u6307\u5B9A\u8BA1\u6570\u5668\u7684\u8BBE\u5B9A\u503C\u3002\u53EF\u5728 0~4924967295 \u7684\u8303\u56F4\u5185\u6307\u5B9A\u3002 32 \u4F4D *1: \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u3002 \u00A0 \u8BA1\u6570\u5668\u7684\u7F16\u53F7 Num \u4E0D\u80FD\u548C\u4EE5\u4E0B\u7684\u6307\u4EE4\u7F16\u53F7\u91CD\u590D\u4F7F\u7528\u3002 C, OUTC \u64CD\u4F5C\u8BF4\u660E \u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C Num \u4E2D\u6307\u5B9A\u7684\u8BA1\u6570\u5668\u7684\u5F53\u524D\u503C\u52A0\u201C1\u201D\u3002 \u5728 Src \u6307\u5B9A\u7684\u8BBE\u5B9A\u503C\u4E0E\u5F53\u524D\u503C\u76F8\u540C\u65F6\uFF0C\u8BA1\u6570\u5668 C  Num \u00A0 ON\u3002 \u8BA1\u6570\u5668\u7684\u590D\u4F4D\uFF0C\u4F7F\u7528 RES \u6307\u4EE4\u3002 \u00A0 \u00A0 \u2022 \u8BA1\u6570\u5668\u6307\u4EE4\u7684\u54CD\u5E94\u901F\u5EA6\u53D6\u51B3\u4E8E\u626B\u63CF\u65F6\u95F4\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u8BA1\u6570\u5668\u7684\u6700\u5927\u8BA1\u6570\u901F\u5EA6\u201D\u3002 \u2022 \u5982\u679C\u8BBE\u5B9A\u503C\u4E2D\u8BBE\u5B9A\u4E3A\u201C0\u201D\uFF0C\u5219\u8BA1\u6570\u5668 C  Num \u00A0 ON\u3002 \u2022 \u5982\u679C\u5728 RUN \u4E2D\u8FDB\u884C\u5199\u5165\uFF0C\u9700\u8981\u6CE8\u610F\u3002 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u5173\u4E8E RUN \u4E2D\u5199\u5165\u201D\u3002 \u00A0 \u8BA1\u6570\u5668 C \u7684\u5F53\u524D\u503C\uFF0C\u5728 PROG \u6A21\u5F0F\u548C\u7535\u6E90 OFF \u65F6\u4E5F\u80FD\u4FDD\u6301\u3002 \u53EF\u4EE5\u5728CPU\u7CFB\u7EDF\u8BBE\u5B9A\u4E2D\uFF0C\u8BBE\u5B9A\u4E3A\u7535\u6E90OFF\u65F6\u8FDB\u884C\u6E05\u9664\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u5982\u679C\u8F93\u5165\u7EE7\u7535\u5668 R000 \u8BA1\u6570 10 \u6B21\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668 R500 ON\u3002 \u5982\u679C\u8F93\u5165\u7EE7\u7535\u5668 R001 ON\uFF0C\u8BA1\u6570\u5668 C0 \u5219\u590D\u4F4D\u3002 \uFF4D\uFF50 \u52A9\u8BB0\u7B26\u8868 LD R000 OUTC #0 #10 LD C0 OUT R500 LD R001 RES C0"},{"link":"./02_05_Instruction_ConnectTerminate.html","title":"\u8FDE\u63A5/\u7ED3\u675F","body":"\u8FDE\u63A5/\u7ED3\u675F \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 END \u7ED3\u675F \u8868\u793A\u4E3B\u7A0B\u5E8F\u7684\u7ED3\u675F\u3002 ENDH \u5168\u90E8\u7ED3\u675F \u8868\u793A\u5168\u90E8\u7A0B\u5E8F\u7684\u7ED3\u675F\u3002 CON \u8FDE\u63A5 \u8868\u793A\u8F93\u51FA\u6307\u4EE4\u540E\u7684\u4E00\u4E2A\u4E32\u8054\u8FDE\u63A5\u3002 MPS \u8109\u51B2 \u5B58\u50A8\u5668\u8F93\u5165\u7684\u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u3002 MRD \u8BFB\u53D6 \u7528 MPS \u8BFB\u53D6\u5B58\u50A8\u5668\u7684\u5185\u5BB9\u3002 MPP \u53D6\u51FA \u7528 MPS \u8BFB\u53D6\u5B58\u50A8\u5668\u7684\u5185\u5BB9\uFF0C\u7136\u540E\u5220\u9664\u5B58\u50A8\u5668\u3002 ANL \u4E32\u8054\u8FDE\u63A5 \u5C06\u63A5\u70B9\u56DE\u8DEF\u5757\u4E32\u8054\u8FDE\u63A5\u3002 ORL \u5E76\u8054\u8FDE\u63A5 \u5C06\u63A5\u70B9\u56DE\u8DEF\u5757\u5E76\u8054\u8FDE\u63A5\u3002 INV ON/OFF \u72B6\u6001\u53CD\u8F6C \u53CD\u8F6C\u4E4B\u524D\u7684ON/OFF\u72B6\u6001\u3002 MEP MEP \u4E4B\u524D\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CFON\u3002 MEF MEF \u4E4B\u524D\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0B\u964D\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CFON\u3002 END END \u7ED3\u675F ENDH ENDH \u5168\u90E8\u7ED3\u675F \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C END \u8868\u793A\u4E3B\u7A0B\u5E8F\u7684\u6700\u7EC8\u7A0B\u5E8F\u6BB5\u7684\u6307\u4EE4\u3002 \u5F53\u6267\u884C END \u6307\u4EE4\u65F6\uFF0CPLC \u7ED3\u675F\u4E3B\u4F8B\u884C\u7A0B\u5E8F\uFF0C\u5728\u8FDB\u884C\u7EC8\u675F\u5904\u7406\u4E4B\u540E\uFF0C\u4ECE\u7A0B\u5E8F\u6BB5 0 \u5F00\u59CB\uFF0C\u518D\u6B21\u6267\u884C\u4E3B\u4F8B\u884C\u7A0B\u5E8F\u3002\u4F7F\u7528 ENDH \u6307\u4EE4\u8868\u793A\u7A0B\u5E8F\u7684\u6700\u7EC8\u7ED3\u675F\u3002 \u258C ENDH \u8868\u793A\u987A\u63A7\u7A0B\u5E8F\u7684\u7ED3\u675F\uFF08\u5728\u6B64\u4EE5\u4E0A\u7684\u4F4D\u7F6E\u6CA1\u6709\u7A0B\u5E8F\uFF09\u3002 \u5982\u679C\u4E0D\u5199\u5B50\u4F8B\u884C\u7A0B\u5E8F\u7684\u60C5\u51B5\u4E0B\uFF0C\u6301\u7EED\u5199 END \u548C ENDH \u6307\u4EE4\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002 \u258C \u5173\u4E8E END \u6307\u4EE4\u4E0E ENDH \u6307\u4EE4\u7684\u4E0D\u540C\u70B9 \u987A\u63A7\u7A0B\u5E8F\uFF0C\u5982\u4E0B\u6240\u793A\uFF0C\u5728\u6BCF\u4E00\u529F\u80FD\u4E2D\u9644\u6709\u540D\u79F0\u3002 \u00A0 END \u6307\u4EE4 \u5728\u5B8F\u7A0B\u5E8F\u6478\u5757\u4E2D\uFF0C\u8868\u793A\u4E3B\u4F8B\u884C\u7A0B\u5E8F\u7684\u6700\u7EC8\u7A0B\u5E8F\u6BB5\u7684\u6307\u4EE4\u3002 \u5B50\u4F8B\u884C\u7A0B\u5E8F\u662F\u5728 END \u6307\u4EE4\u4E4B\u540E\u8BB0\u8FF0\u3002 ENDH \u6307\u4EE4 \u8868\u793A\u6267\u884C\u987A\u63A7\u7A0B\u5E8F\u7684\u6700\u7EC8\u7A0B\u5E8F\u6BB5\u7684\u6307\u4EE4\u3002 ENDH \u6307\u4EE4\u540E\u4E5F\u53EF\u4EE5\u8BB0\u8FF0\u7A0B\u5E8F\uFF0C\u4F46\u4E0D\u6267\u884C\u3002 \u00A0 SBN/RET \u6307\u4EE4\uFF1A\u8868\u793A\u5B50\u7A0B\u5E8F\u8303\u56F4\u7684\u6307\u4EE4\u3002 CALL/SBN/RET CON CON \u8FDE\u63A5 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u8FD9\u4E2A\u6307\u4EE4\u662F\u5728\u7528\u6269\u5C55\u68AF\u5F62\u56FE\u7EC4\u5408\u7A0B\u5E8F\u7684\u60C5\u51B5\u4E0B\uFF0C\u5728\u8F93\u51FA\u6307\u4EE4\u4E4B\u540E\uFF0C\u8FDE\u63A5\u6307\u4EE4\u65F6\u4F7F\u7528\u3002 * : \u7528\u300AKV STUDIO\u300B\u521B\u5EFA\u68AF\u5F62\u56FE\u65F6\uFF0C\u5728\u8F93\u51FA\u6307\u4EE4\u540E\u63CF\u8FF0\u6307\u4EE4\u7684\u8BDD\uFF0C\u5728\u8F6C\u6362\u65F6\u81EA\u52A8\u63D2\u5165\u3002 * : \u4E0D\u5F71\u54CD\u626B\u63CF\u65F6\u95F4\u3002 \u5173\u4E8E\u6269\u5C55\u68AF\u5F62\u56FE\u7684\u8BE6\u7EC6\u5185\u5BB9\uFF0C\u8BF7\u53C2\u89C1\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002\u3002 MPS MPS \u8109\u51B2 MRD MRD \u8BFB\u53D6 MPP MPP \u53D6\u51FA \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C MPS \u5B58\u50A8\u5668\u5230\u8FBE\u8FD9\u4E2A\u6307\u4EE4\u524D\u7684ON/OFF\u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\uFF0C\u4ECE\u4E0B\u4E00\u4E2A\u7A0B\u5E8F\u6BB5\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u3002\u5728 1 \u4E2A\u56DE\u8DEF\u5757\u5185\uFF0C\u5982\u679C\u591A\u6B21\u6267\u884C\u6307\u4EE4\uFF0C\u5219\u5728\u6267\u884C\u987A\u5E8F\u4E2D\u5B58\u50A8\u8BE5\u65F6\u523B\u7684 ON/OFF \u72B6\u6001\uFF08\u6700\u591A\u53EF\u4EE5\u5B58\u50A8 8 \u4E2A\uFF09\u3002 \u258C MRD \u7528MPS \u8BFB\u53D6\u5B58\u50A8\u5668\u7684ON/OFF \u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\uFF0C\u7528\u90A3\u4E2A\u5185\u5BB9\u4ECE\u4E0B\u4E00\u4E2A\u7A0B\u5E8F\u6BB5\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u3002\u5E76\u4FDD\u6301\u5B58\u50A8\u5668\u4E2D\u7684 ON/OFF \u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\u3002 MDR \u6307\u4EE4\u53EF\u4EE5\u8FDE\u7EED\u4F7F\u7528\uFF08\u5982\u8FDE\u7EED\u4F7F\u7528\uFF0C\u5219\u8BFB\u53D6\u540C\u6837\u7684\u5185\u5BB9\uFF09\u3002 \u00A0 *1: \u8BB0\u5F55\uFF081\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001\u3002 *2: \u8BFB\u51FA\uFF081\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001\u3002 *3: \u8BFB\u51FA\uFF081\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001\uFF0C\u6E05\u9664 MPS\u3002 \u258C MPP \u7528MPS \u8BFB\u53D6\u5B58\u50A8\u5668\u7684ON/OFF \u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\uFF0C\u7528\u90A3\u4E2A\u5185\u5BB9\u4ECE\u4E0B\u4E00\u4E2A\u7A0B\u5E8F\u6BB5\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u3002\u5728\u591A\u6B21\u6267\u884C\u4E86 MPS \u6307\u4EE4\u65F6\uFF08\u5B58\u50A8\u591A\u6B21\u7684 ON/OFF \u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\uFF09\uFF0C\u6700\u540E\uFF0C\u7528 MPS \u6307\u4EE4\uFF0C\u4ECE\u5B58\u50A8\u5668\u7684 ON/OFF \u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\u5F00\u59CB\u6309\u987A\u5E8F\u8BFB\u53D6\u3002\u7136\u540E\u628A\u7528 MPP\u6307\u4EE4\u8BFB\u53D6\u7684 ON/OFF \u72B6\u6001\u548C\u8BA1\u7B97\u6807\u5FD7\u7684\u72B6\u6001\u4ECE\u5B58\u50A8\u5668\u4E2D\u5220\u9664\u3002 \u00A0 *1: \u4FDD\u5B58\uFF081\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *2: \u4FDD\u5B58\uFF082\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *3: \u8BFB\u51FA\uFF087\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *4: \u8BFB\u51FA\uFF088\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *5: \u4FDD\u5B58\uFF088\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *6: \u4FDD\u5B58\uFF087\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *7: \u4FDD\u5B58\uFF082\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 *8: \u4FDD\u5B58\uFF081\uFF09\u4E2D\u7684 ON/OFF \u72B6\u6001 \u00A0 \u8BF7\u5C06 MPS \u6307\u4EE4\u548C MPP \u6307\u4EE4\u5BF9\u5E94\u8D77\u6765\u4F7F\u7528\u3002 \u5982\u679C\u6CA1\u6709\u5BF9\u5E94\u8D77\u6765\u7684\u8BDD\uFF08\u4E2A\u6570\u4E0D\u540C\uFF09\uFF0C\u5728\u7528\u300AKV STUDIO\u300B\u7F16\u8F91\u65F6\uFF0C\u4F1A\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\uFF0C\u7A0B\u5E8F\u65E0\u6CD5\u6267\u884C\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002\u3002 ANL ANL \u4E32\u8054\u8FDE\u63A5 ORL ORL \u5E76\u8054\u8FDE\u63A5 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C ANL \u5982\u4E0A\u8FF0\u68AF\u5F62\u56FE\u4E2D\u6240\u793A\uFF0CA \u56DE\u8DEF\u5757\u548C B \u56DE\u8DEF\u5757\u4E3A\u4E32\u8054\u8FDE\u63A5\u3002\u5728\u68AF\u5F62\u56FE\u4E2D\u4E0D\u662F\u7B26\u53F7\uFF0C\u800C\u662F\u88AB\u4F5C\u4E3A\u8FDE\u63A5\u7EBF\u6765\u8868\u793A\u3002 \u258C ORL \u5982\u4E0A\u8FF0\u68AF\u5F62\u56FE\u4E2D\u6240\u793A\uFF0CC \u56DE\u8DEF\u5757\u548C D \u56DE\u8DEF\u5757\u4E3A\u5E76\u8054\u8FDE\u63A5\u3002\u5728\u68AF\u5F62\u56FE\u4E2D\u4E0D\u662F\u7B26\u53F7\uFF0C\u800C\u662F\u88AB\u4F5C\u4E3A\u8FDE\u63A5\u7EBF\u6765\u8868\u793A\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002\u3002 \u258C \u5173\u4E8E\u63A5\u70B9\u56DE\u8DEF\u5757\u548C\u7A0B\u5E8F\u56DE\u8DEF\u5757 \u63A5\u70B9\u5757 \u4EFB\u610F\u63A5\u70B9\u6307\u4EE4\u8FDE\u63A5\u7EC4\u5408\u6210\u7684\u56DE\u8DEF\u5757\u88AB\u79F0\u4E4B\u4E3A\u201C\u63A5\u70B9\u56DE\u8DEF\u5757\u201D\u3002 \u00A0 \u7A0B\u5E8F\u5757 \u5982\u679C\u4E0E\u5DE6\u53F3\u6BCD\u7EBF\u8FDE\u63A5\uFF0C\u5219\u88AB\u79F0\u4E4B\u4E3A\u201C\u7A0B\u5E8F\u56DE\u8DEF\u5757\u201D\u3002 \u00A0 INV INV ON/OFF \u72B6\u6001\u53CD\u8F6C \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C INV \u53CD\u8F6C\u6B64\u6307\u4EE4\u4E4B\u524D\u7684ON/OFF\u72B6\u6001\u3002 \u00A0 \u00A0 \u4E0D\u80FD\u76F4\u63A5\u8FDE\u63A5\u5230\u5DE6\u6BCD\u7EBF\u3001\u53F3\u6BCD\u7EBF\u3002OR\u7535\u8DEF\u4E2D\u4F7F\u7528\u65F6\uFF0C\u4E5F\u8981\u6CE8\u610F\u3002 \u4EE5\u4E0B\uFF0C\u4E3E\u4F8B\u8BF4\u660E\u3002 \u2022 \u53EF\u53D8\u6362\u65F6 \u00A0 \u2022 \u4E0D\u53EF\u53D8\u6362\u65F6 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002\u3002 MEP MEP MEP MEF MEF MEF \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u258C MEP \u8FD9\u4E2A\u6307\u4EE4\u4E4B\u524D\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CFON\u3002 \u258C MEF \u8FD9\u4E2A\u6307\u4EE4\u4E4B\u524D\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0B\u964D\u6CBF\u65F6\uFF0C\u4EC51\u6B21\u626B\u63CFON\u3002 \u00A0 \u00A0 \u2022 \u5982\u679C\u5728\u5B50\u7A0B\u5E8F\u5185\uFF0C\u5728 CJ\uFF08NCJ\uFF09~ LABEL\u95F4\u4F7F\u7528\u65F6\uFF0C\u8BF7\u4E88\u4EE5\u6CE8\u610F\u3002 \u00A0 \u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u2022 \u4E0D\u80FD\u76F4\u63A5\u8FDE\u63A5\u5230\u5DE6\u6BCD\u7EBF\u3001\u53F3\u6BCD\u7EBF\u3002OR\u7535\u8DEF\u4E2D\u4F7F\u7528\u65F6\uFF0C\u4E5F\u8981\u6CE8\u610F\u3002 \u7531\u4E8E\u548CINV\u6307\u4EE4\u76F8\u540C\uFF0C\u8BF7\u4E0EINV\u6307\u4EE4\u4E00\u8D77\u9605\u8BFB\u3002 INV \u2012 \u53EF\u53D8\u6362\u65F6 \u00A0 \u2012 \u4E0D\u53EF\u53D8\u6362\u65F6 \u00A0 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002\u3002"},{"link":"./02_06_Instruction_Arithmetic.html","title":"\u7B97\u672F","body":"\u7B97\u672F \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 CAL\u002B \u52A0\u6CD5\u8FD0\u7B97 \u5C06\u7B2C1\u64CD\u4F5C\u6570\u7684\u503C\u548C\u7B2C2 \u64CD\u4F5C\u6570\u7684\u503C\u76F8\u52A0\uFF0C\u5E76\u5C06\u8FD0\u7B97\u7ED3\u679C\u5B58\u50A8\u5230\u7B2C3\u64CD\u4F5C\u6570\u4E2D\u3002 CAL- \u51CF\u6CD5\u8FD0\u7B97 \u4ECE\u7B2C1\u64CD\u4F5C\u6570\u7684\u503C\u51CF\u53BB\u7B2C2\u64CD\u4F5C\u6570\u7684\u503C\uFF0C\u5C06\u8FD0\u7B97\u7ED3\u679C\u5B58\u50A8\u81F3\u7B2C3\u64CD\u4F5C\u6570\u3002 CAL* \u4E58\u6CD5\u8FD0\u7B97 \u5C06\u7B2C1\u64CD\u4F5C\u6570\u7684\u503C\u548C\u7B2C2\u64CD\u4F5C\u6570\u7684\u503C\u76F8\u4E58\uFF0C\u518D\u5C06\u8FD0\u7B97\u7ED3\u679C\u5B58\u50A8\u81F3\u7B2C3\u64CD\u4F5C\u6570\u3002 CAL/ \u9664\u6CD5\u8FD0\u7B97 \u5C06\u7B2C1\u64CD\u4F5C\u6570\u548C\u7B2C2\u64CD\u4F5C\u6570\u7684\u503C\u76F8\u9664\uFF0C\u8FD0\u7B97\u7ED3\u679C\u5B58\u50A8\u5728\u7B2C3\u64CD\u4F5C\u6570\u4E2D\u3002 CAL\u0026 \u903B\u8F91\u4E0E \u5BF9\u4E8E\u7B2C1\u64CD\u4F5C\u6570\u548C\u7B2C2\u64CD\u4F5C\u6570\u7684\u503C\u6267\u884C\u903B\u8F91\u201C\u4E0E\u201D\u8FD0\u7B97\u3002 CAL| \u903B\u8F91\u201C\u6216\u201D \u5BF9\u4E8E\u7B2C1\u64CD\u4F5C\u6570\u548C\u7B2C2\u64CD\u4F5C\u6570\u7684\u503C\u6267\u884C\u903B\u8F91\u201C\u6216\u201D\u8FD0\u7B97\u3002 CAL^ \u903B\u8F91\u5F02\u6216 \u5BF9\u4E8E\u7B2C1\u64CD\u4F5C\u6570\u548C\u7B2C2\u64CD\u4F5C\u6570\u7684\u503C\u6267\u884C\u903B\u8F91\u201C\u5F02\u6216\u201D\u8FD0\u7B97\u3002 CAL~ \u4F4D\u53CD\u8F6C \u5C06\u6307\u5B9A\u6570\u636E\u7684\u6240\u6709\u4F4D\u53CD\u8F6C CAL\u003E\u003E \u53F3\u79FB \u5C06\u6307\u5B9A\u6570\u636E\u7684\u4F4D\u5185\u5BB9\u6309\u7167\u6307\u5B9A\u4F4D\u6570\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u65B9\u79FB\u52A8\u3002 CAL\u003C\u003C \u5DE6\u79FB \u5C06\u6307\u5B9A\u6570\u636E\u7684\u4F4D\u5185\u5BB9\u6309\u7167\u6307\u5B9A\u4F4D\u6570\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u65B9\u79FB\u52A8\u3002 CAL\u002B (@)CAL\u002B(.U) (@)CAL\u002B.S (@)CAL\u002B.D (@)CAL\u002B.L (@)CAL\u002B.F (@)CAL\u002B.DF \u52A0\u6CD5\u8FD0\u7B97 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u52A0\u6CD5\u8FD0\u7B97\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Src2 \u6307\u5B9A\u52A0\u6CD5\u8FD0\u7B97\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Dst \u6307\u5B9A\u8FD0\u7B97\uFF08\u52A0\u6CD5\u8FD0\u7B97\uFF09\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL\u002B(.U) \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src 1 \u6307\u5B9A\u7684 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E Src 2 \u6307\u5B9A\u7684 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u52A0\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u6BD4 65535 \u5927\u65F6\uFF0C\u53D1\u751F\u6EA2\u51FA\u3002 \u258C CAL\u002B.S \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src 1 \u6307\u5B9A\u7684 16 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E Src 2 \u6307\u5B9A\u7684 16 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u52A0\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u6BD4 \u002B32767 \u5927\u65F6\uFF0C\u53D1\u751F\u6EA2\u51FA\u3002 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u5C0F\u4E8E -32768\uFF0C\u5219\u4F1A\u53D1\u751F\u4E0B\u6EA2\u3002 \u258C CAL\u002B.D \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u52A0\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u6BD4 4294967295 \u5927\u65F6\uFF0C\u53D1\u751F\u6EA2\u51FA\u3002 \u258C CAL\u002B.L \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u52A0\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u6BD4 \u002B2147483647 \u5927\u65F6\uFF0C\u53D1\u751F\u6EA2\u51FA\u3002 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u5C0F\u4E8E -2147483648\uFF0C\u5219\u4F1A\u53D1\u751F\u4E0B\u6EA2\u3002 \u258C CAL\u002B.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u548C\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u76F8\u52A0\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C CAL\u002B.DF \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1/ Src1 \u002B2/ Src1 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u4E0E\uFF3B Src2 / Src2 \u002B1/ Src2 \u002B2/ Src2 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u76F8\u52A0\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u4E2D\u3002 \u00A0 \u258C @CAL\u002B.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 \u5373\u4F7F\u53D1\u751F\u6EA2\u51FA\uFF0C\u4E5F\u80FD\u6B63\u786E\u8FD0\u7B97\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u4F7F\u7528\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL- (@)CAL-(.U) (@)CAL-.S (@)CAL-.D (@)CAL-.L (@)CAL-.F (@)CAL-.DF \u51CF\u6CD5\u8FD0\u7B97 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u51CF\u6CD5\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Src2 \u6307\u5B9A\u51CF\u6CD5\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Dst \u6307\u5B9A\u8FD0\u7B97\uFF08\u51CF\u6CD5\u8FD0\u7B97\uFF09\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL-(.U) \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u4ECE Src1 \u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E2D\u51CF\u53BB Src2 \u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5728 Dst \u4E2D\u3002 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u5C0F\u4E8E 0\uFF0C\u5219\u4F1A\u53D1\u751F\u4E0B\u6EA2\u3002 \u258C CAL-.S \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u4ECE Src1 \u6307\u5B9A\u768416\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E2D\u51CF\u53BB Src2 \u6307\u5B9A\u768416\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5728 Dst \u4E2D\u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u6BD4 \u002B32767 \u5927\u65F6\uFF0C\u53D1\u751F\u6EA2\u51FA\u3002 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u5C0F\u4E8E -32768\uFF0C\u5219\u4F1A\u53D1\u751F\u4E0B\u6EA2\u3002 \u258C CAL-.D \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u4ECE\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u768432\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E2D\u51CF\u53BB\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u768432\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u5C0F\u4E8E 0\uFF0C\u5219\u4F1A\u53D1\u751F\u4E0B\u6EA2\u3002 \u258C CAL-.L \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u4ECE\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u768432\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E2D\u51CF\u53BB\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u768432\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u6BD4 \u002B2147483647 \u5927\u65F6\uFF0C\u53D1\u751F\u6EA2\u51FA\u3002 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u5C0F\u4E8E -2147483648\uFF0C\u5219\u4F1A\u53D1\u751F\u4E0B\u6EA2\u3002 \u258C CAL-.F \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u4ECE\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u51CF\u53BB\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C CAL-.DF \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u4ECE\uFF3B Src1 / Src1 \u002B1/ Src1 \u002B2/ Src1 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u51CF\u53BB\uFF3B Src2 / Src2 \u002B1/ Src2 \u002B2/ Src2 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u258C @CAL-.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 \u5373\u4F7F\u53D1\u751F\u6EA2\u51FA\uFF0C\u4E5F\u80FD\u6B63\u786E\u8FD0\u7B97\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u4F7F\u7528\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL* (@)CAL*(.U) (@)CAL*.S (@)CAL*.D (@)CAL*.L (@)CAL*.F (@)CAL*.DF \u4E58\u6CD5\u8FD0\u7B97 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u4E58\u6CD5\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Src2 \u6307\u5B9A\u4E58\u6CD5\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Dst \u6307\u5B9A\u8FD0\u7B97\uFF08\u4E58\u6CD5\u8FD0\u7B97\uFF09\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U\u00A0.S\u00A0.F 32 \u4F4D .D .L 64 \u4F4D .DF 64 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL*(.U) \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src1 \u6307\u5B9A\u7684 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E Src2 \u6307\u5B9A\u7684 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u4E58\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C CAL*.S \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src1 \u6307\u5B9A\u7684 16 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E Src2 \u6307\u5B9A\u7684 16 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u4E58\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C CAL*.D \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u4E58\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u258C CAL*.L \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u4E58\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u258C CAL*.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u548C\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u76F8\u4E58\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C CAL*.DF \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1/ Src1 \u002B2/ Src1 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u4E58\u4EE5\uFF3B Src2 / Src2 \u002B1/ Src2 \u002B2/ Src2 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u258C @CAL*.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 \u5373\u4F7F\u53D1\u751F\u6EA2\u51FA\uFF0C\u4E5F\u80FD\u6B63\u786E\u8FD0\u7B97\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u4F7F\u7528\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL/ (@)CAL/(.U) (@)CAL/.S (@)CAL/.D (@)CAL/.L (@)CAL/.F (@)CAL/.DF \u9664\u6CD5\u8FD0\u7B97 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u9664\u6CD5\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Src2 \u6307\u5B9A\u9664\u6CD5\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Dst \u6307\u5B9A\u8FD0\u7B97\uFF08\u9664\u6CD5\u8FD0\u7B97\uFF09\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S .F 32 \u4F4D .D .L 64 \u4F4D .DF 64 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL/(.U) \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src1 \u6307\u5B9A\u7684 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E Src2 \u6307\u5B9A\u7684 16 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u9664\uFF0C\u5E76\u5C06\u7ED3\u679C\u7684\u5546\u5B58\u50A8\u81F3 Dst \uFF0C\u4F59\u6570\u5B58\u50A8\u81F3 Dst \u002B1\u3002 \u00A0 \u258C CAL/.S \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src1 \u6307\u5B9A\u7684 16 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E Src2 \u6307\u5B9A\u7684 16 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u9664\uFF0C\u5E76\u5C06\u7ED3\u679C\u7684\u5546\u5B58\u50A8\u81F3 Dst \uFF0C\u4F59\u6570\u5B58\u50A8\u81F3 Dst \u002B1\u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u4E3A\u002B32768\u65F6\uFF0C\u53D1\u751F\u4E0A\u6EA2\u3002 \u258C CAL/.D \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u9664\uFF0C\u5E76\u5C06\u7ED3\u679C\u7684\u5546\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\uFF0C\u4F59\u6570\u5B58\u50A8\u81F3\uFF3B Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u258C CAL/.L \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u4E0E\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684 32 \u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u76F8\u9664\uFF0C\u5E76\u5C06\u7ED3\u679C\u7684\u5546\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\uFF0C\u4F59\u6570\u5B58\u50A8\u81F3\uFF3B Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u8FD0\u7B97\u7ED3\u679C\u4E3A\u002B2147483648\u65F6\uFF0C\u53D1\u751F\u4E0A\u6EA2\u3002 \u258C CAL/.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u7528\uFF3B Src1 / Src1 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u9664\u4EE5\uFF3B Src2 / Src2 \u002B1\uFF3D\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u7684\u5546\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C CAL/.DF \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u7528\uFF3B Src1 / Src1 \u002B1/ Src1 \u002B2/ Src1 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u9664\u4EE5\uFF3B Src2 / Src2 \u002B1/ Src2 \u002B2/ Src2 \u002B3\uFF3D\u6307\u5B9A\u7684\u53CC\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\uFF0C\u5E76\u5C06\u5546\u5B58\u50A8\u5230\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u4E2D\u3002 \u00A0 \u258C @CAL/.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 \u2022 \u5373\u4F7F\u53D1\u751F\u6EA2\u51FA\uFF0C\u4E5F\u80FD\u6B63\u786E\u8FD0\u7B97\u3002 \u2022 \u540E\u7F00\u662F.F/.DF\u65F6\uFF0C\u5373\u4F7F Src2 (\u9664\u6CD5\u8FD0\u7B97\u6570\u636E)\u662F0\uFF0C\u4E5F\u4E0D\u4F1A\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u3002 Src2 \u662F0\u65F6\u7684\u52A8\u4F5C\u5982\u4E0B\u3002 NaN \u00F7 \u00B10 = NaN \u00B10 \u00F7 \u00B10 = NaN \u4E0A\u8FF0\u4EE5\u5916 \u00F7 \u00B10 = \u00B10 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u258C \u540E\u7F00\u4E3A\u201CU/S/D/L\u201D Src2 =0\u65F6\uFF0C\u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\uFF0C\u4EE5\u53CA\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u258C \u540E\u7F00\u4E3A\u201CF/DF\u201D\u300D \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u4EE5\u53CA\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL\u0026 (@)CAL\u0026(.U) (@)CAL\u0026.D \u903B\u8F91\u4E0E \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u6267\u884C\u903B\u8F91\u201C\u4E0E\u201D\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Src2 \u6307\u5B9A\u6267\u884C\u903B\u8F91\u201C\u4E0E\u201D\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Dst \u6307\u5B9A\u903B\u8F91\u201C\u4E0E\u201D\u8FD0\u7B97\u7684\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U 16 \u4F4D .D 32 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u51FA Src1 \u53CA Src2 \u6307\u5B9A\u7684 BIN \u6570\u636E\u7684\u903B\u8F91\u201C\u4E0E\u201D\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 Src1 \u548C Src2 \u7684\u76F8\u540C\u4F4D\u4F4D\u7F6E\u7684\u72B6\u6001\u5747\u4E3A\u201C1\u201D\u65F6\uFF0C  Dst \u7684\u76F8\u540C\u4F4D\u4F4D\u7F6E\u53D8\u4E3A\u201C1\u201D\u3002 \u903B\u8F91\u4E0E\u771F\u503C\u8868 \u00A0 \u258C CAL\u0026(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u53D6 Src 1 \u53CA Src 2 \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u201C\u4E0E\u201D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u793A\u4F8B \u00A0 \u258C CAL\u0026.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u53D6\uFF3B Src1 / Src1 \u002B1\uFF3D\u53CA\uFF3B Src2 / Src2 \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u201C\u4E0E\u201D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u793A\u4F8B \u00A0 \u258C @CAL\u0026.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL| (@)CAL \u00BD (.U) (@)CAL \u00BD .D \u903B\u8F91\u201C\u6216\u201D \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u6267\u884C\u903B\u8F91\u201C\u6216\u201D\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Src2 \u6307\u5B9A\u6267\u884C\u903B\u8F91\u201C\u6216\u201D\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Dst \u6307\u5B9A\u903B\u8F91\u201C\u6216\u201D\u8FD0\u7B97\u7684\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U 16 \u4F4D .D 32 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u51FA Src1 \u53CA Src2 \u6307\u5B9A\u7684 BIN \u6570\u636E\u7684\u201C\u6216\u201D\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Dst \u6307\u5B9A\u7684\u8F6F\u5143\u4EF6\u4E2D\u3002 Src1 \u548C Src2 \u7684\u76F8\u540C\u4F4D\u4F4D\u7F6E\u7684\u4EFB\u610F\u4E00\u65B9\u4E3A\u201C1\u201D\u65F6\uFF0C Dst \u7684\u76F8\u540C\u4F4D\u4F4D\u7F6E\u7684\u72B6\u6001\u53D8\u4E3A\u201C1\u201D\u3002 \u903B\u8F91\u6216\u771F\u503C\u8868 \u00A0 \u258C CAL\uFF5C(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u53D6 Src1 \u53CA Src2 \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u201C\u6216\u201D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u793A\u4F8B \u00A0 \u258C CAL\uFF5C.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u53D6\uFF3B Src1 / Src1 \u002B1\uFF3D\u53CA\uFF3B Src2 / Src2 \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u201C\u6216\u201D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u793A\u4F8B \u00A0 \u258C @CAL\uFF5C.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL^ (@)CAL^(.U) (@)CAL^.D \u903B\u8F91\u5F02\u6216 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u6267\u884C\u903B\u8F91\u201C\u5F02\u6216\u201D\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Src2 \u6307\u5B9A\u6267\u884C\u903B\u8F91\u201C\u5F02\u6216\u201D\u8FD0\u7B97\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Dst \u6307\u5B9A\u903B\u8F91\u201C\u5F02\u6216\u201D\u8FD0\u7B97\u7684\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U 16 \u4F4D .D 32 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u51FA Src1 \u53CA Src2 \u6307\u5B9A\u7684 BIN \u6570\u636E\u7684\u201C\u5F02\u6216\u201D\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Dst \u6307\u5B9A\u7684\u8F6F\u5143\u4EF6\u4E2D\u3002 Src1 \u548C Src2 \u7684\u76F8\u540C\u4F4D\u4F4D\u7F6E\u7684\u503C\u4E0D\u540C\u65F6\uFF0C Dst \u7684\u76F8\u540C\u4F4D\u4F4D\u7F6E\u7684\u72B6\u6001\u53D8\u4E3A\u201C1\u201D\u3002 \u975E\u903B\u8F91\u6216\u771F\u503C\u8868 \u00A0 \u258C CAL^(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u53D6 Src1 \u53CA Src2 \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u201C\u5F02\u6216\u201D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u793A\u4F8B \u00A0 \u258C CAL^.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6C42\u53D6\uFF3B Src1 / Src1 \u002B1\uFF3D\u53CA\uFF3B Src2 / Src2 \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u201C\u5F02\u6216\u201D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u793A\u4F8B \u00A0 \u258C @CAL^.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL\u02DC (@)CAL\u02DC(.U) (@)CAL\u02DC.D \u4F4D\u53CD\u8F6C \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u6267\u884C\u4F4D\u53CD\u8F6C\u7684\u6570\u636E\u3002 .U 16 \u4F4D .D 32 \u4F4D Dst \u6307\u5B9A\u4F4D\u53CD\u8F6C\u7684\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U 16 \u4F4D .D 32 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL~(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u6240\u6709\u4F4D\u53CD\u8F6C\uFF08\u201C0\u21921\u201D\u3001\u201C1\u21920\u201D\uFF09\u540E\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u793A\u4F8B \u00A0 \u258C CAL~.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u6240\u6709\u4F4D\u53CD\u8F6C\uFF08\u201C0\u21921\u201D\u3001\u201C1\u21920\u201D\uFF09\u540E\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u793A\u4F8B \u00A0 \u258C @CAL~.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL\u003E\u003E (@)CAL\u003E\u003E(.U) (@)CAL\u003E\u003E.S (@)CAL\u003E\u003E.D (@)CAL\u003E\u003E.L \u53F3\u79FB \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9A\u79FB\u52A8\u7684\u6570\u636E\u3002 \u8FD0\u7B97\u7ED3\u679C\u4E5F\u4EE5 Dst \u4E3A\u524D\u5934\u88AB\u5B58\u50A8\u3002 .U .S 16 \u4F4D .D .L 32 \u4F4D Num \u6307\u5B9A\u79FB\u52A8\u7684\u4F4D\u6570\u3002 16 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL\u003E\u003E(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u53F3\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u9AD8\u4F4D\u7684 Num \u4F4D\u4E2D\u5B58\u50A8\u201C0\u201D\u3002 \u00A0 \u258C CAL\u003E\u003E.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u6240\u6307\u5B9A\u768416\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u7B97\u672F\u53F3\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u9AD8\u4F4D Num \u4F4D\u4E2D\uFF0C\u5728\u201C Dst \u003E=0\u201D\u65F6\u5B58\u50A80\uFF0C\u201C Dst \uFF1C0\u201D\u65F6\u5B58\u50A81\u3002 \u00A0 \u258C CAL\u003E\u003E.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Dst / Dst \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u53F3\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u9AD8\u4F4D\u7684 Num \u4F4D\u4E2D\u5B58\u50A8\u201C0\u201D\u3002 \u00A0 \u258C CAL\u003E\u003E.L \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Dst / Dst \u002B1\uFF3D\u6240\u6307\u5B9A\u768416\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u7B97\u672F\u53F3\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u9AD8\u4F4D Num \u4F4D\u4E2D\uFF0C\u5728\u201C\uFF3B Dst / Dst \u002B1\uFF3D\u003C= 0\u201D\u65F6\u5B58\u50A8 0\uFF0C\u201C\uFF3B Dst / Dst \u002B1\uFF3D\uFF1C0\u201D\u5B58\u50A81\u3002 \u00A0 \u258C @CAL\u003E\u003E.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 CAL\u003E\u003E\u5982\u679C\u6309\u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u6307\u4EE4\u6267\u884C SRA \u6307\u4EE4\uFF0C\u5219\u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6BCF\u6B21\u626B\u63CF\u65F6\u90FD\u8FDB\u884C\u79FB\u4F4D\u3002\u5982\u679C\u4E0D\u662F\u6BCF\u6B21\u626B\u63CF\u65F6\u90FD\u6267\u884C\uFF0C\u800C\u662F\u53EA\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\u6267\u884C\uFF0C\u5219\u8BF7\u4F7F\u7528\u5982\u4E0B\u5DEE\u5206\u578B\u6307\u4EE4\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 CAL\u003C\u003C (@)CAL\u003C\u003C(.U) (@)CAL\u003C\u003C.S (@)CAL\u003C\u003C.D (@)CAL\u003C\u003C.L \u5DE6\u79FB \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Dst \u6307\u5B9A\u79FB\u52A8\u7684\u6570\u636E\u3002 \u8FD0\u7B97\u7ED3\u679C\u4E5F\u4EE5 Dst \u4E3A\u524D\u5934\u88AB\u5B58\u50A8\u3002 .U .S 16 \u4F4D .D .L 32 \u4F4D Num \u6307\u5B9A\u79FB\u52A8\u7684\u4F4D\u6570\u3002 16 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C CAL\u003C\u003C(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u5DE6\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u4F4E\u4F4D\u7684 Num \u4F4D\u4E2D\u5B58\u50A8\u201C0\u201D\u3002 \u00A0 \u258C CAL\u003C\u003C.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Dst \u6240\u6307\u5B9A\u768416\u4F4D\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u7B97\u672F\u5DE6\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 Dst \u3002 \u4F4E\u4F4D\u7684 Num \u4F4D\u4E2D\u5B58\u50A8\u201C0\u201D\u3002 \u00A0 \u258C CAL\u003C\u003C.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Dst / Dst \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u5DE6\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u4F4E\u4F4D\u7684 Num \u4F4D\u4E2D\u5B58\u50A8\u201C0\u201D\u3002 \u00A0 \u258C  CAL\u003C\u003C.L \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Dst / Dst \u002B1\uFF3D\u6240\u6307\u5B9A\u768432\u5E26\u7B26\u53F7\u4E8C\u8FDB\u5236\u6570\u636E\u6309\u7167 Num \u6240\u6307\u5B9A\u7684\u4F4D\u6570\u7B97\u672F\u5DE6\u79FB\uFF08\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u65B9\u79FB\u52A8\uFF09\uFF0C\u518D\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u4F4E\u4F4D\u7684 Num \u4F4D\u4E2D\u5B58\u50A8\u201C0\u201D\u3002 \u00A0 \u258C @CAL\u003C\u003C.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 CAL\u003C\u003C\u5982\u679C\u6309\u6BCF\u6B21\u626B\u63CF\u6267\u884C\u578B\u6307\u4EE4\u6267\u884C SRA \u6307\u4EE4\uFF0C\u5219\u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6BCF\u6B21\u626B\u63CF\u65F6\u90FD\u8FDB\u884C\u79FB\u4F4D\u3002\u4E0D\u662F\u6309\u6BCF\u6B21\u626B\u63CF\uFF0C\u800C\u662F\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u6267\u884C\u65F6\uFF0C\u8BF7\u4F7F\u7528\u5FAE\u5206\u578B\u6307\u4EE4\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_07_Instruction_DataTransfer.html","title":"\u6570\u636E\u4F20\u8F93","body":"\u6570\u636E\u4F20\u8F93 \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 MOV \u6570\u636E\u4F20\u9001 \u5B58\u50A8 16/32/64 \u4F4D\u6570\u636E\u3002 DW \u6570\u636E\u5B58\u50A8\u5668\u5199\u5165 \u5C06\u5E38\u6570\u5B58\u50A8\u81F3\u53C2\u7167\u5BF9\u8C61\u3002 BMOV \u6210\u5757\u4F20\u9001 \u5C0616/32 \u4F4D\u6570\u636E\u5411\u53C2\u7167\u5BF9\u8C61\u6210\u5757\u4F20\u9001\u3002 FMOV \u6279\u91CF\u4F20\u9001 \u5C0616/32/64\u4F4D\u6570\u636E\u6279\u91CF\u4F20\u9001\u7ED9\u53C2\u7167\u5BF9\u8C61\u3002 MOV (@)MOV(.U) (@)MOV.S (@)MOV.D (@)MOV.L (@)MOV.F (@)MOV.DF (@)MOV.A \u6570\u636E\u4F20\u9001 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Src \u6307\u5B9A\u4F20\u9001\u6E90\u7684\u6570\u636E\u3002 .U .S 16 \u30D3\u30C3\u30C8 .D .L .F 32 \u4F4D .DF 64 \u4F4D Dst \u6307\u5B9A\u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S 16 \u30D3\u30C3\u30C8 .D .L .F 32 \u4F4D .DF 64 \u4F4D * : \u9644\u52A0\u540E\u7F00A\u65F6\u7684\u5360\u7528\u5927\u5C0F\u6839\u636E\u6570\u636E\u7C7B\u578B\u7684\u8F6C\u6362\u89C4\u5219\uFF0C\u5360\u7528\u5927\u5C0F\u53D1\u751F\u53D8\u5316\u3002 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u00A0 \u9644\u52A0\u540E\u7F00.A\u65F6\u6307\u5B9A\u6570\u7EC4\u578B\u6216\u7ED3\u6784\u4F53\u578B\u53D8\u91CF\u65F6\uFF0C\u8BF7\u4E00\u8D77\u6307\u5B9A\u8981\u7D20\u7F16\u53F7\u3001\u6210\u5458\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C MOV(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4E2D\u5B58\u50A8\u768416\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3 Dst \u3002 \u258C MOV.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4E2D\u5B58\u50A8\u768416\u4F4D\u5E26\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3 Dst \u3002 \u258C MOV.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1\uFF3D\u4E2D\u5B58\u50A8\u768432\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u258C MOV.L \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1\uFF3D\u4E2D\u5B58\u50A8\u768432\u4F4D\u5E26\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u258C MOV.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1\uFF3D\u6240\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u258C MOV.DF \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1/ Src \u002B2/ Src \u002B3\uFF3D\u6240\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u258C MOV.A \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5C06 Src \u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\u7C7B\u578B\u8F6C\u6362\u4E3A Dst \u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\u6570\u636E\u7C7B\u578B\uFF0C\u5E76\u5C06 Src \u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\u5B58\u5165 Dst \u3002 \u7C7B\u578B\u8F6C\u6362\u7684\u8BE6\u7EC6\u4FE1\u606F\u8BF7\u53C2\u7167 \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u258C \uFF20MOV.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u258C \u64CD\u4F5C\u6570\u6307\u5B9A\u4E86\u4F4D\u6570\u636E\u7684\u793A\u4F8B \u5C06\u5185\u90E8\u8F85\u52A9\u7EE7\u7535\u5668R1000~R1015 \u7684\u72B6\u6001\u5B58\u50A8\u5230\u6570\u636E\u5B58\u50A8\u5668 DM0 \u4E2D\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD CR2002 MOV R1000 DM0 \u00A0 \u2022 \u7B2C1\u64CD\u4F5C\u6570\u6240\u6307\u5B9A\u7684\u4F4D\u6570\u636E\u8DE8\u901A\u9053\u65F6\uFF0C\u5C06\u8DE8\u901A\u9053\u95F4\u768416 \u4F4D\u7684\u72B6\u6001\u5B58\u50A8\u81F3DM0\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD CR2002 MOV R003 DM0 \u00A0 \u2022 \u7B2C2\u64CD\u4F5C\u6570\u6240\u6307\u5B9A\u7684\u4F4D\u6570\u636E\u8DE8\u901A\u9053\u65F6\uFF0C\u5411\u8DE8\u901A\u9053\u95F4\u768416 \u4F4D\u5B58\u50A8\u6570\u636E\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD CR2002 MOV DM0 R1005 DW (@)DW(.U) (@)DW.S (@)DW.D (@)DW.L (@)DW.F (@)DW.DF \u6570\u636E\u5B58\u50A8\u5668\u5199\u5165 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Src \u6307\u5B9A\u5B58\u50A8\u7684\u5E38\u6570\u3002 *1 \uFF0D Dst \u6307\u5B9A\u5E38\u6570\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D * : \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u4EE5\u53CA\u8BBE\u5B9A\u4E3A\u5E38\u6570\u7684\u53D8\u91CF\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C DW(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u768416\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3 Dst \u3002 \u00A0 \u258C DW.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u768416\u4F4D\u5E26\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3 Dst \u3002 \u00A0 \u258C DW.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u768432\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C DW.L \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u768432\u4F4D\u5E26\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C DW.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1\uFF3D\u3002 \u00A0 \u258C DW.DF \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u6240\u6307\u5B9A\u7684\u500D\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5B58\u50A8\u81F3\uFF3B Dst / Dst \u002B1/ Dst \u002B2/ Dst \u002B3\uFF3D\u3002 \u00A0 \u258C \uFF20DW.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u64CD\u4F5C\u6570\u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 BMOV (@)BMOV(.U) (@)BMOV.D \u6210\u5757\u4F20\u9001 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Src \u6307\u5B9A\u4F20\u9001\u6E90\u6570\u636E\u5757\u7684\u524D\u5934\u3002 .U 16 \u4F4D\u00D7Num .D 32 \u4F4D\u00D7Num Dst \u6307\u5B9A\u4F20\u9001\u5BF9\u8C61\u6570\u636E\u5757\u7684\u524D\u5934\u3002 .U 16 \u4F4D\u00D7Num .D 32 \u4F4D\u00D7Num Num \u6307\u5B9A\u4F20\u9001\u4E2A\u6570\uFF08\u6570\u636E\u6570\uFF09 \uFF081 \uFF5E 65535 \uFF1A16\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\uFF09 16 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C BMOV(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4EE5\u4E3A\u524D\u5934\u7684 Num \u4E2A\u5B57\u7684\u5185\u5BB9\uFF0C\u5411\u4EE5 Dst \u4E3A\u524D\u5934\u7684 Num \u4E2A\u5B57\u6210\u5757\u4F20\u9001\u3002 \u00A0 \u793A\u4F8B\uFF1ASrc: DM100, Dst: EM104, Num: #5 \u65F6 \u00A0 \u258C \u00A0\u00A0\u00A0 BMOV.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\u4EE5\uFF3B Src / Src \u002B1\uFF3D\u4E3A\u524D\u5934\u7684 Num \u00D72\u4E2A\u5B57\u7684\u5185\u5BB9\u5411\u4EE5\uFF3B Dst / Dst \u002B1\uFF3D\u4E3A\u524D\u5934\u7684 Num \u00D72\u4E2A\u5B57\u6210\u5757\u4F20\u9001\u3002 \u00A0 \u793A\u4F8B\uFF1ASrc: DM100, Dst: EM5, Num: #3\u65F6 \u00A0 \u258C \uFF20BMOV.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 \u2022 \u4F20\u9001\u6E90\u548C\u4F20\u9001\u76EE\u7684\u6570\u636E\u5757\u5373\u4F7F\u90E8\u5206\u91CD\u590D\uFF0C\u4E5F\u80FD\u6B63\u786E\u4F20\u9001\u3002 \u2022 Num \u6307\u5B9A\u8F83\u5927\u7684\u503C\u540E\uFF0C\u626B\u63CF\u65F6\u95F4\u4F1A\u5927\u5E45\u5EF6\u957F\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 Num \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\uFF0C\u4F20\u9001\u6E90\u6216\u4F20\u9001\u5BF9\u8C61\u8D85\u8FC7\u8F6F\u5143\u4EF6\u3001\u5DE5\u4F5C\u533A\u57DF\u7684\u8303\u56F4\u65F6 \u2022 Num =0\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 Num \u4E3A\u5E38\u6570\uFF0C\u672A\u4F7F\u7528\u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u00A0 FMOV (@)FMOV(.U) (@)FMOV.S (@)FMOV.D (@)FMOV.L (@)FMOV.F (@)FMOV.DF \u6279\u91CF\u4F20\u9001 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Src \u6307\u5B9A\u4F20\u9001\u6E90\u6570\u636E\u3002 .U .S 16 \u4F4D .D .L .F 32 \u4F4D .DF 64 \u4F4D Dst \u6307\u5B9A\u4F20\u9001\u5BF9\u8C61\u6570\u636E\u5757\u7684\u524D\u5934\u3002 .U .S 16 \u4F4D\u00D7Num .D .L .F 32 \u4F4D\u00D7Num .DF 64 \u4F4D\u00D7Num Num \u6307\u5B9A\u4F20\u9001\u4E2A\u6570\uFF08\u6570\u636E\u6570\uFF09 \uFF080~65535 \uFF1A16\u4F4D\u65E0\u7B26\u53F7\u4E8C\u8FDB\u5236\uFF09 16 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C FMOV(.U) \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4E2D\u5B58\u50A8\u768416\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3\u4EE5 Dst \u4E3A\u524D\u5934\u7684 Num \u4E2A\u5B57\u3002 \u258C FMOV.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4E2D\u5B58\u50A8\u768416\u4F4D\u5E26\u7B26\u53F7 BIN \u6570\u636E\u5B58\u50A8\u81F3\u4EE5 Dst \u4E3A\u524D\u5934\u7684 Num \u4E2A\u5B57\u3002 \u00A0 \u793A\u4F8B\uFF1ASrc: DM100, Dst: EM104, Num: #5\u65F6 \u00A0 \u258C FMOV.D \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1\uFF3D\u4E2D\u5B58\u50A8\u768432\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u4F20\u9001\u81F3\u4EE5\uFF3B Dst / Dst \u002B1\uFF3D\u4E3A\u524D\u5934\u7684\u00D72\u4E2A\u5B57\u3002 \u258C FMOV.L \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06\uFF3B Src / Src \u002B1\uFF3D\u4E2D\u5B58\u50A8\u768432\u4F4D\u5E26\u7B26\u53F7 BIN \u6570\u636E\u4F20\u9001\u81F3\u4EE5\uFF3B Dst / Dst \u002B1\uFF3D\u4E3A\u524D\u5934\u7684\u00D72\u4E2A\u5B57\u3002 \u00A0 \u793A\u4F8B\uFF1ASrc: DM100, Dst: EM104, Num: #5\u65F6 \u00A0 \u258C FMOV.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4E2D\u5B58\u50A8\u7684\u5355\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u4F20\u9001\u7ED9\u4EE5 Dst \u4E3A\u524D\u5934\u7684 Num \u00D72\u4E2A\u5B57\u3002 \u793A\u4F8B\uFF1ASrc: DM100, Dst: DM200, Num: #5\u65F6 \u00A0 \u258C FMOV.DF \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src \u4E2D\u5B58\u50A8\u7684\u500D\u7CBE\u5EA6\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u4F20\u9001\u7ED9\u4EE5 Dst \u4E3A\u524D\u5934\u7684 Num \u00D74\u4E2A\u5B57\u3002 \u793A\u4F8B\uFF1ASrc: DM100, Dst: DM200, Num: #5 \u65F6 \u00A0 \u258C \uFF20FMOV.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 Num \u6307\u5B9A\u8F83\u5927\u7684\u503C\u540E\uFF0C\u626B\u63CF\u65F6\u95F4\u4F1A\u5927\u5E45\u5EF6\u957F\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 Num \u6307\u5B9A\u4E3A\u5E38\u6570\u4EE5\u5916\uFF0C\u4F20\u9001\u5BF9\u8C61\u8D85\u8FC7\u8F6F\u5143\u4EF6\u3001\u5DE5\u4F5C\u533A\u57DF\u7684\u8303\u56F4\u65F6 \u2022 Num =0\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 Num \u4E3A\u5E38\u6570\uFF0C\u672A\u4F7F\u7528\u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_08_Instruction_DateAndTime.html","title":"\u65F6\u95F4_\u65E5\u671F\u65F6\u523B","body":"\u65F6\u95F4_\u65E5\u671F\u65F6\u523B \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 LDWK \u661F\u671F ON \u5728\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u8303\u56F4\u5185\u65F6\u4E3A ON\u3002 ANDWK \u4E0E\u661F\u671F ON \u00A0\u00A0\u00A0 ORWK \u6216\u661F\u671F ON \u00A0\u00A0\u00A0 LDWKB \u661F\u671F OFF \u5728\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u8303\u56F4\u5185\u65F6\u4E3A OFF\u3002 ANDWKB \u4E0E\u661F\u671F OFF ORWKB \u6216\u661F\u671F OFF LDWK LDWK \u661F\u671F ON ANDWK ANDWK \u4E0E\u661F\u671F ON ORWK ORWK \u6216\u661F\u671F ON LDWKB LDWKB \u661F\u671F OFF ANDWKB ANDWKB \u4E0E\u661F\u671F OFF ORWKB ORWKB \u6216\u661F\u671F OFF \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 * : \u4E2D\uFF0C**WK \u65F6\uFF0C\u5B89\u88C5\u6709 \uFF0C**WKB \u65F6\uFF0C\u5B89\u88C5\u6709 \u586B\u5199\u3002 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Src1 \u6307\u5B9A\u5F00\u59CB\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u6570\u636E\u3002 32 \u4F4D Src2 \u6307\u5B9A\u7ED3\u675F\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u6570\u636E\u3002 32 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C LDWK ANDWK ORWK \u6307\u4EE4\u7684\u672C\u8EAB\u4F5C\u4E3A\u5E38\u5F00\u63A5\u70B9\u3002\u8BE5\u63A5\u70B9\u4ECE[ Src1 / Src1 \u002B1]\u4E2D\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u5230[ Src2 / Src2 \u002B1]\u4E2D\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u671F\u95F4\u4E3A ON\u3002 \u258C LDWKB ANDWKB ORWKB \u6307\u4EE4\u672C\u8EAB\u4F5C\u4E3A\u5E38\u95ED\u63A5\u70B9\u3002\u8BE5\u63A5\u70B9\u4ECE[ Src1 / Src1 \u002B1]\u4E2D\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u5230[ Src2 / Src2 \u002B1]\u4E2D\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u671F\u95F4\u4E3A OFF\u3002 \u661F\u671F\u63A5\u70B9\u6307\u4EE4\u7684\u5E38\u6570\u8F93\u5165\u65B9\u6CD5 \u7528\u5E38\u6570\u8F93\u5165\u5230 Src1 \uFF0C Src2 \u4E2D\u7684\u65B9\u6CD5\u5982\u4E0B\u6240\u793A\u3002#\u4E0D\u80FD\u4F7F\u7528\u3002 \u00A0 \u00A0 \u7528\u5B57\u7B26\u4E32\u8F93\u5165\u65F6 \u7528\u5341\u516D\u8FDB\u5236\u6570\u8F93\u5165\u65F6 \u8F93\u5165\u683C\u5F0F \u683C\u5F0F \u201C\u661F\u671F/\u65F6 \uFF1A \u5206 \uFF1A \u79D2\u201D $\uFF08\u65F6\uFF09\uFF08\u5206\uFF09\uFF08\u79D2\uFF09\uFF08\u661F\u671F\uFF09 \u661F\u671F \uFF08\u6C49\u5B57\uFF09\u65E5\uFF5E\u516D \uFF08\u6570\u5B57\uFF090\uFF5E6 \uFF08\u82F1\u6587\u5B57\u6BCD\uFF09sun\uFF5Esat \uFF08\u6570\u5B57\uFF09$0\uFF5E$6 \u65F6 \uFF08\u6570\u5B57\uFF090\uFF5E23 \uFF08\u6570\u5B57\uFF09$0\uFF5E$17 \u5206 \uFF08\u6570\u5B57\uFF090\uFF5E59 \uFF08\u6570\u5B57\uFF09$0\uFF5E$3B \u79D2 \uFF08\u6570\u5B57\uFF090\uFF5E59 \uFF08\u6570\u5B57\uFF09$0\uFF5E$3B \u8BF4\u660E \u5728\u201C \u201D\u4E2D\u8F93\u5165\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u503C\u3002 \u661F\u671F\u548C\u65F6\u95F4\u4E4B\u95F4\u7528\u201C/\u201D\u5206\u9694\u3002 \u65F6/\u5206/\u79D2\u4E4B\u95F4\u7528\u201C\uFF1A\u201D\u5206\u9694\u3002 $ \u540E\uFF0C\u7528\u5341\u516D\u8FDB\u6570\u8F93\u5165\u661F\u671F/\u65F6\u3002 \u793A\u4F8B \u8F93\u5165\u661F\u671F\u4E00 8 \u65F6 30 \u5206 15 \u79D2\u65F6 \u0022 \u6708 / 08\uFF1A 30 \uFF1A 15 \u0022 \u0022 1 / 08\uFF1A 30 \uFF1A 15 \u0022 \u0022 mon / 08\uFF1A 30 \uFF1A 15 \u0022 \u8F93\u5165\u661F\u671F\u4E00 8 \u65F6 30 \u5206 15 \u79D2\u65F6 \uFF0481E0F01 * \u7528\u5341\u516D\u8FDB\u6570\u636E\u8F93\u5165\u65F6\uFF0C\u661F\u671F\u5728\u6700\u540E\u63CF\u8FF0\u3002 \u8BF7\u52A1\u5FC5\u5C0F\u5FC3\u3002 \u258C Src1, Src2\u7684\u683C\u5F0F \u661F\u671F\u548C\u65F6\u95F4\u53EF\u6309\u7167\u4EE5\u4E0B\u683C\u5F0F\u8FDB\u884C\u8BBE\u5B9A\u3002 \u00A0 \u683C\u5F0F \u64CD\u4F5C\u6570 1 Src1 \u002B1 Src1 \u64CD\u4F5C\u6570 2 Src2 \u002B1 Src2 \u6570\u636E\u6784\u6210 bit31\uFF5Ebit24 bit23\uFF5Ebit16 bit15\uFF5Ebit8 bit7\uFF5Ebit0 \u5185\u5BB9 \u65F6 \u5206 \u79D2 \u661F\u671F \u8BBE\u5B9A\u8303\u56F4 * 1 0\uFF5E23(\u65F6), FF *2 (24 \u4EE5\u4E0A\u65E0\u6548) 0\uFF5E59(\u5206), FF *2 (60 \u4EE5\u4E0A\u65E0\u6548) 0\uFF5E59(\u79D2), FF *2 (60 \u4EE5\u4E0A\u65E0\u6548) 0\uFF08\u661F\u671F\u65E5\uFF09\uFF5E6\uFF08\u661F\u671F\u516D\uFF09\uFF0CFF *2 \uFF087 \u4EE5\u4E0A\u65E0\u6548\uFF09 *1: \u8868\u4E2D\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u8BF4\u660E\u7528\u5341\u8FDB\u5236\u6570\u63CF\u8FF0\uFF0C\u5B9E\u9645\u4E2D\u7528\u5341\u516D\u8FDB\u5236\u6570\u5904\u7406\u3002 *2: \u00A0 \u661F\u671F/\u65F6/\u5206/\u79D2\u7684 FF \u6307\u5B9A \u8BBE\u5B9A\u793A\u4F8B \u65E5\u5386\u5B9A\u65F6\u5668\u4E2D\u5B58\u50A8\u7684\u65F6\u523B\u6570\u636E\u3001\u65F6/\u5206/\u79D2/\u661F\u671F\u5728[ Src1 / Src1 \u002B1]  \u003C= \u00A0\u65E5\u5386\u5B9A\u65F6\u5668\u4E2D\u5B58\u50A8\u7684\u65F6\u523B\u6570\u636E \u003C= [ Src2 / Src2 \u002B1]\u65F6\u4E3A ON\u3002 \u00A0 \u5728\u661F\u671F\u4E00\u768408:30:00\uFF5E\u661F\u671F\u4E94\u768417:15:00\u671F\u95F4\u5185\u4E00\u76F4\u4E3AON\u3002 \u258C \u5F00\u59CB\u3001\u7ED3\u675F\u661F\u671F\u65F6\u523B\u548C\u64CD\u4F5C \u5F00\u59CB\u3001\u7ED3\u675F\u661F\u671F\u65F6\u523B\u8BBE\u5B9A \u52A8\u4F5C [Src1 \u30FB Src1\u002B1]\u003C[Src2 \u30FB Src2\u002B1] \u4ECE\u5F00\u59CB\u5230\u7ED3\u675F\u661F\u671F\u65F6\u95F4\u4E4B\u95F4\u4E3A ON\u3002 [Src1 \u30FB Src1\u002B1]=[Src2 \u30FB Src2\u002B1] \u4EC5\u5F00\u59CB\u661F\u671F\u65F6\u95F4\u4E3A ON\u3002 [Src1 \u30FB Src1\u002B1]\u003E[Src2 \u30FB Src2\u002B1] \u4ECE\u5F00\u59CB\u661F\u671F\u65F6\u95F4\u5230\u7ED3\u675F\u661F\u671F\u65F6\u95F4\u4E3A ON\u3002 \u4F8B1.\u5F00\u59CB \uFF1A\u661F\u671F\u4E0008:30:00\u7ED3\u675F \uFF1A\u661F\u671F\u4E09 07:30:00\u661F\u671F\u4E0008:30:00~\u661F\u671F\u4E0907:30:00 \u4E4B\u95F4\u4E3A ON\u3002 \u4F8B2.\u5F00\u59CB \uFF1A\u661F\u671F\u65E510:00:00\u7ED3\u675F \uFF1A\u661F\u671F\u65E510:00:00\u4EC5\u661F\u671F\u65E510:00:00 \u4E3A ON\u3002\uFF08\u7EA6 1 \u79D2\uFF09 \u4F8B3.\u5F00\u59CB \uFF1A\u661F\u671F\u516D08:15:00\u7ED3\u675F \uFF1A\u661F\u671F\u4E0008:30:00\u661F\u671F\u516D08:15:00~\u661F\u671F\u4E0008:30:00 \u4E4B\u95F4\u4E3A ON\u3002 \u258C \u661F\u671F/\u65F6/\u5206/\u79D2\u7684 FF \u6307\u5B9A \u6307\u5B9A\u661F\u671F/\u65F6/\u5206/\u79D2\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528 FF\u8868\u793A\u7279\u6B8A\u7684\u542B\u4E49\u3002 (1) \u7701\u7565\u9879\u76EE\uFF08\u661F\u671F/\u65F6/\u5206/\u79D2\uFF09\u7684\u503C\u3002 \u793A\u4F8B\uFF1A\u661F\u671F\u4E00 23 \u65F6 \uFF5E \u661F\u671F\u56DB 17 \u65F6\u671F\u95F4\u4E3A ON \u661F\u671F\u4E00/23:FF:FF\uFF5E\u661F\u671F\u56DB/17:FF:FF (=\u661F\u671F\u4E00/23:00:00\uFF5E\u661F\u671F\u56DB/17:59:59) \u793A\u4F8B\uFF1A\u661F\u671F\u4E00 \uFF5E \u661F\u671F\u4E94\u671F\u95F4\u4E3A ON \u661F\u671F\u4E00/FF:FF:FF\uFF5E\u661F\u671F\u4E94/FF:FF:FF (=\u661F\u671F\u4E00/00:00:00\uFF5E\u661F\u671F\u4E94/23:59:59) \u00A0 FF \u6307\u5B9A\u7684\u5F00\u59CB\u65F6\u5206\u79D2\u770B\u4F5C\u6700\u5C0F\u65F6\u95F4(00:00:00)\uFF0C\u7ED3\u675F\u65F6\u5206\u79D2\u770B\u4F5C\u6700\u5927\u65F6\u95F4(23:59:59)\u3002 \u00A0 (2) \u4E0D\u8003\u8651\u9879\u76EE\uFF08\u661F\u671F/\u65F6/\u5206/\u79D2\uFF09\u7684\u503C\u3002 \u793A\u4F8B\uFF1A\u6BCF\u5929 08:30 \uFF5E 17:15 \u671F\u95F4\u4E3A ON FF/08\uFF1A30\uFF1A00\uFF5EFF/17\uFF1A15\uFF1A00 \u793A\u4F8B\uFF1A\u6BCF\u65F6 10 \u5206\uFF5E15 \u5206\u671F\u95F4\u4E3A ON FF/FF\uFF1A10\uFF1A00\uFF5EFF/FF\uFF1A15\uFF1A00 \u258C FF \u6307\u5B9A\u7684\u79CD\u7C7B FF \u6307\u5B9A\u53EA\u53EF\u5728\u4EE5\u4E0B 6 \u4E2A\u79CD\u7C7B\u4E2D\u8BBE\u5B9A\u3002 Src1 Src2 \u8BF4\u660E FF/\u25A1\uFF1A\u25A1\uFF1A\u25A1 FF/\u25A1\uFF1A\u25A1\uFF1A\u25A1 FF \u6307\u5B9A\u661F\u671F\u3002 FF/FF\uFF1A\u25A1\uFF1A\u25A1 FF/FF\uFF1A\u25A1\uFF1A\u25A1 FF \u6307\u5B9A\u661F\u671F/\u65F6\u3002 FF/FF\uFF1AFF\uFF1A\u25A1 FF/FF\uFF1AFF\uFF1A\u25A1 FF \u6307\u5B9A\u661F\u671F/\u65F6/\u5206\u3002 \u25A1/\u25A1\uFF1A\u25A1\uFF1AFF \u25A1/\u25A1\uFF1A\u25A1\uFF1AFF FF \u6307\u5B9A\u79D2\u3002 \u25A1/\u25A1\uFF1AFF\uFF1AFF \u25A1/\u25A1\uFF1AFF\uFF1AFF FF \u6307\u5B9A\u5206/\u79D2\u3002 \u25A1/FF\uFF1AFF\uFF1AFF \u25A1/FF\uFF1AFF\uFF1AFF FF \u6307\u5B9A\u65F6/\u5206/\u79D2\u3002 \u00A0 Src1 \u548C Src2 \u7684 FF \u6307\u5B9A\uFF0C\u8BF7\u8BBE\u4E3A\u76F8\u540C\u79CD\u7C7B\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 Src1 ,  Src2 \u6240\u6307\u5B9A\u7684\u661F\u671F/\u65F6/\u5206/\u79D2\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u65F6\u3001\u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u4EE5\u53CA\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u6210\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u63A5\u70B9\u4E3A OFF\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_09_Instruction_BufferMemory.html","title":"\u7F13\u51B2\u5B58\u50A8\u5668","body":"\u7F13\u51B2\u5B58\u50A8\u5668 \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 UREAD \u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6 \u8BFB\u53D6\u6307\u5B9A\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6570\u636E UWRIT \u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165 \u5411\u6307\u5B9A\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u6570\u636E UREAD (@)UREAD(.U) (@)UREAD.S (@)UREAD.D (@)UREAD.L (@)UREAD.F \u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Num1 \u6307\u5B9A\u5355\u5143\u7F16\u53F7\u6216\u5176\u5B58\u50A8\u4F4D\u7F6E\u3002\u65E0\u6CD5\u901A\u8FC7\u201C$\u201D\u6307\u5B9A\u3002 16 \u4F4D Num2 \u6307\u5B9A\u8BFB\u53D6\u6570\u636E\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u3002 16 \u4F4D Dst \u6307\u5B9A\u5B58\u50A8\u8BFB\u53D6\u5230\u7684\u6570\u636E\u7684\u524D\u5934\u3002 .U .S 16 \u4F4D\u00D7Num3 .D .L .F 32 \u4F4D\u00D7Num3 Num3 \u6307\u5B9A\u8981\u8BFB\u51FA\u7684\u6570\u636E\u6570\u3002 16 \u4F4D * : \u6307\u5B9A60000\u4EE5\u4E0A\u7684\u5730\u5740\u7F16\u53F7\u65F6\uFF0C\u5E94\u4F7F\u7528UnitBufMemRead\u3002 UnitBufMemRead \u64CD\u4F5C\u8BF4\u660E \u5C06\u6269\u5C55\u7279\u6B8A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5185\u7684\u6570\u636E\u8BFB\u53D6\u5230\u5B58\u50A8\u4F4D\u7F6E\u3002 \u5173\u4E8E\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u5185\u5BB9\uFF0C\u8BF7\u53C2\u89C1\u5404\u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u258C UREAD(.U), UREAD.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u4ECE\u7B2C Num1 \u53F7\u6269\u5C55\u5355\u5143\u5185\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684 Num2 \u6240\u6307\u5B9A\u7684\u5730\u5740\uFF0C\u8BFB\u53D6 Num3 \u4E2A\u5B57\u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u524D\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u258C UREAD.D, UREAD.L, UREAD.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u4ECE\u7B2C Num1 \u53F7\u6269\u5C55\u5355\u5143\u5185\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684 Num2 \u6240\u6307\u5B9A\u7684\u5730\u5740\uFF0C\u8BFB\u53D6 Num3 \u00D72\u4E2A\u5B57\u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u524D\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u258C \uFF20UREAD.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u60C5\u51B5\u65F6\uFF0CON\u3001\u5176\u5B83\u60C5\u51B5\u65F6\uFF0COFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u6216\u8005\u5728\u95F4\u63A5\u6307\u5B9A\u4E2D\u6307\u5B9A\u4E86\u901A\u9053\u7684\u5F00\u5934\u4EE5\u5916\u90E8\u5206 \u2022 Num1 \u6240\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u4E3A 49 \u4EE5\u4E0A\u65F6 \u2022 \u5728 Num2 \u548C Num 3 \u4E2D\u6307\u5B9A\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740\u8D85\u51FA\u4E86\u8303\u56F4 \u2022 Dst \u53CA Num3 \u6240\u6307\u5B9A\u7684\u8303\u56F4\u8D85\u8FC7\u4E0A\u9650\u65F6 \u2022 Num1 \u6307\u5B9A\u4E86\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u4E2D\uFF0C\u4E0D\u5B58\u5728\u7F13\u51B2\u5B58\u50A8\u5668\u65F6 \u2022 \u672A\u8FDE\u63A5\u4EE5 Num1 \u6307\u5B9A\u7684\u5355\u5143\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 UWRIT (@)UWRIT(.U) (@)UWRIT.S (@)UWRIT.D (@)UWRIT.L (@)UWRIT.F \u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F* Num1 \u6307\u5B9A\u5355\u5143\u7F16\u53F7\u6216\u5B58\u50A8\u5355\u5143\u7F16\u53F7\u7684\u53C2\u7167\u5BF9\u8C61\u3002\u65E0\u6CD5\u901A\u8FC7\u201C$\u201D\u6307\u5B9A\u3002 16 \u4F4D Num2 \u6307\u5B9A\u5199\u5165\u6570\u636E\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8D77\u59CB\u5730\u5740\u7F16\u53F7\u3002 16 \u4F4D Src \u6307\u5B9A\u5199\u5165\u6570\u636E\u6216\u5B58\u50A8\u5199\u5165\u6570\u636E\u7684\u524D\u5934\u3002 .U .S 16 \u4F4D\u00D7Num3 .D .L .F 32 \u4F4D\u00D7Num3 Num3 \u6307\u5B9A\u5199\u5165\u6570\u636E\u6570\u91CF\u3002 16 \u4F4D * : \u6307\u5B9A60000\u4EE5\u4E0A\u7684\u5730\u5740\u7F16\u53F7\u65F6\uFF0C\u5E94\u4F7F\u7528UnitBufMemWrite\u3002 UnitBufMemWrite \u64CD\u4F5C\u8BF4\u660E \u5411\u6269\u5C55\u7279\u6B8A\u5355\u5143\u7684\u6307\u5B9A\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u533A\u57DF\u5199\u5165\u6570\u636E\u3002 \u5173\u4E8E\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u5185\u5BB9\uFF0C\u8BF7\u53C2\u89C1\u5404\u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u258C UWRIT(.U), UWRIT.S \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5411\u4EE5\u7B2C Num1 \u53F7\u6269\u5C55\u5355\u5143\u5185\u7684 Num2 \u6240\u6307\u5B9A\u7684\u5730\u5740\u4E3A\u524D\u5934\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u533A\u57DF\uFF0C\u5199\u5165\u4EE5 Src \u4E3A\u524D\u5934\u7684 Num3 \u4E2A\u5B57\u7684\u6570\u636E\u3002 \u258C UWRIT.D, UWRIT.L, UWRIT.F \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5411\u4EE5\u7B2C Num 1 \u53F7\u6269\u5C55\u5355\u5143\u5185\u7684 Num 2 \u6240\u6307\u5B9A\u7684\u5730\u5740\u4E3A\u524D\u5934\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u533A\u57DF\uFF0C\u5199\u5165\u4EE5 Src \u4E3A\u524D\u5934 Num3 \u00D72\u4E2A\u5B57\u7684\u6570\u636E\u3002 \u258C \uFF20UWRIT.\u25A1 \u4EC5\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C 1 \u6B21\u626B\u63CF\u3002 \u00A0 \u00A0 Src \u4E2D\u6307\u5B9A\u4E86\u5E38\u6570\u65F6\uFF0C\u5C06\u6307\u5B9A\u4E86\u7684\u503C\u5199\u5165\u5230\u5168\u90E8\u7A7A\u95F4\u4E2D\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u60C5\u51B5\u65F6\uFF0CON\u3001\u5176\u5B83\u60C5\u51B5\u65F6\uFF0COFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u6216\u8005\u5728\u95F4\u63A5\u6307\u5B9A\u4E2D\u6307\u5B9A\u4E86\u901A\u9053\u7684\u5F00\u5934\u4EE5\u5916\u90E8\u5206 \u2022 Num1 \u6240\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u4E3A 49 \u4EE5\u4E0A\u65F6 \u2022 \u5728 Num2 \u548C Num 3 \u4E2D\u6307\u5B9A\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740\u8D85\u51FA\u4E86\u8303\u56F4 \u2022 Src \u53CA Num3 \u6240\u6307\u5B9A\u7684\u8303\u56F4\u8D85\u8FC7\u4E0A\u9650\u65F6 \u2022 Num1 \u6307\u5B9A\u4E86\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u4E2D\uFF0C\u4E0D\u5B58\u5728\u7F13\u51B2\u5B58\u50A8\u5668\u65F6 \u2022 \u672A\u8FDE\u63A5\u4EE5 Num1 \u6307\u5B9A\u7684\u5355\u5143\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002"},{"link":"./02_10_Instruction_Flow.html","title":"\u6D41\u7A0B","body":"\u6D41\u7A0B \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 MC \u4E3B\u63A7\u7A0B\u5E8F \u663E\u793A\u4E3B\u63A7\u7A0B\u5E8F\u8303\u56F4\u7684\u5F00\u59CB\u3002 MCR \u4E3B\u63A7\u7A0B\u5E8F\u590D\u4F4D \u663E\u793A\u4E3B\u63A7\u7A0B\u5E8F\u8303\u56F4\u7684\u7ED3\u675F\u3002 CALL \u5B50\u7A0B\u5E8F\u8C03\u7528 \u6267\u884C\u6307\u5B9A\u7684\u5B50\u7A0B\u5E8F\u3002 SBN \u5B50\u7A0B\u5E8F\u5165\u53E3 \u8868\u793A\u5B50\u7A0B\u5E8F\u7684\u5F00\u59CB\u3002 RET \u5B50\u7A0B\u5E8F\u8FD4\u56DE \u7ED3\u675F\u5B50\u7A0B\u5E8F\u3002 FOR \u4E3A 1\u6B21\u626B\u63CF\u4E2D\uFF0C\u4EC5\u4EE5\u6307\u5B9A\u7684\u6B21\u6570\uFF0C\u91CD\u590D\u6267\u884CFOR~NEXT\u6307\u4EE4\u95F4\u3002 NEXT \u4E0B\u4E00\u4E2A \u8868\u793A\u5FAA\u73AF\u8303\u56F4\u7684\u6700\u540E\u3002 BREAK \u4E2D\u65AD \u4E2D\u65AD\u5F3A\u884C\u7ED3\u675FFOR~NEXT\u6307\u4EE4\u7684\u6267\u884C\u3002 CJ \u6761\u4EF6\u5206\u652F \u8DF3\u8F6C\u5230LABEL\u6307\u4EE4 \u00A0\u00A0\u00A0 NCJ GOTO \u65E0\u6761\u4EF6\u5206\u652F \u65E0\u6761\u4EF6\u8DF3\u8F6C\u5230LABEL\u6307\u4EE4\u3002 LABEL \u6807\u53F7 \u8BBE\u5B9ACJ\u6307\u4EE4\u3001GOTO\u6307\u4EE4\u7684\u8DF3\u8F6C\u76EE\u6807\u3002 MC MC \u4E3B\u63A7\u7A0B\u5E8F MCR MCR \u4E3B\u63A7\u7A0B\u5E8F\u590D\u4F4D \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u64CD\u4F5C\u8BF4\u660E \u4E3B\u63A7\u7A0B\u5E8F\u662F\u6307\u5728\u56DE\u8DEF\u7684\u5DE6\u6BCD\u7EBF\u8BBE\u7F6E\u63A5\u70B9\uFF0C\u901A\u8FC7\u5176 ON/OFF \u6765\u5207\u6362\u6267\u884C\u7A0B\u5E8F\u5757\u7684\u65B9\u6CD5\u3002\u56DE\u8DEF\u7684\u6982\u5FF5\u56FE\u5982\u4E0B\u6240\u793A\u3002 \u00A0 * : \u5982\u679C\u8F93\u5165\u7EE7\u7535\u5668R000 OFF\uFF0C\u5219\u8BE5\u90E8\u5206 OFF \u00A0 \u2022 MC \u6307\u4EE4\u8868\u793A\u4E3B\u63A7\u7A0B\u5E8F\u8303\u56F4\u5F00\u59CB\u7684\u6307\u4EE4\u3002 \u2022 MCR \u6307\u4EE4\u8868\u793A\u4E3B\u63A7\u7A0B\u5E8F\u8303\u56F4\u7ED3\u675F\u7684\u6307\u4EE4\u3002 \u2022 \u5982\u679C MC \u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u4E3A ON\uFF0C\u5219\u4E0E\u666E\u901A\u7A0B\u5E8F\uFF08MC~MCR \u6307\u4EE4\u4EE5\u5916\uFF09\u4E00\u6837\uFF0C\u6267\u884C MC~MCR \u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u3002 \u2022 \u5982\u679C MC \u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u4E3A OFF\uFF0C\u5219\u5728\u6267\u884C\u6761\u4EF6OFF\u7684\u72B6\u6001\u4E0B\uFF0C\u6267\u884CMC\uFF5EMCR\u6307\u4EE4\u95F4\u7684\u6307\u4EE4\u3002 \u4F46\u662F\uFF0C\u4EE5\u4E0B\u6307\u4EE4\u4F8B\u5916\u3002 \u6307\u4EE4 \u72B6\u6001 OUB\u6307\u4EE4 OFF OFDL\u6307\u4EE4 \u590D\u4F4D SHOT\u6307\u4EE4 C\u6307\u4EE4 \u72B6\u6001\u4FDD\u6301 CJ/NCJ/GOTO\u6307\u4EE4 \u65E0\u5206\u652F \u2022 MC\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6OFF\u65F6\uFF0C\u663E\u793A\u5982\u4E0B\u3002 \u00A0 \u2022 \u5982\u4E0B\u6240\u793A\uFF0CMC~MCR \u6307\u4EE4\u95F4\u7684\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u548C MC~MCR \u6307\u4EE4\u5916\u7684\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u4E3A\u53CC\u7EBF\u5708\u3002\u56E0\u6B64\uFF0C\u540E\u9762\u90A3\u4E2A\u5904\u4E8E\u4F18\u5148\u5730\u4F4D\u3002 \u00A0 * : \u8BE5\u9879\u4F18\u5148\u3002 \u2022 MC~MCR \u6307\u4EE4\u53EF\u4E0E\u5176\u5B83 MC~MCR \u6307\u4EE4\u3001CJ/NCJ/GOTO~ LABEL \u6307\u4EE4\u3001FOR~NEXT \u6307\u4EE4\u7EC4\u5408\u4F7F\u7528\u3002 \u4E0E\u5176\u5B83 MC~MCR \u6307\u4EE4\u7EC4\u5408\u65F6 MC~MCR \u6307\u4EE4\u95F4\u7EC4\u5408\u5176\u5B83 MC~MCR \u6307\u4EE4\u3002 (15 \u6BB5\u5D4C\u5957\u3002) \u00A0 \u5728\u6307\u4EE4\u7684\u524D\u540E\uFF0C\u7EC4\u5408\u5176\u5B83 MC~MCR \u6307\u4EE4\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002 \u793A\u4F8B\u7A0B\u5E8F \u8F93\u5165\u7EE7\u7535\u5668R000\u548C\u5185\u90E8\u8F85\u52A9\u7EE7\u7535\u5668R1000\u5747\u4E3AON\u65F6\uFF0C\u901A\u8FC7R001\u7684ON/OFF\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668\u7684R500\u968F\u4E4BON/OFF\uFF08R001ON\u65F6\uFF0CR500\u968F\u4E4BON\uFF0CR001OFF\u65F6\uFF0CR500\u968F\u4E4BOFF\uFF09\u3002 \u5982\u679C R000\u548C R1000\u4E2D\u7684\u4EFB\u4E00\u4E2A\uFF08\u6216\u53CC\u65B9\uFF09OFF\uFF0C\u5219\u4E0D\u7BA1 R001 \u7684\u72B6\u6001\uFF0CR500 \u5747\u4FDD\u6301 OFF\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD R000 AND R1000 MC LD R001 OUT R500 MCR CALL CALL \u5B50\u7A0B\u5E8F\u8C03\u7528 SBN SBN \u5B50\u7A0B\u5E8F\u5165\u53E3 RET RET \u5B50\u7A0B\u5E8F\u8FD4\u56DE \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num \u6307\u5B9A\u5B50\u7A0B\u5E8F\u7F16\u53F7\uFF080\uFF5E99\uFF09\u3002 *1 \uFF0D * : \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u4EE5\u53CA\u8BBE\u5B9A\u4E3A\u5E38\u6570\u7684\u53D8\u91CF\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C CALL \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5219 Num \u6BCF\u6B21\u626B\u63CF\u6267\u884C\u6307\u5B9A\u7684\u5B50\u7A0B\u5E8F\u3002 \u258C SBN \u8868\u793A\u5B50\u7A0B\u5E8F\u7684\u5F00\u59CB\u3002\u5B50\u7A0B\u5E8F\u7F16\u53F7\u5728 Num \u4E2D\u6307\u5B9A\u3002 SBN \u6307\u4EE4\u7684\u5B50\u7A0B\u5E8F\u7F16\u53F7\u4E0D\u80FD\u91CD\u590D\uFF08\u53EF\u4E0ECALL \u6307\u4EE4\u4E2D\u7684\u5B50\u7A0B\u5E8F\u7F16\u53F7\u91CD\u590D\uFF09\u3002 \u5728 END~ENDH \u6307\u4EE4\u95F4\u7F16\u7A0B\u3002 \u258C RET \u8868\u793A\u5B50\u7A0B\u5E8F\u7684\u7ED3\u675F\u3002 \u00A0 \u4E3B\u7A0B\u5E8F\u6267\u884C\u4E2D\uFF0C\u6267\u884C CALL 000 \u65F6\uFF0C\u6267\u884C\u5B50\u7A0B\u5E8F\u3002 \u5B50\u7A0B\u5E8F\u6267\u884C\u5B8C\u6BD5\u65F6\uFF0C\u8FD4\u56DE\u5230 CALL 000 \u6307\u4EE4\u7684\u4E0B\u4E00\u4E2A\u7A0B\u5E8F(B) \uFF0C\u6267\u884C\u4E3B\u7A0B\u5E8F\uFF0C\u76F4\u5230 END \u6307\u4EE4\u4E3A\u6B62\u3002 \u00A0 \u00A0 \u2022 \u6267\u884C\u5B50\u7A0B\u5E8F\u65F6\uFF0C\u4EC5\u8BE5\u6267\u884C\u65F6\u95F4\u7684\u626B\u63CF\u65F6\u95F4\u53D8\u957F\u3002 \u2022 \u5728\u5B50\u7A0B\u5E8F\u5185\u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u3001\u5B9A\u65F6\u5668\u6307\u4EE4\uFF0C\u8BF7\u4E88\u4EE5\u6CE8\u610F\u3002 \u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u4F7F\u7528\u5B9A\u65F6\u5668\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u201D\u3002 \u672A\u6267\u884C CALL \u6307\u4EE4\u65F6\uFF08\u8F93\u5165 R000=OFF\uFF09 \u00A0 \u6267\u884C CALL \u6307\u4EE4\u65F6\uFF08\u8F93\u5165 R000=ON\uFF09 \u00A0 \u258C \u5173\u4E8E\u5B50\u7A0B\u5E8F\u7684\u5D4C\u5957\u7ED3\u6784 \u5B50\u7A0B\u5E8F\u51FD\u6570\u6700\u5D4C\u5957 16 \u6BB5\u3002\uFF08\u5D4C\u5957\u7ED3\u6784\uFF09\u3002 \u00A0 \u00A0 \u5B50\u7A0B\u5E8F\u7684\u5D4C\u5957\u8D85\u8FC717\u6BB5\u65F6\uFF0C\u51FA\u73B0PLC\u4E3B\u673A\u9519\u8BEF10\uFF0C\u8FD0\u8F6C\u505C\u6B62\u3002 \u00A0 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7A0B\u5E8F\u8D44\u4EA7\u5316 FOR FOR \u4E3A NEXT NEXT \u4E0B\u4E00\u4E2A BREAK BREAK \u4E2D\u65AD \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A FOR~NEXT \u6307\u4EE4\u5185\u7A0B\u5E8F\u7684\u5FAA\u73AF\u6B21\u6570\u3002 FOR\uFF08U\uFF09\u53EF\u5728 0~65535 \u7684\u8303\u56F4\u5185\u6307\u5B9A\uFF0CFOR.D\u53EF\u57280~4294967295 \u7684\u8303\u56F4\u5185\u6307\u5B9A\u3002 .U 16 \u4F4D .D 32 \u4F4D \u64CD\u4F5C\u8BF4\u660E \u258C FOR(.U) \u2022 FOR~NEXT\u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F Src \u4E2D\u6307\u5B9A\u7684\u6B21\u6570\uFF0C\u57281\u6B21\u626B\u63CF\u5185\u91CD\u590D\u6267\u884C\u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u3002 \u2022 FOR\u6307\u4EE4\u65E0\u6761\u4EF6\u88AB\u6267\u884C\u3002\u4E0D\u6267\u884C\u65F6\uFF0C\u8BF7\u5728 Src \u4E2D\u6307\u5B9A 0\u3002 \u258C FOR.D \u2022 FOR~NEXT\u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F[ Src / Src \u002B1]\u4E2D\u6307\u5B9A\u7684\u6B21\u6570\uFF0C\u57281\u6B21\u626B\u63CF\u5185\u91CD\u590D\u6267\u884C\u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u3002 \u2022 FOR\u6307\u4EE4\u65E0\u6761\u4EF6\u88AB\u6267\u884C\u3002\u4E0D\u6267\u884CFOR~NEXT\u95F4\u7A0B\u5E8F\u65F6\uFF0C\u8BF7\u5728[ Src / Src \u002B1]\u4E2D\u6307\u5B9A0\u3002 \u258C NEXT \u6307\u5B9A\u6B21\u6570\u6267\u884C\u540E\uFF0C\u4ECENEXT\u6307\u4EE4\u7684\u4E0B\u4E00\u4E2A\u6B65\u7684\u6307\u4EE4\u5F00\u59CB\u6267\u884C\u3002 \u258C BREAK \u2022 \u6267\u884C\u6761\u4EF6\u4E3AON\u65F6\uFF0C\u5728\u8981\u5F3A\u5236\u7ED3\u675FFOR~NEXT\u6307\u4EE4\u95F4\u7684\u91CD\u590D\u6267\u884C\u65F6\u4F7F\u7528\u3002 \u2022 BREAK\u6307\u4EE4\u8BF7\u52A1\u5FC5\u5728FOR\u6307\u4EE4\u5230NEXT\u6307\u4EE4\u95F4\u63CF\u8FF0\u3002 \u2022 1\u4E2AFOR~NEXT\u6307\u4EE4\u95F4\u4E2D\uFF0C\u53EF\u4F7F\u7528\u591A\u8FBE16\u4E2ABREAK\u6307\u4EE4\u3002FOR~NEXT\u6307\u4EE4\u4E3A\u5D4C\u5957\uFF08\u5D4C\u5957\uFF09\u7ED3\u6784\u65F6\uFF0C\u6574\u4E2A\u5D4C\u5957\u4E2D\u53EF\u4F7F\u7528\u591A\u8FBE16\u4E2A\u7684BREAK\u6307\u4EE4\u3002 \u793A\u4F8B\uFF1A\u5D4C\u5957\u7ED3\u6784 \u00A0 \u2022 \u6267\u884C\u201C\u5D4C\u59571\u201D5\u6B21\uFF0C\u79FB\u52A8\u5230\u7A0B\u5E8F(4)\u3002 \u56E0\u6B64\uFF0C\u7A0B\u5E8F(1)\u88AB\u6267\u884C 5 \u6B21\u3002 \u2022 \u6267\u884C\u201C\u5D4C\u59571\u201D1\u6B21\uFF0C\u201C\u5D4C\u59572\u201D4\u6B21\u3002 \u56E0\u6B64\uFF0C\u7A0B\u5E8F(2)\u5171\u8BA1\u88AB\u6267\u884C\uFF085\u00D74=\uFF0920 \u6B21\u3002 \u2022 \u6267\u884C\u201C\u5D4C\u59572\u201D1\u6B21\uFF0C\u201C\u5D4C\u59573\u201D3\u6B21\u3002 \u56E0\u6B64\uFF0C\u7A0B\u5E8F(3)\u5171\u8BA1\u88AB\u6267\u884C\uFF085\u00D74\u00D73=\uFF0960 \u6B21\u3002 \u00A0 \u2022 \u5D4C\u5957\u8D85\u8FC717\u6BB5\u65F6\uFF0C\u51FA\u73B0\u201CFOR~NEXT\u9519\u8BEF\u201D\uFF0C\u65E0\u6CD5\u6267\u884C\u3002 \u2022 \u91CD\u590D\u6B21\u6570\u8FC7\u591A\uFF0C\u626B\u63CF\u65F6\u95F4\u8D85\u8FC7300ms\u65F6\uFF0C\u51FA\u73B0\u201C\u8D85\u51FA\u626B\u63CF\u65F6\u95F4\u201D\u9519\u8BEF\uFF0C\u65E0\u6CD5\u6267\u884C\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u95F4\u63A5\u6307\u5B9A\u6216\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6\u3001\u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u4E3A ON\uFF0C\u5426\u5219\u4E3A OFF\u3002 \u672A\u6307\u5B9A\u4E3A\u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u65F6\uFF0C\u4EE5\u53CA\u4E0D\u6267\u884C\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u7684\u6821\u9A8C\u65F6\u65E0\u53D8\u5316\u3002 \u00A0 CR2012 ON\u65F6\uFF0CFOR~NEXT\u6307\u4EE4\u95F4\u7684\u7A0B\u5E8F\u4E0D\u6267\u884C\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u5BF9\u4E8E\u6570\u636E\u5B58\u50A8\u5668DM0\uFF5EDM99\u4E2D\u5B58\u50A8\u768416\u4F4D\u65E0\u7B26\u53F7 BIN \u6570\u636E\u6267\u884C\u52A0\u6CD5\u8FD0\u7B97\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u81F3 DM100\u3002\u4ECEDM0\u5F00\u59CB\u4F9D\u6B21\u5BF9\u6570\u636E\u8FDB\u884C\u52A0\u6CD5\u8FD0\u7B97\uFF0C\u7ED3\u679C\u8D85\u51FA1000\u65F6\uFF0C\u4E2D\u6B62\u8FD0\u7B97\u3002\u5E76\u628A\u5728\u7B2C\u51E0\u4E2A\u6570\u636E\u5757\u4E2D\u6B62\u7684\u60C5\u51B5\u5B58\u50A8\u5230DM101\u4E2D\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD CR2002 MOV.L \u002B0 Z1 MOV #0 DM101 FOR #100 LD CR2002 CAL\u002B DM0:Z1 DM100 DM100 CAL\u002B DM101 #1 DM101 CAL\u002B.L Z1 \u002B1 Z1 LD\u003E DM100 #1000 BREAK NEXT CJ CJ \u6761\u4EF6\u5206\u652F NCJ NCJ GOTO GOTO \u65E0\u6761\u4EF6\u5206\u652F LABEL LABEL \u6807\u53F7 \u68AF\u5F62\u56FE\u7A0B\u5E8F o \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num \u6307\u5B9A\u6807\u53F7\u7684\u7F16\u53F7\u3002\uFF080\uFF5E999\uFF09 *1 \uFF0D * : \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u4EE5\u53CA\u8BBE\u5B9A\u4E3A\u5E38\u6570\u7684\u53D8\u91CF\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C CJ \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u8F6C\u79FB\u5230 Num \u6307\u5B9A\u7684\u6709LABEL\u6307\u4EE4\u7684\u884C\u3002 \u258C NCJ \u6267\u884C\u6761\u4EF6\u4E3A OFF \u65F6\uFF0C\u8F6C\u79FB\u5230 Num \u6307\u5B9A\u7684\u6709LABEL\u6307\u4EE4\u7684\u884C\u3002 \u258C GOTO \u65E0\u6761\u4EF6\u8F6C\u79FB\u5230 Num \u6307\u5B9A\u7684\u6709LABEL\u6307\u4EE4\u7684\u884C\u3002 \u258C LABEL \u6307\u5B9A CJ \u6307\u4EE4\u3001NCJ \u6307\u4EE4\u6216 GOTO \u6307\u4EE4\u7684\u8DF3\u8F6C\u76EE\u6807\u64CD\u4F5C\u6570\u3002 \u793A\u4F8B\uFF1A\u8DF3\u8F6C\u52A8\u4F5C \u6267\u884C\u6761\u4EF6 ON \u65F6\uFF0C\u8DF3\u8F6C\u5230 CJ \u6307\u4EE4\u6307\u5B9A\u7684 LABEL \u6307\u4EE4 #10\uFF0C\u6267\u884C(1)\u2192(2)\u7A0B\u5E8F\u3002 \u6267\u884C\u6761\u4EF6 OFF \u65F6\uFF0C\u8DF3\u8F6C\u5230 GOTO \u6307\u4EE4\u6307\u5B9A\u7684 LABEL \u6307\u4EE4 #20\uFF0C\u6267\u884C(2)\u7A0B\u5E8F\u3002 \u00A0 \u00A0 \u2022 \u672A\u6267\u884C\u7684CJ\u6307\u4EE4/NCJ\u6307\u4EE4/GOTO\u6307\u4EE4\u5230LABEL\u6307\u4EE4\u95F4\uFF0C\u4E0D\u5F71\u54CD\u626B\u63CF\u65F6\u95F4\u3002 \u2022 \u5728 CJ \u6307\u4EE4/NCJ \u6307\u4EE4/GOTO \u6307\u4EE4\u4E2D\uFF0C\u4ECE\u6267\u884C\u4E2D\u7684\u6BB5\u8DF3\u5230\u65B0\u7684\u6BB5\u65F6\uFF0C\u8BF7\u6CE8\u610F\u4E0D\u8981\u8D85\u51FA\u5FAA\u73AF\u65F6\u95F4\uFF08\u626B\u63CF\u65F6\u95F4\u8D85\u8FC7 300ms\uFF09\u3002 \u00A0 \u2022 CJ\u6307\u4EE4/NCJ\u6307\u4EE4/GOTO\u6307\u4EE4\u5230LABEL\u6307\u4EE4\u95F4\uFF0C\u4F7F\u7528\u5FAE\u5206\u7C7B\u578B\u6267\u884C\u6307\u4EE4\u3001\u5B9A\u65F6\u5668\u6307\u4EE4\uFF0C\u6709\u5FC5\u8981\u4E88\u4EE5\u6CE8\u610F\u3002 \u4F7F\u7528\u5DEE\u5206\u6267\u884C\u578B\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u656C\u8BF7\u53C2\u9605\u6240\u4F7F\u7528\u7684 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u7684\u201C\u4F7F\u7528\u5B9A\u65F6\u5668\u6307\u4EE4\u65F6\u7684\u6CE8\u610F\u4E8B\u9879\u201D\u3002 \u2022 \u4E0D\u80FD\u8DE8\u8D8ASBN~RET\u6307\u4EE4\u8DF3\u8F6C\u3002 \u2022 \u4E0D\u80FD\u8DE8\u8D8A\u6A21\u5757\u8DF3\u8F6C\u3002 \u2022 \u5728 FOR~NEXT \u6307\u4EE4\u4E4B\u95F4\u4F7F\u7528 CJ \u6307\u4EE4\u65F6\uFF0C\u8BF7\u5728\u540C\u4E00FOR~NEXT \u4E4B\u95F4\u4E00\u5E76\u7F16\u7A0B LABEL\u6307\u4EE4\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u6B64\u6307\u4EE4\u4E0D\u4F1A\u4F7F\u8FD0\u7B97\u6807\u5FD7\u53D1\u751F\u53D8\u5316\u3002 \u793A\u4F8B\u7A0B\u5E8F \u8F93\u5165\u7EE7\u7535\u5668 R000 \u4E3A ON \u65F6\uFF0C\u8F93\u51FA\u7EE7\u7535\u5668 R500 \u6BCF\u9694 2 \u79D2\u81EA\u52A8\u53D8\u4E3A ON\uFF0C\u63A5\u4E0B\u6765 R501 \u6BCF\u9694 3 \u79D2\u53D8\u4E3AON\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD R000 DIFU R1000 CON AND R1000 SET R1001 LD R1001 ANB T0 OUT R500 LD R1001 TMR #0 #20 LD T0 CJ #1 GOTO #2 LABEL #1 LDB T1 OUT R501 LD R1001 TMR #1 #30 LD T1 RES R1001 LABEL #2"},{"link":"./02_11_Instruction_Sensor.html","title":"\u4F20\u611F\u5668","body":"\u4F20\u611F\u5668 \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 SPRD \u8BFB\u53D6\u4F20\u611F\u5668\u53C2\u6570 \u8BFB\u53D6\u6240\u6307\u5B9A\u4F20\u611F\u5668\u7684\u53C2\u6570\u3002 SPWR \u5199\u5165\u4F20\u611F\u5668\u53C2\u6570 \u5199\u5165\u6240\u6307\u5B9A\u4F20\u611F\u5668\u7684\u53C2\u6570\u3002 SSVC \u6267\u884C\u4F20\u611F\u5668\u670D\u52A1 \u6267\u884C\u4F20\u611F\u5668\u7684\u670D\u52A1\u3002 SPRD SPRD \u8BFB\u53D6\u4F20\u611F\u5668\u53C2\u6570 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num1 \u6307\u5B9A\u5355\u5143\u7F16\u53F7\uFF08\u6307\u5B9A0~48\u3001CPU\u5355\u5143\u65F6\u4E3A\u201C0\u201D\uFF09$ \u65E0\u6CD5\u4F7F\u7528\u3002 *1 16 \u4F4D Num2 \u6307\u5B9A\u8282\u70B9\u5730\u5740\uFF081\uFF5E256\uFF09\u6216\u5B58\u50A8\u4F4D\u7F6E\u3002 16 \u4F4D Num3 \u6307\u5B9A\u63D2\u69FD\u7F16\u53F7\u6216\u5176\u5B58\u50A8\u4F4D\u7F6E\u3002\u69FD\u8BBE\u5907\u4EE5\u5916\u65F6\u6216\u6307\u5B9A\u901A\u4FE1\u9002\u914D\u5668\u65F6\uFF0C\u6307\u5B9A0\u3002 16 \u4F4D Num4 \u6307\u5B9A\u53C2\u6570\u7F16\u53F7\u6216\u5176\u5B58\u50A8\u4F4D\u7F6E\u3002 16 \u4F4D Dst \u6307\u5B9A\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 *2 16 \u4F4D \u00D7 4 *3 \uFF4D\uFF50 *1: \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u3002 *2: \u6307\u5B9A\u4F4D\u6570\u636E\u65F6\uFF0C\u8BF7\u6307\u5B9A\u901A\u9053\u7684\u524D\u5934\u3002 *3: \u6839\u636E\u8BFB\u53D6\u53C2\u6570\u79CD\u7C7B\u7684\u4E0D\u540C\uFF0C\u5360\u752816\u4F4D\u00D75\u4EE5\u4E0A\u7684\u5927\u5C0F\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C SPRD \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u8BFB\u53D6\u901A\u8FC7\u8FDE\u63A5\u5230\u7B2C Num1 \u53F7\u5355\u5143\u7684\u8282\u70B9\u5730\u5740 Num2 \u3001\u63D2\u53E3\u7F16\u53F7 Num3 \u7684\u4F20\u611F\u5668\u7684 Num4 \u6240\u6307\u5B9A\u7684\u53C2\u6570\uFF0C\u5B8C\u6210\u65F6\u5728 Dst \u7684\u7B2C 0 \u4F4D\u5B58\u50A8\u5B8C\u6210\u4F4D\u3001\u5728 Dst \u7684\u7B2C 1 \u4F4D\u5B58\u50A8\u6267\u884C\u5931\u8D25\u4F4D\u3001\u5728 Dst \uFF0B1 \u5B58\u50A8\u5B8C\u6210\u4EE3\u7801\u3001\u5728 Dst \uFF0B2 \u5B58\u50A8\u8BE6\u7EC6\u5B8C\u6210\u4EE3\u7801\u3001\u5728 Dst \uFF0B3 \u5B58\u50A8\u9635\u5217\u8981\u7D20\u6570\u91CF\uFF08\u975E\u9635\u5217\u65F6\u4E3A 1\uFF09\u3001\u5728 Dst \uFF0B4 \u4EE5\u540E\u5B58\u50A8\u8BFB\u53D6\u5230\u7684\u53C2\u6570\u5185\u5BB9\u3002 \u258C Dst \uFF5E\uFF1A\u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E \u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E \u5185\u5BB9 Dst 0\u00A0\u4F4D \u5B8C\u6210\u4F4D \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\u6210\u4E3A OFF\uFF0C\u53C2\u6570\u8BFB\u53D6\u5B8C\u6210\u65F6\u6210\u4E3A ON\u3002\u5728\u6307\u4EE4\u6B63\u5E38\u5B8C\u6210\u3001\u5F02\u5E38\u5B8C\u6210\u65F6\u5747\u4E3A ON\u3002 1 \u4F4D \u6267\u884C\u5931\u8D25\u4F4D \u6307\u4EE4\u6267\u884C\u5931\u8D25\u65F6\u4E0E\u7ED3\u675F\u4F4D\u540C\u65F6\u4E3AON\u3002 \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\u4E3AOFF\u3002 2\uFF5E15\u00A0\u4F4D \u7CFB\u7EDF\u4FDD\u7559 OFF\uFF08\u56FA\u5B9A\u503C\uFF09 Dst\uFF0B1 \u5B8C\u6210\u4EE3\u7801 \u8BFB\u53D6\u5B8C\u53C2\u6570\u65F6\uFF0C\u5B58\u50A8\u7ED3\u675F\u4EE3\u7801\u3002\uFF08\u6B63\u5E38\u65F6\u4E3A0\uFF09 Dst\uFF0B2 \u8BE6\u7EC6\u7ED3\u675F\u4EE3\u7801 \u8BFB\u53D6\u5B8C\u53C2\u6570\u65F6\uFF0C\u5B58\u50A8\u8BE6\u7EC6\u4EE3\u7801\u3002 Dst\uFF0B3 \u9635\u5217\u8981\u7D20\u6570 \u5B58\u50A8\u6240\u8BFB\u53D6\u53C2\u6570\u7684\u9635\u5217\u8981\u7D20\u6570\u3002 \u9635\u5217\u4EE5\u5916\u65F6\u5B58\u50A8 1\uFF0C\u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u65F6\u5B58\u50A8 0\u3002 Dst\uFF0B4\uFF5E \u8BFB\u53D6\u7ED3\u679C \u5B58\u50A8\u53C2\u6570\u503C\u3002\u6839\u636E\u8BFB\u53D6\u53C2\u6570\u7684\u4E0D\u540C\uFF0C\u5360\u7528\u7684\u6570\u636E\u6570\u4E5F\u53D1\u751F\u53D8\u5316\u3002 \u00A0 \u6307\u5B9A\u201CEtherNet/IP\u8BBE\u5907\u4FDD\u7559\u201D\u7684\u4F20\u611F\u5668\u65F6\uFF0C\u6267\u884C\u5931\u8D25\u3002 \u00A0 \u4F20\u611F\u5668\u53C2\u6570\u8BFB\u53D6\u6307\u4EE4\u5982\u679C\u5728\u6267\u884C\u6761\u4EF6\u4E0A\u5347\u6CBF\u6267\u884C\u6307\u4EE4\uFF0C\u5219\u5373\u4F7F\u8F93\u5165\u6761\u4EF6\u5728\u4E0B\u4E00\u6B21\u626B\u63CF\u4E2D\u4E3AOFF\uFF0C\u5904\u7406\u4E5F\u5C06\u7EE7\u7EED\u3002 \u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E\u7684\u5B8C\u6210\u4F4D\u3001\u5931\u8D25\u4F4D\u5728\u5B8C\u6210\u65F6\u6210\u4E3A ON\uFF0C\u5728\u5F00\u59CB\u6267\u884C\u65F6\u6210\u4E3A OFF\u3002 \u6267\u884C\u6307\u4EE4\u65F6\uFF0C\u5728\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4\u6267\u884C\u6570\uFF08\u7CFB\u7EDF\u53D8\u91CF_ProjectInfo.SensorInstExecCount\uFF09\u4E2D\u52A01\uFF0C\u7ED3\u675F\u6267\u884C\u65F6\u51CF1\u3002 \u00A0 \u5DF2\u7ECF\u6267\u884C16\u4E2A\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4\u65F6\uFF0C\u5373\u4F7F\u6267\u884C\u6761\u4EF6\u4E3AON\uFF0C\u4E5F\u6267\u884C\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4\u3002\u5982\u679C\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4\u6267\u884C\u6570\u5C0F\u4E8E16\u4E2A\uFF0C\u5219\u53EF\u4EE5\u6267\u884C\u4E0B\u4E00\u4E2A\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4\u3002 \u00A0 (1) \u56E0\u4E3A\u5DF2\u7ECF\u6267\u884C16\u4E2A\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4\uFF0C\u6240\u4EE5\u65E0\u6CD5\u5F00\u59CB\u3002 (2) \u5728\u524D\u4E00\u6B21\u626B\u63CF\u4E2D\u7ED3\u675F1\u4E2A\u4F20\u611F\u5668\u8BBE\u5B9A\u6307\u4EE4 (3) \u4EE5\u6B64\u626B\u63CF\u5F00\u59CB\u6267\u884C \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u7684\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3A ON\u3001\u9664\u6B64\u4EE5\u5916\u4E3A OFF\u3002 \u2022 Num1 \u6240\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u4E3A 49 \u4EE5\u4E0A\u65F6 \u2022 Num1 \u4E2D\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u4E0D\u662F EtherNet/IP \u5355\u5143\u65F6 \u2022 \u4ECE Dst \u65E0\u6CD5\u786E\u4FDD\u8FDE\u7EED\u7684 4 \u4E2A\u5B57\u7684\u533A\u57DF\u65F6\u3002 \u2022 Dst \u6307\u5B9A\u4E3A\u4F4D\u6570\u636E\u65F6\uFF0C\u6307\u5B9A\u4E86\u901A\u9053\u7684\u524D\u5934\u4EE5\u5916\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u7684\u60C5\u51B5 \u2022 \u672A\u8FDE\u63A5\u4EE5 Num1 \u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u65F6\u3002 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u4EE5\u8BFB\u53D6\u4E0EKEYENCE\u5236\u9020\u7684EtherNet/IP\u901A\u4FE1\u9002\u914D\u5668NU-EP1\u76F8\u8FDE\u63A5\u7684FS-N\u7CFB\u5217\u7684\u9700\u5149\u91CF\u5F53\u524D\u503C\uFF08\u53C2\u6570\u7F16\u53F7805\uFF09\u65F6\u4E3A\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002 \u8F93\u5165\u7EE7\u7535\u5668MR000\u4E3AON\u65F6\uFF0C\u8BFB\u53D6\u4E0ECPU\u5355\u5143\u76F8\u8FDE\u63A5\u7684\u8282\u70B9\u5730\u57401\u3001\u69FD\u7F16\u53F71\u7684\u4F20\u611F\u5668\u7684\u53C2\u6570\u7F16\u53F7805\uFF08\u53D7\u5149\u91CF\u5F53\u524D\u503C\uFF09\u7684\u5185\u5BB9\uFF0C\u5B58\u50A8\u5728DM0\u4E4B\u540E\u7684\u8F6F\u5143\u4EF6\u4E2D\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD MR000 SPRD #0 #1 #1 #805 DM0 LDP DM0.0 MPS ANB DM0.1 MOV DM3 DM100 MOV DM4 DM102 MRD AND DM0.1 MOV DM1 EM0 MPP RES MR000 SPWR SPWR \u5199\u5165\u4F20\u611F\u5668\u53C2\u6570 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num1 \u6307\u5B9A\u5355\u5143\u7F16\u53F7\uFF08\u6307\u5B9A0~48\u3001CPU\u5355\u5143\u65F6\u4E3A\u201C0\u201D\uFF09$ \u65E0\u6CD5\u4F7F\u7528\u3002 *1 16 \u4F4D Num2 \u6307\u5B9A\u8282\u70B9\u5730\u5740\uFF081\uFF5E256\uFF09\u6216\u5B58\u50A8\u4F4D\u7F6E\u3002 16 \u4F4D Num3 \u6307\u5B9A\u63D2\u69FD\u7F16\u53F7\u6216\u5176\u5B58\u50A8\u4F4D\u7F6E\u3002\u69FD\u8BBE\u5907\u4EE5\u5916\u65F6\u6216\u6307\u5B9A\u901A\u4FE1\u9002\u914D\u5668\u65F6\uFF0C\u6307\u5B9A0\u3002 16 \u4F4D Num4 \u6307\u5B9A\u53C2\u6570\u7F16\u53F7\u6216\u5176\u5B58\u50A8\u4F4D\u7F6E\u3002 16 \u4F4D Dst \u6307\u5B9A\u7ED3\u679C\u7684\u5B58\u50A8\u4F4D\u7F6E\u3002 *2 16 \u4F4D \u00D7 4 *3 *1: \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u3002 *2: \u6307\u5B9A\u4F4D\u6570\u636E\u65F6\uFF0C\u8BF7\u6307\u5B9A\u901A\u9053\u7684\u524D\u5934\u3002 *3: \u6839\u636E\u5199\u5165\u53C2\u6570\u79CD\u7C7B\u7684\u4E0D\u540C\uFF0C\u5360\u752816\u4F4D\u00D75\u4EE5\u4E0A\u7684\u5927\u5C0F\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C SPWR \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u5411\u8FDE\u63A5\u5230\u7B2C Num1 \u53F7\u5355\u5143\u7684\u8282\u70B9\u5730\u5740 Num2 \u3001\u63D2\u53E3\u7F16\u53F7 Num3 \u7684\u4F20\u611F\u5668\u7684 Num4 \u6240\u6307\u5B9A\u7684\u53C2\u6570\uFF0C\u5199\u5165 Dst \uFF0B4\u4EE5\u540E\u8BBE\u5B9A\u7684\u8BBE\u5B9A\u503C\uFF0C\u5B8C\u6210\u65F6\u5728 Dst \u7684\u7B2C 0 \u4F4D\u5B58\u50A8\u5B8C\u6210\u4F4D\u3001\u5728 Dst \u7684\u7B2C 1 \u4F4D\u5B58\u50A8\u6267\u884C\u5931\u8D25\u4F4D\u3001\u5728 Dst \uFF0B1 \u5B58\u50A8\u5B8C\u6210\u4EE3\u7801\u3001\u5728 Dst \uFF0B2 \u5B58\u50A8\u8BE6\u7EC6\u5B8C\u6210\u4EE3\u7801\u3002 \u258C Dst \uFF5E\uFF1A\u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E \u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E \u5185\u5BB9 Dst 0\u00A0\u4F4D \u5B8C\u6210\u4F4D \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\u6210\u4E3A OFF\uFF0C\u53C2\u6570\u5199\u5165\u5B8C\u6210\u65F6\u6210\u4E3A ON\u3002\u5728\u6307\u4EE4\u6B63\u5E38\u5B8C\u6210\u3001\u5F02\u5E38\u5B8C\u6210\u65F6\u5747\u4E3A ON\u3002 1 \u4F4D \u6267\u884C\u5931\u8D25\u4F4D \u6307\u4EE4\u6267\u884C\u5931\u8D25\u65F6\u4E0E\u7ED3\u675F\u4F4D\u540C\u65F6\u4E3AON\u3002 \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\u4E3AOFF\u3002 2\uFF5E15\u00A0\u4F4D \u7CFB\u7EDF\u4FDD\u7559 OFF\uFF08\u56FA\u5B9A\u503C\uFF09 Dst\uFF0B1 \u5B8C\u6210\u4EE3\u7801 \u53C2\u6570\u5199\u5165\u7ED3\u675F\u65F6\uFF0C\u5B58\u50A8\u7ED3\u675F\u4EE3\u7801\u3002\uFF08\u6B63\u5E38\u65F6\u4E3A0\uFF09 Dst\uFF0B2 \u8BE6\u7EC6\u7ED3\u675F\u4EE3\u7801 \u53C2\u6570\u7684\u5199\u5165\u5B8C\u6210\u65F6\u5B58\u50A8\u8BE6\u7EC6\u5B8C\u6210\u4EE3\u7801\u3002 Dst\uFF0B3 \u7CFB\u7EDF\u4FDD\u7559 0\uFF08\u56FA\u5B9A\u503C\uFF09 Dst\uFF0B4\uFF5E \u8BBE\u5B9A\u503C \u5B58\u50A8\u8BBE\u5B9A\u503C\u6839\u636E\u5199\u5165\u53C2\u6570\u7684\u4E0D\u540C\uFF0C\u5360\u7528\u7684\u6570\u636E\u6570\u4E5F\u53D1\u751F\u53D8\u5316\u3002 \u00A0 \u6307\u5B9A\u201CEtherNet/IP\u8BBE\u5907\u4FDD\u7559\u201D\u7684\u4F20\u611F\u5668\u65F6\uFF0C\u6267\u884C\u5931\u8D25\u3002 \u5176\u4ED6\u52A8\u4F5C\u4E0ESPRD\u6307\u4EE4\u76F8\u540C\u3002 SPRD \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u7684\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3A ON\u3001\u9664\u6B64\u4EE5\u5916\u4E3A OFF\u3002 \u2022 Num1 \u6240\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u4E3A 49 \u4EE5\u4E0A\u65F6 \u2022 Num1 \u4E2D\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u4E0D\u662F EtherNet/IP \u5355\u5143\u65F6 \u2022 \u4ECE Dst \u65E0\u6CD5\u786E\u4FDD\u8FDE\u7EED\u7684 64 \u4F4D\u7684\u533A\u57DF\u65F6 \u2022 Dst \u6307\u5B9A\u4E3A\u4F4D\u6570\u636E\u65F6\uFF0C\u6307\u5B9A\u4E86\u901A\u9053\u7684\u524D\u5934\u4EE5\u5916\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u7684\u60C5\u51B5 \u2022 \u672A\u8FDE\u63A5\u4EE5 Num1 \u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u65F6\u3002 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u4EE5\u53D8\u66F4\u4E0EKEYENCE\u5236\u9020\u7684EtherNet/IP\u901A\u4FE1\u9002\u914D\u5668NU-EP1\u76F8\u8FDE\u63A5\u7684FS-N\u7CFB\u5217\u7684\u8BBE\u5B9A\u503C\uFF08\u53C2\u6570\u7F16\u53F7833\uFF09\u65F6\u4E3A\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002 \u8F93\u5165\u7EE7\u7535\u5668MR0\u4E3AON\u65F6\uFF0C\u5411\u4E0ECPU\u5355\u5143\u76F8\u8FDE\u63A5\u7684\u8282\u70B9\u5730\u57401\u3001\u69FD\u7F16\u53F71\u7684\u4F20\u611F\u5668\u7684\u53C2\u6570\u7F16\u53F7833\uFF08\u8BBE\u5B9A\u503C\uFF09\u5199\u5165\u5728DM4\u4E4B\u540E\u6307\u5B9A\u7684\u8BBE\u5B9A\u503C500\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5728DM0\u4E4B\u540E\u7684\u8F6F\u5143\u4EF6\u4E2D\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD MR000 MOV #500 DM4 SPWR #0 #1 #1 #833 DM0 LDP DM0.0 MPS ANB DM0.1 OUT R500 MRD AND DM0.1 MOV DM1 EM0 MPP RES MR000 SSVC SSVC \u6267\u884C\u4F20\u611F\u5668\u670D\u52A1 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Num1 \u6307\u5B9A\u5355\u5143\u7F16\u53F7\uFF08\u6307\u5B9A0~48\u3001CPU\u5355\u5143\u65F6\u4E3A\u201C0\u201D\uFF09$ \u65E0\u6CD5\u4F7F\u7528\u3002 *1 16 \u4F4D Num2 \u6307\u5B9A\u8282\u70B9\u5730\u5740\uFF081\uFF5E256\uFF09\u6216\u5B58\u50A8\u4F4D\u7F6E\u3002 16 \u4F4D Num3 \u6307\u5B9A\u63D2\u69FD\u7F16\u53F7\u6216\u5B58\u50A8\u4F4D\u7F6E\u3002\u69FD\u8BBE\u5907\u4EE5\u5916\u65F6\u6216\u6307\u5B9A\u901A\u4FE1\u9002\u914D\u5668\u65F6\uFF0C\u6307\u5B9A0\u3002 16 \u4F4D Num4 \u6307\u5B9A\u670D\u52A1\u7F16\u53F7\u6216\u5B58\u50A8\u4F4D\u7F6E\u3002 16 \u4F4D Dst \u6307\u5B9A\u5B58\u50A8\u7ED3\u679C\u7684\u524D\u5934\u3002 *2 16 \u4F4D \u00D7 4 *3 *1: \u4EC5\u53EF\u4EE5\u6307\u5B9A\u5E38\u6570\u3002 *2: \u6307\u5B9A\u4F4D\u6570\u636E\u65F6\uFF0C\u8BF7\u6307\u5B9A\u901A\u9053\u7684\u524D\u5934\u3002 *3: \u6839\u636E\u6307\u5B9A\u670D\u52A1\u7684\u4E0D\u540C\uFF0C\u6700\u5927\u4E3A16\u4F4D\u00D76\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C SSVC \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u6267\u884C\u8FDE\u63A5\u5230\u7B2C Num1 \u53F7\u5355\u5143\u7684\u8282\u70B9\u5730\u5740 Num 2 \u3001\u63D2\u53E3\u7F16\u53F7 Num 3 \u7684\u4F20\u611F\u5668\u7684 Num 4 \u6240\u6307\u5B9A\u7684\u670D\u52A1\uFF0C\u5B8C\u6210\u65F6\u5728 Num4 \u7684\u7B2C 0 \u4F4D\u5B58\u50A8\u5B8C\u6210\u4F4D\u3001\u5728 Dst \u7684\u7B2C 1 \u4F4D\u5B58\u50A8\u6267\u884C\u5931\u8D25\u4F4D\u3001\u5728 Dst \uFF0B1 \u5B58\u50A8\u5B8C\u6210\u4EE3\u7801\u3001\u5728 Dst \uFF0B2 \u5B58\u50A8\u8BE6\u7EC6\u5B8C\u6210\u4EE3\u7801\u3002 \u258C Dst \uFF5E\uFF1A\u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E \u7ED3\u679C\u5B58\u50A8\u4F4D\u7F6E \u5185\u5BB9 Dst 0\u00A0\u4F4D \u5B8C\u6210\u4F4D \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\u4E3AOFF\uFF0C\u8BFB\u53D6\u5B8C\u53C2\u6570\u65F6\u4E3AON\u3002\u5728\u6307\u4EE4\u6B63\u5E38\u5B8C\u6210\u3001\u5F02\u5E38\u5B8C\u6210\u65F6\u5747\u4E3A ON\u3002 1 \u4F4D \u6267\u884C\u5931\u8D25\u4F4D \u6307\u4EE4\u6267\u884C\u5931\u8D25\u65F6\u4E0E\u7ED3\u675F\u4F4D\u540C\u65F6\u4E3AON\u3002\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\u4E3AOFF\u3002 2\uFF5E15\u00A0\u4F4D \u7CFB\u7EDF\u4FDD\u7559 OFF\uFF08\u56FA\u5B9A\u503C\uFF09 Dst\uFF0B1 \u5B8C\u6210\u4EE3\u7801 \u670D\u52A1\u6267\u884C\u7ED3\u675F\u65F6\uFF0C\u5B58\u50A8\u7ED3\u675F\u4EE3\u7801\u3002\uFF08\u6B63\u5E38\u65F6\u4E3A0\uFF09 Dst\uFF0B2 \u8BE6\u7EC6\u7ED3\u675F\u4EE3\u7801 \u670D\u52A1\u6267\u884C\u7ED3\u675F\u65F6\uFF0C\u5B58\u50A8\u8BE6\u7EC6\u7ED3\u675F\u4EE3\u7801\u3002 Dst\uFF0B3 \u7CFB\u7EDF\u4FDD\u7559 0\uFF08\u56FA\u5B9A\u503C\uFF09 Dst\uFF0B4 Dst\uFF0B5 \u53D1\u9001\u6570\u636E \u7ED3\u5408\u6267\u884C\u7684\u670D\u52A1\uFF0C\u6307\u5B9A\u53D1\u4FE1\u6570\u636E\uFF08\u6700\u59272\u4E2A\u5B57\uFF09\u3002 \u00A0 \u6307\u5B9A\u201CEtherNet/IP\u8BBE\u5907\u4FDD\u7559\u201D\u7684\u4F20\u611F\u5668\u65F6\uFF0C\u6267\u884C\u5931\u8D25\u3002 \u5176\u4ED6\u52A8\u4F5C\u4E0ESPRD\u6307\u4EE4\u76F8\u540C\u3002 SPRD \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u7684\u4EFB\u4E00\u6761\u4EF6\u6210\u7ACB\u65F6\u4E3A ON\u3001\u9664\u6B64\u4EE5\u5916\u4E3A OFF\u3002 \u2022 Num1 \u6240\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u4E3A 49 \u4EE5\u4E0A\u65F6 \u2022 Num1 \u4E2D\u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u4E0D\u662F EtherNet/IP \u5355\u5143\u65F6 \u2022 \u4ECE Dst \u65E0\u6CD5\u786E\u4FDD\u8FDE\u7EED\u7684 4 \u4E2A\u5B57\u7684\u533A\u57DF\u65F6\u3002 \u2022 Dst \u6307\u5B9A\u4E3A\u4F4D\u6570\u636E\u65F6\uFF0C\u6307\u5B9A\u4E86\u901A\u9053\u7684\u524D\u5934\u4EE5\u5916\u65F6 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u7684\u60C5\u51B5 \u2022 \u672A\u8FDE\u63A5\u4EE5 Num1 \u6307\u5B9A\u7684\u5355\u5143\u7F16\u53F7\u7684\u5355\u5143\u65F6\u3002 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u7684\u8303\u56F4\u5916\u8BBF\u95EE\u65F6\u3002 \u00A0 \u5982\u679C CR2012 ON\uFF0C\u5219\u4E0D\u6267\u884C\u6307\u4EE4\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u4EE5\u4F7F\u7528\u4E0EKEYENCE\u5236\u9020\u7684EtherNet/IP\u901A\u4FE1\u9002\u914D\u5668NU-EP1\u76F8\u8FDE\u63A5\u7684FS-N\u7CFB\u5217\u7684\u96F6\u70B9\u6F02\u79FB\u6267\u884C\uFF08\u670D\u52A1\u7F16\u53F711\uFF09\u670D\u52A1\u65F6\u4E3A\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002 \u8F93\u5165\u7EE7\u7535\u5668MR0\u4E3AON\u65F6\uFF0C\u6267\u884C\u4E0ECPU\u5355\u5143\u76F8\u8FDE\u63A5\u7684\u8282\u70B9\u5730\u57401\u3001\u69FD\u7F16\u53F71\u7684\u4F20\u611F\u5668\u7684\u670D\u52A1\u7F16\u53F711\uFF08\u6267\u884C\u96F6\u70B9\u6F02\u79FB\uFF09\u7684\u670D\u52A1\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5728DM0\u4E4B\u540E\u7684\u8F6F\u5143\u4EF6\u4E2D\u3002 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD MR000 SSVC #0 #1 #1 #11 DM0 LDP DM0.0 MPS ANB DM0.1 OUT R500 MRD AND DM0.1 MOV DM1 EM0 MPP RES MR000"},{"link":"./02_12_FunctionBlock.html","title":"\u529F\u80FD\u5757","body":"\u529F\u80FD\u5757 \u6307\u4EE4 \u540D\u79F0 \u6982\u8981 FUN \u529F\u80FD\u8C03\u7528 \u8C03\u7528\u6307\u5B9A\u7684\u529F\u80FD\u3002 FBCALL \u529F\u80FD\u5757\u8C03\u7528 \u8C03\u7528\u6307\u5B9A\u7684\u529F\u80FD\u5757(\u6761\u4EF6\u6267\u884C)\u3002 FBEXEC \u529F\u80FD\u5757\u8C03\u7528 \u8C03\u7528\u6307\u5B9A\u7684\u529F\u80FD\u5757(\u59CB\u7EC8\u6267\u884C)\u3002 FUN (@)FUN \u529F\u80FD\u8C03\u7528 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src \u6307\u5B9A\u529F\u80FD\u540D\u79F0\u3002 *2 \uFF0D *1: \u529F\u80FD\u540D\u79F0\u4EE5\u5916\u7684\u64CD\u4F5C\u6570\u7684\u4E2A\u6570\u6216\u53EF\u4EE5\u6307\u5B9A\u7684\u6570\u636E\u6839\u636E\u6267\u884C\u7684\u529F\u80FD\u4E2D\u8BBE\u5B9A\u7684\u81EA\u53D8\u91CF\u8BBE\u5B9A\u7684\u4E0D\u540C\uFF0C\u5176\u5DEE\u522B\u5982\u4E0B\u6240\u793A\u3002 *2: \u4EC5\u53EF\u6307\u5B9A\u5E38\u6570\u3002\u8BF7\u76F4\u63A5\u8F93\u5165\u529F\u80FD\u540D\uFF08\u4E0D\u5206\u534A\u89D2\u5168\u89D2\uFF0C\u6700\u591A64\u4E2A\u5B57\u7B26\uFF09\u3002 \u00A0 \u00A0 \u6839\u636E\u529F\u80FD\u7684\u653E\u7F6E\u4F4D\u7F6E\uFF0C\u52A9\u8BB0\u7B26\u5217\u8868\u4E0A\u7684\u6307\u4EE4\u53EF\u80FD\u4F1A\u53D1\u751F\u5982\u4E0B\u53D8\u5316\u3002 \u2022 FUNLD/FUNAND/FUNOR/FUNSL \u201CKV STUDIO\u201D\u4F1A\u6839\u636E\u653E\u7F6E\u4F4D\u7F6E\u81EA\u52A8\u8F6C\u6362\u6307\u4EE4\uFF0C\u6240\u4EE5\u7528\u6237\u65E0\u9700\u8F93\u5165\u8FD9\u4E9B\u6307\u4EE4\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C FUN \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u6267\u884C\u901A\u8FC7 Src \u6307\u5B9A\u7684\u529F\u80FD\u3002 \u6839\u636E\u7A0B\u5E8F\u7684\u4E0D\u540C\u8BBE\u5B9A\uFF0C\u505C\u6B62\u65F6\u7684 OFF \u5904\u7406\u52A8\u4F5C\u4E5F\u4E0D\u540C\u3002\u8BE6\u60C5\u8BF7\u53C2\u89C1 CPU \u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u00A0 \u2022 \u4E0D\u80FD\u5728\u529F\u80FD\u5185\u4F7F\u7528\u5FAE\u5206\u6267\u884C\u578B\u6307\u4EE4\u3001\u5B9A\u65F6\u5668\u6307\u4EE4\u3002 \u2022 \u5728\u4EE5\u4E0B\u60C5\u51B5\u4E0B\uFF0C\u5404\u6A21\u5757/\u529F\u80FD\u5757\u505C\u6B62\u6216\u5404\u6307\u4EE4\u95F4\u7684\u6267\u884C\u6761\u4EF6\u53D8\u4E3AOFF\u65F6\uFF0C\u6267\u884C\u4E2D\u7684\u529F\u80FD\u4F1A\u505C\u6B62\u3002 \u2012 \u5C06FUN\u6307\u4EE4\u8BB0\u8F7D\u5230\u6A21\u5757\u3001\u529F\u80FD\u5757\u4E2D\u65F6 \u2012 \u5C06FUN\u6307\u4EE4\u8BB0\u8F7D\u5230\u4E3B\u7AD9\u7A0B\u5E8F\uFF08MC\uFF5EMCR\u6307\u4EE4\u95F4\uFF09\u4E2D\u65F6 \u2022 \u4E0D\u80FD\u5728\u529F\u80FD\u5185\u4F7F\u7528\u8C03\u7528\u8BE5\u529F\u80FD\u672C\u8EAB\u7684FUN\u6307\u4EE4\u3002 \u2022 \u53EF\u5728\u529F\u80FD\u5185\u4F7F\u7528\u5B50\u7A0B\u5E8F\u3002 \u2022 \u5728\u9879\u76EE\u5185\u591A\u6B21\u6267\u884C\u76F8\u540C\u529F\u80FD\u65F6\uFF0C\u5982\u679C\u5728\u529F\u80FD\u5185\u5BF9OUT/OUB\u6307\u4EE4\u4F7F\u7528\u5168\u5C40\u8F6F\u5143\u4EF6/\u5168\u5C40\u53D8\u91CF\uFF0C\u5219\u4F1A\u5F62\u6210\u53CC\u7EBF\u5708\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u60C5\u5F62\u65F6\u4E3A ON\uFF0C\u9664\u6B64\u4EE5\u5916\u4E3A OFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u00A0 \u53D8\u91CF\u4E0D\u5408\u9002\u65F6\uFF0C\u4E0D\u6267\u884C\u529F\u80FD\u5757/\u529F\u80FD\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 FBCALL (@)FBCALL \u529F\u80FD\u5757\u8C03\u7528(\u6761\u4EF6\u6267\u884C) FBEXEC (@)FBEXEC \u529F\u80FD\u5757\u8C03\u7528(\u59CB\u7EC8\u6267\u884C) \u68AF\u5F62\u56FE\u7A0B\u5E8F FBCALL \u00A0 FBEXEC \u00A0 \u8FD0\u7B97 \u8BF4\u660E \u5360\u7528\u5927\u5C0F Src1 \u6307\u5B9A\u529F\u80FD\u5757\u540D\u79F0\u3002 *1 \uFF0D Src2 \u6307\u5B9A\u5B9E\u4F8B\u540D\u79F0\u3002 *1 \uFF0D *1: \u4EC5\u53EF\u6307\u5B9A\u5E38\u6570\u3002\u8BF7\u76F4\u63A5\u8F93\u5165\u529F\u80FD\u5757\u540D\uFF08\u4E0D\u5206\u534A\u89D2\u5168\u89D2\u6700\u592764\u4E2A\u6587\u5B57\uFF09\u3001\u5B9E\u4F8B\u540D\u79F0\uFF08\u4E0D\u5206\u534A\u89D2\u5168\u89D2\u6700\u5927\u4E2A128\u6587\u5B57\uFF09\u3002 \u00A0 \u00A0 \u6839\u636E\u529F\u80FD\u7684\u653E\u7F6E\u4F4D\u7F6E\uFF0C\u52A9\u8BB0\u7B26\u5217\u8868\u4E0A\u7684\u6307\u4EE4\u53EF\u80FD\u4F1A\u53D1\u751F\u5982\u4E0B\u53D8\u5316\u3002 \u2022 FBCALL\uFF1AFBCLD/FBCAND/FBCOR/FBCSL \u2022 FBEXEC\uFF1AFBELD/FBEAND/FBEOR/FBESL \u201CKV STUDIO\u201D\u4F1A\u6839\u636E\u653E\u7F6E\u4F4D\u7F6E\u81EA\u52A8\u8F6C\u6362\u6307\u4EE4\uFF0C\u6240\u4EE5\u7528\u6237\u65E0\u9700\u8F93\u5165\u8FD9\u4E9B \u6307\u4EE4\u3002 \u64CD\u4F5C\u8BF4\u660E \u258C FBCALL \u6267\u884C\u6761\u4EF6\u4E3A ON \u65F6\uFF0C\u5C06 Src1 \u3001 Src2 \u6240\u6307\u5B9A\u7684\u529F\u80FD\u5757\u7684\u5B9E\u4F8B\u6309\u7167\u6307\u5B9A\u7684\u81EA\u53D8\u91CF\u52A0\u4EE5\u6267\u884C\u3002 \u6307\u5B9A\u7684\u529F\u80FD\u5757\u5C06\u4ECE OFF \u2192 ON \u7684\u626B\u63CF\u5F00\u59CB\u6267\u884C\u3002 \u4E00\u65E6\u5F00\u59CB\u6267\u884C\u540E\uFF0C\u6267\u884C\u6761\u4EF6\u4E3A ON \u8FC7\u7A0B\u4E2D\u5C06\u59CB\u7EC8\u6301\u7EED\u6267\u884C\u529F\u80FD\u5757\u3002 \u6267\u884C\u6761\u4EF6\u6210\u4E3A OFF \u540E\uFF0C\u505C\u6B62\u529F\u80FD\u5757\u7684\u6267\u884C\u3002 \u258C @FBCALL \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C\u4EC5\u6267\u884C1\u6B21\u626B\u63CF\u3002 \u258C FBEXEC \u65E0\u8BBA\u6267\u884C\u6761\u4EF6\u7684ON/OFF\u5982\u4F55\uFF0C\u90FD\u4F1A\u7528\u6307\u5B9A\u7684\u81EA\u53D8\u91CF\u6267\u884C\u901A\u8FC7 Src1 \u3001 Src2 \u6307\u5B9A\u7684\u529F\u80FD\u5757\u7684\u5B9E\u4F8B\u3002 \u00A0 \u00A0 \u2022 \u4E0D\u80FD\u4F7F\u7528FBCALL/FBEXEC\u6307\u4EE4\u6307\u5B9A\u529F\u80FD\u3002\u8BF7\u4F7F\u7528FUN\u6307\u4EE4\u6267\u884C\u529F\u80FD\u3002 \u2022 \u6EE1\u8DB3\u4EE5\u4E0B\u4EFB\u4E00\u6761\u4EF6\u65F6\uFF0C\u4E0D\u80FD\u6267\u884CRUN\u4E2D\u5199\u5165\u3002 \u2012 \u6DFB\u52A0\u4E86\u542B\u6709\u5C40\u90E8\u8F6F\u5143\u4EF6\u7684\u529F\u80FD\u5757\u7684FB\u5B9E\u4F8B \u2012 \u66F4\u6539\u4E86\u5C40\u90E8\u8F6F\u5143\u4EF6\u7684\u8303\u56F4 \u2022 \u5728\u4E0B\u8FF0\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u4F1A\u6267\u884C\u529F\u80FD\u5757\u3002 \u2012 \u8C03\u7528\u6E90\u7684\u7A0B\u5E8F\u5DF2\u505C\u6B62 \u2012 \u5C06FBCALL\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u8BBE\u4E3AOFF \u2022 \u529F\u80FD\u5757\u5185\u7684\u5FAE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u4E0A\u4E00\u6B21\u72B6\u6001\uFF0C\u4F1A\u5728\u6BCF\u6B21\u5F00\u59CB\u6267\u884C\u529F\u80FD\u5757\u65F6\u88AB\u521D\u59CB\u5316\u3002\uFF08\u4E0A\u5347\u6CBF\u5FAE\u5206\uFF1AON\uFF0C\u4E0B\u964D\u6CBF\u5FAE\u5206\uFF1AOFF\uFF09 \u2022 \u5728\u4E0B\u8FF0\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u4F1A\u6267\u884C\u529F\u80FD\u5757\u3002 \u2012 \u672A\u6267\u884C\u8BB0\u8F7D\u4E86FBCALL/FBEXEC\u6307\u4EE4\u7684\u6A21\u5757/\u529F\u80FD\u5757 \u2012 \u5728MC\uFF5EMCR\u6307\u4EE4\u95F4\u8BB0\u8F7DFBCALL/FBEXEC\u6307\u4EE4\uFF0CMC\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u4E3AOFF \u2022 \u5728\u4E0B\u8FF0\u60C5\u51B5\u4E0B\uFF0C\u5404\u6307\u4EE4\u95F4\u7684\u6267\u884C\u6761\u4EF6\u8BBE\u4E3AOFF\u65F6\uFF0C\u6267\u884C\u4E2D\u7684\u529F\u80FD\u5757\u4F1A\u4E2D\u65AD\u3002\u63A5\u4E0B\u6765\u5728\u5404\u6307\u4EE4\u95F4\u6267\u884C\u65F6\uFF0C\u4F1A\u91CD\u65B0\u5F00\u59CB\u6267\u884C\u529F\u80FD\u5757\u3002\u6B64\u65F6\u529F\u80FD\u5757\u5185\u7684\u5FAE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u4E0A\u4E00\u6B21\u72B6\u6001\u4E0D\u4F1A\u88AB\u521D\u59CB\u5316\u3002\uFF08\u5728\u521D\u59CB\u5316\u6A21\u5757\u5185\u8BB0\u8FF0\u65F6\uFF0C\u4EC5\u5728\u5F00\u59CB\u8FD0\u8F6C\u65F6\u6267\u884C1\u6B21\u626B\u63CF\u3002\uFF09 \u2012 \u5C06FBCALL/FBEXEC\u6307\u4EE4\u8BB0\u8F7D\u5230\u5B50\u7A0B\u5E8F\uFF08SBN\uFF5ERET\u6307\u4EE4\u95F4\uFF09\u4E2D\u65F6 \u2012 \u5C06FBCALL/FBEXEC\u6307\u4EE4\u8BB0\u8F7D\u5230\u6761\u4EF6\u5206\u652F\uFF08CJ/NCJ\uFF5ELABEL\u6307\u4EE4\u95F4\uFF09\u4E2D\u65F6 \u2022 \u4E0D\u80FD\u5728\u529F\u80FD\u5757\u5185\u4F7F\u7528\u8C03\u7528\u8BE5\u529F\u80FD\u5757\u672C\u8EAB\u7684FBCALL/FBEXEC\u6307\u4EE4\u3002 \u2022 \u53EF\u5728\u529F\u80FD\u5757\u5185\u4F7F\u7528\u5B50\u7A0B\u5E8F\u3002 \u2022 \u5728\u9879\u76EE\u5185\u591A\u6B21\u6267\u884C\u76F8\u540C\u529F\u80FD\u5757\u65F6\uFF0C\u5982\u679C\u5728\u529F\u80FD\u5757\u5185\u5BF9OUT/OUB\u6307\u4EE4\u4F7F\u7528\u5168\u5C40\u8F6F\u5143\u4EF6/\u5168\u5C40\u53D8\u91CF\uFF0C\u5219\u4F1A\u5F62\u6210\u53CC\u7EBF\u5708\u3002 \u2022 \u5728\u7528FBCALL\u8C03\u7528\u7684\u529F\u80FD\u5757\u5185\u90E8\uFF0C\u4E0D\u68C0\u6D4BEN\u7684\u4E0A\u5347\u6CBF\u3002\u5982\u9700\u68C0\u6D4BEN\u7684\u4E0A\u5347\u6CBF\uFF0C\u8BF7\u7528FBEXEC\u8C03\u7528\u529F\u80FD\u5757\u3002 \u8FD0\u7B97\u6807\u5FD7\uFF08CR2012\uFF09 \u4EE5\u4E0B\u60C5\u5F62\u65F6\u4E3A ON\uFF0C\u9664\u6B64\u4EE5\u5916\u4E3A OFF\u3002 \u2022 \u95F4\u63A5\u6307\u5B9A\u3001\u53D8\u5740\u4FEE\u6539\u7684\u8303\u56F4\u4E0D\u5408\u9002\u65F6 \u2022 \u53D1\u751F\u4E86\u64CD\u4F5C\u6570\u8303\u56F4\u5916\u7684\u8BBF\u95EE\u65F6 \u00A0 \u81EA\u53D8\u91CF\u4E0D\u5408\u9002\u65F6\uFF0C\u4E0D\u6267\u884C\u529F\u80FD\u5757\u3002 CR2012\u53D8\u4E3AON\u540E\uFF0C\u4F1A\u5728\u7CFB\u7EDF\u53D8\u91CF_NewestWarning\u4E2D\u5B58\u50A8\u9519\u8BEF\u7684\u8BE6\u7EC6\u4FE1\u606F\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7A0B\u5E8F\u8D44\u4EA7\u5316"},{"link":"./03_00_FBFUN.html","title":"\u7B2C3\u7AE0 FUN/FB","body":"\u7B2C3\u7AE0 FUN/FB \u2022 \u63A5\u70B9\u8F93\u5165/\u8F93\u51FA \uFF1A\u5904\u7406\u4F4D\u7684\u6307\u4EE4\u3002 \u2022 \u4F4D\u8F93\u5165/\u8F93\u51FA \uFF1A\u5904\u7406\u5B57\u6570\u636E\u4E2D\u7684\u4F4D\u7684\u6307\u4EE4\u3002 \u2022 \u6BD4\u8F83 \uFF1A\u5224\u5B9A\u6570\u503C\u3001\u5B57\u7B26\u4E32\u7684\u5927\u5C0F\u5173\u7CFB\u4EE5\u53CA\u4E00\u81F4/\u4E0D\u4E00\u81F4\u7684\u6307\u4EE4\u3002 \u2022 \u5B9A\u65F6\u5668 \u8BA1\u6570\u5668 \uFF1A\u5B9A\u65F6\u5668\u548C\u8BA1\u6570\u5668\u7684\u76F8\u5173\u6307\u4EE4\u3002 \u2022 \u79FB\u4F4D \uFF1A\u79FB\u4F4D\u6570\u636E\u7684\u6307\u4EE4\u3002 \u2022 \u903B\u8F91\u8FD0\u7B97 \uFF1A\u6267\u884C\u903B\u8F91\u8FD0\u7B97\u7684\u6307\u4EE4\u3002 \u2022 \u7B97\u672F \uFF1A\u6267\u884C\u56DB\u5219\u8FD0\u7B97\u548C\u903B\u8F91\u8FD0\u7B97\u7684\u6307\u4EE4\u3002 \u2022 \u9009\u62E9 \uFF1A\u5728\u591A\u4E2A\u6570\u636E\u4E2D\u9009\u62E9\u7B26\u5408\u6761\u4EF6\u7684\u6570\u636E\u7684\u6307\u4EE4\u3002 \u2022 \u6570\u636E\u5904\u7406 \uFF1A\u6267\u884C\u6570\u636E\u6392\u5E8F\u3001\u641C\u7D22\u7B49\u5904\u7406\u7684\u6307\u4EE4\u3002 \u2022 \u6570\u636E\u4F20\u8F93 \uFF1A\u4F20\u8F93\uFF08\u590D\u5236\uFF09\u6570\u636E\u7684\u6307\u4EE4\u3002 \u2022 \u83B7\u53D6\u5927\u5C0F \uFF1A\u83B7\u53D6\u6570\u7EC4\u3001\u7ED3\u6784\u4F53\u7B49\u8981\u7D20\u7684\u6570\u636E\u5927\u5C0F\u7684\u6307\u4EE4\u3002 \u2022 \u6570\u636E\u8F6C\u6362 \uFF1A\u8F6C\u6362\u6570\u636E\u7684\u6307\u4EE4\u3002 \u2022 \u6570\u636E\u63A7\u5236 \uFF1A\u4F7F\u7528\u6570\u636E\u6267\u884C\u63A7\u5236\uFF08PID\u63A7\u5236\u3001\u8FC7\u6EE4\u63A7\u5236\u7B49\uFF09\u7684\u6307\u4EE4\u3002 \u2022 \u8868 \uFF1A\u5904\u7406\u6570\u636E\u8868\u7684\u6307\u4EE4\u3002 \u2022 \u5B57\u7B26\u8F6C\u6362 \uFF1A\u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u5176\u4ED6\u683C\u5F0F\u7684\u6307\u4EE4\u3002 \u2022 \u5B57\u7B26\u5904\u7406 \uFF1A\u5904\u7406\u5B57\u7B26\u4E32\u7684\u6307\u4EE4\u3002 \u2022 \u65F6\u95F4/\u65E5\u671F\u65F6\u523B\u5904\u7406 \uFF1A\u65F6\u95F4\u548C\u65E5\u671F\u65F6\u523B\u7684\u76F8\u5173\u6307\u4EE4\u3002 \u2022 \u6570\u636E\u7C7B\u578B\u8F6C\u6362 \uFF1A\u8F6C\u6362\u6570\u636E\u7C7B\u578B\u7684\u6307\u4EE4\u3002 \u2022 \u5B58\u50A8 \uFF1A\u5904\u7406\u5B58\u50A8\u5361/CPU\u5B58\u50A8\u5668\u4E2D\u7684\u6570\u636E\u7684\u6307\u4EE4\u3002 \u2022 \u5957\u63A5\u5B57\u901A\u4FE1 \uFF1ACPU\u5355\u5143\u5185\u7F6E\u7684\u5957\u63A5\u5B57\u901A\u4FE1\u4F7F\u7528\u7684\u6307\u4EE4\u3002 \u2022 \u7F13\u51B2\u5B58\u50A8\u5668 \uFF1A\u8BFB\u5199\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6307\u4EE4\u3002 \u2022 \u5237\u65B0 \uFF1A\u5C06\u6570\u636E\u66F4\u65B0\u4E3A\u6700\u65B0\u72B6\u6001\u7684\u6307\u4EE4\u3002 \u2022 \u6267\u884C\u6A21\u5757 \uFF1A\u63A7\u5236\u6267\u884C\u6A21\u5757\u3001\u505C\u6B62\u6A21\u5757\u7684\u6307\u4EE4\u3002 \u2022 \u8F6F\u5143\u4EF6\u5730\u5740 \uFF1A\u5904\u7406\u8F6F\u5143\u4EF6\u5730\u5740\u7684\u6307\u4EE4\u3002 \u2022 \u4E2D\u65AD \uFF1A\u901A\u8FC7\u56FA\u5B9A\u5468\u671F\u6A21\u5757/\u4E2D\u65AD\u6A21\u5757/\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u6765\u63A7\u5236\u4E2D\u65AD\u7684\u6307\u4EE4\u3002 \u2022 \u65E5\u5FD7 \uFF1A\u63A7\u5236CPU\u5185\u7F6E\u7684\u65E5\u5FD7\u529F\u80FD\u7684\u6307\u4EE4\u3002 \u2022 \u8FD0\u8F6C\u8BB0\u5F55 \uFF1ACPU\u5185\u7F6E\u7684\u8FD0\u8F6C\u8BB0\u5F55\u529F\u80FD\u76F8\u5173\u6307\u4EE4\u3002 \u2022 \u8BBF\u95EE\u53D8\u91CF \uFF1A\u5904\u7406\u53D8\u91CF/\u8F6F\u5143\u4EF6\u7684\u5730\u5740\u7684\u6307\u4EE4\u3002 \u2022 \u5355\u5143\u7A0B\u5E8F \uFF1A\u63A7\u5236\u6269\u5C55\u5355\u5143\u7684\u5355\u5143\u7A0B\u5E8F\u7684\u6307\u4EE4\u3002 \u2022 \u5355\u5143\u4E13\u7528 \uFF1A\u4E0D\u6307\u5B9A\u7F13\u51B2\u5B58\u50A8\u5668\u7F16\u53F7\uFF0C\u76F4\u63A5\u8BFB\u5199\u6269\u5C55\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6307\u4EE4\u3002 \u2022 \u5355\u5143\u7C7B\u578B\u5224\u5B9A \uFF1A\u5224\u5B9A\u8FDE\u63A5\u7684\u6269\u5C55\u5355\u5143\u7684\u7C7B\u578B\u7684\u6307\u4EE4\u3002 \u2022 \u8FD0\u52A8 \uFF1ACPU\u5355\u5143\u7684\u5185\u7F6E\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u4F7F\u7528\u7684\u6307\u4EE4\u3002 \u2022 EtherCAT \uFF1ACPU\u5355\u5143\u7684\u5185\u7F6EEtherCAT\u901A\u4FE1\u529F\u80FD\u4F7F\u7528\u7684\u6307\u4EE4\u3002"},{"link":"./03_01_FBFUN_ContactInOut.html","title":"\u63A5\u70B9\u8F93\u5165/\u8F93\u51FA","body":"\u63A5\u70B9\u8F93\u5165/\u8F93\u51FA FUN/FB \u540D\u79F0 \u6982\u8FF0 R_TRIG \u4E0A\u5347\u6CBF\u68C0\u6D4B \u68C0\u6D4B\u4E0A\u5347\u6CBF\u3002 F_TRIG \u4E0B\u964D\u6CBF\u68C0\u6D4B \u68C0\u6D4B\u4E0B\u964D\u6CBF\u3002 SR \u7F6E\u4F4D\u4F18\u5148\u4FDD\u6301 \u6839\u636E\u7F6E\u4F4D\u548C\u590D\u4F4D\u7684\u72B6\u6001\uFF0C\u8F93\u51FATRUE/FALSE\u3002 RS \u590D\u4F4D\u4F18\u5148\u4FDD\u6301 \u6839\u636E\u7F6E\u4F4D\u548C\u590D\u4F4D\u7684\u72B6\u6001\uFF0C\u8F93\u51FATRUE/FALSE\u3002 R_TRIG \u4E0A\u5347\u6CBF\u68C0\u6D4B F_TRIG \u4E0B\u964D\u6CBF\u68C0\u6D4B \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 R_TRIG \u4E0A\u5347\u6CBF\u68C0\u6D4B FB \u00A0 R_TRIG_instance(CLK, Q); F_TRIG \u4E0B\u964D\u6CBF\u68C0\u6D4B FB \u00A0 F_TRIG_instance(CLK, Q); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CLK IN BOOL - \u8F93\u5165\u4FE1\u53F7 Q OUT BOOL - \u8F93\u51FA\u4FE1\u53F7 \u52A8\u4F5C\u8BF4\u660E \u258C R_TRIG \u68C0\u6D4B\u5230 CLK \u7684\u4E0A\u5347\u6CBF\uFF08FALSE\u2192TRUE\uFF09\u65F6\uFF0C\u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u8BA9 Q \u53D8\u4E3ATRUE\u3002 \u9664\u6B64\u4EE5\u5916\u60C5\u51B5\u4E0B\uFF0C Q \u59CB\u7EC8\u4E3AFALSE\u3002 \u258C F_TRIG \u68C0\u6D4B\u5230 CLK \u7684\u4E0B\u964D\u6CBF\uFF08TRUE\u2192FALSE\uFF09\u65F6\uFF0C\u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u8BA9 Q \u53D8\u4E3ATRUE\u3002 \u9664\u6B64\u4EE5\u5916\u60C5\u51B5\u4E0B\uFF0C Q \u59CB\u7EC8\u4E3AFALSE\u3002 \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF SR \u7F6E\u4F4D\u4F18\u5148\u4FDD\u6301 RS \u590D\u4F4D\u4F18\u5148\u4FDD\u6301 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SR \u7F6E\u4F4D\u4F18\u5148\u4FDD\u6301 FB \u00A0 SR_instance(Set1, Reset, Q1); RS \u590D\u4F4D\u4F18\u5148\u4FDD\u6301 FB \u00A0 RS_instance(Set, Reset1, Q1); \u258C SR \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Set1 IN BOOL - \u7F6E\u4F4D Reset IN BOOL FALSE \u590D\u4F4D Q1 OUT BOOL - \u4FDD\u6301 \u258C RS \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Set IN BOOL - \u7F6E\u4F4D Reset1 IN BOOL FALSE \u590D\u4F4D Q1 OUT BOOL - \u4FDD\u6301 \u52A8\u4F5C\u8BF4\u660E \u258C SR \u901A\u8FC7\u7EC4\u5408 Set1 \u548C Reset \u7684\u72B6\u6001\uFF0C\u6765\u63A7\u5236\u8F93\u51FA Q1 \u7684\u72B6\u6001\u3002 Set1 \u662FTRUE\u65F6\uFF0C Q1 \u5FC5\u5B9A\u662FTRUE\u3002 Set1 Reset Q1 TRUE TRUE TRUE TRUE FALSE TRUE FALSE TRUE FALSE FALSE FALSE \u4FDD\u6301\u4E0A\u4E00\u4E2A\u72B6\u6001 \u52A8\u4F5C\u793A\u4F8B\u5982\u4E0B\u3002 \u00A0 (1) Set1 \u8BBE\u4E3ATRUE\u65F6\uFF0C Q1 \u4F1A\u53D8\u4E3ATRUE\u3002 (2) Set1 \u662FTRUE\uFF0C\u6240\u4EE5\u5373\u4F7F\u5C06 Reset \u8BBE\u4E3ATRUE\uFF0C Q1 \u4E5F\u4E0D\u4F1A\u53D8\u4E3AFALSE\u3002 (3) Set1 \u662FFALSE\uFF0C Reset \u662FTRUE\uFF0C\u6240\u4EE5 Q1 \u53D8\u4E3AFALSE\u3002 (4) Set1 \u8BBE\u4E3ATRUE\u65F6\uFF0C\u65E0\u8BBA Reset \u7684\u72B6\u6001\u5982\u4F55\uFF0C Q1 \u90FD\u4F1A\u53D8\u4E3ATRUE\u3002 (5) \u5373\u4F7F\u5C06 Set1 \u8BBE\u4E3AFALSE\uFF0C Q1 \u4E5F\u4E0D\u4F1A\u53D8\u4E3AFALSE\u3002 Q1 \u4F1A\u4FDD\u6301\u4E0A\u4E00\u4E2A\u72B6\u6001\u3002 \u258C RS \u901A\u8FC7\u7EC4\u5408 Set \u548C Reset1 \u7684\u72B6\u6001\uFF0C\u6765\u63A7\u5236\u8F93\u51FA Q1 \u7684\u72B6\u6001\u3002 Reset1 \u662FTRUE\u65F6\uFF0C Q1 \u5FC5\u5B9A\u662FFALSE\u3002 Set Reset1 Q1 TRUE TRUE FALSE TRUE FALSE TRUE FALSE TRUE FALSE FALSE FALSE \u4FDD\u6301\u4E0A\u4E00\u4E2A\u72B6\u6001 \u52A8\u4F5C\u793A\u4F8B\u5982\u4E0B\u3002 \u00A0 (1) Set \u8BBE\u4E3ATRUE\u65F6\uFF0C Q1 \u4F1A\u53D8\u4E3ATRUE\u3002 (2) Reset1 \u8BBE\u4E3ATRUE\u65F6\uFF0C\u65E0\u8BBA Set \u7684\u72B6\u6001\u5982\u4F55\uFF0C Q1 \u90FD\u4F1A\u53D8\u4E3AFALSE\u3002 (3) Reset1 \u662FTRUE\uFF0C\u6240\u4EE5\u5373\u4F7F\u5C06 Set \u8BBE\u4E3ATRUE\uFF0C Q1 \u4E5F\u4E0D\u4F1A\u53D8\u4E3ATRUE\u3002 (4) Reset1 \u662FFALSE\uFF0C Set \u662FTRUE\uFF0C\u6240\u4EE5 Q1 \u53D8\u4E3ATRUE\u3002 (5) \u5373\u4F7F\u5C06 Set \u8BBE\u4E3AFALSE\uFF0C Q1 \u4E5F\u4E0D\u4F1A\u53D8\u4E3AFALSE\u3002 Q1 \u4F1A\u4FDD\u6301\u4E0A\u4E00\u4E2A\u72B6\u6001\u3002"},{"link":"./03_02_FBFUN_BitInOut.html","title":"\u4F4D\u8F93\u5165/\u8F93\u51FA","body":"\u4F4D\u8F93\u5165/\u8F93\u51FA FUN/FB \u540D\u79F0 \u6982\u8FF0 BitLoad \u4F4D\u52A0\u8F7D \u8FD4\u56DE\u4F4D\u7684\u4F4D\u7F6E\u7684ON/OFF\u3002 BitSet \u4F4D\u7F6E\u4F4D \u5C06\u6307\u5B9A\u7684\u4F4D\u7F6E\u4E8EON\u3002 BitReset \u4F4D\u590D\u4F4D \u5C06\u6307\u5B9A\u7684\u4F4D\u7F6E\u4E8EOFF\u3002 BitLoad \u4F4D\u52A0\u8F7D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BitLoad \u4F4D\u52A0\u8F7D FUN \u00A0 Result := BitLoad(In, Pos); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In IN - - \u8BFB\u53D6\u4F4D\u72B6\u6001\u7684\u5BF9\u8C61 Pos IN UINT 0 \u4F4D\u7684\u4F4D\u7F6E\uFF0C\u5224\u5B9A\u5BF9\u8C61\u7684ON/OFF \uFF08 In \u662FUINT/INT\u578B\u65F6\uFF1A0\uFF5E15\uFF0C\u662FUDINT/DINT\u578B\u65F6\uFF1A0\uFF5E31\uFF09 Result RETURN BOOL - \u4F4D\u72B6\u6001 \u52A8\u4F5C\u8BF4\u660E \u5C06\u901A\u8FC7 In \u7684 Pos \u6307\u5B9A\u7684\u4F4D\u7684\u4F4D\u7F6E\u7684ON/OFF\u72B6\u6001\u8FD4\u56DE\u7ED9 Result \u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u662FINT/UINT\u578B\u65F6\uFF0C Pos \u662F16\u4EE5\u4E0A\u7684\u60C5\u51B5 \u2022 In \u662FDINT/UDINT\u578B\u65F6\uFF0C Pos \u662F32\u4EE5\u4E0A\u7684\u60C5\u51B5 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF BitSet \u4F4D\u7F6E\u4F4D BitReset \u4F4D\u590D\u4F4D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BitSet \u4F4D\u7F6E\u4F4D FUN \u00A0 BitSet(InOut, Pos); BitReset \u4F4D\u590D\u4F4D FUN \u00A0 BitReset(InOut, Pos); \u258C BitSet \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u7F6E\u4F4D\u5BF9\u8C61 Pos IN UNIT 0 \u7F6E\u4F4D\u7B2C\u51E0\u4E2A\u4F4D \uFF08 InOut \u662FUINT/INT\u578B\u65F6\uFF1A0\uFF5E15\uFF0C\u662FUDINT/DINT\u578B\u65F6\uFF1A0\uFF5E31\uFF09 \u258C BitReset \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u590D\u4F4D\u5BF9\u8C61 Pos IN UNIT 0 \u590D\u4F4D\u7B2C\u51E0\u4E2A\u4F4D \uFF08 InOut \u662FUINT/INT\u578B\u65F6\uFF1A0\uFF5E15\uFF0C\u662FUDINT/DINT\u578B\u65F6\uFF1A0\uFF5E31\uFF09 \u64CD\u4F5C\u8BF4\u660E \u258C BitSet \u5C06 InOut \u7684 Pos \u4F4D\u7F6E\u4E8EON\u5E76\u4FDD\u6301\u3002 \u258C BitReset \u5C06 InOut \u7684 Pos \u4F4D\u7F6E\u4E8EOFF\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 InOut \u662FINT/UINT\u578B\u65F6\uFF0C Pos \u662F16\u4EE5\u4E0A\u7684\u60C5\u51B5 \u2022 InOut \u662FDINT/UDINT\u578B\u65F6\uFF0C Pos \u662F32\u4EE5\u4E0A\u7684\u60C5\u51B5 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF"},{"link":"./03_03_FBFUN_Comparison.html","title":"\u6BD4\u8F83","body":"\u6BD4\u8F83 FUN/FB \u540D\u79F0 \u6982\u8FF0 LT \u003C \u8FD4\u56DE\u6BD4\u8F83\u6570\u636E\u5927\u5C0F\u540E\u7684\u7ED3\u679C\u3002 LE \u003C= \u8FD4\u56DE\u6BD4\u8F83\u6570\u636E\u5927\u5C0F\u540E\u7684\u7ED3\u679C\u3002 GT \u003E \u8FD4\u56DE\u6BD4\u8F83\u6570\u636E\u5927\u5C0F\u540E\u7684\u7ED3\u679C\u3002 GE \u003E= \u8FD4\u56DE\u6BD4\u8F83\u6570\u636E\u5927\u5C0F\u540E\u7684\u7ED3\u679C\u3002 EQ = \u8FD4\u56DE\u6570\u636E\u662F\u5426\u76F8\u7B49\u3002 NE \u003C\u003E \u8FD4\u56DE\u6570\u636E\u662F\u5426\u4E0D\u76F8\u7B49\u3002 ZoneCmp \u8303\u56F4\u6BD4\u8F83 \u8FD4\u56DE\u6570\u636E\u662F\u5426\u5728\u4E0A\u9650\u503C\u548C\u4E0B\u9650\u503C\u7684\u8303\u56F4\u5185\u3002 LT \u003C LE \u003C= GT \u003E GE \u003E= \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LT \u003C FUN \u00A0 Result := (In1 \u003C In2) \u0026 (In2 \u003C In3) \u0026 \u2026; LE \u003C= FUN \u00A0 Result := (In1 \u003C= In2) \u0026 (In2 \u003C= In3) \u0026 \u2026; GT \u003E FUN \u00A0 Result := (In1 \u003E\u00A0In2) \u0026 (In2 \u003E In3) \u0026 \u2026; GE \u003E= FUN \u00A0 Result := (In1 \u003E= In2) \u0026 (In2 \u003E= In3) \u0026 \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In1\uFF5EInN * IN - 0 \u6BD4\u8F83\u6570\u636E\uFF08N\u662F2\uFF5E10\uFF09 Result RETURN BOOL - \u6BD4\u8F83\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u6BD4\u8F83\u5BF9 In1 \uFF5E InN \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u53EA\u6709\u5F53\u6240\u6709 InN \u548C InN\u002B1 \u7684\u5173\u7CFB\u90FD\u6210\u7ACB\u65F6\uFF0C Result \u624D\u53D8\u4E3ATRUE\u3002 \u5728LT\u4E2D\u6307\u5B9A\u5230 In6 \u65F6 \u00A0 \u7531\u4E8E\u5728\u76F8\u90BB\u6240\u6709 InN \u548C InN\u002B1 \u7684\u5173\u7CFB\u4E2D\uFF0C InN  \u003C  InN\u002B1  \u90FD\u6210\u7ACB\uFF0C\u6240\u4EE5\uFF0C Result \uFF1ATRUE \u00A0 \u00A0 In3 \u548C In4 \u7684\u5173\u7CFB\u662F In3 \u00A0\u003E  In4 \uFF0C\u6240\u4EE5 Result \uFF1AFALSE \u00A0 \u5982\u679C\u5BF9 In1 \uFF5E InN \u6307\u5B9A\u4E86STRING\u578B\uFF0C\u5219\u4F1A\u4ECE\u8D77\u59CB\u4F4D\u7F6E\u5F00\u59CB\u6BD4\u8F83\u6BCF\u4E2A\u5B57\u7B26\uFF081\u5B57\u8282\uFF09\uFF0C\u76F4\u5230\u5B57\u7B26\u4EE3\u7801\u4E0D\u540C\u3002\u5373\u4F7F\u662FSJIS\u7B49\u591A\u5B57\u8282\u5B57\u7B26\uFF0C\u4E5F\u4F1A\u5206\u5272\u62101\u5B57\u8282\u8FDB\u884C\u6BD4\u8F83\u3002\u5982\u679C\u5404\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\u4E0D\u540C\uFF0C\u5219\u4F1A\u6309\u7167\u957F\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\uFF0C\u7528NULL\uFF0800H\uFF09\u586B\u5145\u77ED\u5B57\u7B26\u4E32\u7684\u672B\u5C3E\u540E\u8FDB\u884C\u6BD4\u8F83\u3002 \u5B57\u7B26\u4E32\u6BD4\u8F83\u7684\u793A\u4F8B\u5982\u4E0B\u3002 \u2022 \u0022AZ\u0022 \uFF1C \u0022Z\u0022 \u2022 \u0022AZ\u0022 \uFF1C \u0022AZB\u0022 \u2022 \u0022AZ\u0022 \uFF1E \u0022ABC\u0022 \uFF1A\u5B57\u7B26\u4E32\u672B\u5C3E\u4E0D\u662FNULL\uFF0800H\uFF09\u65F6\uFF0C\u65E0\u6CD5\u6B63\u5E38\u8FD0\u884C\u3002 EQ = \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EQ = FUN \u00A0 Result := (In1 = In2) \u0026 (In2 = In3) \u0026 \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In1\uFF5EInN * IN - 0 \u6BD4\u8F83\u6570\u636E\uFF08N\u662F2\uFF5E10\uFF09 Result RETURN BOOL - \u6BD4\u8F83\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u6BD4\u8F83\u5BF9 In1 \uFF5E InN \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5982\u679C\u5168\u90E8\u76F8\u7B49\uFF0C\u5219\u5411 Result \u8F93\u51FATRUE\u3002 \u5982\u679C\u5BF9 In1 \uFF5E InN \u6307\u5B9A\u4E86\u6574\u4E2A\u6570\u7EC4\uFF0C\u5219\u5F53\u6570\u7EC4\u4E2D\u7684\u6240\u6709\u8981\u7D20\u90FD\u4E00\u81F4\u65F6\uFF0C\u5411 Result \u8F93\u51FATRUE\u3002 \u5982\u679C\u5BF9 In1 \uFF5E InN \u6307\u5B9A\u4E86STRING\u578B\uFF0C\u5176\u6BD4\u8F83\u89C4\u5219\u8BF7\u53C2\u9605 LT/LE/GT/GE \u7684\u89C4\u683C\u8BF4\u660E\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 In1 \uFF5E InN \u6307\u5B9A\u4E86\u6574\u4E2A\u53EF\u53D8\u957F\u5EA6\u6570\u7EC4\uFF0C\u6570\u7EC4\u8981\u7D20\u6570\u91CF\u4E0D\u540C\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5982\u679C\u5BF9 In1 \uFF5E InN \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\uFF0C\u5219\u4F1A\u8FDB\u884C\u7ED3\u6784\u4F53\u7684\u4E8C\u8FDB\u5236\u6BD4\u8F83\uFF0C\u800C\u4E0D\u662F\u6BD4\u8F83\u6BCF\u4E2A\u6210\u5458\u3002\u56E0\u6B64\uFF0C\u5BF9\u4E8E\u542B\u6709STRING\u578B\u6210\u5458\u7684\u7ED3\u6784\u4F53\uFF0C\u5373\u4F7F\u5B58\u50A8\u7684\u5B57\u7B26\uFF08\u5230NULL\u4E3A\u6B62\u7684\u6570\u636E\uFF09\u4E00\u81F4\uFF0C\u4F46\u7531\u4E8E\u5176\u540E\u7684\u6570\u636E\u4E5F\u662F\u6BD4\u8F83\u5BF9\u8C61\uFF0C\u6240\u4EE5\u6BD4\u8F83\u7ED3\u679C\u53EF\u80FD\u51FA\u73B0\u4E0D\u4E00\u81F4\u3002 NE \u003C\u003E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 NE \u003C\u003E FUN \u00A0 Result := (In1 \u003C\u003E In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In1 IN - - \u6BD4\u8F83\u6570\u636E In2 IN - - \u6BD4\u8F83\u6570\u636E Result RETURN BOOL - \u6BD4\u8F83\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u6BD4\u8F83\u5BF9 In1 \u3001 In2 \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5982\u679C\u4E0D\u76F8\u7B49\uFF0C\u5219\u5411 Result \u8F93\u51FATRUE\u3002 \u5982\u679C\u5BF9 In1 \u3001 In2 \u6307\u5B9A\u4E86\u6574\u4E2A\u6570\u7EC4\uFF0C\u5219\u5F53\u6570\u7EC4\u7684\u6240\u6709\u8981\u7D20\u4E2D\u6709\u4EFB\u4F55\u4E00\u4E2A\u4E0D\u4E00\u81F4\u65F6\uFF0C\u5411 Result \u8F93\u51FATRUE\u3002 \u5982\u679C\u5BF9 In1 \u3001 In2 \u6307\u5B9A\u4E86STRING\u578B\uFF0C\u5176\u6BD4\u8F83\u89C4\u5219\u8BF7\u53C2\u9605 LT/LE/GT/GE \u7684\u89C4\u683C\u8BF4\u660E\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 In1 \u3001 In2 \u6307\u5B9A\u4E86\u6574\u4E2A\u53EF\u53D8\u957F\u5EA6\u6570\u7EC4\uFF0C\u6570\u7EC4\u8981\u7D20\u6570\u91CF\u4E0D\u540C\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5982\u679C\u5BF9 In1 \u3001 In2 \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\uFF0C\u5219\u4F1A\u8FDB\u884C\u7ED3\u6784\u4F53\u7684\u4E8C\u8FDB\u5236\u6BD4\u8F83\uFF0C\u800C\u4E0D\u662F\u6BD4\u8F83\u6BCF\u4E2A\u6210\u5458\u3002\u56E0\u6B64\uFF0C\u5BF9\u4E8E\u542B\u6709STRING\u578B\u6210\u5458\u7684\u7ED3\u6784\u4F53\uFF0C\u5373\u4F7F\u5B58\u50A8\u7684\u5B57\u7B26\uFF08\u5230NULL\u4E3A\u6B62\u7684\u6570\u636E\uFF09\u4E00\u81F4\uFF0C\u4F46\u7531\u4E8E\u5176\u540E\u7684\u6570\u636E\u4E5F\u662F\u6BD4\u8F83\u5BF9\u8C61\uFF0C\u6240\u4EE5\u6BD4\u8F83\u7ED3\u679C\u53EF\u80FD\u51FA\u73B0\u4E0D\u4E00\u81F4\u3002 ZoneCmp \u8303\u56F4\u6BD4\u8F83 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ZoneCmp \u8303\u56F4\u6BD4\u8F83 FUN \u00A0 Result := ZoneCmp(In, Max, Min); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In IN - - \u6BD4\u8F83\u6570\u636E Max IN - - \u4E0A\u9650\u503C Min IN - - \u4E0B\u9650\u503C Result RETURN BOOL - \u6BD4\u8F83\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5224\u5B9A In \u662F\u5426\u5728 Max \u548C Min \u4E4B\u95F4\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6EE1\u8DB3 Min \u2264 In \u2264 Max \u65F6\uFF0C\u5411 Result \u8F93\u51FATRUE\uFF0C\u5176\u4ED6\u60C5\u51B5\u8F93\u51FAFALSE\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Max \u003C Min \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF"},{"link":"./03_04_FBFUN_TimerCounter.html","title":"\u5B9A\u65F6\u5668 \u8BA1\u6570\u5668","body":"\u5B9A\u65F6\u5668 \u8BA1\u6570\u5668 FUN/FB \u540D\u79F0 \u6982\u8FF0 TON \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 \u5728\u8BBE\u5B9A\u65F6\u95F4\u7ECF\u8FC7\u540E\u8FD4\u56DETRUE\u3002 TOF \u65AD\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 \u5728\u8BBE\u5B9A\u65F6\u95F4\u7ECF\u8FC7\u540E\u8FD4\u56DEFALSE\u3002 TP \u5355\u6B21\u5B9A\u65F6\u5668 \u53EA\u5728\u4ECE\u542F\u52A8\u5F00\u59CB\u7684\u8BBE\u5B9A\u65F6\u95F4\u5185\u8FD4\u56DETRUE\u3002 UpDownTimer \u52A0\u51CF\u5B9A\u65F6\u5668 \u6839\u636E\u8F93\u5165\u7684\u589E\u52A0\uFF0F\u51CF\u5C11\u5BF9\u7ECF\u8FC7\u65F6\u95F4\u8FDB\u884C\u8BA1\u6570\u3002 CTU \u52A0\u6CD5\u8BA1\u6570\u5668 \u5728\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u589E\u52A0\u8BA1\u6570\u5668\u503C\u3002 CTU_DINT \u52A0\u6CD5\u8BA1\u6570\u5668\uFF08DINT\uFF09 \u5728\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u589E\u52A0\u8BA1\u6570\u5668\u503C\u3002 CTU_UDINT \u52A0\u6CD5\u8BA1\u6570\u5668\uFF08UDINT\uFF09 \u5728\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u589E\u52A0\u8BA1\u6570\u5668\u503C\u3002 CTD \u51CF\u6CD5\u8BA1\u6570\u5668 \u5728\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u51CF\u5C11\u8BA1\u6570\u5668\u503C\u3002 CTD_DINT \u51CF\u6CD5\u8BA1\u6570\u5668\uFF08DINT\uFF09 \u5728\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u51CF\u5C11\u8BA1\u6570\u5668\u503C\u3002 CTD_UDINT \u51CF\u6CD5\u8BA1\u6570\u5668\uFF08UDINT\uFF09 \u5728\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u51CF\u5C11\u8BA1\u6570\u5668\u503C\u3002 CTUD \u52A0\u51CF\u8BA1\u6570\u5668 \u5728\u52A0\u6CD5\u8BA1\u6570\u5668\u8F93\u5165\uFF0F\u51CF\u6CD5\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u589E\u52A0\uFF0F\u51CF\u5C11\u8BA1\u6570\u5668\u503C\u3002 CTUD_DINT \u52A0\u51CF\u8BA1\u6570\u5668\uFF08DINT\uFF09 \u5728\u52A0\u6CD5\u8BA1\u6570\u5668\u8F93\u5165\uFF0F\u51CF\u6CD5\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u589E\u52A0\uFF0F\u51CF\u5C11\u8BA1\u6570\u5668\u503C\u3002 CTUD_UDINT \u52A0\u51CF\u8BA1\u6570\u5668\uFF08UDINT\uFF09 \u5728\u52A0\u6CD5\u8BA1\u6570\u5668\u8F93\u5165\uFF0F\u51CF\u6CD5\u8BA1\u6570\u5668\u8F93\u5165\u7684\u4E0A\u5347\u6CBF\u589E\u52A0\uFF0F\u51CF\u5C11\u8BA1\u6570\u5668\u503C\u3002 TON \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TON \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 FB \u00A0 TON_instance(In, PT, Q, ET); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA In IN BOOL - \u5B9A\u65F6\u5668\u8F93\u5165 PT IN TIME T#0s \u8BBE\u5B9A\u65F6\u95F4 Q OUT BOOL - \u5B9A\u65F6\u5668\u8F93\u51FA ET OUT TIME - \u7ECF\u8FC7\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u662F\u5728\u8BBE\u5B9A\u65F6\u95F4\u7ECF\u8FC7\u540E\u8F93\u51FATRUE\u7684\u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668\u3002 In \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\u3002 \u5728 In \u662FTRUE\u7684\u671F\u95F4\u5185\uFF0C ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\uFF0C\u5F53 ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u53D8\u4E3ATRUE\u3002\u6B64\u65F6\uFF0C ET \u7684\u589E\u52A0\u505C\u6B62\u3002 In \u53D8\u4E3AFALSE\u65F6\uFF0C ET \u53D8\u4E3A0\uFF0C Q \u4E5F\u53D8\u4E3AFALSE\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 \u00A0 (1) In \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\uFF0C ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\u3002 (2) \u5982\u679C\u5728 ET \u672A\u8FBE PT \u7684\u72B6\u6001\u4E0B\u5C06 In \u7F6E\u4E3AFALSE\uFF0C\u5219\u4F1A\u7ED3\u675F\u5B9A\u65F6\u5668\u8BA1\u6D4B\uFF0C ET \u53D8\u4E3A0\u3002\u5728\u6B64\u671F\u95F4\uFF0C Q \u4ECD\u662FFALSE\u3002 (3) ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u53D8\u4E3ATRUE\u3002 (4) In \u53D8\u4E3AFALSE\u65F6\uFF0C Q \u53D8\u4E3AFALSE\uFF0C ET \u53D8\u4E3A0\u3002 \u00A0 \u2022 \u5982\u679C\u5C06 PT \u8BBE\u4E3A0\u6216\u8D1F\u6570\u503C\uFF0C\u5219\u5728 In \u662FTRUE\u7684\u671F\u95F4\u5185\uFF0C Q \u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ET \u4E2D\u5B58\u50A80\u3002 \u2022 \u5982\u679C\u5728\u8FD0\u8F6C\u5F00\u59CB\u65F6 In \u662FTRUE\uFF0C\u5219\u4F1A\u7ACB\u5373\u5F00\u59CB\u8BA1\u6D4B\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 ST\uFF1A \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 TOF \u65AD\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TOF \u65AD\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 FB \u00A0 TOF_instance(In, PT, Q, ET); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA In IN BOOL - \u5B9A\u65F6\u5668\u8F93\u5165 PT IN TIME T#0s \u8BBE\u5B9A\u65F6\u95F4 Q OUT BOOL - \u5B9A\u65F6\u5668\u8F93\u51FA ET OUT TIME - \u7ECF\u8FC7\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u662F\u5728\u8BBE\u5B9A\u65F6\u95F4\u7ECF\u8FC7\u540E\u8F93\u51FAFALSE\u7684\u65AD\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668\u3002 \u5728 In \u662FTRUE\u7684\u671F\u95F4\u5185\uFF0C Q \u4E5F\u53D8\u4E3ATRUE\u3002 In \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\u3002 \u5728 In \u662FFALSE\u7684\u671F\u95F4\u5185\uFF0C ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\uFF0C\u5F53 ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002\u6B64\u65F6\uFF0C ET \u7684\u589E\u52A0\u505C\u6B62\u3002 In \u53D8\u4E3ATRUE\u65F6\uFF0C ET \u53D8\u4E3A0\uFF0C Q \u4E5F\u53D8\u4E3ATRUE\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 \u00A0 (1) In \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Q \u53D8\u4E3ATRUE\u3002 (2) In \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\uFF0C ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\u3002 (3) ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 (4) In \u53D8\u4E3ATRUE\u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C ET \u53D8\u4E3A0\u3002 \u00A0 \u5982\u679C\u5C06 PT \u8BBE\u4E3A0\u6216\u8D1F\u6570\u503C\uFF0C\u5219\u5728 In \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C Q \u7ACB\u5373\u53D8\u4E3AFALSE\uFF0C\u5E76\u5728 ET \u4E2D\u5B58\u50A80\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 ST\uFF1A \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 TP \u5355\u6B21\u5B9A\u65F6\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TP \u5355\u6B21\u5B9A\u65F6\u5668 FB \u00A0 TP_instance(In, PT, Q, ET); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA In IN BOOL - \u5B9A\u65F6\u5668\u8F93\u5165 PT IN TIME T#0s \u8BBE\u5B9A\u65F6\u95F4 Q OUT BOOL - \u5B9A\u65F6\u5668\u8F93\u51FA ET OUT TIME - \u7ECF\u8FC7\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u662F\u53EA\u5728\u4ECE\u542F\u52A8\u5F00\u59CB\u7684\u8BBE\u5B9A\u65F6\u95F4\u5185\u8F93\u51FATRUE\u7684\u5355\u6B21\u5B9A\u65F6\u5668\u3002 In \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\u3002 ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\u3002 ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002\u6B64\u65F6\uFF0C ET \u7684\u589E\u52A0\u505C\u6B62\u3002 In \u53D8\u4E3AFALSE\u65F6\uFF0C ET \u53D8\u4E3A0\u3002 \u4F46\u662F\uFF0C\u5982\u679C\u5728\u542F\u52A8\u540E ET \u8FBE\u5230 PT \u4E4B\u524D In \u53D8\u6210\u4E86FALSE\uFF0C\u5219\u4E0D\u4F1A\u590D\u4F4D\u5B9A\u65F6\u5668\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 \u00A0 (1) In \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Q \u53D8\u4E3ATRUE\u3002\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\uFF0C ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\u3002 (2) ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 (3) In \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C ET \u53D8\u4E3A0\u3002 (4) \u5728 ET \u8FBE\u5230 PT \u4E4B\u524D\uFF0C\u5373\u4F7F\u8BA9 In \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\uFF0C\u4E5F\u4E0D\u4F1A\u590D\u4F4D\u5B9A\u65F6\u5668\u8BA1\u6D4B\uFF0C ET \u4ECD\u968F\u7740\u65F6\u95F4\u589E\u52A0\u76F4\u81F3\u8FBE\u5230 PT \u3002 \u00A0 \u2022 \u5982\u679C\u5C06 PT \u8BBE\u4E3A0\u6216\u8D1F\u6570\u503C\uFF0C\u5219 In \u5373\u4F7F\u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\uFF0C Q \u4E5F\u4E0D\u4F1A\u53D8\u4E3ATRUE\uFF0C\u4ECD\u4F1A\u5728 ET \u4E2D\u5B58\u50A80\u3002 \u2022 \u5982\u679C\u5728\u8FD0\u8F6C\u5F00\u59CB\u65F6 In \u662FTRUE\uFF0C\u5219\u4F1A\u7ACB\u5373\u5F00\u59CB\u8BA1\u6D4B\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 ST\uFF1A \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 UpDownTimer \u52A0\u51CF\u5B9A\u65F6\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UpDownTimer \u52A0\u51CF\u5B9A\u65F6\u5668 FB \u00A0 UpDownTimer_instance(Up, Down, R, PT, Q, ET); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Up IN BOOL - Up\u8F93\u5165 Down IN BOOL FALSE Down\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D PT IN TIME T#0s \u8BBE\u5B9A\u65F6\u95F4 Q OUT BOOL - \u5B9A\u65F6\u5668\u8F93\u51FA ET OUT TIME - \u7ECF\u8FC7\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E Up \u662FTRUE\u65F6\uFF0C ET \u589E\u52A0\u3002 Down \u662FTRUE\u65F6\uFF0C ET \u51CF\u5C11\u3002 Up \u3001 Down \u90FD\u662FTRUE\u6216FALSE\u65F6\uFF0C ET \u4FDD\u6301\u5F53\u524D\u503C\u3002 \u5728 Up \u662FTRUE\u7684\u72B6\u6001\u4E0B\uFF0C ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u4F1A\u53D8\u4E3ATRUE\u3002\u4E4B\u540E\uFF0C\u5728 Up \u53D8\u4E3AFALSE\u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 Down \u662FTRUE\u7684\u72B6\u6001\u4E0B\uFF0C ET \u53D8\u4E3A0\u65F6\uFF0C Q \u4F1A\u53D8\u4E3ATRUE\u3002\u4E4B\u540E\uFF0C\u5728 Down \u53D8\u4E3AFALSE\u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C ET \u4F1A\u590D\u4F4D\u4E3A0\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 \u00A0 (1) Up \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\uFF0C ET \u968F\u7740\u65F6\u95F4\u589E\u52A0\u3002 (2) \u5728 Up \u662FTRUE\u7684\u72B6\u6001\u4E0B\uFF0C ET \u8FBE\u5230 PT \u65F6\uFF0C Q \u4F1A\u53D8\u4E3ATRUE\u3002 (3) Up \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C Down \u4E5F\u53D8\u4E3AFALSE\uFF0C\u6240\u4EE5 ET \u4F1A\u4FDD\u6301\u503C\u3002 (4) Down \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5B9A\u65F6\u5668\u5F00\u59CB\u8BA1\u6D4B\uFF0C ET \u968F\u7740\u65F6\u95F4\u51CF\u5C11\u3002 (5) \u5728 Down \u662FTRUE\u7684\u72B6\u6001\u4E0B\uFF0C ET \u8FBE\u52300\u65F6\uFF0C Q \u4F1A\u53D8\u4E3ATRUE\u3002 (6) Up \u3001 Down \u90FD\u662FTRUE\u6216FALSE\u65F6\uFF0C ET \u4FDD\u6301\u5F53\u524D\u503C\u3002 (7) R \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Q \u53D8\u4E3AFALSE\uFF0C ET \u53D8\u4E3A0\u3002\u53E6\u5916\uFF0C\u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C ET \u4F1A\u4FDD\u63010\u3002 \u00A0 \u2022 \u5C06 PT \u8BBE\u4E3A0\u65F6\uFF0C\u5728 Up \u6216 Down \u662FTRUE\u7684\u671F\u95F4\uFF0C Q \u4F1A\u53D8\u4E3ATRUE\u72B6\u6001\u3002 \u2022 ET \u88AB\u65AD\u7535\u4FDD\u6301\u3002 CTU \u52A0\u6CD5\u8BA1\u6570\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTU \u52A0\u6CD5\u8BA1\u6570\u5668 FB \u00A0 CTU_instance(CU, R, PV, Q, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CU IN BOOL - \u8BA1\u6570\u5668\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D PV IN INT 0 \u9884\u8BBE\u503C Q OUT BOOL - \u8F93\u51FA CV OUT INT - \u8BA1\u6570\u5668\u503C \u52A8\u4F5C\u8BF4\u660E \u5728 CU \u7684\u4E0A\u5347\u6CBF\u52A0\u4E0A CV \u3002 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C CV \u5C0F\u4E8E PV \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 R \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 PV \u662F\u201C5\u201D\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 (1) \u5728 CU \u7684\u4E0A\u5347\u6CBF\u9010\u4E2A\u52A0\u4E0A CV \u3002 CV \u662F\u4ECE0\u5F00\u59CB\u7684\u3002 (2) CV \u8FBE\u5230 PV \u65F6\uFF0C Q \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u3002 (3) R \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C CV \u53D8\u4E3A0\uFF0C Q \u53D8\u4E3AFALSE\u3002\u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F CU \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTU_DINT \u52A0\u6CD5\u8BA1\u6570\u5668\uFF08DINT\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTU_DINT \u52A0\u6CD5\u8BA1\u6570\u5668\uFF08DINT\uFF09 FB \u00A0 CTU_DINT_instance(CU, R, PV, Q, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CU IN BOOL - \u8BA1\u6570\u5668\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D PV IN DINT 0 \u9884\u8BBE\u503C Q OUT BOOL - \u8F93\u51FA CV OUT DINT - \u8BA1\u6570\u5668\u503C \u52A8\u4F5C\u8BF4\u660E \u5728 CU \u7684\u4E0A\u5347\u6CBF\u52A0\u4E0A CV \u3002 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C CV \u5C0F\u4E8E PV \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 R \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u52A8\u4F5C\u793A\u4F8B\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 CTU \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTU_UDINT \u52A0\u6CD5\u8BA1\u6570\u5668\uFF08UDINT\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTU_UDINT \u52A0\u6CD5\u8BA1\u6570\u5668\uFF08UDINT\uFF09 FB \u00A0 CTU_UDINT_instance(CU, R, PV, Q, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CU IN BOOL - \u8BA1\u6570\u5668\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D PV IN UDINT 0 \u9884\u8BBE\u503C Q OUT BOOL - \u8F93\u51FA CV OUT UDINT - \u8BA1\u6570\u5668\u503C \u52A8\u4F5C\u8BF4\u660E \u5728 CU \u7684\u4E0A\u5347\u6CBF\u52A0\u4E0A CV \u3002 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C CV \u5C0F\u4E8E PV \u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 R \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u52A8\u4F5C\u793A\u4F8B\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 CTU \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTD \u51CF\u6CD5\u8BA1\u6570\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTD \u51CF\u6CD5\u8BA1\u6570\u5668 FB \u00A0 CTD_instance(CD, LD, PV, Q, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CD IN BOOL - \u8BA1\u6570\u5668\u8F93\u5165 LD IN BOOL FALSE \u52A0\u8F7D PV IN INT 0 \u9884\u8BBE\u503C Q OUT BOOL - \u8F93\u51FA CV OUT INT - \u8BA1\u6570\u5668\u503C \u52A8\u4F5C\u8BF4\u660E \u5728 CD \u7684\u4E0A\u5347\u6CBF\u51CF\u53BB CV \u3002 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C CV \u5927\u4E8E0\u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 LD \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002 CV \u7684\u9ED8\u8BA4\u503C\u662F0\u3002\u5728 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 PV \u662F\u201C5\u201D\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 (1) \u5728 CD \u7684\u4E0A\u5347\u6CBF\u9010\u4E2A\u51CF\u53BB CV \u3002 CV \u662F\u4ECE PV \u5F00\u59CB\u7684\u3002 (2) CV \u8FBE\u52300\u65F6\uFF0C Q \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u3002 (3) R \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C CV \u53D8\u4E3A PV \uFF0C Q \u53D8\u4E3AFALSE\u3002\u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F CU \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTD_DINT \u51CF\u6CD5\u8BA1\u6570\u5668\uFF08DINT\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTD_DINT \u51CF\u6CD5\u8BA1\u6570\u5668\uFF08DINT\uFF09 FB \u00A0 CTD_DINT_instance(CD, LD, PV, Q, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CD IN BOOL - \u8BA1\u6570\u5668\u8F93\u5165 LD IN BOOL FALSE \u52A0\u8F7D PV IN DINT 0 \u9884\u8BBE\u503C Q OUT BOOL - \u8F93\u51FA CV OUT DINT - \u8BA1\u6570\u5668\u503C \u64CD\u4F5C\u8BF4\u660E \u5728 CD \u7684\u4E0A\u5347\u6CBF\u51CF\u53BB CV \u3002 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C CV \u5927\u4E8E0\u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 LD \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002 CV \u7684\u9ED8\u8BA4\u503C\u662F0\u3002\u5728 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u52A8\u4F5C\u793A\u4F8B\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 CTD \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTD_UDINT \u51CF\u6CD5\u8BA1\u6570\u5668\uFF08UDINT\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTD_UDINT \u51CF\u6CD5\u8BA1\u6570\u5668\uFF08UDINT\uFF09 FB \u00A0 CTD_UDINT_instance(CD, LD, PV, Q, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CD IN BOOL - \u8BA1\u6570\u5668\u8F93\u5165 LD IN BOOL FALSE \u52A0\u8F7D PV IN UDINT 0 \u9884\u8BBE\u503C Q OUT BOOL - \u8F93\u51FA CV OUT UDINT - \u8BA1\u6570\u5668\u503C \u64CD\u4F5C\u8BF4\u660E \u5728 CD \u7684\u4E0A\u5347\u6CBF\u51CF\u53BB CV \u3002 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u65F6\uFF0C Q \u53D8\u4E3ATRUE\uFF0C CV \u5927\u4E8E0\u65F6\uFF0C Q \u53D8\u4E3AFALSE\u3002 \u5728 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 LD \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002 CV \u7684\u9ED8\u8BA4\u503C\u662F0\u3002\u5728 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u52A8\u4F5C\u793A\u4F8B\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 CTD \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTUD \u52A0\u51CF\u8BA1\u6570\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTUD \u52A0\u51CF\u8BA1\u6570\u5668 FB \u00A0 CTUD_instance(CU, CD, R, LD, PV, QU, QD, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CU IN BOOL - \u52A0\u6CD5\u8BA1\u6570\u5668\u8F93\u5165 CD IN BOOL FALSE \u51CF\u6CD5\u8BA1\u6570\u5668\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D LD IN BOOL FALSE \u52A0\u8F7D PV IN INT 0 \u9884\u8BBE\u503C QU OUT BOOL - \u52A0\u6CD5\u8F93\u51FA QD OUT BOOL - \u51CF\u6CD5\u8F93\u51FA CV OUT INT - \u8BA1\u6570\u5668\u503C \u52A8\u4F5C\u8BF4\u660E \u5728 CU \u7684\u4E0A\u5347\u6CBF\u52A0\u4E0A CV \uFF0C\u5728 CD \u7684\u4E0A\u5347\u6CBF\u51CF\u53BB CV \u3002 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u65F6\uFF0C QU \u53D8\u4E3ATRUE\uFF0C CV \u5C0F\u4E8E PV \u65F6\uFF0C QU \u53D8\u4E3AFALSE\u3002 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u65F6\uFF0C Q D \u53D8\u4E3ATRUE\uFF0C CV \u5927\u4E8E0\u65F6\uFF0C QD \u53D8\u4E3AFALSE\u3002 \u00A0 \u5728 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u5728 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u00A0 R \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002 LD \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002 R \u548C LD \u90FD\u662FTRUE\u65F6\uFF0C CV \u53D8\u4E3A0\u3002 \u00A0 CV \u7684\u9ED8\u8BA4\u503C\u662F0\u3002 \u00A0 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u5728 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 PV \u662F\u201C3\u201D\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 (1) \u5728 CU \u7684\u4E0A\u5347\u6CBF\u9010\u4E2A\u52A0\u4E0A CV \u3002 CV \u662F\u4ECE0\u5F00\u59CB\u7684\u3002 (2) CV \u8FBE\u5230 PV \u65F6\uFF0C QU \u53D8\u4E3ATRUE\u3002 (3) \u5728 CD \u7684\u4E0A\u5347\u6CBF\u9010\u4E2A\u51CF\u53BB CV \u3002\u7531\u4E8E\u4E0D\u518D\u662F CV = PV \uFF0C\u6240\u4EE5 QU \u53D8\u4E3AFALSE\u3002 (4) CV \u8FBE\u52300\u65F6\uFF0C QD \u53D8\u4E3ATRUE\u3002 (5) LD \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002\u53E6\u5916\uFF0C QU \u53D8\u4E3ATRUE\uFF0C QD \u53D8\u4E3AFALSE\u3002 (6) R \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002\u53E6\u5916\uFF0C QU \u53D8\u4E3AFALSE\uFF0C QD \u53D8\u4E3ATRUE\u3002 (7) R \u6216 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C CV \u4E0D\u53D1\u751F\u53D8\u5316\u3002\u53E6\u5916\uFF0C R \u548C LD \u90FD\u662FTRUE\u65F6\uFF0C CV \u53D8\u4E3A0\u3002 \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTUD_DINT \u52A0\u51CF\u8BA1\u6570\u5668\uFF08DINT\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTUD_DINT \u52A0\u51CF\u8BA1\u6570\u5668\uFF08DINT\uFF09 FB \u00A0 CTUD_DINT_instance(CU, CD, R, LD, PV, QU, QD, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CU IN BOOL - \u52A0\u6CD5\u8BA1\u6570\u5668\u8F93\u5165 CD IN BOOL FALSE \u51CF\u6CD5\u8BA1\u6570\u5668\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D LD IN BOOL FALSE \u52A0\u8F7D PV IN DINT 0 \u9884\u8BBE\u503C QU OUT BOOL - \u52A0\u6CD5\u8F93\u51FA QD OUT BOOL - \u51CF\u6CD5\u8F93\u51FA CV OUT DINT - \u8BA1\u6570\u5668\u503C \u64CD\u4F5C\u8BF4\u660E \u5728 CU \u7684\u4E0A\u5347\u6CBF\u52A0\u4E0A CV \uFF0C\u5728 CD \u7684\u4E0A\u5347\u6CBF\u51CF\u53BB CV \u3002 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u65F6\uFF0C QU \u53D8\u4E3ATRUE\uFF0C CV \u5C0F\u4E8E PV \u65F6\uFF0C QU \u53D8\u4E3AFALSE\u3002 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u65F6\uFF0C Q D \u53D8\u4E3ATRUE\uFF0C CV \u5927\u4E8E0\u65F6\uFF0C QD \u53D8\u4E3AFALSE\u3002 \u00A0 \u5728 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u5728 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u00A0 R \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002 LD \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002 R \u548C LD \u90FD\u662FTRUE\u65F6\uFF0C CV \u53D8\u4E3A0\u3002 \u00A0 CV \u7684\u9ED8\u8BA4\u503C\u662F0\u3002 \u00A0 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u5728 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u52A8\u4F5C\u793A\u4F8B\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 CTUD \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002 CTUD_UDINT \u52A0\u51CF\u8BA1\u6570\u5668\uFF08UDINT\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CTUD_UDINT \u52A0\u51CF\u8BA1\u6570\u5668\uFF08UDINT\uFF09 FB \u00A0 CTUD_UDINT_instance(CU, CD, R, LD, PV, QU, QD, CV); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA CU IN BOOL - \u52A0\u6CD5\u8BA1\u6570\u5668\u8F93\u5165 CD IN BOOL FALSE \u51CF\u6CD5\u8BA1\u6570\u5668\u8F93\u5165 R IN BOOL FALSE \u590D\u4F4D LD IN BOOL FALSE \u52A0\u8F7D PV IN UDINT 0 \u9884\u8BBE\u503C QU OUT BOOL - \u52A0\u6CD5\u8F93\u51FA QD OUT BOOL - \u51CF\u6CD5\u8F93\u51FA CV OUT UDINT - \u8BA1\u6570\u5668\u503C \u64CD\u4F5C\u8BF4\u660E \u5728 CU \u7684\u4E0A\u5347\u6CBF\u52A0\u4E0A CV \uFF0C\u5728 CD \u7684\u4E0A\u5347\u6CBF\u51CF\u53BB CV \u3002 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u65F6\uFF0C QU \u53D8\u4E3ATRUE\uFF0C CV \u5C0F\u4E8E PV \u65F6\uFF0C QU \u53D8\u4E3AFALSE\u3002 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u65F6\uFF0C QD \u53D8\u4E3ATRUE\uFF0C CV \u5927\u4E8E0\u65F6\uFF0C QD \u53D8\u4E3AFALSE\u3002 \u00A0 \u5728 CV \u5927\u4E8E\u6216\u7B49\u4E8E PV \u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u5728 CV \u5C0F\u4E8E\u6216\u7B49\u4E8E0\u7684\u72B6\u6001\u4E0B\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u00A0 R \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A0\u3002 LD \u8BBE\u4E3ATRUE\u65F6\uFF0C CV \u4F1A\u53D8\u4E3A PV \u3002 R \u548C LD \u90FD\u662FTRUE\u65F6\uFF0C CV \u53D8\u4E3A0\u3002 \u00A0 CV \u7684\u9ED8\u8BA4\u503C\u662F0\u3002 \u00A0 \u5728 R \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CU \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u52A0\u4E0A CV \u3002 \u5728 LD \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5373\u4F7F\u68C0\u6D4B\u5230 CD \u7684\u4E0A\u5347\u6CBF\uFF0C\u4E5F\u4E0D\u4F1A\u51CF\u53BB CV \u3002 \u52A8\u4F5C\u793A\u4F8B\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 CTUD \u00A0 \u65AD\u7535\u65F6\u4ECD\u4F1A\u4FDD\u6301CV\u7684\u503C\u3002"},{"link":"./03_05_FBFUN_Shift.html","title":"\u79FB\u4F4D","body":"\u79FB\u4F4D FUN/FB \u540D\u79F0 \u6982\u8FF0 SHL \u5DE6\u79FB \u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u4FA7\u79FB\u4F4D\u3002 SHR \u53F3\u79FB \u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u4FA7\u79FB\u4F4D\u3002 ROL \u5FAA\u73AF\u5DE6\u79FB \u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u4FA7\u5FAA\u73AF\u79FB\u52A8\u3002 ROR \u5FAA\u73AF\u53F3\u79FB \u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u4FA7\u5FAA\u73AF\u79FB\u52A8\u3002 AryShiftL \u6570\u7EC4\u5DE6\u79FB \u5411\u6570\u7EC4\u8981\u7D20\u5927\u7684\u4E00\u4FA7\u79FB\u4F4D\u3002 AryShiftR \u6570\u7EC4\u53F3\u79FB \u5411\u6570\u7EC4\u8981\u7D20\u5C0F\u7684\u4E00\u4FA7\u79FB\u4F4D\u3002 ShiftRegister \u79FB\u4F4D\u5BC4\u5B58\u5668 \u5728\u65F6\u949F\u7684\u4E0A\u5347\u6CBF\u8BFB\u53D6TRUE/FALSE\u7684\u72B6\u6001\u3002 SHL \u5DE6\u79FB SHR \u53F3\u79FB \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SHL \u5DE6\u79FB FUN \u00A0 Result := SHL(In, N); SHR \u53F3\u79FB FUN \u00A0 Result := SHR(In, N); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u79FB\u4F4D\u5BF9\u8C61 N IN UINT 0 \u79FB\u4F4D\u7684\u4F4D\u6570\u91CF \uFF08 In \u662FUINT/INT\u578B\u65F6\uFF1A0\uFF5E16\uFF0C\u662FUDINT/DINT\u578B\u65F6\uFF1A0\uFF5E32\uFF09 Result RETURN - - \u79FB\u4F4D\u7ED3\u679C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u258C SHL \u5C06\u5BF9 In \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u4FA7\u79FB\u52A8 N \u4F4D\u3002 \u5728\u4F4E\u4F4D N \u4F4D\u4E2D\u5B58\u50A80\u3002 \u6EA2\u51FA\u7684\u4F4D\u4F1A\u88AB\u4E22\u5F03\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 N =5\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u00A0 \u258C SHR \u5C06\u5BF9 In \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u4FA7\u79FB\u52A8 N \u4F4D\u3002 \u5728\u9AD8\u4F4D N \u4F4D\u4E2D\u5B58\u50A80\u3002 \u6EA2\u51FA\u7684\u4F4D\u4F1A\u88AB\u4E22\u5F03\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 N =5\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u00A0 \u2022 \u5BF9\u6570\u7EC4\u8FDB\u884C\u79FB\u4F4D\u64CD\u4F5C\u65F6\uFF0C\u5E94\u4F7F\u7528AryShiftL/AryShiftR\u3002 AryShiftL / AryShiftR \u2022 N =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5C06 In \u7684\u503C\u76F4\u63A5\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u2022 N \u7684\u503C\u8D85\u8FC7\u4E86 In \u7684\u4F4D\u6570\u91CF\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5C060\u8F93\u51FA\u5230 Result \u4E2D\u3002 ROL \u5FAA\u73AF\u5DE6\u79FB ROR \u5FAA\u73AF\u53F3\u79FB \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ROL \u5FAA\u73AF\u5DE6\u79FB FUN \u00A0 Result := ROL(In, N); ROR \u5FAA\u73AF\u53F3\u79FB FUN \u00A0 Result := ROR(In, N); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u5FAA\u73AF\u5BF9\u8C61 N IN UINT 0 \u5FAA\u73AF\u7684\u4F4D\u6570\u91CF Result RETURN - - \u5FAA\u73AF\u7ED3\u679C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u258C ROL \u5C06\u5BF9 In \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5411\u4F4D\u7F16\u53F7\u5927\u7684\u4E00\u4FA7\u5FAA\u73AF\u79FB\u52A8 N \u4F4D\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 N =5\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u00A0 \u258C ROR \u5C06\u5BF9 In \u6307\u5B9A\u7684\u6570\u636E\uFF0C\u5411\u4F4D\u7F16\u53F7\u5C0F\u7684\u4E00\u4FA7\u5FAA\u73AF\u79FB\u52A8 N \u4F4D\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 N =5\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u00A0 \u2022 N =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5C06 In \u7684\u503C\u76F4\u63A5\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u2022 N \u7684\u503C\u8D85\u8FC7\u4E86 In \u7684\u4F4D\u6570\u91CF\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u53EA\u5FAA\u73AF N \u7684\u503C\u3002 AryShiftL \u6570\u7EC4\u5DE6\u79FB AryShiftR \u6570\u7EC4\u53F3\u79FB \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AryShiftL \u6570\u7EC4\u5DE6\u79FB FUN \u00A0 AryShiftL(InOut, Count, ShiftNum); AryShiftR \u6570\u7EC4\u53F3\u79FB FUN \u00A0 AryShiftR(InOut, Count, ShiftNum); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u79FB\u4F4D\u6570\u7EC4\u7684\u8D77\u59CB Count IN UDINT 1 \u79FB\u4F4D\u5BF9\u8C61\u7684\u8981\u7D20\u6570\u91CF ShiftNum IN UDINT 0 \u79FB\u4F4D\u7684\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u258C AryShiftL \u5C06\u4EE5 InOut \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u6570\u636E\uFF0C\u5411\u6570\u7EC4\u8981\u7D20\u5927\u7684\u4E00\u4FA7\u79FB\u52A8 ShiftNum \u8981\u7D20\u3002 \u5728\u79FB\u4F4D\u540E\u7A7A\u51FA\u7684\u8981\u7D20\u4E2D\uFF0C\u5B58\u50A8\u5404\u6570\u636E\u7C7B\u578B\u7684\u9ED8\u8BA4\u503C\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 Count =9\u548C ShiftNum =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u258C AryShiftR \u5C06\u4EE5 InOut \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u6570\u636E\uFF0C\u5411\u6570\u7EC4\u8981\u7D20\u5C0F\u7684\u4E00\u4FA7\u79FB\u52A8 ShiftNum \u8981\u7D20\u3002 \u5728\u79FB\u4F4D\u540E\u7A7A\u51FA\u7684\u8981\u7D20\u4E2D\uFF0C\u5B58\u50A8\u5404\u6570\u636E\u7C7B\u578B\u7684\u9ED8\u8BA4\u503C\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 Count =9\u548C ShiftNum =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u79FB\u4F4D\u540E\u7684\u7ED3\u679C\u8BBF\u95EE\u8F6F\u5143\u4EF6\uFF0F\u53D8\u91CF\u7684\u8303\u56F4\u5916\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Count =0\u6216 ShiftNum =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u6570\u7EC4\u7684\u79FB\u4F4D ST\uFF1A \u6570\u7EC4\u7684\u79FB\u4F4D ShiftRegister \u79FB\u4F4D\u5BC4\u5B58\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ShiftRegister \u79FB\u4F4D\u5BC4\u5B58\u5668 FB \u00A0 ShiftRegister_instance(Clk, In, Reset, InOut, BitSize, Q); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Clk IN BOOL - \u65F6\u949F\u8F93\u5165 In IN BOOL FALSE \u6570\u636E\u8F93\u5165 Reset IN BOOL FALSE \u590D\u4F4D\u8F93\u5165 InOut IN-OUT BOOL[*] - \u79FB\u4F4D\u6570\u7EC4\u7684\u8D77\u59CB BitSize IN UDINT 0 \u79FB\u4F4D\u5BF9\u8C61\u4F4D\u6570\u91CF Q OUT BOOL - \u8F93\u51FA \u52A8\u4F5C\u8BF4\u660E \u5728 Clk \u7684\u4E0A\u5347\u6CBF\uFF0C\u4EE5 InOut \u4E3A\u5F00\u5934\uFF0C\u5C06 BitSize \u4F4D\u5411\u6570\u7EC4\u8981\u7D20\u5927\u7684\u4E00\u4FA7\u79FB\u52A81\u4F4D\uFF0C\u5C06 In \u7684\u72B6\u6001\u5B58\u50A8\u81F3 InOut \u7684\u6700\u4F4E\u4F4D\u3002 Reset \u662FTRUE\u65F6\uFF0C\u4EE5 InOut \u4E3A\u5F00\u5934\uFF0C BitSize \u4F4D\u4E2D\u7684\u4F4D\u5168\u90E8\u53D8\u4E3AFALSE\u3002 \u79FB\u52A8\u7684\u4F4D\u4EC5\u662F\u5904\u4E8E InOut \u5F00\u5934\u7684 BitSize \u4F4D\u7684\u8303\u56F4\u5185\u7684\u4F4D\u3002\u9664\u6B64\u4EE5\u5916\u7684\u4F4D\u4E0D\u79FB\u52A8\u3002 Q \u4EC5\u5728\u68C0\u6D4B\u5230 Clk \u7684\u4E0A\u5347\u6CBF\u65F6\u53D8\u4E3ATRUE\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E\u5982\u4E0B\u6240\u793A\u3002 BitSize =5\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 (1) Clk \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C In \u53D8\u4E3AFALSE\uFF0C\u6240\u4EE5\u5728 InOut \u7684\u6700\u4F4E\u4F4D\u4E2D\u63D2\u51650\uFF0C\u79FB\u52A8 BitSize \u6307\u5B9A\u91CF\u7684\u6570\u636E\u3002 (2) Clk \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C In \u53D8\u4E3ATRUE\uFF0C\u6240\u4EE5\u5728 InOut \u7684\u6700\u4F4E\u4F4D\u4E2D\u63D2\u51651\uFF0C\u79FB\u52A8 BitSize \u6307\u5B9A\u91CF\u7684\u6570\u636E\u3002 (3) Clk \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C In \u53D8\u4E3AFALSE\uFF0C\u6240\u4EE5\u5728 InOut \u7684\u6700\u4F4E\u4F4D\u4E2D\u63D2\u51650\uFF0C\u79FB\u52A8 BitSize \u6307\u5B9A\u91CF\u7684\u6570\u636E\u3002 (4) Reset \u662FTRUE\uFF0C\u4EE5 InOut \u4E3A\u5F00\u5934\uFF0C\u5C06 BitSize \u6307\u5B9A\u91CF\u7684\u4F4D\u5168\u90E8\u8BBE\u4E3AFALSE\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 InOut \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C BitSize \u65F6\uFF08\u6B64\u65F6 Q \u4E0D\u53D8\u4E3ATRUE\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 BitSize =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u79FB\u4F4D\u3002 \u2022 \u5728 Reset \u662FTRUE\u7684\u72B6\u6001\u4E0B\u68C0\u6D4B\u5230 Clk \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4E0D\u6267\u884C\u79FB\u4F4D\u3002"},{"link":"./03_06_FBFUN_LogicalOperation.html","title":"\u903B\u8F91\u8FD0\u7B97","body":"\u903B\u8F91\u8FD0\u7B97 FUN/FB \u540D\u79F0 \u6982\u8FF0 NOT \u4F4D\u53D6\u53CD \u9006\u8F6C\u4F4D\u3002 AND \u903B\u8F91\u4E0E \u8FD4\u56DE\u6570\u636E\u7684\u903B\u8F91\u4E0E\u3002 OR \u903B\u8F91\u6216 \u8FD4\u56DE\u6570\u636E\u7684\u903B\u8F91\u6216\u3002 XOR \u5F02\u6216 \u8FD4\u56DE\u6570\u636E\u7684\u5F02\u6216\u3002 NOT \u4F4D\u53D6\u53CD \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 NOT \u4F4D\u53D6\u53CD FUN \u00A0 Result := NOT In; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u4F4D\u53D6\u53CD\u6570\u636E Result RETURN - - \u53D6\u53CD\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5BF9 In1 \u4E2D\u6307\u5B9A\u7684\u6570\u636E\u6267\u884C\u4F4D\u53D6\u53CD\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 AND \u903B\u8F91\u4E0E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AND \u903B\u8F91\u4E0E FUN \u00A0 Result := In1 AND In2 AND \u2026; Result := In1 \u0026 In2 \u0026 \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN - 0 \u903B\u8F91\u4E0E\u8FD0\u7B97\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u8FD0\u7B97\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u5728 In1 \uFF5E InN \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u4E0E\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5BF9 In1 \uFF5E In2 \u6307\u5B9A\u4E86UINT\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 OR \u903B\u8F91\u6216 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 OR \u903B\u8F91\u6216 FUN \u00A0 Result := In1 OR In2 OR \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN - 0 \u903B\u8F91\u6216\u8FD0\u7B97\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u8FD0\u7B97\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u5728 In1 \uFF5E InN \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u903B\u8F91\u6216\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5BF9 In1 \uFF5E In2 \u6307\u5B9A\u4E86UINT\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 XOR \u5F02\u6216 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 XOR \u5F02\u6216 FUN \u00A0 Result := In1 XOR In2 XOR \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN - 0 \u8FD0\u7B97\u5F02\u6216\u7684\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u8FD0\u7B97\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u5728 In1 \uFF5E InN \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u5F02\u6216\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5BF9 In1 \uFF5E In2 \u6307\u5B9A\u4E86UINT\u65F6\u7684\u793A\u4F8B\u3002"},{"link":"./03_07_FBFUN_Arithmetic.html","title":"\u7B97\u672F","body":"\u7B97\u672F FUN/FB \u540D\u79F0 \u6982\u8FF0 ADD \u52A0\u6CD5 \u5BF9\u6570\u636E\u6267\u884C\u52A0\u6CD5\u8FD0\u7B97\u540E\u8FD4\u56DE\u7ED3\u679C\u3002 SUB \u51CF\u6CD5 \u5BF9\u6570\u636E\u6267\u884C\u51CF\u6CD5\u8FD0\u7B97\u540E\u8FD4\u56DE\u7ED3\u679C\u3002 MUL \u4E58\u6CD5 \u5BF9\u6570\u636E\u6267\u884C\u4E58\u6CD5\u8FD0\u7B97\u540E\u8FD4\u56DE\u7ED3\u679C\u3002 DIV \u9664\u6CD5 \u5BF9\u6570\u636E\u6267\u884C\u9664\u6CD5\u8FD0\u7B97\u540E\u8FD4\u56DE\u7ED3\u679C\u3002 MOD \u53D6\u4F59 \u5BF9\u6570\u636E\u6267\u884C\u9664\u6CD5\u8FD0\u7B97\u540E\u8FD4\u56DE\u4F59\u6570\u3002 EXP \u81EA\u7136\u6307\u6570\u8FD0\u7B97 \u8FD4\u56DEe\uFF08\u81EA\u7136\u5BF9\u6570\u7684\u5E95\u6570\uFF09\u7684\u5E42\u8FD0\u7B97\u503C\u3002 EXPT \u5E42\u8FD0\u7B97 \u8FD4\u56DE\u6570\u636E\u7684\u5E42\u8FD0\u7B97\u503C\u3002 SQRT \u5E73\u65B9\u6839 \u8FD4\u56DE\u6570\u636E\u7684\u5E73\u65B9\u6839\u3002 LN \u81EA\u7136\u5BF9\u6570\u8FD0\u7B97 \u8FD4\u56DE\u6570\u636E\u7684\u81EA\u7136\u5BF9\u6570\u3002 LOG \u5E38\u7528\u5BF9\u6570\u8FD0\u7B97 \u8FD4\u56DE\u6570\u636E\u7684\u5E38\u7528\u5BF9\u6570\u3002 SIN \u6B63\u5F26 \u8FD4\u56DE\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u7684\u6B63\u5F26\u503C\u3002 COS \u4F59\u5F26 \u8FD4\u56DE\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u7684\u4F59\u5F26\u503C\u3002 TAN \u6B63\u5207 \u8FD4\u56DE\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u7684\u6B63\u5207\u503C\u3002 ASIN \u53CD\u6B63\u5F26 \u8FD4\u56DE\u6B63\u5F26\u503C\u7684\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u3002 ACOS \u53CD\u4F59\u5F26 \u8FD4\u56DE\u4F59\u5F26\u503C\u7684\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u3002 ATAN \u53CD\u6B63\u5207 \u8FD4\u56DE\u6B63\u5207\u503C\u7684\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u3002 ATAN2 \u5750\u6807\u6307\u5B9A\u53CD\u6B63\u5207 \u8FD4\u56DE\u6839\u636EX/Y\u5750\u6807\u8BA1\u7B97\u51FA\u7684\u89D2\u5EA6\uFF08\u5355\u4F4D\uFF1A\u5F27\u5EA6\uFF09\u7684\u6B63\u5207\u503C\u3002 ABS \u7EDD\u5BF9\u503C \u8FD4\u56DE\u6570\u636E\u7684\u7EDD\u5BF9\u503C\u3002 DegToRad \u89D2\u5EA6\u2192\u5F27\u5EA6\u8F6C\u6362 \u5C06\u89D2\u5EA6\u4ECE\u00B0\u5355\u4F4D\u8F6C\u6362\u4E3A\u5F27\u5EA6\u5355\u4F4D\u3002 RadToDeg \u5F27\u5EA6\u2192\u89D2\u5EA6\u8F6C\u6362 \u5C06\u89D2\u5EA6\u4ECE\u5F27\u5EA6\u5355\u4F4D\u8F6C\u6362\u4E3A\u00B0\u5355\u4F4D\u3002 Inc \u52A0\u4E00 \u6570\u636E\u52A0\u4E0A1\u3002 Dec \u51CF\u4E00 \u6570\u636E\u51CF\u53BB1\u3002 ADD \u52A0\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ADD \u52A0\u6CD5 FUN \u00A0 Result := In1 \u002B In2 \u002B \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN - 0 \u52A0\u6CD5\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u8FD0\u7B97\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u52A0\u4E0A In1 \uFF5E InN \u7684\u503C\uFF0C\u5C06\u8FD0\u7B97\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FA\u8FD0\u7B97\u6570\u636E\u7C7B\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 SUB \u51CF\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SUB \u51CF\u6CD5 FUN \u00A0 Result := In1 - In2; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN - - \u88AB\u51CF\u6570\u636E In2 IN - - \u51CF\u6CD5\u6570\u636E Result RETURN - - \u8FD0\u7B97\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u4ECE In1 \u7684\u503C\u51CF\u53BB In2 \u7684\u503C\uFF0C\u5C06\u8FD0\u7B97\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FA\u8FD0\u7B97\u6570\u636E\u7C7B\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 MUL \u4E58\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MUL \u4E58\u6CD5 FUN \u00A0 Result := In1 * In2 * \u2026; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN - 0 \u4E58\u6CD5\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u8FD0\u7B97\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E In1 \uFF5E InN \u7684\u503C\u76F8\u4E58\uFF0C\u5C06\u8FD0\u7B97\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FA\u8FD0\u7B97\u6570\u636E\u7C7B\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 DIV \u9664\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DIV \u9664\u6CD5 FUN \u00A0 Result := In1 / In2; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN - - \u88AB\u9664\u6570\u636E In2 IN - - \u9664\u6CD5\u6570\u636E Result RETURN - - \u8FD0\u7B97\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E In1 \u7684\u503C\u9664\u4EE5 In2 \u7684\u503C\uFF0C\u5C06\u8FD0\u7B97\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 In1 \u3001 In2 \u6307\u5B9A\u6574\u6570\u578B\uFF0C In2 \u7684\u503C\u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FA\u8FD0\u7B97\u6570\u636E\u7C7B\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 MOD \u53D6\u4F59 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MOD \u53D6\u4F59 FUN \u00A0 Result := In1 MOD In2; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN - - \u88AB\u9664\u6570\u636E In2 IN - - \u9664\u6CD5\u6570\u636E Result RETURN - - \u8FD0\u7B97\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97 In1 \u7684\u503C\u9664\u4EE5 In2 \u7684\u503C\u65F6\u7684\u4F59\u6570\uFF0C\u5C06\u8FD0\u7B97\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u4E0E\u7528ST\u8BED\u8A00\u7F16\u5199\u7684\u4E0B\u8FF0\u516C\u5F0F\u7B49\u6548\u3002 OUT := In1 - (In1 / In2) * In2; \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In2 \u7684\u503C\u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF EXP \u81EA\u7136\u6307\u6570\u8FD0\u7B97 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EXP \u81EA\u7136\u6307\u6570\u8FD0\u7B97 FUN \u00A0 Result := EXP(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8FD0\u7B97\u6570\u636E Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u81EA\u7136\u5BF9\u6570\u7684\u5E95\u6570e\u7684 In \u6B21\u65B9\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 EXPT \u5E42\u8FD0\u7B97 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EXPT \u5E42\u8FD0\u7B97 FUN \u00A0 Result := EXPT(In, Pwr); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8FD0\u7B97\u6570\u636E Pwr IN - - \u6307\u6570\u6570\u636E Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97 In \u7684 Pwr \u6B21\u5E42\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 SQRT \u5E73\u65B9\u6839 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SQRT \u5E73\u65B9\u6839 FUN \u00A0 Result := SQRT(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8FD0\u7B97\u6570\u636E Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97 In \u7684\u5E73\u65B9\u6839\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u7684\u503C\u662F\u8D1F\u503C\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF LN \u81EA\u7136\u5BF9\u6570\u8FD0\u7B97 LOG \u5E38\u7528\u5BF9\u6570\u8FD0\u7B97 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LN \u81EA\u7136\u5BF9\u6570\u8FD0\u7B97 FUN \u00A0 Result := LN(In); LOG \u5E38\u7528\u5BF9\u6570\u8FD0\u7B97 FUN \u00A0 Result := LOG(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8FD0\u7B97\u6570\u636E Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u258C LN \u8BA1\u7B97 In \u7684\u81EA\u7136\u5BF9\u6570\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C LOG \u8BA1\u7B97 In \u7684\u5E38\u7528\u5BF9\u6570\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 SIN \u6B63\u5F26 COS \u4F59\u5F26 TAN \u6B63\u5207 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SIN \u6B63\u5F26 FUN \u00A0 Result := SIN(In); COS \u4F59\u5F26 FUN \u00A0 Result := COS(In); TAN \u6B63\u5207 FUN \u00A0 Result := TAN(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8FD0\u7B97\u6570\u636E Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u258C SIN \u8BA1\u7B97 In \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\u7684\u6B63\u5F26\uFF08SIN\uFF09\u503C\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C COS \u8BA1\u7B97 In \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\u7684\u4F59\u5F26\uFF08COS\uFF09\u503C\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C TAN \u8BA1\u7B97 In \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\u7684\u6B63\u5207\uFF08TAN\uFF09\u503C\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u4E09\u89D2\u51FD\u6570\uFF08SIN/COS/TAN\uFF09 ST\uFF1A \u4E09\u89D2\u51FD\u6570\uFF08SIN/COS/TAN\uFF09 ASIN \u53CD\u6B63\u5F26 ACOS \u53CD\u4F59\u5F26 ATAN \u53CD\u6B63\u5207 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ASIN \u53CD\u6B63\u5F26 FUN \u00A0 Result := ASIN(In); ACOS \u53CD\u4F59\u5F26 FUN \u00A0 Result := ACOS(In); ATAN \u53CD\u6B63\u5207 FUN \u00A0 Result := ATAN(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8FD0\u7B97\u6570\u636E Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u258C ASIN \u6839\u636E In \u4E2D\u5B58\u50A8\u7684\u6B63\u5F26\uFF08SIN\uFF09\u503C\u8BA1\u7B97\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C ACOS \u6839\u636E In \u4E2D\u5B58\u50A8\u7684\u4F59\u5F26\uFF08COS\uFF09\u503C\u8BA1\u7B97\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C ATAN \u6839\u636E In \u4E2D\u5B58\u50A8\u7684\u6B63\u5207\uFF08TAN\uFF09\u503C\u8BA1\u7B97\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u53CD\u4E09\u89D2\u51FD\u6570\uFF08ASIN/ACOS/ATAN\uFF09 ST\uFF1A \u53CD\u4E09\u89D2\u51FD\u6570\uFF08ASIN/ACOS/ATAN\uFF09 ATAN2 \u5750\u6807\u6307\u5B9A\u53CD\u6B63\u5207 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ATAN2 \u5750\u6807\u6307\u5B9A\u53CD\u6B63\u5207 FUN \u00A0 Result := ATAN2(Y, X); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InY *1 IN - - Y\u5750\u6807 InX *1 IN - - X\u5750\u6807 Result *1 RETURN - - \u8FD0\u7B97\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u6839\u636E Y \u4E2D\u5B58\u50A8\u7684Y\u5750\u6807\u548C X \u4E2D\u5B58\u50A8\u7684X\u5750\u6807\uFF0C\u8BA1\u7B97\u76F8\u5BF9\u4E8EX\u8F74\u7684\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u00A0 ABS \u7EDD\u5BF9\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ABS \u7EDD\u5BF9\u503C FUN \u00A0 Result := ABS(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u88AB\u8FD0\u7B97\u6570\u636E(-2147483648\u9664\u5916) Result RETURN - - \u8FD0\u7B97\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97 In \u7684\u7EDD\u5BF9\u503C\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u7684\u503C\u662F-2147483648\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF DegToRad \u89D2\u5EA6\u2192\u5F27\u5EA6\u8F6C\u6362 RadToDeg \u5F27\u5EA6\u2192\u89D2\u5EA6\u8F6C\u6362 \u258C DegToRad \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DegToRad \u89D2\u5EA6\u2192\u5F27\u5EA6\u8F6C\u6362 FUN \u00A0 Result := DegToRad(Deg); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Deg *1 IN - - \u89D2\u5EA6(\u4EE5\u5EA6\u4E3A\u5355\u4F4D) Result *1 RETURN - - \u89D2\u5EA6(\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D)\u5B58\u50A8\u76EE\u6807 *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u258C RadToDeg \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RadToDeg \u5F27\u5EA6\u2192\u89D2\u5EA6\u8F6C\u6362 FUN \u00A0 Result := RadToDeg(Rad); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Rad *1 IN - - \u89D2\u5EA6(\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D) Result *1 RETURN - - \u89D2\u5EA6(\u4EE5\u5EA6\u4E3A\u5355\u4F4D)\u5B58\u50A8\u76EE\u6807 *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u258C DegToRad \u5C06 Deg \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u4EE5\u00B0\u4E3A\u5355\u4F4D\uFF09\u8F6C\u6362\u4E3A\u5F27\u5EA6\u5355\u4F4D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u258C RadToDeg \u5C06 Rad \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u4EE5\u5F27\u5EA6\u4E3A\u5355\u4F4D\uFF09\u8F6C\u6362\u4E3A\u5EA6\uFF08\u00B0\uFF09\u5355\u4F4D\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 Inc \u52A0\u4E00 Dec \u51CF\u4E00 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Inc \u52A0\u4E00 FUN \u00A0 Inc(InOut); Dec \u51CF\u4E00 FUN \u00A0 Dec(InOut); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u589E\u91CF\uFF0F\u51CF\u91CF\u7684\u5BF9\u8C61 \u52A8\u4F5C\u8BF4\u660E \u258C Inc InOut \u7684\u6570\u636E\u52A01\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 InOut \u4E2D\u3002 \u258C Dec InOut \u7684\u6570\u636E\u51CF1\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 InOut \u4E2D\u3002 \u00A0 \u00A0 \u4E0D\u80FD\u5BF9Inc/Dec\u7684 InOut \u6307\u5B9AZ\u8F6F\u5143\u4EF6\u3002\u5982\u9700\u5C06Z\u8F6F\u5143\u4EF6\u9012\u589E/\u9012\u51CF1\uFF0C\u8BF7\u4F7F\u7528\u4E0B\u8FF0\u65B9\u6CD5\u3002 \u2022 \u5728ST\u5185\u8FDB\u884C\u9012\u589E(\u4F8B\uFF1AZ1 := Z1 \u002B 1;) \u2022 \u4F7F\u7528 CAL\u002B / CAL- \u6307\u4EE4\u52A0\u4E0A/\u51CF\u53BB1"},{"link":"./03_08_FBFUN_Selection.html","title":"\u9009\u62E9","body":"\u9009\u62E9 FUN/FB \u540D\u79F0 \u6982\u8FF0 SEL \u4E8C\u8DEF\u9009\u62E9\u5668 \u8FD4\u56DE\u5BF9\u5E94\u95E8\uFF08TRUE/FALSE\uFF09\u7684\u503C\u3002 MUX \u591A\u8DEF\u9009\u62E9\u5668 \u8FD4\u56DE\u5BF9\u5E94\u9009\u62E9\u5668\u7684\u503C\u3002 MAX \u53D6\u6700\u5927\u503C \u8FD4\u56DE\u6570\u636E\u4E2D\u7684\u6700\u5927\u503C\u3002 MIN \u53D6\u6700\u5C0F\u503C \u8FD4\u56DE\u6570\u636E\u4E2D\u7684\u6700\u5C0F\u503C\u3002 LIMIT \u4E0A\u4E0B\u9650\u9650\u5236 \u8FD4\u56DE\u5C06\u6570\u636E\u63A7\u5236\u5728\u4E0A\u4E0B\u9650\u8303\u56F4\u5185\u7684\u503C\u3002 SEL \u4E8C\u8DEF\u9009\u62E9\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SEL \u4E8C\u8DEF\u9009\u62E9\u5668 FUN \u00A0 Result := SEL(G, In0, In1); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA G IN BOOL FALSE \u95E8 In0 IN - - \u9009\u62E9\u5BF9\u8C61 In1 IN - - \u9009\u62E9\u5BF9\u8C61 Result RETURN - - \u9009\u62E9\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E G \u662FFALSE\u65F6\u5C06 In0 \u3001 G \u662FTRUE\u65F6\u5C06 In1 \u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C\u5BF9 Result \u6307\u5B9A\u4E86\u4E0E In0 \u3001 In1 \u4E0D\u540C\u7684\u7C7B\u578B\uFF0C\u5219\u4F1A\u8F6C\u6362\u4E3A Result \u7684\u7C7B\u578B\u540E\u8FDB\u884C\u5B58\u50A8\u3002 MUX \u591A\u8DEF\u9009\u62E9\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MUX \u591A\u8DEF\u9009\u62E9\u5668 FUN \u00A0 Result := MUX(K, In0, In1, \u2026, InN); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA K IN UINT 0 \u9009\u62E9\u5668\uFF080\uFF5EN\uFF09 0\uFF1A\u9009\u62E9 In0 1\uFF1A\u9009\u62E9 In1 \uFF1A N\uFF1A\u9009\u62E9 InN In0\uFF5EInN IN - - \u9009\u62E9\u5BF9\u8C61\uFF08N\u4E3A1\uFF5E9\uFF09 Result RETURN - - \u9009\u62E9\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u6839\u636E\u7528 K \u6307\u5B9A\u7684\u503C\uFF0C\u5C06 In0 \uFF5E InN \u4E2D\u7684\u4EFB\u610F\u503C\u5B58\u50A8\u5230 Result \u4E2D\u3002 K =0\u65F6\u5B58\u50A8 In0 \uFF0C K =1\u65F6\u5B58\u50A8 In1 \uFF0C\u2026\uFF0C K =N\u65F6\u5B58\u50A8 InN \u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 K \u7684\u503C\u8D85\u51FA\u6709\u6548\u8303\u56F4\u65F6\uFF08 K \uFF1EN\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF MAX \u53D6\u6700\u5927\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MAX \u53D6\u6700\u5927\u503C FUN \u00A0 Result := MAX(In1, In2, \u2026, InN); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In0\uFF5EInN * IN - 0 \u5BF9\u8C61\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u9009\u62E9\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u5C06 In1 \uFF5E InN \u4E2D\u7684\u6700\u5927\u503C\u5B58\u50A8\u5230 Result \u4E2D\u3002 MIN \u53D6\u6700\u5C0F\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MIN \u53D6\u6700\u5C0F\u503C FUN \u00A0 Result := MIN(In1, In2, \u2026, InN); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN - 0 \u5BF9\u8C61\u6570\u636E\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN - - \u9009\u62E9\u7ED3\u679C * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u5C06 In1 \uFF5E InN \u4E2D\u7684\u6700\u5C0F\u503C\u5B58\u50A8\u5230 Result \u4E2D\u3002 LIMIT \u4E0A\u4E0B\u9650\u9650\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LIMIT \u4E0A\u4E0B\u9650\u9650\u5236 FUN \u00A0 Result := LIMIT(MN, In, MX); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA MN IN - - \u4E0B\u9650\u503C In IN - - \u5BF9\u8C61\u6570\u636E MX IN - - \u4E0A\u9650\u503C Result RETURN - - \u5904\u7406\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u6839\u636E MN / MX \u9650\u5236 In \uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 In\u7684\u503C Result\u7684\u503C In\uFF1CMN MN MN\u2264In\u2264MX In MX\uFF1CIn MX \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 MN \uFF1E MX \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF"},{"link":"./03_09_FBFUN_DataProcessing.html","title":"\u6570\u636E\u5904\u7406","body":"\u6570\u636E\u5904\u7406 FUN/FB \u540D\u79F0 \u6982\u8FF0 AryReset \u6570\u7EC4\u590D\u4F4D \u5BF9\u6570\u7EC4\u8981\u7D20\u8BBE\u5B9A\u9ED8\u8BA4\u503C\u3002 BitCount \u4F4D\u8BA1\u6570 \u8FD4\u56DEON\u72B6\u6001\u7684\u4F4D\u6570\u91CF\u3002 DataSearch \u6570\u636E\u68C0\u7D22 \u5728\u6307\u5B9A\u8303\u56F4\u5185\u6267\u884C\u641C\u7D22\uFF0C\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u4E0E\u6570\u636E\u4E00\u81F4\u7684\u4F4D\u7F6E\u3002 AryMax \u6700\u5927\u503C\u68C0\u7D22 \u8FD4\u56DE\u6307\u5B9A\u8303\u56F4\u5185\u7684\u6700\u5927\u503C\u3002 AryMin \u6700\u5C0F\u503C\u68C0\u7D22 \u8FD4\u56DE\u6307\u5B9A\u8303\u56F4\u5185\u7684\u6700\u5C0F\u503C\u3002 AryMean \u6570\u7EC4\u5E73\u5747\u503C \u8FD4\u56DE\u6307\u5B9A\u8303\u56F4\u5185\u7684\u5E73\u5747\u503C\u3002 ArySum \u548C\u6821\u9A8C\u8BA1\u7B97 \u8FD4\u56DE\u6307\u5B9A\u8303\u56F4\u5185\u7684\u5408\u8BA1\u503C\u3002 ByteSum \u5B57\u8282\u5408\u8BA1\u503C\u7B97\u51FA \u8FD4\u56DE\u6307\u5B9A\u8303\u56F4\u5185\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\u7684\u5408\u8BA1\u503C\u3002 AryCRC CRC\u6821\u9A8C\u503C\u8BA1\u7B97 \u8FD4\u56DE\u6307\u5B9A\u6570\u91CF\u7684\u6570\u636E\u7684CRC\u503C\u3002 StructSort \u7ED3\u6784\u4F53\u6392\u5E8F \u6267\u884C\u7ED3\u6784\u4F53\u6570\u7EC4\u7684\u6392\u5E8F\u3002 AryReset \u6570\u7EC4\u590D\u4F4D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AryReset \u6570\u7EC4\u590D\u4F4D FUN \u00A0 AryReset(InOut, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u590D\u4F4D\u8303\u56F4\u7684\u8D77\u59CB Count IN UDINT 1 \u590D\u4F4D\u7684\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u5BF9\u4EE5 InOut \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u6267\u884C\u590D\u4F4D\uFF08\u6309\u6570\u636E\u7C7B\u578B\u5B58\u50A8\u9ED8\u8BA4\u503C\uFF09\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 InOut \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Count =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 BitCount \u4F4D\u8BA1\u6570 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BitCount \u4F4D\u8BA1\u6570 FUN \u00A0 Result := BitCount(Src, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u8BA1\u6570\u7684\u8D77\u59CB Count IN UDINT 0 \u8BA1\u6570\u7684\u8981\u7D20\u6570\u91CF Result RETURN UDINT - \u5904\u4E8EON\u7684\u4F4D\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u5728\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8303\u56F4\u5185\uFF0C\u5BF9\u5904\u4E8EON\u72B6\u6001\u7684\u4F4D\u8FDB\u884C\u8BA1\u6570\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Count =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 DataSearch \u6570\u636E\u68C0\u7D22 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DataSearch \u6570\u636E\u68C0\u7D22 FUN \u00A0 Result := DataSearch(Key, Src, Count, ResultNum); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Key IN - - \u67E5\u627E\u7684\u6570\u636E Src IN - - \u67E5\u627E\u7684\u8303\u56F4\u8D77\u59CB Count IN UDINT 0 \u67E5\u627E\u7684\u8981\u7D20\u6570\u91CF\uFF081\uFF5E\uFF09 ResultNum OUT UDINT - \u4E0EKey\u4E00\u81F4\u6570\u636E\u7684\u4E2A\u6570 Result RETURN UDINT - \u9996\u6B21\u4E00\u81F4\u7684\u6570\u636E\u4F4D\u7F6E\uFF08\u4ECE Src \u5F00\u59CB\u7B2C\u51E0\u4E2A\u8981\u7D20\uFF09 \u52A8\u4F5C\u8BF4\u660E \u5C06 Key \u4F5C\u4E3A\u5173\u952E\u5B57\uFF0C\u641C\u7D22\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8303\u56F4\u3002 \u5C06\u7B2C\u4E00\u4E2A\u4E00\u81F4\u7684\u6570\u636E\u4F4D\u7F6E\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5C06\u4E0E\u5173\u952E\u5B57\u4E00\u81F4\u7684\u4E2A\u6570\u5B58\u50A8\u5230 ResultNum \u4E2D\u3002 \u672A\u53D1\u73B0\u4E00\u81F4\u7684\u5173\u952E\u5B57\u65F6\uFF0C\u5411 ResultNum \u548C Result \u4E2D\u5B58\u50A80\u3002 Key \u4E0E Src \u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\u65F6\uFF0C\u5C06 Key \u7684\u503C\u8F6C\u6362\u4E3A Src \u7684\u6570\u636E\u7C7B\u578B\u540E\u6267\u884C\u641C\u7D22\u3002 \u00A0 \u4E0B\u8FF0\u662F Key =1234\u3001 Src =ArrSrc[0]\u3001 Count =6\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 Count =0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF AryMax \u6700\u5927\u503C\u68C0\u7D22 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AryMax \u6700\u5927\u503C\u68C0\u7D22 FUN \u00A0 Result := AryMax(Src, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u67E5\u627E\u7684\u8303\u56F4\u8D77\u59CB Count IN UDINT 0 \u67E5\u627E\u7684\u8981\u7D20\u6570\u91CF\uFF081\uFF5E\uFF09 Result RETURN - - \u6700\u5927\u503C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5728\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8303\u56F4\u5185\u641C\u7D22\u6700\u5927\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 Count =0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF AryMin \u6700\u5C0F\u503C\u68C0\u7D22 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AryMin \u6700\u5C0F\u503C\u68C0\u7D22 FUN \u00A0 Result := AryMin(Src, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u67E5\u627E\u7684\u8303\u56F4\u8D77\u59CB Count IN UDINT 0 \u67E5\u627E\u7684\u8981\u7D20\u6570\u91CF\uFF081\uFF5E\uFF09 Result RETURN - - \u6700\u5C0F\u503C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5728\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8303\u56F4\u5185\u641C\u7D22\u6700\u5C0F\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 Count =0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF AryMean \u6570\u7EC4\u5E73\u5747\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AryMean \u6570\u7EC4\u5E73\u5747\u503C FUN \u00A0 Result := AryMean(Src, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u8FDB\u884C\u5E73\u5747\u503C\u8BA1\u7B97\u7684\u8303\u56F4\u8D77\u59CB Count IN UDINT 0 \u8FDB\u884C\u8BA1\u7B97\u7684\u8981\u7D20\u6570\u91CF\uFF081\uFF5E\uFF09 Result RETURN - - \u5E73\u5747\u503C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8303\u56F4\u7684\u5E73\u5747\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 Src \u7684\u7C7B\u578B\u662FREAL/LREAL\u65F6\uFF0C\u5982\u679C\u53D1\u751F\u6EA2\u51FA\uFF0C\u5219\u4F1A\u5411 Result \u5B58\u50A8\u00B1\u65E0\u7A77\u5927\u3002 Src \u7684\u7C7B\u578B\u662FREAL/LREAL\u65F6\uFF0C\u5982\u679C\u53D1\u751F\u4E0B\u6EA2\uFF0C\u5219\u4F1A\u5411 Result \u5B58\u50A8\u00B10\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 Count =0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF ArySum \u548C\u6821\u9A8C\u8BA1\u7B97 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ArySum \u548C\u6821\u9A8C\u8BA1\u7B97 FUN \u00A0 Result := ArySum(Src, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u8FDB\u884C\u5408\u8BA1\u503C\u8BA1\u7B97\u7684\u8303\u56F4\u8D77\u59CB Count IN UDINT 0 \u8FDB\u884C\u8BA1\u7B97\u7684\u8981\u7D20\u6570\u91CF\uFF081\uFF5E\uFF09 Result RETURN - - \u5408\u8BA1\u503C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8303\u56F4\u7684\u5408\u8BA1\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 Count =0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 ST\uFF1A \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 ByteSum \u5B57\u8282\u5408\u8BA1\u503C\u7B97\u51FA \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ByteSum \u5B57\u8282\u5408\u8BA1\u503C\u7B97\u51FA FUN \u00A0 Result := ByteSum(Src, ByteSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u8FDB\u884C\u5408\u8BA1\u503C\u8BA1\u7B97\u7684\u8303\u56F4\u8D77\u59CB ByteSize IN UDINT 0 \u8FDB\u884C\u5408\u8BA1\u503C\u8BA1\u7B97\u7684\u5B57\u8282\u6570\uFF081\uFF5E\uFF09 Result RETURN UDINT - \u5408\u8BA1\u503C\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5728\u4EE5 Src \u4E3A\u5F00\u5934\u7684 ByteSize \u5B57\u8282\u8303\u56F4\u5185\uFF0C\u8BA1\u7B97\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\u7684\u5408\u8BA1\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5B57\u8282\u987A\u5E8F\u662F\u9AD8\u4F4D\u2192\u4F4E\u4F4D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u5B57\u8282\u6570\u91CF\uFF08\u5230\u53D8\u91CF\u672B\u7AEF\u4E3A\u6B62\u7684\u5269\u4F59\u5B57\u8282\u6570\u91CF\uFF09\uFF1C ByteSize \u65F6 \u2022 ByteSize =0\u65F6 \u2022 Src \u662FBOOL\u578B\u4E14\u4F4D\u504F\u79FB\u91CF\u4E0D\u662F16\u7684\u500D\u6570 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF AryCRC CRC\u6821\u9A8C\u503C\u8BA1\u7B97 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AryCRC CRC\u6821\u9A8C\u503C\u8BA1\u7B97 FUN \u00A0 Result := AryCRC(CalcMode, CalcOrder, BitOrder, InitialValue, Src, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA CalcMode IN BOOL FALSE CRC\u8FD0\u7B97\u65B9\u5F0F CalcOrder IN BOOL FALSE \u8FD0\u7B97\u987A\u5E8F BitOrder IN BOOL FALSE \u4F4D\u987A\u5E8F\u53D6\u53CD InitialValue IN UINT 0 CRC\u521D\u59CB\u503C Src IN - - \u8FDB\u884CCRC\u503C\u8BA1\u7B97\u7684\u8303\u56F4\u8D77\u59CB Num IN UINT 0 \u8BA1\u7B97\u7684\u4E2A\u6570\uFF081\uFF5E\uFF09 Result RETURN UINT - \u5DF2\u7B97\u51FA\u7684CRC\u503C \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Num \u4E2A\u6570\u636E\u7684CRC\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 CalcMode \u3001 CalcOrder \u3001 BitOrder \u3001 InitialValue \u7684\u503C\u6709\u4E0B\u8FF0\u4E0D\u540C\u52A8\u4F5C\u3002 \u9879\u76EE TRUE\u65F6 FALSE\u65F6 CalcMode CRC-ITU-T\uFF08CRC-CCITT\uFF09 CRC-16\uFF08CRC-ANSI\uFF09 CalcOrder \u6309\u9AD8\u4F4D8bit\u2192\u4F4E\u4F4D8bit\u7684\u987A\u5E8F\u8BA1\u7B97 \uFF08 Num \u63091\u5B57\u8282\u5355\u4F4D\u6307\u5B9A\u4E2A\u6570\uFF09 \u53EA\u8BA1\u7B97\u4F4E\u4F4D8bit\uFF08\u5FFD\u7565\u9AD8\u4F4D8bit\uFF09 \uFF08 Num \u63091\u5B57\u5355\u4F4D\u6307\u5B9A\u4E2A\u6570\uFF09 BitOrder \u6309\u5B57\u8282\u5355\u4F4D\u53CD\u8F6C\u4F4D\u7684\u6392\u5217\uFF08\u987A\u5E8F\uFF09 \u4E0D\u53CD\u8F6C\u4F4D\u7684\u6392\u5217 \u5C06 InitialValue \u7684\u503C\u8BA1\u7B97\u4E3ACRC\u521D\u59CB\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u5B57\u6570\uFF1C Num \u65F6\uFF08 CalcOrder \uFF1DFALSE\u65F6\uFF09 \u2022 Src \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C Num \u65F6\uFF08 CalcOrder \uFF1DTRUE\u65F6\uFF09 \u2022 Num =0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF StructSort \u7ED3\u6784\u4F53\u6392\u5E8F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StructSort \u7ED3\u6784\u4F53\u6392\u5E8F FB \u00A0 StructSort_instance(Execute, InOut, Count, Order, MemberName, ProcTime, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 InOut IN-OUT STRUCT[*] - \u6392\u5E8F\u5BF9\u8C61\u7684\u7ED3\u6784\u4F53\u6570\u7EC4\u8D77\u59CB Count IN UDINT 0 \u5373\u5C06\u6392\u5E8F\u7684\u8981\u7D20\u6570\u91CF Order IN BOOL FALSE \u6392\u5E8F\u987A\u5E8F\uFF08FALSE\uFF1A\u964D\u5E8F\u3001TRUE\uFF1A\u5347\u5E8F\uFF09 MemberName IN STRING[1999] - \u4F5C\u4E3A\u5173\u952E\u5B57\u7684\u6210\u5458\u540D ProcTime IN UINT 200 1\u6B21\u626B\u63CF\u7684\u5904\u7406\u65F6\u95F4[us]\uFF0830\uFF5E\uFF09 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5BF9\u4EE5 InOut \u6307\u5B9A\u7684\u7ED3\u6784\u4F53\u6570\u7EC4\u4E3A\u5F00\u5934\u7684\u6240\u6709 Count \u8981\u7D20\uFF0C\u5C06\u7528 MemberName \u6307\u5B9A\u7684\u6210\u5458\u4F5C\u4E3A\u5173\u952E\u5B57\uFF0C\u6309\u7167\u7528 Order \u6307\u5B9A\u7684\u987A\u5E8F\u6392\u5E8F\u3002 Order \u6392\u5E8F\u987A\u5E8F FALSE \u964D\u5E8F TRUE \u5347\u5E8F \u7528\u5B57\u7B26\u4E32\u5BF9 MemberName \u6307\u5B9A\u6392\u5E8F\u5BF9\u8C61\u7684\u7ED3\u6784\u4F53\u6210\u5458\u540D\uFF08\u4ECE\u7B2C1\u6BB5\u6210\u5458\u5F00\u59CB\u5230\u672B\u5C3E\u7684\u6210\u5458\u4E3A\u6B62\uFF0C\u4E0D\u5305\u542B\u53D8\u91CF\u540D\uFF09\u3002\u5982\u679C\u662F\u5D4C\u5957\u7684\u7ED3\u6784\u4F53\uFF0C\u8BF7\u6309\u7167\uFF08\u7B2C1\u6BB5\u7ED3\u6784\u4F53\u6210\u5458\u540D\uFF09.\uFF08\u7B2C2\u6BB5\u7ED3\u6784\u4F53\u6210\u5458\u540D\uFF09.\uFF08\u672B\u7AEF\u6210\u5458\u540D\uFF09\u7684\u683C\u5F0F\u6307\u5B9A\uFF0C\u4E2D\u95F4\u7528\u53E5\u70B9\u5206\u9694\u3002\u6570\u7EC4\u578B\u6210\u5458\u9700\u8981\u50CFauiVar[1]\u4E00\u6837\uFF0C\u6307\u5B9A\u6570\u7EC4\u8981\u7D20\u7F16\u53F7\uFF08\u4F8B\uFF1AMemberName := \u0027Temperature.Data[0]\u0027\uFF09\u3002\u591A\u7EF4\u6570\u7EC4\u5E94\u50CFauiVar[1,2]\u4E00\u6837\uFF0C\u7528\u9017\u53F7\u5206\u9694\u6307\u5B9A\u3002 \u672B\u7AEF\u6210\u5458\u4E0D\u80FD\u6307\u5B9A\u7ED3\u6784\u4F53\u3001\u5171\u7528\u4F53\u3001BOOL\u578B\u3002\u4E0D\u4EC5\u5BF9\u6307\u5B9A\u7684\u6210\u5458\u6392\u5E8F\uFF0C\u8FD8\u5BF9\u6BCF\u4E2A\u7ED3\u6784\u4F53\u8981\u7D20\u6392\u5E8F\u3002\u7528 MemberName \u6307\u5B9A\u7684\u6210\u5458\u662FSTRING\u578B\u65F6\uFF0C\u4F1A\u6309\u4E0E\u6BD4\u8F83\u529F\u80FD\uFF08 LT/LE/GT/GE \uFF09\u76F8\u540C\u7684\u89C4\u5219\u6392\u5E8F\u3002 \u2022 ProcTime \u4EE5us\u4E3A\u5355\u4F4D\uFF0C\u6307\u5B9A1\u6B21\u626B\u63CF\u7684\u5904\u7406\u65F6\u95F4\u3002\u6307\u5B9A\u4E86\u6BD430[us]\u5C0F\u7684\u503C\u65F6\uFF0C\u4F1A\u630930[us]\u52A8\u4F5C\u3002\u867D\u7136\u503C\u8D8A\u5927\uFF0C\u626B\u63CF\u65F6\u95F4\u7684\u5EF6\u957F\u8D8A\u5927\uFF0C\u4F46\u5B8C\u6210\u6392\u5E8F\u5904\u7406\u7684\u65F6\u95F4\u4F1A\u7F29\u77ED\u3002\u5982\u679C\u5904\u7406\u65F6\u95F4\u5C0F\u4E8E\u6307\u5B9A\u7684\u65F6\u95F4\uFF0C\u5219\u4E0D\u4F1A\u5206\u5272\u5904\u7406\u3002 \u7528 ProcTime \u6307\u5B9A\u7684\u5904\u7406\u65F6\u95F4\u53EA\u662F\u53C2\u8003\u65F6\u95F4\u3002\u5B9E\u9645\u5904\u7406\u65F6\u95F4\u4F1A\u56E0\u7ED3\u6784\u4F53\u7684\u5927\u5C0F\u3001\u6392\u5E8F\u987A\u5E8F\u3001\u6210\u5458\u7684\u6570\u636E\u7C7B\u578B\u7B49\u56E0\u7D20\u800C\u53D1\u751F\u53D8\u5316\u3002 \u53E6\u5916\uFF0C\u5982\u679C\u5728\u6267\u884C\u4E2D\u53D1\u751F\u4E2D\u65AD\uFF0C\u8BE5\u4E2D\u65AD\u7A0B\u5E8F\u7684\u6267\u884C\u65F6\u95F4\u4E5F\u4F1A\u5305\u542B\u5728\u5904\u7406\u65F6\u95F4\u5185\u3002 \u4E0B\u8FF0\u662F InOut =StData[0]\u3001 Count =5\u3001 Order =TRUE\u3001 MemberName =\u0027Data3\u0027\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Count \uFF1D0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A10\uFF09 \u2022 InOut \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A11\uFF09 \u2022 \u5BF9 MemberName \u6307\u5B9A\u4E86\u4E0D\u5B58\u5728\u7684\u7ED3\u6784\u4F53\u6210\u5458\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A12\uFF09 \u2022 \u7528 MemberName \u6307\u5B9A\u7684\u672B\u7AEF\u6210\u5458\u662F\u7ED3\u6784\u4F53/\u5171\u7528\u4F53/BOOL\u578B\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A13\uFF09 \u2022 \u7528 MemberName \u6307\u5B9A\u7684\u6570\u7EC4\u6210\u5458\u4E2D\u6CA1\u6709\u6570\u7EC4[]\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A14\uFF09 \u2022 \u7528 MemberName \u6307\u5B9A\u7684\u6570\u7EC4\u6210\u5458\u7684\u6570\u7EC4[]\u9519\u8BEF\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A15\uFF09 \u2022 \u7528 MemberName \u6307\u5B9A\u7684\u6570\u7EC4\u6210\u5458\u7684\u8981\u7D20\u7F16\u53F7\u8D85\u51FA\u8303\u56F4\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A16\uFF09 \u2022 \u5BF9 InOut \u6307\u5B9A\u7684\u7ED3\u6784\u4F53\uFF0C1\u4E2A\u8981\u7D20\u7684\u5927\u5C0F\u8D85\u8FC7\u4E86131072\u5B57\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A17\uFF09 \u2022 \u5176\u4ED6\u9519\u8BEF\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A20\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5982\u679C\u5728\u6210\u5458\u540D\u4E2D\u4F7F\u7528\u4E86\u8D85\u51FA\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u8303\u56F4\uFF08\u8D85\u51FASTRING\u578B\u7684\u8303\u56F4\uFF09\u7684\u5B57\u7B26\u4E32\uFF0C\u5219\u65E0\u6CD5\u6267\u884C\u7ED3\u6784\u4F53\u7684\u6392\u5E8F\u3002 \u2022 \u5982\u679C\u5728\u6267\u884C\u4E2D\u53D1\u751F\u65AD\u7535\u6216\u5207\u6362\u4E3APROG\u6A21\u5F0F\uFF0C\u5219\u53EF\u80FD\u635F\u574F InOut \u7684\u6570\u636E\u3002\u5EFA\u8BAE\u5728\u6267\u884C\u524D\u590D\u5236\u5230\u5176\u4ED6\u7ED3\u6784\u4F53\u53D8\u91CF\u4E2D\u3002 \u2022 \u4E0D\u80FD\u5BF9 InOut \u6307\u5B9A\u529F\u80FD\u7684IN\u81EA\u53D8\u91CF\u3001OUT\u81EA\u53D8\u91CF\u548C\u5C40\u90E8\u53D8\u91CF\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u6570\u636E\u7684\u6392\u5E8F ST\uFF1A \u6570\u636E\u7684\u6392\u5E8F"},{"link":"./03_10_FBFUN_DataTransfer.html","title":"\u6570\u636E\u4F20\u8F93","body":"\u6570\u636E\u4F20\u8F93 FUN/FB \u540D\u79F0 \u6982\u8FF0 MOVE \u4F20\u8F93 \u4F20\u8F93\u6570\u636E\u3002 FillMove \u6279\u91CF\u4F20\u8F93 \u5C06\u6570\u636E\u4F20\u8F93\u5230\u6240\u6709\u6307\u5B9A\u7684\u8981\u7D20\u4E2D\u3002 BlockMove \u8FDE\u7EED\u4F20\u8F93 \u4F20\u8F93\u6570\u636E\u5757\u3002 ByteBlockMove \u5B57\u8282\u8FDE\u7EED\u4F20\u8F93 \u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\u4F20\u8F93\u6570\u636E\u5757\u3002 BitBlockMove \u4F4D\u8FDE\u7EED\u4F20\u8F93 \u4EE5\u4F4D\u4E3A\u5355\u4F4D\u4F20\u8F93\u6570\u636E\u5757\u3002 PartialMove \u90E8\u5206\u4F20\u8F93 \u4EE5\u4F4D\u4E3A\u5355\u4F4D\u4F20\u8F93\u6570\u636E\u3002 StructReset \u7ED3\u6784\u4F53\u590D\u4F4D \u5BF9\u7ED3\u6784\u4F53\u7684\u6210\u5458\u8BBE\u5B9A\u9ED8\u8BA4\u503C\u3002 Exchange \u6570\u636E\u4EA4\u6362 \u4EA4\u6362\u6570\u636E\u3002 Clear \u53D8\u91CF\u590D\u4F4D \u5C06\u6307\u5B9A\u7684\u53D8\u91CF\u6E05\u96F6\u3002 MOVE \u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MOVE \u4F20\u8F93 FUN \u00A0 Dst := Src; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u4F20\u8F93\u6E90 Dst OUT - - \u4F20\u8F93\u76EE\u7684 \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u7684\u503C\u4F20\u8F93\u7ED9 Dst \u3002 Src \u548C Dst \u7684\u6570\u636E\u7C7B\u578B\u662FINT/UINT/DINT/UDINT/REAL/LREAL\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\uFF0C Src \u4E0E Dst \u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\u65F6\uFF0C\u4F1A\u5C06 Src \u7684\u503C\u8F6C\u6362\u4E3A Dst \u7684\u7C7B\u578B\uFF0C\u7136\u540E\u6267\u884C\u4F20\u8F93\u3002 \u5982\u679C\u5BF9 Src \u6307\u5B9A\u4E86\u6574\u4E2A\u6570\u7EC4\u3001\u6570\u7EC4\u76841\u4E2A\u8981\u7D20\u3001\u6574\u4E2A\u7ED3\u6784\u4F53\u3001\u7ED3\u6784\u4F53\u76841\u4E2A\u6210\u5458\uFF0C\u5219\u4F1A\u6267\u884C\u4E0B\u8FF0\u5904\u7406\u3002 Src \u5904\u7406\u5185\u5BB9 \u6574\u4E2A\u6570\u7EC4 \u4F20\u8F93\u6570\u7EC4\u7684\u6240\u6709\u8981\u7D20 \u6570\u7EC4\u76841\u4E2A\u8981\u7D20 \u53EA\u4F20\u8F93\u8BE5\u8981\u7D20 \u6574\u4E2A\u7ED3\u6784\u4F53 \u4F20\u8F93\u7ED3\u6784\u4F53\u7684\u6240\u6709\u6210\u5458 \u7ED3\u6784\u4F53\u76841\u4E2A\u6210\u5458 \u53EA\u4F20\u8F93\u8BE5\u6210\u5458 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 Src \u548C Dst \u6307\u5B9A\u4E86\u6574\u4E2A\u53EF\u53D8\u957F\u5EA6\u6570\u7EC4\uFF0C\u6570\u7EC4\u8981\u7D20\u6570\u91CF\u4E0D\u540C\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5BF9 Src \u548C Dst \u6307\u5B9A\u4E86STRING\u578B\u65F6\uFF0C\u52A8\u4F5C\u4E0E StringMove \u76F8\u540C\u3002 FillMove \u6279\u91CF\u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 FillMove \u6279\u91CF\u4F20\u8F93 FUN \u00A0 FillMove(Src, Dst, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u4F20\u8F93\u6E90 Dst IN-OUT - - \u4F20\u8F93\u76EE\u7684\u7684\u8D77\u59CB Count IN UDINT 0 \u4F20\u8F93\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u7684\u503C\u6279\u91CF\u4F20\u8F93\u7ED9\u4EE5 Dst \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u3002 Src \u4E0E Dst \u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\u65F6\uFF0C\u4F1A\u5C06 Src \u7684\u503C\u8F6C\u6362\u4E3A Dst \u7684\u6570\u636E\u7C7B\u578B\uFF0C\u7136\u540E\u6267\u884C\u6279\u91CF\u4F20\u8F93\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Dst \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Count =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 BlockMove \u8FDE\u7EED\u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BlockMove \u8FDE\u7EED\u4F20\u8F93 FUN \u00A0 BlockMove(Src, Dst, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u4F20\u8F93\u6E90\u7684\u8D77\u59CB Dst IN-OUT - - \u4F20\u8F93\u76EE\u7684\u7684\u8D77\u59CB Count IN UDINT 0 \u4F20\u8F93\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u5C06\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u7684\u5185\u5BB9\uFF0C\u5411\u4EE5 Dst \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u8FDB\u884C\u5757\u4F20\u8F93\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u6216 Dst \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 Count =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u4F20\u8F93\u6E90\u548C\u4F20\u8F93\u76EE\u7684\u6570\u636E\u5757\u5373\u4F7F\u90E8\u5206\u91CD\u590D\uFF0C\u4E5F\u80FD\u6B63\u786E\u4F20\u8F93\u3002 \u2022 \u5BF9\u4F20\u8F93\u6E90\u548C\u4F20\u8F93\u76EE\u7684\u6307\u5B9A\u4E86STRING\u578B\u65F6\uFF0C\u8FD8\u4F1A\u4F20\u8F93NULL\u4EE5\u540E\u7684\u6570\u636E\u3002 ByteBlockMove \u5B57\u8282\u8FDE\u7EED\u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ByteBlockMove \u5B57\u8282\u8FDE\u7EED\u4F20\u8F93 FUN \u00A0 ByteBlockMove(Src, SrcOffset, Dst, DstOffset, Order, ByteSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u4F20\u8F93\u6E90\u7684\u8D77\u59CB SrcOffset IN UDINT 0 \u4F20\u8F93\u6E90\u5B57\u8282\u504F\u79FB\u91CF Dst IN-OUT - - \u4F20\u8F93\u76EE\u7684\u7684\u8D77\u59CB DstOffset IN UDINT 0 \u4F20\u8F93\u76EE\u7684\u5B57\u8282\u504F\u79FB\u91CF Order IN BOOL FALSE \u4F20\u8F93\u987A\u5E8F\uFF08FALSE\uFF1AL\u2192H\u3001TRUE\uFF1AH\u2192L\uFF09 ByteSize IN UDINT 0 \u4F20\u8F93\u5B57\u8282\u6570 \u52A8\u4F5C\u8BF4\u660E Order=FALSE\u65F6 \u4ECE Src \u7684\u4F4E\u4F4D\u5B57\u8282\u5F00\u59CB\u6570\uFF0C\u5C06\u4ECE\u7B2C SrcOffset \u4E2A\u5B57\u8282\u5F00\u59CB\u7684 ByteSize \u5B57\u8282\u91CF\uFF0C\u4EE5\u4ECE Dst \u7684\u4F4E\u4F4D\u5B57\u8282\u5F00\u59CB\u6570\u7684\u7B2C DstOffset \u4E2A\u5B57\u8282\u4E3A\u5F00\u5934\u8FDB\u884C\u4F20\u8F93\u3002 \u672A\u88AB\u4F20\u8F93\u7684\u5B57\u8282\u4F1A\u4FDD\u5B58\u539F\u503C\u3002 \u00A0 \u4E0B\u8FF0\u662F SrcOffset =3\u3001 DstOffset =2\u3001 ByteSize =4\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 Order=TRUE\u65F6 \u4ECE Src \u7684\u9AD8\u4F4D\u5B57\u8282\u5F00\u59CB\u6570\uFF0C\u5C06\u4ECE\u7B2C SrcOffset \u4E2A\u5B57\u8282\u5F00\u59CB\u7684 ByteSize \u5B57\u8282\u91CF\uFF0C\u4EE5\u4ECE Dst \u7684\u9AD8\u4F4D\u5B57\u8282\u5F00\u59CB\u6570\u7684\u7B2C DstOffset \u4E2A\u5B57\u8282\u4E3A\u5F00\u5934\u8FDB\u884C\u4F20\u8F93\u3002 \u672A\u88AB\u4F20\u8F93\u7684\u5B57\u8282\u4F1A\u4FDD\u5B58\u539F\u503C\u3002 \u00A0 \u4E0B\u8FF0\u662F SrcOffset =3\u3001 DstOffset =2\u3001 ByteSize =4\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u6216 Dst \uFF08\u52A0\u4E0A\u504F\u79FB\u91CF\u540E\uFF09\u7684\u5269\u4F59\u5B57\u8282\u6570\u91CF\uFF1C ByteSize \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 ByteSize \uFF1D0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u4F20\u8F93\u6E90\u548C\u4F20\u8F93\u76EE\u7684\u6570\u636E\u5757\u5373\u4F7F\u90E8\u5206\u91CD\u590D\uFF0C\u4E5F\u80FD\u6B63\u786E\u4F20\u8F93\u3002 \u2022 \u5373\u4F7F Src \u548C Dst \u7684\u7C7B\u578B\u4E0D\u540C\uFF0C\u4E5F\u6CA1\u6709\u95EE\u9898\u3002 BitBlockMove \u4F4D\u8FDE\u7EED\u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BitBlockMove \u4F4D\u8FDE\u7EED\u4F20\u8F93 FUN \u00A0 BitBlockMove(Src, SrcOffset, Dst, DstOffset, BitSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u4F20\u8F93\u6E90\u7684\u8D77\u59CB SrcOffset IN UDINT 0 \u4F20\u8F93\u6E90\u4F4D\u504F\u79FB\u91CF Dst IN-OUT - - \u4F20\u8F93\u76EE\u7684\u7684\u8D77\u59CB DstOffset IN UDINT 0 \u4F20\u8F93\u76EE\u7684\u4F4D\u504F\u79FB\u91CF BitSize IN UDINT 0 \u4F20\u8F93\u4F4D\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u7684\u7B2C SrcOffset \u4F4D\u5F00\u59CB\u7684 BitSize \u4F4D\u90E8\u5206\uFF0C\u4EE5 Dst \u7684\u7B2C DstOffset \u4F4D\u4E3A\u5F00\u5934\u8FDB\u884C\u4F20\u8F93\u3002 \u672A\u88AB\u4F20\u8F93\u7684\u4F4D\u4F1A\u4FDD\u5B58\u539F\u503C\u3002 \u00A0 \u4E0B\u8FF0\u662F SrcOffset =2\u3001 DstOffset =1\u3001 BitSize =6\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u6216 Dst \uFF08\u52A0\u4E0A\u504F\u79FB\u91CF\u540E\uFF09\u7684\u5269\u4F59\u4F4D\u6570\u91CF\uFF1C B it Size \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 B it Size \uFF1D0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u4F20\u8F93\u6E90\u548C\u4F20\u8F93\u76EE\u7684\u6570\u636E\u5757\u5373\u4F7F\u90E8\u5206\u91CD\u590D\uFF0C\u4E5F\u80FD\u6B63\u786E\u4F20\u8F93\u3002 \u2022 \u5373\u4F7F Src \u548C Dst \u7684\u7C7B\u578B\u4E0D\u540C\uFF0C\u4E5F\u6CA1\u6709\u95EE\u9898\u3002 PartialMove \u90E8\u5206\u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 PartialMove \u90E8\u5206\u4F20\u8F93 FUN \u00A0 PartialMove(Src, SrcPos, Dst, DstPos, BitSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UDINT 0 \u4F20\u8F93\u6E90 SrcPos IN UINT 0 \u4F20\u8F93\u6E90\u4F4D\u7684\u4F4D\u7F6E\uFF080\uFF5E31\uFF09 Dst IN-OUT - - \u4F20\u8F93\u76EE\u7684 DstPos IN UINT 0 \u4F20\u8F93\u76EE\u7684\u4F4D\u7684\u4F4D\u7F6E \uFF08 Dst \u662FUINT/INT\u578B\u65F6\uFF1A0\uFF5E15\uFF0C\u662FUDINT/DINT\u578B\u65F6\uFF1A0\uFF5E31\uFF09 BitSize IN UINT 0 \u4F20\u8F93\u4F4D\u6570\u91CF\uFF081\uFF5E32\uFF09 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE Src \u7684\u7B2C SrcPos \u4F4D\u5F00\u59CB\u7684 BitSize \u4F4D\u90E8\u5206\uFF0C\u4EE5 Dst \u7684\u7B2C DstPos \u4F4D\u4E3A\u5F00\u5934\u8FDB\u884C\u4F20\u8F93\u3002 \u672A\u88AB\u4F20\u8F93\u7684\u4F4D\u4F1A\u4FDD\u5B58\u539F\u503C\u3002 \u4E0EBitBlockMove\u4E0D\u540C\uFF0C\u53EF\u5BF9 Src \u6307\u5B9A\u6570\u503C\u3002 \u00A0 \u4E0B\u8FF0\u662F SrcPos =2\u3001 DstPos =1\u3001 BitSize =6\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u6216 Dst \u7684\u5269\u4F59\u4F4D\u6570\u91CF\uFF1C BitSize \u65F6 \u2022 SrcPos \u5927\u4E8E\u7B49\u4E8E32\u65F6 \u2022 Dst \u662FUINT/INT\u578B\u65F6\uFF0C DstPos \u5927\u4E8E\u7B49\u4E8E16 \u2022 Dst \u662FUDINT/DINT\u578B\u65F6\uFF0C DstPos \u5927\u4E8E\u7B49\u4E8E32 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 B it Size \uFF1D0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 StructReset \u7ED3\u6784\u4F53\u590D\u4F4D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StructReset \u7ED3\u6784\u4F53\u590D\u4F4D FUN \u00A0 StructReset(InOut); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u590D\u4F4D\u7684\u7ED3\u6784\u4F53 \u52A8\u4F5C\u8BF4\u660E \u5C06\u5BF9 InOut \u6307\u5B9A\u7684\u7ED3\u6784\u4F53\u6210\u5458\u5168\u90E8\u6267\u884C\u590D\u4F4D\uFF08\u6309\u6570\u636E\u7C7B\u578B\u5B58\u50A8\u9ED8\u8BA4\u503C\uFF09\u3002 \u00A0 \u590D\u4F4D\u7ED3\u6784\u4F53\u578B\u6570\u7EC4\u53D8\u91CF\u65F6\uFF0C\u5E94\u4F7F\u7528 AryReset \u3002 Exchange \u6570\u636E\u4EA4\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Exchange \u6570\u636E\u4EA4\u6362 FUN \u00A0 Exchange(InOut1, InOut2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut1 IN-OUT - - \u66F4\u6362\u7684\u6570\u636E1 InOut2 IN-OUT - - \u66F4\u6362\u7684\u6570\u636E2 \u52A8\u4F5C\u8BF4\u660E \u4EA4\u6362 InOut1 \u548C InOut2 \u7684\u503C\u3002 \u5982\u679C\u5BF9 InOut1 \u3001 InOut2 \u6307\u5B9A\u4E86\u6574\u4E2A\u6570\u7EC4\u3001\u6570\u7EC4\u76841\u4E2A\u8981\u7D20\u3001\u6574\u4E2A\u7ED3\u6784\u4F53\u3001\u7ED3\u6784\u4F53\u76841\u4E2A\u6210\u5458\uFF0C\u5219\u4F1A\u6267\u884C\u4E0B\u8FF0\u5904\u7406\u3002 InOut1\u3001InOut2 \u5904\u7406\u5185\u5BB9 \u6574\u4E2A\u6570\u7EC4 \u4EA4\u6362\u6570\u7EC4\u7684\u6240\u6709\u8981\u7D20 \u6570\u7EC4\u76841\u4E2A\u8981\u7D20 \u53EA\u4EA4\u6362\u8BE5\u8981\u7D20 \u6574\u4E2A\u7ED3\u6784\u4F53 \u4EA4\u6362\u7ED3\u6784\u4F53\u7684\u6240\u6709\u6210\u5458 \u7ED3\u6784\u4F53\u76841\u4E2A\u6210\u5458 \u53EA\u4EA4\u6362\u8BE5\u6210\u5458 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 InOut1 \u548C InOut2 \u6307\u5B9A\u4E86STRING\u578B\u65F6\uFF0C\u4EFB\u610F\u4E00\u65B9\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u51FA\u4E86\u53E6\u4E00\u65B9\u7684\u5927\u5C0F \u2022 \u5BF9 InOut1 \u548C InOut2 \u6307\u5B9A\u4E86\u6574\u4E2A\u53EF\u53D8\u957F\u5EA6\u6570\u7EC4\uFF0C\u6570\u7EC4\u8981\u7D20\u6570\u91CF\u4E0D\u540C\u65F6 \u2022 InOut1 \u548C InOut2 \u7684\u5206\u914D\u76EE\u6807\u5730\u5740\u8303\u56F4\u4E2D\u6709\u90E8\u5206\u91CD\u590D\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF Clear \u53D8\u91CF\u590D\u4F4D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Clear \u53D8\u91CF\u590D\u4F4D FUN \u00A0 Clear(InOut); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InOut IN-OUT - - \u5BF9\u8C61\u53D8\u91CF \u52A8\u4F5C\u8BF4\u660E \u91CD\u7F6E InOut \u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\uFF08STRING\u4EE5\u5916\u7684\u60C5\u51B5\u6307\u5B9A0\uFF0CSTRING\u5219\u5728\u5168\u90E8\u533A\u57DF\u5B58\u50A80\uFF09\u3002\u5BF9 InOut \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u65F6\uFF0C\u91CD\u7F6E\u6240\u6709\u7ED3\u6784\u4F53\u6210\u5458\u3002\u5BF9 InOut \u6307\u5B9A\u4E86\u6574\u4E2A\u6570\u7EC4\u65F6\uFF0C\u91CD\u7F6E\u6240\u6709\u6570\u7EC4\u8981\u7D20\u3002"},{"link":"./03_11_FBFUN_GetSize.html","title":"\u83B7\u53D6\u5927\u5C0F","body":"\u83B7\u53D6\u5927\u5C0F FUN/FB \u540D\u79F0 \u6982\u8FF0 GetAryCount \u83B7\u53D6\u6570\u7EC4\u8981\u7D20\u6570 \u8FD4\u56DE\u6570\u7EC4\u7684\u6307\u5B9A\u89C4\u6A21\u7684\u8981\u7D20\u6570\u3002 GetWordSize \u83B7\u53D6\u5B57\u5927\u5C0F \u83B7\u53D6\u6307\u5B9A\u53D8\u91CF\u7684\u5B57\u5927\u5C0F\u3002 GetByteSize \u83B7\u53D6\u5B57\u8282\u5927\u5C0F \u83B7\u53D6\u6307\u5B9A\u53D8\u91CF\u7684\u5B57\u8282\u5927\u5C0F\u3002 GetBitSize \u83B7\u53D6\u4F4D\u5927\u5C0F \u83B7\u53D6\u6307\u5B9A\u53D8\u91CF\u7684\u4F4D\u5927\u5C0F\u3002 LOWER_BOUND \u83B7\u53D6\u6570\u7EC4\u8D77\u59CB\u7F16\u53F7 \u8FD4\u56DE\u6570\u7EC4\u7684\u6307\u5B9A\u89C4\u6A21\u7684\u8D77\u59CB\u7F16\u53F7\u3002 UPPER_BOUND \u83B7\u53D6\u6570\u7EC4\u7ED3\u675F\u7F16\u53F7 \u8FD4\u56DE\u6570\u7EC4\u7684\u6307\u5B9A\u89C4\u6A21\u7684\u7ED3\u675F\u7F16\u53F7\u3002 GetAryCount \u83B7\u53D6\u6570\u7EC4\u8981\u7D20\u6570 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 GetAryCount \u83B7\u53D6\u6570\u7EC4\u8981\u7D20\u6570 FUN \u00A0 Result := GetAryCount(In, Dim); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u83B7\u53D6\u8981\u7D20\u6570\u91CF\u7684\u6570\u7EC4 Dim IN UINT 1 \u83B7\u53D6\u8981\u7D20\u6570\u91CF\u7684\u7EF4\u5EA6\u6570\uFF081\uFF5E8\uFF09 Result RETURN UDINT - \u8981\u7D20\u6570\u91CF\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u6570\u7EC4\u7684\u7B2C Dim \u7EF4\u7684\u8981\u7D20\u6570\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5B58\u50A8\u4E86 Dim \u4E2D\u6CA1\u6709\u7684\u7EF4\u6570\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 In \u65E0\u9700\u6307\u5B9A\u6574\u4E2A\u6570\u7EC4\u3002 \u2022 \u6307\u5B9A\u4E86FB\u81EA\u53D8\u91CF\u7684\u53EF\u53D8\u957F\u5EA6\u6570\u7EC4\u65F6\uFF0C\u4E5F\u53EF\u4EE5\u6B63\u786E\u83B7\u53D6\u3002 \u2022 \u4E0D\u80FD\u5BF9 In \u6307\u5B9A\u8F6F\u5143\u4EF6\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u6570\u636E\u7684\u6392\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 ST\uFF1A \u6570\u636E\u7684\u6392\u5E8F ST\uFF1A \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 GetWordSize \u83B7\u53D6\u5B57\u5927\u5C0F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 GetWordSize \u83B7\u53D6\u5B57\u5927\u5C0F FUN \u00A0 Result := GetWordSize(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u83B7\u53D6\u5B57\u5927\u5C0F\u7684\u53D8\u91CF Result RETURN UDINT - \u5B57\u5927\u5C0F\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u53D8\u91CF\u6240\u5360\u7528\u7684\u5B57\u5927\u5C0F\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C\u662FBOOL\u578B\u7B49\u4E0D\u8DB31\u5B57\u7684\u60C5\u51B5\uFF0C\u5219\u4F1A\u5411\u4E0A\u820D\u5165\u5B57\u5927\u5C0F\u540E\u6267\u884C\u5B58\u50A8\u3002 GetByteSize \u83B7\u53D6\u5B57\u8282\u5927\u5C0F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 GetByteSize \u83B7\u53D6\u5B57\u8282\u5927\u5C0F FUN \u00A0 Result := GetByteSize(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u83B7\u53D6\u5B57\u8282\u5927\u5C0F\u7684\u53D8\u91CF Result RETURN UDINT - \u5B57\u8282\u5927\u5C0F\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u53D8\u91CF\u6240\u5360\u7528\u7684\u5B57\u8282\u5927\u5C0F\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C\u662FBOOL\u578B\u7B49\u4E0D\u8DB31\u5B57\u8282\u7684\u60C5\u51B5\uFF0C\u5219\u4F1A\u5411\u4E0A\u820D\u5165\u5B57\u8282\u5927\u5C0F\u540E\u6267\u884C\u5B58\u50A8\u3002 GetBitSize \u83B7\u53D6\u4F4D\u5927\u5C0F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 GetBitSize \u83B7\u53D6\u4F4D\u5927\u5C0F FUN \u00A0 Result := GetBitSize(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u83B7\u53D6\u4F4D\u5927\u5C0F\u7684\u53D8\u91CF Result RETURN UDINT - \u4F4D\u5927\u5C0F\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u53D8\u91CF\u7684\u4F4D\u5927\u5C0F\u5B58\u50A8\u5230 Result \u4E2D\u3002 LOWER_BOUND \u83B7\u53D6\u6570\u7EC4\u8D77\u59CB\u7F16\u53F7 UPPER_BOUND \u83B7\u53D6\u6570\u7EC4\u7ED3\u675F\u7F16\u53F7 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LOWER_BOUND \u83B7\u53D6\u6570\u7EC4\u8D77\u59CB\u7F16\u53F7 FUN \u00A0 Result := LOWER_BOUND(ARR, DIM); UPPER_BOUND \u83B7\u53D6\u6570\u7EC4\u7ED3\u675F\u7F16\u53F7 FUN \u00A0 Result := UPPER_BOUND(ARR, DIM); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA ARR IN - - \u5BF9\u8C61\u6570\u7EC4 DIM IN UINT 1 \u7EF4\u5EA6\uFF081\uFF5E8\uFF09 Result RETURN UDINT - \u5F00\u59CB\uFF0F\u7ED3\u675F\u7F16\u53F7\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u258C LOWER_BOUND \u83B7\u53D6\u5728\u901A\u8FC7 ARR \u6307\u5B9A\u7684\u6570\u7EC4\u7684 DIM \u4E2D\u6307\u5B9A\u89C4\u6A21\u7684\u8D77\u59CB\u7F16\u53F7\u3002 \u258C UPPER_BOUND \u83B7\u53D6\u5728\u901A\u8FC7 ARR \u6307\u5B9A\u7684\u6570\u7EC4\u7684 DIM \u4E2D\u6307\u5B9A\u89C4\u6A21\u7684\u7ED3\u675F\u7F16\u53F7\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 DIM \u4E2D\u6307\u5B9A\u7684\u503C\u662F0\u6216\u8D85\u51FA ARR \u7684\u89C4\u6A21\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u8BA1\u7B97\u5408\u8BA1\u503C"},{"link":"./03_12_FBFUN_DataConversion.html","title":"\u6570\u636E\u8F6C\u6362","body":"\u6570\u636E\u8F6C\u6362 FUN/FB \u540D\u79F0 \u6982\u8FF0 Decode 8\u4F4D\u89E3\u7801 \u5C06\u6570\u7EC4\u8981\u7D20\u7684\u6307\u5B9A1\u4F4D\u7F6E\u4E8ETRUE\uFF0C\u5176\u4ED6\u90FD\u7F6E\u4E8EFALSE\u3002 Encode 8\u4F4D\u7F16\u7801 \u8FD4\u56DE\u6307\u5B9A\u4F4D\u5217\u4E2D\u53D8\u4E3ATRUE\u7684\u4F4D\u7684\u4F4D\u7F6E\u3002 BinToGrayCode BIN\u2192\u683C\u96F7\u7801\u8F6C\u6362 \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u683C\u96F7\u7801\u3002 GrayCodeToBin \u683C\u96F7\u7801\u2192BIN\u8F6C\u6362 \u5C06\u683C\u96F7\u7801\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u3002 DisperseNibble \u534A\u5B57\u8282\u5206\u89E3 \u5C06\u6570\u636E\u5206\u89E3\u4E3A\u7528\u534A\u5B57\u8282\uFF084\u4F4D\uFF09\u5355\u4F4D\u6307\u5B9A\u7684\u6570\u91CF\u3002 UniteNibble \u534A\u5B57\u8282\u7EC4\u5408 \u7EC4\u5408\u6307\u5B9A\u6570\u91CF\u7684\u534A\u5B57\u8282\uFF084\u4F4D\uFF09\u3002 DisperseByte \u5B57\u8282\u5206\u89E3 \u5C06\u6570\u636E\u5206\u89E3\u4E3A\u7528\u5B57\u8282\uFF088\u4F4D\uFF09\u5355\u4F4D\u6307\u5B9A\u7684\u6570\u91CF\u3002 UniteByte \u5B57\u8282\u7EC4\u5408 \u7EC4\u5408\u6307\u5B9A\u6570\u91CF\u7684\u5B57\u8282\uFF088\u4F4D\uFF09\u3002 BlockSwap \u8FDE\u7EED\u9AD8\u4F4E\u5B57\u8282\u4E92\u6362 \u66FF\u6362\u6307\u5B9A\u6570\u636E\u4E2D\u7684\u9AD8\u4F4D\u5B57\u8282\uFF08\u9AD8\u4F4D8\u4F4D\uFF09\u548C\u4F4E\u4F4D\u5B57\u8282\uFF08\u4F4E\u4F4D8\u4F4D\uFF09\u3002 Decode 8\u4F4D\u89E3\u7801 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Decode 8\u4F4D\u89E3\u7801 FUN \u00A0 Decode(Src, BitSize, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UINT - \u8F6C\u6362\u4F4D\u7684\u4F4D\u7F6E\uFF08\u4EC5\u9650\u4E0B\u4F4D BitSize \u4F4D\uFF09 BitSize IN UINT 0 \u8F6C\u6362\u7684\u4F4D\u6570\u91CF\uFF081\uFF5E8\uFF09 Dst IN-OUT BOOL[*] - \u8BD1\u7801\u7ED3\u679C\u5B58\u50A8\u76EE\u6807\u8D77\u59CB \u52A8\u4F5C\u8BF4\u660E \u5C06\u6700\u5927256\u4F4D\u7684\u6570\u7EC4\u8981\u7D20\u4E2D\u7684\u6307\u5B9A1\u4F4D\u7F6E\u4E8ETRUE\uFF0C\u5176\u4ED6\u4F4D\u90FD\u7F6E\u4E8EFALSE\u3002 \u5C06 Src \u7684\u4F4E\u4F4D BitSize \u4F4D\u8F6C\u6362\u4E3A\u6570\u503C\uFF080\uFF5E255\uFF09\uFF0C\u5728\u4EE5 Dst \u5F00\u5934\u76842\u7684 BitSize \u4E58\u65B9\u4E2A\u4F4D\u6570\u636E\u4E2D\uFF0C\u5C06\u5F00\u5934\uFF0B\u6570\u503C\u5316\u503C\uFF08\u7F16\u53F7\uFF09\u7684\u4F4D\u7F6E\u4E8ETRUE\uFF0C\u5176\u4ED6\u4F4D\u5168\u90FD\u7F6E\u4E8EFALSE\u3002 \u00A0 \u4E0B\u8FF0\u662F BitSize =8\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 BitSize \u662F0\u6216\u6BD48\u5927\u65F6 \u2022 Dst \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C2\u7684 BitSize \u4E58\u65B9\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF Encode 8\u4F4D\u7F16\u7801 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Encode 8\u4F4D\u7F16\u7801 FUN \u00A0 Result := Encode(Src, BitSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN BOOL[*] - \u7F16\u7801\u5BF9\u8C61\u4F4D\u8D77\u59CB BitSize IN UINT 0 \u8F6C\u6362\u7684\u4F4D\u6570\u91CF\uFF081\uFF5E256\uFF09 Result RETURN UINT - \u4F4D\u7684\u4F4D\u7F6E\uFF080\uFF5E\uFF09 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97\u5728\u4EE5 Src \u4E3A\u5F00\u5934\u7684\u6240\u6709 BitSize \u4F4D\u4E2D\uFF0C\u53D8\u4E3ATRUE\u7684\u4F4D\u7684\u4F4D\u7F6E\uFF080\uFF5E255\uFF09\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6709\u591A\u4E2ATRUE\u7684\u4F4D\u65F6\uFF0C\u5C06\u6700\u4F4E\u4F4D\u7684\u4F4D\u7684\u4F4D\u7F6E\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C\u6CA1\u6709TRUE\u7684\u4F4D\uFF0C\u5219\u4F1A\u5728 Result \u4E2D\u5B58\u50A8$FFFF\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 BitSize \u662F0\u6216\u6BD4256\u5927\u65F6 \u2022 Src \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C BitSize \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF BinToGrayCode BIN\u2192\u683C\u96F7\u7801\u8F6C\u6362 GrayCodeToBin \u683C\u96F7\u7801\u2192BIN\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BinToGrayCode BIN\u2192\u683C\u96F7\u7801\u8F6C\u6362 FUN \u00A0 Result := BinToGrayCode(In); GrayCodeToBin \u683C\u96F7\u7801\u2192BIN\u8F6C\u6362 FUN \u00A0 Result := GrayCodeToBin(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8F6C\u6362\u5BF9\u8C61 Result RETURN - - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u258C BinToGrayCode \u5C06\u5B58\u50A8\u4E8E In \u4E2D\u7684BIN\u6570\u636E\u8F6C\u6362\u4E3A\u683C\u96F7\u7801\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u258C GrayCodeToBin \u5C06\u5B58\u50A8\u4E8E In \u4E2D\u7684\u683C\u96F7\u7801\u8F6C\u6362\u4E3ABIN\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 DisperseNibble \u534A\u5B57\u8282\u5206\u89E3 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DisperseNibble \u534A\u5B57\u8282\u5206\u89E3 FUN \u00A0 DisperseNibble(Src, Dst, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UDINT 0 \u5206\u89E3\u7684\u6570\u636E Dst IN-OUT UINT[*] - \u5DF2\u5206\u89E3\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Num IN UINT 0 \u5206\u89E3\u7684\u534A\u5B57\u8282\u6570\uFF080\uFF5E8\uFF09 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 Src \u6307\u5B9A\u7684\u6570\u636E\u6309\u7167\u5728 Num \u4E2D\u6307\u5B9A\u7684\u6570\u91CF\u8FDB\u884C\u4EE5\u534A\u5B57\u8282\uFF084\u4F4D\uFF09\u4E3A\u5355\u4F4D\u7684\u5206\u89E3\uFF0C\u5E76\u4EE5 Dst \u4E3A\u5F00\u5934\u9010\u5B57\u5B58\u50A8\u7ED3\u679C\u3002 \u5728 Dst \u7684\u7B2C4\u4F4D\u4E4B\u540E\u7684\u9AD8\u4F4D\u4E2D\u5B58\u50A80\u3002 \u53EF\u4EE5\u57280\uFF5E8\u7684\u8303\u56F4\u5185\u8BBE\u5B9A Num \u3002 \u00A0 \u4E0B\u8FF0\u662F Dst = Dst [0]\u3001 Num =4\u65F6\u7684\u793A\u4F8B\u3002 \u00A0\u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\uFF1C Num \u65F6 \u2022 Num \uFF1E8\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Num =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 UniteNibble \u534A\u5B57\u8282\u7EC4\u5408 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UniteNibble \u534A\u5B57\u8282\u7EC4\u5408 FUN \u00A0 UniteNibble(Src, Dst, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UINT[*] - \u7EC4\u5408\u7684\u6570\u636E\u8D77\u59CB Dst OUT UDINT - \u5DF2\u7EC4\u5408\u6570\u636E\u5B58\u50A8\u76EE\u6807 Num IN UINT 0 \u7EC4\u5408\u7684\u534A\u5B57\u8282\u6570\uFF080\uFF5E8\uFF09 \u52A8\u4F5C\u8BF4\u660E \u7EC4\u5408\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Num \u5B57\u7684\u4F4E\u4F4D4\u4F4D\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u5BF9 Num \u6307\u5B9A\u4E860\uFF5E4\u65F6\uFF0C\u5373\u4F7F\u5BF9 Dst \u6307\u5B9AUINT/INT\u578B\uFF0C\u4E5F\u53EF\u4EE5\u6B63\u786E\u5B58\u50A8\u3002 \u5728 Dst \u7684\u5269\u4F59\u9AD8\u4F4D\u5B57\u8282\u4E2D\u5B58\u50A80\u3002 \u00A0 \u4E0B\u8FF0\u662F Src = Src [0]\u3001 Num =4\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u5B57\u6570\uFF1C Num \u65F6 \u2022 Num \uFF1E8\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 Num =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5728 Dst \u4E2D\u5B58\u50A80\u3002 \u2022 \u5BF9 Num \u6307\u5B9A\u4E865\uFF5E8\u65F6\uFF0C\u5982\u679C\u5BF9 Dst \u6307\u5B9A\u4E86UINT/INT\u578B\uFF0C\u5219\u65E0\u6CD5\u6B63\u786E\u52A8\u4F5C\u3002 DisperseByte \u5B57\u8282\u5206\u89E3 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DisperseByte \u5B57\u8282\u5206\u89E3 FUN \u00A0 DisperseByte(Src, Dst, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UDINT 0 \u5206\u89E3\u7684\u6570\u636E Dst IN-OUT UINT[*] - \u5DF2\u5206\u89E3\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Num IN UINT 0 \u5206\u89E3\u7684\u5B57\u8282\u6570\uFF080\uFF5E4\uFF09 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 Src \u6307\u5B9A\u7684\u6570\u636E\u6309\u7167\u5728 Num \u4E2D\u6307\u5B9A\u7684\u6570\u91CF\u8FDB\u884C\u4EE5\u5B57\u8282\uFF088\u4F4D\uFF09\u4E3A\u5355\u4F4D\u7684\u5206\u89E3\uFF0C\u5E76\u4EE5 Dst \u4E3A\u5F00\u5934\u9010\u5B57\u5B58\u50A8\u7ED3\u679C\u3002 \u5728 Dst \u7684\u7B2C8\u4F4D\u4E4B\u540E\u7684\u9AD8\u4F4D\u4E2D\u5B58\u50A80\u3002 \u53EF\u4EE5\u57280\uFF5E4\u7684\u8303\u56F4\u5185\u8BBE\u5B9A Num \u3002 \u00A0 \u4E0B\u8FF0\u662F Dst = Dst [0]\u3001 Num =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\uFF1C Num \u65F6 \u2022 Num \uFF1E4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Num =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 UniteByte \u5B57\u8282\u7EC4\u5408 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UniteByte \u5B57\u8282\u7EC4\u5408 FUN \u00A0 UniteByte(Src, Dst, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UINT[*] - \u7EC4\u5408\u7684\u6570\u636E\u8D77\u59CB Dst OUT UDINT - \u5DF2\u7EC4\u5408\u6570\u636E\u5B58\u50A8\u76EE\u6807 Num IN UINT 0 \u7EC4\u5408\u7684\u5B57\u8282\u6570\uFF080\uFF5E4\uFF09 \u52A8\u4F5C\u8BF4\u660E \u7EC4\u5408\u4EE5 Src \u4E3A\u5F00\u5934\u7684 Num \u5B57\u7684\u4F4E\u4F4D8\u4F4D\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u5BF9 Num \u6307\u5B9A\u4E860\uFF5E2\u65F6\uFF0C\u5373\u4F7F\u5BF9 Dst \u6307\u5B9AUINT/INT\u578B\uFF0C\u4E5F\u53EF\u4EE5\u6B63\u786E\u5B58\u50A8\u3002 \u5728 Dst \u7684\u5269\u4F59\u9AD8\u4F4D\u5B57\u8282\u4E2D\u5B58\u50A80\u3002 \u00A0 \u4E0B\u8FF0\u662F Src = Src [0]\u3001 Num =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u5B57\u6570\uFF1C Num \u65F6 \u2022 Num \uFF1E4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 Num =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5728 Dst \u4E2D\u5B58\u50A80\u3002 \u2022 \u5BF9 Num \u6307\u5B9A\u4E863\uFF5E4\u65F6\uFF0C\u5982\u679C\u5BF9 Dst \u6307\u5B9A\u4E86UINT/INT\u578B\uFF0C\u5219\u65E0\u6CD5\u6B63\u786E\u52A8\u4F5C\u3002 BlockSwap \u8FDE\u7EED\u9AD8\u4F4E\u5B57\u8282\u4E92\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BlockSwap \u8FDE\u7EED\u9AD8\u4F4E\u5B57\u8282\u4E92\u6362 FUN \u00A0 BlockSwap(Src, Dst, WordSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u4EA4\u6362\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB Dst IN-OUT - - \u4EA4\u6362\u540E\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB WordSize IN UINT 0 \u4EA4\u6362\u7684\u5B57\u6570 \u52A8\u4F5C\u8BF4\u660E \u66FF\u6362\u5728\u4EE5 Src \u4E3A\u5F00\u5934\u7684 WordSize \u6570\u91CF\u7684\u6570\u636E\u4E2D\uFF0C\u9AD8\u4F4D\u5B57\u8282\uFF08\u9AD8\u4F4D8\u4F4D\uFF09\u548C\u4F4E\u4F4D\u5B57\u8282\uFF08\u4F4E\u4F4D8\u4F4D\uFF09\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F WordSize =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u3001 Dst \u7684\u5269\u4F59\u5B57\u6570\uFF1C WordSize \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 WordSize =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u5373\u4F7F Src \u548C Dst \u7684\u7C7B\u578B\u4E0D\u540C\uFF0C\u4E5F\u6CA1\u6709\u95EE\u9898\u3002 \u2022 \u4F20\u8F93\u6E90\u548C\u4F20\u8F93\u76EE\u7684\u6570\u636E\u5757\u5373\u4F7F\u90E8\u5206\u91CD\u590D\uFF0C\u4E5F\u80FD\u6B63\u786E\u4EA4\u6362\u3002"},{"link":"./03_13_FBFUN_DataControl.html","title":"\u6570\u636E\u63A7\u5236","body":"\u6570\u636E\u63A7\u5236 FUN/FB \u540D\u79F0 \u6982\u8FF0 ApproxCal \u6298\u7EBF\u8FD1\u4F3C \u6839\u636E\u6307\u5B9A\u7684\u6298\u7EBF\u8FD1\u4F3C\u8F93\u5165\u503C\uFF0C\u6309\u7167\u6298\u7EBF\u6570\u636E\u8868\u6267\u884C\u6298\u7EBF\u8FD1\u4F3C\u8BA1\u7B97\u3002 Ramp \u503E\u659C\u4FE1\u53F7 \u8BA9\u8F93\u51FA\u503C\u6309\u6307\u5B9A\u7684\u503E\u659C\uFF08\u53D8\u5316\u7387\uFF09\u63A5\u8FD1\u8F93\u5165\u503C\u3002 TimeProportionalOut \u65F6\u95F4\u5206\u5272\u6BD4\u4F8B\u8F93\u51FA \u5728\u6307\u5B9A\u7684\u63A7\u5236\u5468\u671F\u4E2D\uFF0C\u4EC5\u5728\u6307\u5B9A\u7684\u65F6\u95F4\u5185\u5C06\u4F4D\u7F6E\u4E8EON\u3002 LeadLagFilter \u8D85\u524D\u6EDE\u540E\u8FC7\u6EE4 \u5728\u6307\u5B9A\u7684\u8FD0\u7B97\u5468\u671F\u4E2D\uFF0C\u5BF9\u8F93\u5165\u503C\u6267\u884C\u8D85\u524D\u6EDE\u540E\u8FC7\u6EE4\u8FD0\u7B97\u3002 PID \u5E26\u81EA\u52A8\u8C03\u8C10\u7684PID\u63A7\u5236 \u6267\u884C\u5E26\u81EA\u52A8\u8C03\u8C10\u76842\u81EA\u7531\u5EA6PID\u63A7\u5236\u8FD0\u7B97\u3002\u6839\u636EPID\u53C2\u6570\u6267\u884C\u8BA1\u7B97\uFF0C\u4F7F\u6D4B\u91CF\u503C\u4E0E\u8BBE\u5B9A\u503C\u7684\u504F\u5DEE\u4E3A0\u3002 ApproxCal \u6298\u7EBF\u8FD1\u4F3C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ApproxCal \u6298\u7EBF\u8FD1\u4F3C FUN \u00A0 Result := ApproxCal(In, TableX, TableY, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u6298\u7EBF\u8FD1\u4F3C\u8F93\u5165\u503C TableX IN - - \u6298\u7EBF\u6570\u636E\u8868\u7684X\u8F74\u8D77\u59CB TableY IN - - \u6298\u7EBF\u6570\u636E\u8868\u7684Y\u8F74\u8D77\u59CB Num IN UINT 0 \u6298\u7EBF\u6570\u636E\u8BB0\u5F55\u6570(2\uFF5E) Result RETURN - - \u8FD1\u4F3C\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u9488\u5BF9 In \u4E2D\u5B58\u50A8\u7684\u6298\u7EBF\u8FD1\u4F3C\u7684\u8F93\u5165\u503C\uFF0C\u6839\u636E\u4EE5 TableX \u3001 TableY \u4E3A\u5F00\u5934\uFF0C\u5B58\u50A8\u4E86 Num \u8BB0\u5F55\u7684\u6298\u7EBF\u6570\u636E\u8868\u6267\u884C\u8FD1\u4F3C\u8BA1\u7B97\u3002 \u6267\u884C\u6298\u7EBF\u8FD1\u4F3C\u8BA1\u7B97\u65F6\uFF0C\u4F1A\u641C\u7D22 In \u5904\u4E8E\u6298\u7EBF\u6570\u636E\u8868\u7684\u54EA\u4E2A\u8303\u56F4\uFF0C\u5E76\u6839\u636E\u524D\u540E2\u70B9\u6267\u884C\u6298\u7EBF\u8FD1\u4F3C\u8BA1\u7B97\u3002 \u8BA1\u7B97\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 \u8BF7\u5BF9\u6298\u7EBF\u6570\u636E\u8868\u7684X\u8F74\uFF08 TableX \uFF09\u6309\u7167X0, X1, X2, \u2026, Xn-1, Xn\u7684\u987A\u5E8F\uFF0C\u5BF9\u6298\u7EBF\u6570\u636E\u8868\u7684Y\u8F74\uFF08 TableY \uFF09\u6309\u7167Y0, Y1, Y2, \u2026, Yn-1, Yn\u7684\u987A\u5E8F\u8FDB\u884C\u5B58\u50A8\u3002\u8BF7\u6309\u5347\u5E8F\uFF08X0\u003CX1\u2026\u003CXk\u2026\u003CXn\uFF09\u8BBE\u5B9A TableX \u7684\u503C\u3002 \u8BF7\u5728 Num \u4E2D\u5B58\u50A8\u6298\u7EBF\u6570\u636E\u8868\u7684\u8BB0\u5F55\u6570\u3002 \u53E6\u5916\uFF0C\u8BF7\u5C06 Num \u8BBE\u4E3A2\u4EE5\u4E0A\u7684\u6570\u503C\u3002 In \uFF1CX0\u65F6\uFF0C\u5728 Result \u4E2D\u5B58\u50A8Y0\u3002 In \uFF1EXn\u65F6\uFF0C\u5728 Result \u4E2D\u5B58\u50A8Yn\u3002 In \uFF1DXk\uFF08k\uFF1A1\uFF5En\uFF09\u65F6\uFF0C\u5728 Result \u4E2D\u5B58\u50A8Yk\u3002 \u00A0 \u4E0B\u8FF0\u662F N =7\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u5982\u679C In \u662FX1\uFF5EX2\u4E4B\u95F4\u7684\u503C\uFF0C\u5219\u4F1A\u6839\u636E(X1, Y1)\u548C(X2, Y2)\u76842\u70B9\u6267\u884C\u6298\u7EBF\u8FD1\u4F3C\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Num \uFF1C2\u65F6 \u2022 TableX \u3001 TableY \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Num \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5982\u679C TableX \u7684\u503C\u4E0D\u662F\u5347\u5E8F\uFF0C Result \u7684\u503C\u4F1A\u53D8\u5F97\u4E0D\u7A33\u5B9A\u3002 Ramp \u503E\u659C\u4FE1\u53F7 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Ramp \u503E\u659C\u4FE1\u53F7 FB \u00A0 Ramp_instance(Enable, Enabled, In, Rate, TimeUnit, Out); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u4F7F\u80FD Enabled OUT BOOL - \u6267\u884C\u4E2D In IN REAL 0,0 \u8F93\u5165\u503C Rate IN REAL 0,0 \u6BCF\u4E2A\u65F6\u95F4\u5355\u4F4D\u7684\u53D8\u5316\u91CF TimeUnit IN TIME T#0s \u65F6\u95F4\u5355\u4F4D Out OUT REAL - \u8F93\u51FA\u503C \u52A8\u4F5C\u8BF4\u660E \u6309\u7167\u6307\u5B9A\u7684\u503E\u659C\uFF08 R ate / TimeUnit \uFF09\u4F7F Out \u7684\u503C\u63A5\u8FD1 In \u7684\u503C\uFF0C\u76F4\u81F3\u4E0E\u5176\u4E00\u81F4\u3002 \u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C Out \u4F1A\u88AB\u521D\u59CB\u5316\u4E3A In \u7684\u503C\u3002 \u00A0 \u5982\u679C\u5728\u6267\u884C\u4E2D\u66F4\u6539\u4E86 In \u7684\u503C\uFF0C\u5219\u4F1A\u4F7F Out \u7684\u503C\u63A5\u8FD1\u66F4\u6539\u540E\u7684 In \u7684\u503C\u3002 \u00A0 (1) \u5728\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u65F6\uFF0C\u5C06 Out \u521D\u59CB\u5316\u4E3A In \uFF08 Out = In \uFF09\u3002 (2) In \u7684\u503C\u53D8\u5316\u540E\uFF0C\u4F1A\u6309\u6307\u5B9A\u7684\u503E\u659C\u4F7F Out \u7684\u503C\u63A5\u8FD1 In \u7684\u503C\u3002 (3) Out \u7684\u503C\u4E0E In \u7684\u503C\u4E00\u81F4\u3002 (4) \u5728\u4E00\u81F4\u7684\u72B6\u6001\u4E0B\u8BA9 In \u7684\u503C\u53D8\u5316\uFF0C Out \u7684\u503C\u4F1A\u63A5\u8FD1\u53D8\u5316\u540E\u7684 In \u7684\u503C\u3002 (5) \u5728 Out \u7684\u503C\u548C In \u7684\u503C\u4E00\u81F4\u4E4B\u524D\u8BA9 In \u7684\u503C\u53D8\u5316\uFF0C Out \u7684\u503C\u4F1A\u63A5\u8FD1\u53D8\u5316\u540E\u7684 In \u7684\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 TimeUnit  \u2264 T#0s\u65F6 \u2022 Rate \u00A0\u003C  0\u65F6 \u2022 In/Rate\u7684\u503C\u662F\u975E\u6570(NaN)\u6216\u65E0\u7A77(\u002BInf\u3001-Inf)\u65F6 TimeProportionalOut \u65F6\u95F4\u5206\u5272\u6BD4\u4F8B\u8F93\u51FA \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TimeProportionalOut \u65F6\u95F4\u5206\u5272\u6BD4\u4F8B\u8F93\u51FA FB \u00A0 TimeProportionalOut_Instance(Enable, Enabled, ONTime, Cycle, Out); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u4F7F\u80FD Enabled OUT BOOL - \u6267\u884C\u4E2D ONTime IN REAL 0,0 \u65F6\u95F4 [s](0\uFF5E) Cycle IN REAL 0,0 \u5468\u671F [s](0\uFF5E) Out OUT BOOL - \u8F93\u51FA\u4F4D \u52A8\u4F5C\u8BF4\u660E \u5728\u7528 Cycle [s]\u6307\u5B9A\u7684\u5468\u671F\u4E2D\uFF0C\u4EC5\u5728 ONTime [s]\u65F6\u95F4\u5185\u5C06 Out \u7F6E\u4E8EON\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 ONTime \uFF1C0\u6216 Cycle \u22640\u65F6 \u2022 ONTime \u6216 Cycle \u7684\u503C\u662F\u975E\u6570(NaN)\u6216\u65E0\u7A77(\u002BInf\u3001-Inf)\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 ONTime \uFF1E Cycle \u65F6\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u52A8\u4F5C\u4E0E Out \uFF1D Enable \u7684\u52A8\u4F5C\u3002 LeadLagFilter \u8D85\u524D\u6EDE\u540E\u8FC7\u6EE4 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LeadLagFilter \u8D85\u524D\u6EDE\u540E\u8FC7\u6EE4 FB \u00A0 LeadLagFilter_Instance(Enable, Enabled, In, CalcTime, LagTime, LeadTime, Out); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u4F7F\u80FD Enabled OUT BOOL - \u6267\u884C\u4E2D In IN REAL 0,0 \u8FC7\u6EE4\u5668\u7684\u8F93\u5165\u503C CalcTime IN REAL 0,0 \u8FD0\u7B97\u5468\u671F [s] LagTime IN REAL 0,0 \u6EDE\u540E\u65F6\u95F4 [s] LeadTime IN REAL 0,0 \u8D85\u524D\u65F6\u95F4 [s] Out OUT REAL - \u8FC7\u6EE4\u5668\u7684\u8F93\u51FA\u503C \u52A8\u4F5C\u8BF4\u660E Enable \u662FTRUE\u65F6\uFF0C\u5BF9 In \u6267\u884C\u8D85\u524D\u6EDE\u540E\u8FC7\u6EE4\u8FD0\u7B97\uFF0C\u5E76\u5B58\u50A8\u5230 Out \u4E2D\u3002\u5728\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\uFF0C Out \u4F1A\u88AB\u521D\u59CB\u5316\u4E3A In \u7684\u503C\u3002 \u00A0 \u00A0 \u00A0 \u2022 X\uFF1A In  \u8F93\u5165\u503C \u2022 Y\uFF1A Out  \u8F93\u51FA\u503C \u2022 T1\uFF1A\uFF08 LagTime \uFF09\u6EDE\u540E\u65F6\u95F4 \u2022 T2\uFF1A\uFF08 LeadTime \uFF09\u8D85\u524D\u65F6\u95F4 \u00A0 \u7684\u8BBE\u5B9A\u4E0B\uFF0C\u6309\u4E0B\u8FF0\u516C\u5F0F\u8BA1\u7B97\u8F93\u51FA\u503C\u3002 \u00A0 \u53C2\u6570\u8BF4\u660E \u53C2\u6570 \u5185\u5BB9 \u8BF4\u660E CalcTime \u8FD0\u7B97\u5468\u671F \u6307\u5B9A\u6267\u884C\u8FD0\u7B97\u7684\u5468\u671F\u3002 \u5982\u679C\u6307\u5B9A\u4E860\uFF0C\u5219\u4F1A\u5728\u6BCF\u6B21\u626B\u63CF\u65F6\u6267\u884C\u3002 LagTime \u6EDE\u540E\u65F6\u95F4 (T1) \u6307\u5B9A\u6EDE\u540E\u8981\u7D20\u7684\u65F6\u95F4\u5E38\u6570[s]\u3002 \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u53D8\u4E3A\u65E0\u6EDE\u540E\u8FD0\u7B97\u3002 LeadTime \u8D85\u524D\u65F6\u95F4 (T2) \u6307\u5B9A\u8D85\u524D\u8981\u7D20\u7684\u65F6\u95F4\u5E38\u6570[s]\u3002 \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u53D8\u4E3A\u65E0\u8D85\u524D\u8FD0\u7B97\u3002 \u00A0 \u5728FB\u5185\u90E8\u8BA1\u6D4B\u7ECF\u8FC7\u65F6\u95F4\u7528\u4E8E\u8FD0\u7B97\u3002\u901A\u5E38\u4F1A\u5FFD\u7565 CalcTime \uFF08\u8FD0\u7B97\u5468\u671F[s]\uFF09\u3002\u626B\u63CF\u65F6\u95F4\u8F83\u77ED\uFF0C Out \u4E0D\u7A33\u5B9A\u65F6\uFF0C\u8BBE\u5B9A CalcTime \u53EF\u80FD\u4F1A\u4F7F\u5176\u7A33\u5B9A\u3002\u5982\u679C\u5728\u56FA\u5B9A\u5468\u671F\u6A21\u5757\u4E2D\u4F7F\u7528\uFF0C\u8BF7\u5FFD\u7565\u6216\u8BBE\u4E3A0\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 CalcTime \u00A0\u003C 0\u65F6 \u2022 LagTime \u00A0\u003C 0\u65F6 \u2022 LeadTime \u00A0\u003C 0\u65F6 \u2022 IN / CalcTime / LagTime / LeadTime \u7684\u503C\u662F\u975E\u6570(NaN)\u6216\u65E0\u7A77(\u002BInf\u3001-Inf)\u65F6 PID \u5E26\u81EA\u52A8\u8C03\u8C10\u7684PID\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 PID \u5E26\u81EA\u52A8\u8C03\u8C10\u7684PID\u63A7\u5236 FB \u00A0 PID_instance(Enable, Status, ManualMode, ATStart, ATDone, ATBusy, PV, SV, CalcTime, LimitMinMV, LimitMaxMV, Direction, P, Ti, Td, Alpha, Beta, Gamma, ATHys, ATFineTune, ManualMV, MV, FilteredSV, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u4F7F\u80FD Status OUT BOOL - \u63A7\u5236\u4E2D ManualMode IN BOOL FALSE \u624B\u52A8\u6A21\u5F0F\u5207\u6362\uFF08TRUE\uFF1A\u624B\u52A8\u3001FALSE\uFF1APID\u8FD0\u7B97\uFF09 ATStart IN BOOL FALSE \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u5F00\u59CB ATDone OUT BOOL - \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u5B8C\u6210 ATBusy OUT BOOL - \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u4E2D PV IN REAL 0,0 \u6D4B\u91CF\u503C SV IN REAL 0,0 \u76EE\u6807\u503C CalcTime IN REAL 0,0 \u8FD0\u7B97\u5468\u671F[s] LimitMinMV IN REAL 0,0 \u64CD\u4F5C\u91CF\u9650\u5236\u4E0B\u9650\u503C LimitMaxMV IN REAL 0,0 \u64CD\u4F5C\u91CF\u9650\u5236\u4E0A\u9650\u503C Direction IN BOOL FALSE \u52A8\u4F5C\u65B9\u5411\uFF08TRUE\uFF1A\u6B63\u52A8\u4F5C\u3001FALSE\uFF1A\u9006\u52A8\u4F5C\uFF09 P IN-OUT REAL - \u6BD4\u4F8B\u5E38\u6570 Ti IN-OUT REAL - \u79EF\u5206\u5E38\u6570 Td IN-OUT REAL - \u5FAE\u5206\u5E38\u6570 Alpha IN REAL 0,4 2\u81EA\u7531\u5EA6\u53C2\u6570\u03B1\uFF080.0\uFF5E1.0\uFF09 Beta IN REAL 1,35 2\u81EA\u7531\u5EA6\u53C2\u6570\u03B2\uFF080.0\uFF5E1.99\u2026\uFF09 Gamma IN REAL 1,25 2\u81EA\u7531\u5EA6\u53C2\u6570\u03B3\uFF080.0\uFF5E2.0\uFF09 ATHys IN REAL 0,2 AT\u6EDE\u540E ATFineTune IN REAL 1,0 AT\u8C03\u6574\u53C2\u6570\uFF080.01\uFF5E10.0\uFF09 ManualMV IN REAL 0,0 \u624B\u52A8\u64CD\u4F5C\u91CF MV IN-OUT REAL - \u64CD\u4F5C\u91CF FilteredSV OUT REAL - \u7B5B\u9009\u540E\u76EE\u6807\u503C\uFF08\u76D1\u63A7\u7528\uFF09 Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6267\u884C\u5E26\u81EA\u52A8\u8C03\u8C10\u76842\u81EA\u7531\u5EA6PID\u63A7\u5236\u8FD0\u7B97\u3002 \u2022 \u6839\u636EPID\u53C2\u6570\uFF08 P / Ti / Td \uFF09\u8BA1\u7B97\u64CD\u4F5C\u91CF\uFF08 MV \uFF09\uFF0C\u4F7F\u6D4B\u91CF\u503C\uFF08 PV \uFF09\u4E0E\u8BBE\u5B9A\u503C\uFF08 SV \uFF09\u7684\u504F\u5DEE\u4E3A0\u3002 \u2022 \u81EA\u52A8\u8BBE\u5B9APID\u53C2\u6570\uFF0C\u5E26\u81EA\u52A8\u8C03\u8C10\u529F\u80FD\u3002\u81EA\u52A8\u8C03\u8C10\u4F7F\u7528\u7684\u662F\u9650\u4F4D\u5FAA\u73AF\u6CD5\u3002\u5F3A\u884C\u8BA9\u64CD\u4F5C\u91CF\uFF08 MV \uFF09\u5728\u64CD\u4F5C\u91CF\u9650\u5236\u4E0B\u9650\u503C\uFF08 LimitMinMV \uFF09\uFF5E\u64CD\u4F5C\u91CF\u9650\u5236\u4E0A\u9650\u503C\uFF08 LimitMaxMV \uFF09\u4E4B\u95F4\u53D8\u5316\uFF0C\u89C2\u5BDF\u6D4B\u91CF\u503C\uFF08 PV \uFF09\u5E76\u63A8\u6D4B\u63A7\u5236\u5BF9\u8C61\u7684\u7279\u6027\uFF0C\u8BA1\u7B97\u51FA\u6700\u4F73PID\u53C2\u6570\u3002 \u2022 2\u81EA\u7531\u5EA6PID\u63A7\u5236\u662F\u6307\u517C\u987E\u76EE\u6807\u503C\u54CD\u5E94\uFF08\u8DDF\u8E2A\u76EE\u6807\u503C\u53D8\u5316\u7684\u6027\u80FD\uFF09\u548C\u5E72\u6270\u54CD\u5E94\uFF08\u4F7F\u5E72\u6270\u5F15\u8D77\u7684\u504F\u5DEE\u4E3A0\u7684\u6027\u80FD\uFF09\u7684PID\u63A7\u5236\u65B9\u6CD5\u3002 \u2022 PID\u63A7\u5236\u7684\u8FD0\u7B97\u65B9\u5F0F\u662F\u76EE\u6807\u503C\u7B5B\u9009\u578B\u5B8C\u51682\u81EA\u7531\u5EA6PID\u65B9\u5F0F\u3002 \u00A0 \u5728\u5E38\u89C4PID\u63A7\u5236\u4E2D\uFF0C\u5982\u679C\u6291\u5236\u76EE\u6807\u503C\u8DDF\u8E2A\u7684\u8D85\u8C03\uFF0C\u5219\u4F1A\u4F7F\u5BF9\u6297\u5E72\u6270\u7684\u7A33\u5B9A\u6027\u53D8\u5F97\u8FDF\u7F13\u3002 \u00A0 \u76F8\u53CD\uFF0C\u5982\u679C\u52A0\u5FEB\u5BF9\u6297\u5E72\u6270\uFF0C\u5219\u4F1A\u53D1\u751F\u8D85\u8C03\uFF0C\u5BFC\u81F4\u76EE\u6807\u503C\u8DDF\u8E2A\u53D8\u6162\u3002 \u00A0 2\u81EA\u7531\u5EA6PID\u63A7\u5236\u53EF\u4EE5\u901A\u8FC7\u7B5B\u9009\u76EE\u6807\u503C\u6765\u6539\u5584\u76EE\u6807\u503C\u54CD\u5E94\u548C\u5E72\u6270\u54CD\u5E94\u3002 \u00A0 \u53C2\u6570\u8BF4\u660E \u81EA\u53D8\u91CF \u5185\u5BB9 \u8BF4\u660E ManualMode \u624B\u52A8\u6A21\u5F0F\u5207\u6362 \u7F6E\u4E8ETRUE\u65F6\uFF0C\u4F1A\u5728\u64CD\u4F5C\u91CF( MV )\u4E2D\u5B58\u50A8\u624B\u52A8\u64CD\u4F5C\u91CF( ManualMV )\u3002 ATStart \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u5F00\u59CB \u7F6E\u4E8ETRUE\u65F6\uFF0C\u4F1A\u901A\u8FC7\u9650\u4F4D\u5FAA\u73AF\u6CD5\u6267\u884C\u81EA\u52A8\u8C03\u8C10\uFF0C\u5F00\u59CB\u8BA1\u7B97\u6700\u4F73\u6BD4\u4F8B\u5E38\u6570( P )\u3001\u79EF\u5206\u5E38\u6570( Ti )\u548C\u5FAE\u5206\u5E38\u6570( Td )\u3002 ATDone \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u5B8C\u6210 \u81EA\u52A8\u8C03\u8C10\u5B8C\u6210\u540E\u53D8\u4E3ATRUE\u3002 ATBusy \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u4E2D \u81EA\u52A8\u8C03\u8C10\u6267\u884C\u4E2D\u53D8\u4E3ATRUE\u3002 PV \u6D4B\u91CF\u503C \u63A7\u5236\u5BF9\u8C61\u7684\u6D4B\u91CF\u503C\u3002 SV \u76EE\u6807\u503C \u63A7\u5236\u5BF9\u8C61\u7684\u76EE\u6807\u503C\u3002 CalcTime \u8FD0\u7B97\u5468\u671F[s] \u6267\u884CPID\u8FD0\u7B97\u7684\u5468\u671F\u3002\u5728FB\u5185\u90E8\u8BA1\u6D4B\u7ECF\u8FC7\u65F6\u95F4\u5E76\u81EA\u52A8\u51B3\u5B9A\u8FD0\u7B97\u5468\u671F\uFF0C\u6240\u4EE5\u901A\u5E38\u4F1A\u5FFD\u7565\u3002\u626B\u63CF\u65F6\u95F4\u8F83\u77ED\uFF0C\u63A7\u5236\u4E0D\u7A33\u5B9A\u65F6\uFF0C\u8BBE\u5B9A CalcTime \u53EF\u80FD\u4F1A\u4F7F\u63A7\u5236\u53D8\u5F97\u7A33\u5B9A\u3002 \u5982\u679C\u5728\u56FA\u5B9A\u5468\u671F\u6A21\u5757\u4E2D\u4F7F\u7528\uFF0C\u8BF7\u5FFD\u7565\u6216\u8BBE\u4E3A0\u3002 LimitMinMV \u64CD\u4F5C\u91CF\u9650\u5236\u4E0B\u9650\u503C \u8F93\u51FA\u7684\u64CD\u4F5C\u91CF\u7684\u4E0B\u9650\u503C\u3001\u4E0A\u9650\u503C\u3002\u59CB\u7EC8\u6709\u6548\uFF0C\u4E0E ManualMode \u7684TRUE/FALSE\u65E0\u5173\u3002\u6267\u884C\u81EA\u52A8\u8C03\u8C10\u65F6\u5728\u8BE5\u8303\u56F4\u5185\u4F7F\u7528\u9650\u4F4D\u5FAA\u73AF\u6CD5\u3002 LimitMaxMV \u64CD\u4F5C\u91CF\u9650\u5236\u4E0A\u9650\u503C Direction \u52A8\u4F5C\u65B9\u5411\uFF08TRUE\uFF1A\u6B63\u52A8\u4F5C\u3001FALSE\uFF1A\u9006\u52A8\u4F5C\uFF09 \u6307\u5B9A\u6B63\u52A8\u4F5C/\u9006\u52A8\u4F5C\u3002\u4E0B\u9762\u4EE5\u6E29\u5EA6\u63A7\u5236\u4E3A\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002 \u6B63\u52A8\u4F5C\u662F\u5728\u6D4B\u91CF\u503C\uFF08\u6E29\u5EA6\uFF09\u6BD4\u76EE\u6807\u503C\uFF08\u6E29\u5EA6\uFF09\u589E\u52A0\u66F4\u591A\u65F6\uFF0C\u589E\u52A0\u64CD\u4F5C\u91CF\u7684\u51B7\u5374\u52A8\u4F5C\uFF08\u56E0\u6E29\u5EA6\u53D8\u4E3A\u9AD8\u6E29\u800C\u8FDB\u884C\u51B7\u5374\uFF09\u3002 \u9006\u52A8\u4F5C\u662F\u5728\u6D4B\u91CF\u503C\uFF08\u6E29\u5EA6\uFF09\u6BD4\u76EE\u6807\u503C\uFF08\u6E29\u5EA6\uFF09\u51CF\u5C11\u66F4\u591A\u65F6\uFF0C\u589E\u52A0\u64CD\u4F5C\u91CF\u7684\u52A0\u70ED\u52A8\u4F5C\uFF08\u56E0\u6E29\u5EA6\u53D8\u4E3A\u4F4E\u6E29\u800C\u8FDB\u884C\u52A0\u70ED\uFF09\u3002 P \u6BD4\u4F8B\u5E38\u6570 \u6BD4\u4F8B\u52A8\u4F5C\u7684\u6BD4\u4F8B\u5E38\u6570\u3002 \u6BD4\u4F8B\u52A8\u4F5C\u7684\u64CD\u4F5C\u91CF \uFF1D \u6BD4\u4F8B\u5E38\u6570 \u00D7 (\u76EE\u6807\u503C - \u6D4B\u91CF\u503C) \u00A0 (1) \u503C\u8D8A\u5927\uFF0C\u6D4B\u91CF\u503C\u4E0E\u76EE\u6807\u503C\u7684\u504F\u5DEE\u8D8A\u5C0F\uFF0C\u4F46\u632F\u8361\u4F1A\u53D8\u5927\u3002 (2) \u503C\u8D8A\u5C0F\uFF0C\u632F\u8361\u8D8A\u5C0F\uFF0C\u4F46\u6D4B\u91CF\u503C\u4E0E\u76EE\u6807\u503C\u7684\u504F\u5DEE\u4F1A\u53D8\u5927\u3002 Ti \u79EF\u5206\u5E38\u6570 \u7528\u4E8E\u964D\u4F4E\u5728\u6BD4\u4F8B\u52A8\u4F5C\u4E2D\u4EA7\u751F\u7684\u504F\u5DEE\uFF08\u76EE\u6807\u503C - \u6D4B\u91CF\u503C\uFF09\u3002 \u00A0 (1) \u503C\u8D8A\u5C0F\uFF0C\u8DDF\u8E2A\u8D8A\u5FEB\uFF0C\u4F46\u632F\u8361\u4F1A\u53D8\u5927\u3002 (2) \u503C\u8D8A\u5927\uFF0C\u632F\u8361\u8D8A\u5C0F\uFF0C\u4F46\u8DDF\u8E2A\u4F1A\u53D8\u6162\u3002 * \u5982\u679C\u51FA\u73B0\u4E86\u957F\u5468\u671F\u7684\u632F\u8361\uFF0C\u8BF7\u589E\u5927\u8BBE\u5B9A\u503C\u3002 * \u5982\u679C\u5728Ti\u6307\u5B9A\u4E3A0.0\u65F6\uFF0C\u65E0\u79EF\u5206\u52A8\u4F5C\u3002 Td \u5FAE\u5206\u5E38\u6570 \u7528\u4E8E\u4ECE\u5E72\u6270\u7684\u5F71\u54CD\u4E2D\u6062\u590D\u3002 \u00A0 (1) \u503C\u8D8A\u5927\uFF0C\u5BF9\u5E72\u6270\u7684\u54CD\u5E94\u8D8A\u5FEB\uFF0C\u4F46\u632F\u8361\u4F1A\u53D8\u5927\u3002 (2) \u503C\u8D8A\u5C0F\uFF0C\u632F\u8361\u8D8A\u5C0F\uFF0C\u4F46\u5BF9\u5E72\u6270\u7684\u54CD\u5E94\u4F1A\u53D8\u6162\u3002 * \u5982\u679C\u51FA\u73B0\u4E86\u77ED\u5468\u671F\u7684\u632F\u8361\uFF0C\u8BF7\u51CF\u5C0F\u8BBE\u5B9A\u503C\u3002 * \u5728\u54CD\u5E94\u8FC5\u901F\u7684\u63A7\u5236\u7CFB\u7EDF\uFF08\u538B\u529B\u3001\u6D41\u91CF\u7B49\uFF09\u548C\u5B58\u5728\u632F\u52A8\u8981\u7D20\u7684\u63A7\u5236\u7CFB\u7EDF\u4E2D\uFF0C\u8BF7\u51CF\u5C0F\u8BBE\u5B9A\u503C\u3002 * \u5982\u679C\u5728Td\u6307\u5B9A\u4E3A0.0\u65F6\uFF0C\u65E0\u5FAE\u5206\u52A8\u4F5C\u3002 Alpha 2\u81EA\u7531\u5EA6\u53C2\u6570\u03B1\uFF080.0\uFF5E1.0\uFF09 \u65E0\u6CD5\u901A\u8FC7 ATFineTune \u5145\u5206\u8C03\u6574PID\u6027\u80FD\u65F6\uFF0C\u66F4\u65392\u81EA\u7531\u5EA6\u53C2\u6570\u53EF\u80FD\u4F1A\u6709\u6240\u6539\u5584\u3002 \u2022 Alpha / Beta \u51CF\u5C0F Alpha \uFF0C\u589E\u5927 Beta \uFF0C\u53EF\u6291\u5236\u8D85\u8C03\u3002\u5916\u90E8\u503E\u659C\u6216\u7B5B\u9009\u4E86 SV \u503C\u65F6\uFF0C\u7981\u7528\u76EE\u6807\u503C\u7B5B\u9009\uFF08 Alpha =1.0\uFF0C\u6216 Beta =0.0\uFF09\uFF0C\u53EF\u63D0\u9AD8\u76EE\u6807\u503C\u54CD\u5E94\u6027\u80FD\u3002 \u8C03\u6574\u53C2\u6570\u540E\uFF0C\u5982\u9700\u786E\u8BA4\u7B5B\u9009\u7279\u6027\u7684\u53D8\u5316\uFF0C\u8BF7\u786E\u8BA4\u7B5B\u9009\u540E\u76EE\u6807\u503C\uFF08 FilteredSV \uFF09\u3002 \u00A0 \u2022 Gamma \u8BE5\u8BBE\u5B9A\u503C\u662F\u7528\u6765\u63D0\u9AD8\u76EE\u6807\u503C\u54CD\u5E94\u6027\u80FD\u7684\u3002\u901A\u5E38\u57280\uFF5E1/ Alpha \u7684\u8303\u56F4\u5185\u8BBE\u5B9A\u3002\u589E\u5927 Gamma \u53EF\u63D0\u9AD8\u76EE\u6807\u503C\u54CD\u5E94\u6027\u80FD\uFF0C\u4F46\u64CD\u4F5C\u91CF\u7684\u53D8\u5316\u4F1A\u53D8\u5927\u3002 Beta 2\u81EA\u7531\u5EA6\u53C2\u6570\u03B2\uFF080.0\uFF5E1.99\u2026\uFF09 \u00A0 Gamma 2\u81EA\u7531\u5EA6\u53C2\u6570\u03B3\uFF080.0\uFF5E2.0\uFF09 \u00A0 ATHys AT\u6EDE\u540E \u8BBE\u5B9A\u76F8\u5BF9\u4E8E\u81EA\u52A8\u8C03\u8C10\u4E2D\u7684\u76EE\u6807\u503C\uFF08 SV \uFF09\u7684\u6EDE\u540E\u3002 \u56E0\u6D4B\u91CF\u503C\uFF08 PV \uFF09\u7684\u504F\u5DEE\uFF0C\u65E0\u6CD5\u4EA7\u751F\u6B63\u5E38\u7684\u9650\u4F4D\u5FAA\u73AF\u65F6\uFF0C\u5E94\u589E\u5927\u8BE5\u503C\u3002\u4F46\u662F\uFF0C\u5982\u679C\u8BBE\u5B9A\u7684\u503C\u8FC7\u5927\uFF0C\u5219\u4F1A\u5BFC\u81F4\u81EA\u52A8\u8C03\u8C10\u7684\u7CBE\u5EA6\u964D\u4F4E\u3002 ATFineTune AT\u8C03\u6574\u53C2\u6570\uFF080.01\uFF5E10.0\uFF09 \u8BE5\u53C2\u6570\u53EF\u5728\u540E\u671F\u8C03\u6574\u901A\u8FC7\u81EA\u52A8\u8C03\u8C10\u8BA1\u7B97\u7684PDI\u5E38\u6570\u3002 \u589E\u5927\u503C\u53EF\u52A0\u5F3A\u7A33\u5B9A\u6027\uFF0C\u51CF\u5C0F\u503C\u53EF\u52A0\u5F3A\u5FEB\u901F\u54CD\u5E94\u3002 ManualMV \u624B\u52A8\u64CD\u4F5C\u91CF \u5728 ManualMode \u7F6E\u4E8ETRUE\u7684\u671F\u95F4\uFF0C\u5728\u64CD\u4F5C\u91CF\uFF08 MV \uFF09\u4E2D\u5B58\u50A8\u624B\u52A8\u64CD\u4F5C\u91CF\uFF08 ManualMV \uFF09\u3002 MV \u64CD\u4F5C\u91CF \u5F00\u59CBPID\u8FD0\u7B97\u65F6\uFF0C\u64CD\u4F5C\u91CF\uFF08MV\uFF09\u5F53\u4F5C\u79EF\u5206\u7684\u521D\u59CB\u503C\u8FDB\u884C\u8FD0\u7B97\u3002\u5B58\u50A8PID\u8FD0\u7B97\u540E\u7684\u64CD\u4F5C\u91CF\u3002 \u81EA\u52A8\u8C03\u8C10\u7684\u4F7F\u7528\u65B9\u6CD5 \u6267\u884C\u81EA\u52A8\u8C03\u8C10\uFF0C\u53EF\u81EA\u52A8\u8BBE\u5B9A\u5408\u9002\u7684PID\u53C2\u6570\u3002 \u2022 \u5728\u672A\u8BBE\u5B9APID\u53C2\u6570\u7684\u72B6\u6001\u4E0B\u6267\u884C\u81EA\u52A8\u8C03\u8C10\u65F6\uFF0C\u5E94\u5C06 Enable \u548C ATStart \u540C\u65F6\u7F6E\u4E8ETRUE\u3002 \u2022 \u81EA\u52A8\u8C03\u8C10\u5B8C\u6210\u540E\uFF0CPID\u53C2\u6570\uFF08 P / Ti / Td \uFF09\u88AB\u6539\u5199\uFF0C ATDone \u53D8\u4E3ATRUE\u3002 \u2022 \u81EA\u52A8\u8C03\u8C10\u5B8C\u6210\u540E\uFF0C\u6267\u884CPID\u8FD0\u7B97\u3002 \u2022 \u5982\u9700\u4E2D\u65AD\u81EA\u52A8\u8C03\u8C10\uFF0C\u8BF7\u5C06 ATStart \u7F6E\u4E8EFALSE\u3002\u6B64\u65F6\uFF0C ATDone \u4FDD\u6301FALSE\u72B6\u6001\uFF0C\u4F7F\u7528\u539F\u6765\u7684PID\u53C2\u6570\u6267\u884CPID\u8FD0\u7B97\u3002 \u2022 \u5728\u624B\u52A8\u6A21\u5F0F\uFF08 ManualMode \u4E3ATRUE\uFF09\u4E0B\uFF0C\u5C06 ATStart \u7F6E\u4E8ETRUE\u65F6\u4E5F\u4F1A\u5F00\u59CB\u81EA\u52A8\u8C03\u8C10\u3002 \u4E0B\u8FF0\u662F\u7EC4\u5408 Ramp \u6307\u4EE4\u548C TimeProportionalOut \u6307\u4EE4\uFF0C\u5728\u7F13\u6162\u53D8\u5316\u76EE\u6807\u503C\u7684\u540C\u65F6\u8F6C\u6362\u4E3A\u8109\u51B2\u8F93\u51FA\u7684\u53C2\u8003\u793A\u4F8B\u3002 \u00A0 \u2022 \u4F7F\u7528 Ramp \u6307\u4EE4\uFF0C\u5C06PID\u6307\u4EE4\u7684\u76EE\u6807\u503C\uFF08fMV\uFF09\u7F13\u6162\u6539\u4E3A\u76EE\u6807\u503C\uFF08fTarget\uFF09\u3002 \u2022 \u4F7F\u7528 TimeProportialOut \u6307\u4EE4\uFF0C\u5C06\u901A\u8FC7PID\u6307\u4EE4\u8BA1\u7B97\u51FA\u7684\u64CD\u4F5C\u91CF\uFF08 MV \uFF09\u8F6C\u6362\u4E3A\u8109\u51B2\u8F93\u51FA\u3002 \u2022 \u64CD\u4F5C\u91CF\u9650\u5236\u4E0A\u9650\u503C\uFF08 LimitMaxMV \uFF09\u8BBE\u5B9A\u4E3A\u8109\u51B2\u8F93\u51FA\u7684\u5468\u671F\u65F6\u95F4\uFF08fTpoutCycle\uFF09\u3002 \u00A0 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 CalcTime  \uFF1C 0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A1\uFF09 \u2022 LimitMaxMV \u00A0\u2264  LimitMinMV \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A2\uFF09 \u2022 P  \u2264 0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 Ti  \uFF1C 0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u2022 Td  \uFF1C 0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A5\uFF09 \u2022 Alpha \u00A0\uFF1C 0.0 \u6216 1.0 \uFF1C  Alpha \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A6\uFF09 \u2022 Beta \u00A0\uFF1C 0.0 \u6216 2.0 \u2264  Beta \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A7\uFF09 \u2022 Gamma \u00A0\uFF1C 0.0 \u6216 2.0 \uFF1C  Gamma \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A8\uFF09 \u2022 ATHys  \uFF1C 0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A9\uFF09 \u2022 ATFineTune \u00A0\uFF1C 0.01 \u6216 10.0 \uFF1C  ATFineTune \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A10\uFF09 \u2022 \u4E0B\u8FF0\u81EA\u53D8\u91CF\u7684\u503C\u662F\u975E\u6570(NaN)\u6216\u65E0\u7A77(\u002BInf\u3001-Inf)\u65F6 \u2012 PV \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2012 SV \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A101\uFF09 \u2012 CalcTime \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A102\uFF09 \u2012 LimitMinMV \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A103\uFF09 \u2012 LimitMaxMV \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A104\uFF09 \u2012 P \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A105\uFF09 \u2012 Ti \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A106\uFF09 \u2012 Td \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A107\uFF09 \u2012 Alpha \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A108\uFF09 \u2012 Beta \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A109\uFF09 \u2012 Gamma \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A110\uFF09 \u2012 ATHys \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A111\uFF09 \u2012 ATFineTune \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A112\uFF09 \u2012 ManualMV \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A113\uFF09 \u2012 MV \uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A114\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5982\u9700\u5728\u5207\u65AD\u7535\u6E90\u540E\u4ECD\u4FDD\u7559PID\u53C2\u6570\uFF08 P / Ti / Td \uFF09\uFF0C\u8BF7\u8BBE\u5B9A\u4FDD\u6301\u5BF9 P / Ti / Td \u6307\u5B9A\u7684\u53D8\u91CF\u3002"},{"link":"./03_14_FBFUN_Table.html","title":"\u8868","body":"\u8868 FUN/FB \u540D\u79F0 \u6982\u8FF0 F IFO Write FIFO\u5199\u5165 \u5C06\u6570\u636E\u5199\u5165\u6570\u636E\u8868\u7684\u672B\u5C3E\u3002 F IFO Read FIFO\u8BFB\u53D6 \u8BFB\u53D6\u6570\u636E\u8868\u5F00\u5934\u7684\u6570\u636E\u3002 F IFO Insert FIFO\u63D2\u5165 \u5C06\u6570\u636E\u63D2\u5165\u6570\u636E\u8868\u7684\u6307\u5B9A\u4F4D\u7F6E\u3002 F IFO Delete FIFO\u5220\u9664 \u5220\u9664\u6570\u636E\u8868\u7684\u6307\u5B9A\u6570\u636E\u3002 FIFOWrite FIFO\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 FIFOWrite FIFO\u5199\u5165 FUN \u00A0 FIFOWrite(In, MaxDataNum, DataNum, Table); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u5199\u5165\u7684\u6570\u636E MaxDataNum IN UDINT 1 \u6700\u5927\u5B58\u50A8\u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09(1\uFF5E) DataNum IN-OUT UDINT - \u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09 Table IN-OUT - - \u6570\u636E\u8868\u8D77\u59CB \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u5199\u5165\u7528 Table \u6307\u5B9A\u7684\u6570\u636E\u8868\u7684\u672B\u5C3E\u3002 \u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E\u662F Table \uFF0B DataNum \uFF08\u8981\u7D20\uFF09\u3002 \u5B58\u50A8\u540E\uFF0C DataNum \u4F1A\u52A0\u4E0A1\uFF08\u002B1\uFF09\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5728 In =9999\u3001 DataNum =8\u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 MaxDataNum \uFF1D0\u65F6 \u2022 \u5728 DataNum \u2265 MaxDataNum \u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6 \u2022 \u6307\u5B9A\u4E86\u8D85\u51FA Table \u8303\u56F4\u7684 MaxDataNum \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A FIFO ST\uFF1A FIFO FIFORead FIFO\u8BFB\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 FIFORead FIFO\u8BFB\u53D6 FUN \u00A0 FIFORead(Table, MaxDataNum, DataNum, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Table IN-OUT - - \u6570\u636E\u8868\u8D77\u59CB MaxDataNum IN UDINT 1 \u6700\u5927\u5B58\u50A8\u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09 DataNum IN-OUT UDINT - \u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09(1\uFF5E) Dst OUT - - \u5DF2\u8BFB\u53D6\u6570\u636E\u7684\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u5728 Table \u4E2D\u6307\u5B9A\u7684\u6570\u636E\u8868\u4E2D\u5B58\u50A8\u7684\u5F00\u5934\u6570\u636E\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u5B58\u50A8\u540E\uFF0C\u6570\u636E\u8868\u7684\u5185\u5BB9\u4F1A\u9010\u4E2A\u5411\u524D\u586B\u5145\uFF0C DataNum \u51CF\u53BB1\uFF08-1\uFF09\u3002\u53D8\u4E3A\u7A7A\u767D\u65F6\uFF0C\u5728\u8868\u7684\u6700\u540E\u5B58\u50A80\u3002 \u5982\u679C Table \u548C Dst \u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5E76\u4E14\u53EF\u4EE5\u81EA\u52A8\u8F6C\u6362\u6570\u636E\u7C7B\u578B\uFF0C\u5219 Table \u7684\u503C\u4F1A\u88AB\u8F6C\u6362\u4E3A Dst \u7684\u7C7B\u578B\uFF0C\u7136\u540E\u518D\u5199\u5165\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5728 DataNum =9\u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u6570\u636E\u8868\u4E2D\u6CA1\u6709\u6570\u636E\u65F6\uFF08 DataNum \uFF1D0\u65F6\uFF09 \u2022 \u5728 DataNum \uFF1E MaxDataNum \u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6 \u2022 \u6307\u5B9A\u4E86\u8D85\u51FA Table \u8303\u56F4\u7684 MaxDataNum \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A FIFO ST\uFF1A FIFO FIFOInsert FIFO\u63D2\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 FIFOInsert FIFO\u63D2\u5165 FUN \u00A0 FIFOInsert(In, MaxDataNum, DataNum, Table, Pos); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u5199\u5165\u7684\u6570\u636E MaxDataNum IN UDINT 1 \u6700\u5927\u5B58\u50A8\u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09(1\uFF5E) DataNum IN-OUT UDINT - \u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09 Table IN-OUT - - \u6570\u636E\u8868\u8D77\u59CB Pos IN UDINT 0 \u63D2\u5165\u4F4D\u7F6E\uFF080\uFF5E\uFF09 \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u63D2\u5165\u7528 Table \u6307\u5B9A\u7684\u6570\u636E\u8868\u7684\u7B2C Pos \u4E2A\u4E0E\u7B2C Pos \uFF0B1\u4E2A\u4E4B\u95F4\u3002 \u5B58\u50A8\u540E\uFF0C DataNum \u4F1A\u52A0\u4E0A1\uFF08\u002B1\uFF09\u3002\u5982\u679C In \u548C Table \u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5E76\u4E14\u53EF\u4EE5\u81EA\u52A8\u8F6C\u6362\u6570\u636E\u7C7B\u578B\uFF0C\u5219 In \u7684\u503C\u4F1A\u88AB\u8F6C\u6362\u4E3A Table \u7684\u7C7B\u578B\uFF0C\u7136\u540E\u518D\u5199\u5165\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5728 In =1212\u3001 DataNum =9\u3001 Pos =2\u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Pos \uFF1E DataNum \u65F6 \u2022 MaxDataNum \uFF1D0\u65F6 \u2022 \u5728 DataNum \u2265 MaxDataNum \u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6 \u2022 \u6307\u5B9A\u4E86\u8D85\u51FA Table \u8303\u56F4\u7684 MaxDataNum \u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A FIFO ST\uFF1A FIFO FIFODelete FIFO\u5220\u9664 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 FIFODelete FIFO\u5220\u9664 FUN \u00A0 FIFODelete(Table, MaxDataNum, DataNum, Pos); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Table IN-OUT - - \u6570\u636E\u8868\u8D77\u59CB MaxDataNum IN UDINT 1 \u6700\u5927\u5B58\u50A8\u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09(1\uFF5E) DataNum IN-OUT UDINT - \u6570\u636E\u6570\uFF08\u4EE5\u8981\u7D20\u4E3A\u5355\u4F4D\uFF09 Pos IN UDINT 1 \u5220\u9664\u4F4D\u7F6E\uFF081\uFF5E\uFF09 \u52A8\u4F5C\u8BF4\u660E \u5220\u9664\u7528 Table \u6307\u5B9A\u7684\u6570\u636E\u8868\u7684\u7B2C Pos \u4E2A\u6570\u636E\u3002 \u5220\u9664\u540E\uFF0C\u6570\u636E\u8868\u7684\u5185\u5BB9\u4F1A\u9010\u4E2A\u5411\u524D\u586B\u5145\uFF0C DataNum \u51CF\u53BB1\uFF08-1\uFF09\u3002 \u00A0 \u4E0B\u8FF0\u662F\u5728 DataNum =9\u3001 Pos =2\u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Pos \uFF1E DataNum \u65F6 \u2022 MaxDataNum \uFF1D0\u65F6 \u2022 \u5728 DataNum \uFF1E MaxDataNum \u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6 \u2022 \u6307\u5B9A\u4E86\u8D85\u51FA Table \u8303\u56F4\u7684 MaxDataNum \u65F6 \u2022 Pos \uFF1D0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A FIFO ST\uFF1A FIFO"},{"link":"./03_15_FBFUN_CharacterConversion.html","title":"\u5B57\u7B26\u8F6C\u6362","body":"\u5B57\u7B26\u8F6C\u6362 FUN/FB \u540D\u79F0 \u6982\u8FF0 BinaryToAscii BIN\u6570\u636E\u2192\u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u8F6C\u6362 \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u4F4E\u4F4D8\u4F4D\u8F6C\u6362\u4E3A\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\u7684ASCII\u5B57\u7B26\u7801\u3002 AsciiToBinary \u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u2192BIN\u6570\u636E\u8F6C\u6362 \u5C0616\u4F4D\u7684\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\u7684ASCII\u5B57\u7B26\u7801\uFF082\u5B57\u7B26\uFF09\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u3002 AsciiToString \u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06ASCII\u5B57\u7B26\u7801\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 NumToDecString BIN\u6570\u636E\u2192\u5341\u8FDB\u5236\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236ASCII\u5B57\u7B26\u4E32\u3002 DecStringToNum \u5341\u8FDB\u5236\u5B57\u7B26\u4E32\u2192BIN\u6570\u636E\u8F6C\u6362 \u5C06\u5341\u8FDB\u5236ASCII\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u3002 NumToHexString BIN\u6570\u636E\u2192\u5341\u516D\u8FDB\u5236\u5B57\u7B26\u7801\u8F6C\u6362 \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\u7684ASCII\u5B57\u7B26\u4E32\u3002 HexStringToNum \u5341\u516D\u8FDB\u5236\u5B57\u7B26\u4E32\u2192BIN\u6570\u636E\u8F6C\u6362 \u5C06\u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\u3002 RealToString \u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 StringToReal \u5B57\u7B26\u4E32\u2192\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u8F6C\u6362 \u5C06\u5355\u7CBE\u5EA6\u6D6E\u70B9\u6570\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u3002 LrealToString \u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 StringToLreal \u5B57\u7B26\u4E32\u2192\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u8F6C\u6362 \u5C06\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u3002 VariableToString \u53D8\u91CF\u503C\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06\u53D8\u91CF\u503C\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 StringToVariable \u5B57\u7B26\u4E32\u2192\u53D8\u91CF\u503C\u8F6C\u6362 \u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u53D8\u91CF\u503C\u3002 CipStringToString CIP\u5B57\u7B26\u4E32\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06CIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 StringToCipString \u5B57\u7B26\u4E32\u2192CIP\u5B57\u7B26\u4E32\u8F6C\u6362 \u5C06\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3ACIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\u3002 UTF16CodeToString UTF-16\u6570\u636E\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u6309\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u4E2D\u8BBE\u5B9A\u7684\u5B57\u7B26\u7801\uFF0C\u8F6C\u6362UTF-16\u5B57\u7B26\u7801\u7684\u5B57\u7B26\u4E32\u3002 StringToUTF16Code \u5B57\u7B26\u4E32\u2192UTF-16\u6570\u636E\u8F6C\u6362 \u5C06\u6309\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u4E2D\u8BBE\u5B9A\u7684\u5B57\u7B26\u7801\u663E\u793A\u7684\u5B57\u7B26\u4E32\uFF0C\u8F6C\u6362\u4E3AUTF-16\u5B57\u7B26\u7801\u7684\u5B57\u7B26\u4E32\u3002 BinaryToAscii BIN\u6570\u636E\u2192\u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BinaryToAscii BIN\u6570\u636E\u2192\u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u8F6C\u6362 FUN \u00A0 Result := BinaryToAscii(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN UINT 0 \u8F6C\u6362\u5BF9\u8C61BIN\u6570\u636E\uFF08\u4EC5\u9650\u4F4E\u4F4D8\u4F4D\uFF09 Result RETURN UINT - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u7684\u4F4E\u4F4D8\u4F4D\u7684\u503C\u8F6C\u6362\u4E3A\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\u7684ASCII\u5B57\u7B26\u7801\uFF0C\u5C06\u8F6C\u6362\u7ED3\u679C\u768416\u4F4D\u6570\u636E\u5B58\u50A8\u5230 Result \u4E2D\u3002 AsciiToBinary \u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u2192BIN\u6570\u636E\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AsciiToBinary \u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u2192BIN\u6570\u636E\u8F6C\u6362 FUN \u00A0 Result := AsciiToBinary(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN UINT 0 \u8F6C\u6362\u5BF9\u8C61 Result RETURN UINT - \u8F6C\u6362\u7ED3\u679CBIN\u6570\u636E \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u768416\u4F4D\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\u7684ASCII\u5B57\u7B26\u7801\uFF082\u5B57\u7B26\uFF09\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5C06\u8F6C\u6362\u7ED3\u679C\u768416\u4F4D\u6570\u636E\uFF08\u4F4E\u4F4D8\u4F4D\u662F\u8F6C\u6362\u503C\u3001\u9AD8\u4F4D8\u4F4D\u662F0\uFF09\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u9AD8\u4F4D8\u4F4D\u6216\u4F4E\u4F4D8\u4F4D\u4E2D\u6709\u65E0\u6CD5\u5904\u7406\u7684ASCII\u5B57\u7B26\u7801 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5FC5\u987B\u5728 In \u4E2D\u5B58\u50A8\u9AD8\u4F4D8\u4F4D\u548C\u4F4E\u4F4D8\u4F4D\u662F0\uFF5E9\u7684ASCII\u7801\uFF0830H\uFF5E39H\uFF09\uFF0C\u6216\u8005\u662FA\uFF5EF\uFF0841H\uFF5E46H\uFF09\uFF0C\u4EE5\u53CA\u9AD8\u4F4D8\u4F4D\u662FNULL\uFF0800H\uFF09\u3001\u4F4E\u4F4D8\u4F4D\u662F0\uFF5E9\uFF0830H\uFF5E39H\uFF09\u6216A\uFF5EF\uFF0841H\uFF5E46H\uFF09\u7684\u503C\uFF08ASCII\u7801\uFF09\u3002 AsciiToString \u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 AsciiToString \u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u7801\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := AsciiToString(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN UINT 0 \u8F6C\u6362\u5BF9\u8C61ASCII\u7801 Result RETURN STRING[2] - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6700\u59272\u5B57\u8282\u7684ASCII\u7801\u6570\u636E\uFF0C\u8F6C\u6362\u4E3A\u9644\u52A0\u4E86\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u7684 \u5B57\u7B26\u4E32\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u2022 1\u5B57\u8282\u8F6C\u6362 \u8BF7\u5728\u4F4E\u4F4D\u5B57\u8282\u5B58\u50A8ASCII\u7801\uFF0C\u5728\u9AD8\u4F4D\u5B57\u8282\u5B58\u50A80\u3002 \u2022 2\u5B57\u8282\u8F6C\u6362 \u8BF7\u6309\u9AD8\u4F4D\u5B57\u8282\u2192\u4F4E\u4F4D\u5B57\u8282\u7684\u987A\u5E8F\u5B58\u50A8ASCII\u7801\u3002 \u00A0 \u8F6C\u6362\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u8F6C\u6362\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 NumToDecString BIN\u6570\u636E\u2192\u5341\u8FDB\u5236\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 NumToDecString BIN\u6570\u636E\u2192\u5341\u8FDB\u5236\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := NumToDecString(In, ZeroSuppress, PlusSignOmission); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8F6C\u6362\u5BF9\u8C61BIN\u6570\u636E ZeroSuppress IN BOOL TRUE \u6D88\u96F6\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 PlusSignOmission IN BOOL TRUE \u7701\u7565\uFF0B\u53F7\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 Result RETURN STRING[11] - \u8F6C\u6362\u7ED3\u679C\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236ASCII\u5B57\u7B26\u4E32\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5728\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5B58\u50A8NULL\uFF0800H\uFF09\u3002 ZeroSuppress \u7F6E\u4E8ETRUE\u65F6\uFF0C\u6267\u884C\u6D88\u96F6\u3002 \u7F6E\u4E8EFALSE\u65F6\uFF0C\u5728\u9AD8\u4F4D\u7684\u4F4D\u4E2D\u586B\u51990\u3002 PlusSignOmission \u7F6E\u4E8ETRUE\u65F6\uFF0C\u7701\u7565\uFF0B\u53F7\u3002\u4F46\u662F\uFF0C\u5982\u679C In \u662FUINT/UDINT\u578B\uFF0C\u5219\u65E0\u8BBA\u8BE5\u81EA\u53D8\u91CF\u7684\u503C\u5982\u4F55\uFF0C\u90FD\u59CB\u7EC8\u7701\u7565\uFF0B\u53F7\u3002 \u00A0 \u8F6C\u6362\u793A\u4F8B\u5982\u4E0B\u3002 In\u7684\u6570\u636E\u7C7B\u578B In\u7684\u503C \u6D88\u96F6 ZeroSuppress \u7701\u7565\uFF0B\u53F7 PlusSignOmission Result\u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32 UINT 123 FALSE \uFF08\u59CB\u7EC8\u7701\u7565\uFF09 \u002700123\u0027 TRUE \uFF08\u59CB\u7EC8\u7701\u7565\uFF09 \u0027123\u0027 INT 123 FALSE FALSE \u0027\u002B00123\u0027 TRUE \u002700123\u0027 TRUE FALSE \u0027\u002B123\u0027 TRUE \u0027123\u0027 UDINT 123 FALSE \uFF08\u59CB\u7EC8\u7701\u7565\uFF09 \u00270000000123\u0027 TRUE \uFF08\u59CB\u7EC8\u7701\u7565\uFF09 \u0027123\u0027 DINT 123 FALSE FALSE^ \u0027\u002B0000000123\u0027 TRUE \u00270000000123\u0027 TRUE FALSE \u0027\u002B123\u0027 TRUE \u0027123\u0027 \u00A0 \u8F6C\u6362\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u8F6C\u6362\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u521B\u5EFA\u65F6\u95F4\u6233 DecStringToNum \u5341\u8FDB\u5236\u5B57\u7B26\u4E32\u2192BIN\u6570\u636E\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DecStringToNum \u5341\u8FDB\u5236\u5B57\u7B26\u4E32\u2192BIN\u6570\u636E\u8F6C\u6362 FUN \u00A0 Result := DecStringToNum(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[11] \u0027\u0027 \u8F6C\u6362\u5BF9\u8C61\u5341\u8FDB\u5236\u5B57\u7B26\u4E32 Result RETURN DINT - \u8F6C\u6362\u7ED3\u679CBIN\u6570\u636E \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u5341\u8FDB\u5236ASCII\u5B57\u7B26\u4E32\uFF08\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5FC5\u987B\u662FNULL\uFF0800H\uFF09\uFF09\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5DF2\u6D88\u96F6\u6570\u636E\u548C\u672A\u6D88\u96F6\u6570\u636E\u90FD\u4F1A\u88AB\u6B63\u786E\u8F6C\u6362\u3002\u5982\u679C In \u7684\u524D\u9762\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\uFF0C\u5219\u4F1A\u5728\u8F6C\u6362\u65F6\u5FFD\u7565\u7A7A\u683C\u3002 \u65E0\u7B26\u53F7\u7684ASCII\u5B57\u7B26\u4E32\u4F1A\u88AB\u8BC6\u522B\u4E3A\u7701\u7565\u4E86\uFF0B\u53F7\uFF082BH\uFF09\u7684\u6570\u636E\u3002 In \u662FNULL\uFF0800H\uFF09\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5728 Result \u4E2D\u5B58\u50A80\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u4E2D\u6709\u4E0D\u6B63\u786E\u7684\u5B57\u7B26\u65F6 \u2022 \u8F6C\u6362\u540E\u7684\u503C\u8D85\u51FA32\u4F4D\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF NumToHexString BIN\u6570\u636E\u2192\u5341\u516D\u8FDB\u5236\u5B57\u7B26\u7801\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 NumToHexString BIN\u6570\u636E\u2192\u5341\u516D\u8FDB\u5236\u5B57\u7B26\u7801\u8F6C\u6362 FUN \u00A0 Result := NumToHexString(In, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8F6C\u6362\u5BF9\u8C61BIN\u6570\u636E Count IN UINT 0 \u8F6C\u6362\u4F4D\u6570\uFF080\uFF5E8\uFF09 Result RETURN STRING[8] - \u8F6C\u6362\u7ED3\u679C\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u8F6C\u6362\u4E3A\u5341\u516D\u8FDB\u5236\u5F62\u5F0F\u7684ASCII\u5B57\u7B26\u4E32\uFF0C\u5E76\u6309\u6307\u5B9A\u7684 Count \u91CF\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5728\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5B58\u50A8NULL\uFF0800H\uFF09\u3002 Count \uFF1D0\u65F6\uFF0C\u4F1A\u5C06 In \u7684\u6570\u636E\u5168\u90E8\u6D88\u96F6\u540E\u6267\u884C\u8F6C\u6362\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 Count \u6307\u5B9A\u7684\u503C\u5927\u4E8E\u7B49\u4E8E9\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8F6C\u6362\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u8F6C\u6362\u7ED3\u679C\u672B\u5C3E\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 HexStringToNum \u5341\u516D\u8FDB\u5236\u5B57\u7B26\u4E32\u2192BIN\u6570\u636E\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 HexStringToNum \u5341\u516D\u8FDB\u5236\u5B57\u7B26\u4E32\u2192BIN\u6570\u636E\u8F6C\u6362 FUN \u00A0 Result := HexStringToNum(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[8] \u0027\u0027 \u8F6C\u6362\u5BF9\u8C61\u5341\u516D\u8FDB\u5236\u5B57\u7B26\u4E32 Result RETURN UDINT - \u8F6C\u6362\u7ED3\u679CBIN\u6570\u636E \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u5341\u516D\u8FDB\u5236ASCII\u5B57\u7B26\u4E32\uFF08\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5FC5\u987B\u662FNULL\uFF0800H\uFF09\uFF09\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5DF2\u6D88\u96F6\u6570\u636E\u548C\u672A\u6D88\u96F6\u6570\u636E\u90FD\u4F1A\u88AB\u6B63\u786E\u8F6C\u6362\u3002 \u5982\u679C In \u7684\u524D\u9762\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\uFF0C\u5219\u4F1A\u5728\u8F6C\u6362\u65F6\u5FFD\u7565\u7A7A\u683C\u3002 In \u662FNULL\uFF0800H\uFF09\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5728 Result \u4E2D\u5B58\u50A80\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u4E2D\u6709\u4E0D\u6B63\u786E\u7684\u5B57\u7B26\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF RealToString \u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RealToString \u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := RealToString(In, Format, FullCount, SubDecCount, ZeroSuppress, PlusSignOmission); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN REAL 0 \u8F6C\u6362\u5BF9\u8C61\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E Format IN UINT 0 \u6307\u5B9A\u663E\u793A\u683C\u5F0F\uFF080\uFF1A\u5C0F\u6570\u70B9\u683C\u5F0F\u30011\uFF1A\u6307\u6570\u683C\u5F0F\uFF09\u3002 FullCount IN UINT 13 \u603B\u4F4D\u6570\uFF081\uFF5E24\uFF09 SubDecCount IN UINT 5 \u5C0F\u6570\u4F4D\u6570\uFF080\uFF5E7\uFF09 ZeroSuppress IN BOOL TRUE \u6D88\u96F6\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 PlusSignOmission IN BOOL TRUE \u7701\u7565\uFF0B\u53F7\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 Result RETURN STRING[24] - \u8F6C\u6362\u7ED3\u679C\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5728\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5B58\u50A8NULL\uFF0800H\uFF09\u3002\u6309\u7167\u4E0B\u8FF0\u8F6C\u6362\u53C2\u6570\u8F6C\u6362\u5B57\u7B26\u4E32\u3002 Format \u503C\u662F0\u65F6\uFF0C\u8F6C\u6362\u4E3A\u5C0F\u6570\u70B9\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\u3002\u503C\u662F1\u65F6\uFF0C\u8F6C\u6362\u4E3A\u6307\u6570\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\u3002 FullCount \u57281\uFF5E24\u4F4D\u8303\u56F4\u5185\u6307\u5B9A\u603B\u4F4D\u6570\u3002 SubDecCount \u57280\uFF5E7\u4F4D\u8303\u56F4\u5185\u6307\u5B9A\u5C0F\u6570\u4F4D\u6570\u3002 ZeroSuppress \u7F6E\u4E8ETRUE\u65F6\uFF0C\u6267\u884C\u6D88\u96F6\u3002 PlusSignOmission \u7F6E\u4E8ETRUE\u65F6\uFF0C\u7701\u7565\uFF0B\u53F7\u3002 \u00A0 In \u7684\u503C\u662F23.46\u65F6\u7684\u793A\u4F8B\u5982\u4E0B\u3002 \u603B\u4F4D\u6570 FullCount \u5C0F\u6570\u4F4D\u6570 SubDecCount \u6D88\u96F6 ZeroSuppress \u7701\u7565\uFF0B\u53F7 PlusSignOmission Result\u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32 \u5C0F\u6570\u70B9\u683C\u5F0F\uFF08Format\uFF1D0\uFF09 Result\u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32 \u6307\u6570\u683C\u5F0F\uFF08Format\uFF1D1\uFF09 9 1 FALSE FALSE \u0027\u002B000023.5\u0027 \u0027\u002B02.3E\u002B01\u0027 TRUE \u00270000023.5\u0027 \u0027002.3E\u002B01\u0027 TRUE FALSE \u0027\u002B23.5\u0027 \u0027\u002B2.3E\u002B01\u0027 TRUE \u002723.5\u0027 \u00272.3E\u002B01\u0027 2 FALSE FALSE \u0027\u002B00023.46\u0027 \u0027\u002B2.35E\u002B01\u0027 TRUE \u0027000023.46\u0027 \u002702.35E\u002B01\u0027 TRUE FALSE \u0027\u002B23.46\u0027 \u0027\u002B2.35E\u002B01\u0027 TRUE \u002723.46\u0027 \u00272.35E\u002B01\u0027 3 FALSE FALSE \u0027\u002B0023.460\u0027 \u9519\u8BEF *\uFF08\u0027\u002B2.346E\u002B01\u0027\uFF09 TRUE \u002700023.460\u0027 \u00272.346E\u002B01\u0027 TRUE FALSE \u0027\u002B23.460\u0027 \u9519\u8BEF *\uFF08\u0027\u002B2.346E\u002B01\u0027\uFF09 TRUE \u002723.460\u0027 \u00272.346E\u002B01\u0027 * : \u603B\u4F4D\u6570\u662F10\u4F4D\uFF0C\u6240\u4EE5\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 In \u7684\u503C\u7684\u5C0F\u6570\u90E8\u5206\u6BD4 SubDecCount \u4E2D\u6307\u5B9A\u7684\u4F4D\u6570\u5C11\u65F6\uFF0C\u4F1A\u7528\u96F6\u586B\u8865\u4F4E\u4F4D\u7684\u4F4D\u3002 In \u7684\u503C\u7684\u5C0F\u6570\u90E8\u5206\u6BD4 SubDecCount \u4E2D\u6307\u5B9A\u7684\u4F4D\u6570\u591A\u65F6\uFF0C\u4F1A\u56DB\u820D\u4E94\u5165\u540E\u9762\u7684\u4F4D\u3002 SubDecCount \u662F\u96F6\u65F6\uFF0C\u4E0D\u8F93\u51FA\u5C0F\u6570\u70B9\u0027.\u0027\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u4F4D\u6570\u8D85\u8FC7\u603B\u4F4D\u6570\u65F6 \u2022 \u603B\u4F4D\u6570\u3001\u5C0F\u6570\u4F4D\u6570\u672A\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\u65F6 \u00A0 \u5C0F\u6570\u70B9\u683C\u5F0F \u6307\u6570\u683C\u5F0F \u5C0F\u6570\u4F4D\u6570\uFF1D0 1\u2264\u603B\u4F4D\u6570\u226424 5\u2264\u603B\u4F4D\u6570\u226424 0\uFF1C\u5C0F\u6570\u4F4D\u6570\u22647 \u5C0F\u6570\u4F4D\u6570\uFF0B2\u2264\u603B\u4F4D\u6570\u226424 \u5C0F\u6570\u4F4D\u6570\uFF0B6\u2264\u603B\u4F4D\u6570\u226424 \u2022 In \u7684\u503C\u662F\u975E\u6570\u6216\u00B1\u65E0\u7A77\u5927\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8F6C\u6362\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u8F6C\u6362\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 StringToReal \u5B57\u7B26\u4E32\u2192\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringToReal \u5B57\u7B26\u4E32\u2192\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u8F6C\u6362 FUN \u00A0 Result := StringToReal(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[24] \u0027\u0027 \u8F6C\u6362\u5BF9\u8C61\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5B57\u7B26\u4E32 Result RETURN REAL - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B57\u7B26\u4E32\uFF08\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5FC5\u987B\u662FNULL\uFF0800H\uFF09\uFF09\u8F6C\u6362\u4E3A\u5355\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C In \u7684\u524D\u9762\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\uFF0C\u5219\u4F1A\u5728\u8F6C\u6362\u65F6\u5FFD\u7565\u7A7A\u683C\u3002 In \u662FNULL\uFF0800H\uFF09\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5728 Result \u4E2D\u5B58\u50A80.0\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u8F6C\u6362\u540E\u7684\u503C\u8D85\u51FAREAL\u578B\u7684\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5B57\u7B26\u4E32\u683C\u5F0F\u987B\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\uFF1A\u5B57\u7B26\u4E32\u5185\u53EF\u4F7F\u7528\u7684\u5B57\u7B26\u4EC5\u9650\u4E8E \u002B\uFF082BH\uFF09\u3001-\uFF082DH\uFF09\u3001E\uFF0845H\uFF09\u3001e\uFF0865H\uFF09\u3001.\uFF082EH\uFF09\u30010\uFF0830H\uFF09\uFF5E9\uFF0839H\uFF09\u3002 \u2022 \u5C0F\u6570\u70B9.\uFF082EH\uFF09\u7684\u5DE6\u4FA7\u6216\u53F3\u4FA7\u5FC5\u987B\u67090\uFF0830H\uFF09\uFF5E9\uFF0839H\uFF09\u3002 \u2022 \u5B57\u7B26\u4E32\u5FC5\u987B\u5177\u6709\u4EE5\u4E0B\u683C\u5F0F\uFF1A \u2012 \u5C0F\u6570\u70B9\u683C\u5F0F \u00B1\u3007\u3007.\u3007\u3007\u3007\u3007\u2026\u2026\uFF08NULL\uFF09 \u00B1\uFF1A\u7B26\u53F7\u3002\u53EF\u4EE5\u7701\u7565\u3002 \u3007\uFF1A\u6570\u503C\u30020\uFF5E9\u7684\u5B57\u7B26\uFF0C\u6709\u6548\u4F4D\u6570\u7EA6\u662F7\u4F4D\u3002 \u2012 \u6307\u6570\u683C\u5F0F \u00B1\u3007\u3007.\u3007\u3007\u3007\u3007\u2026\u2026E\u00B1***\uFF08NULL\uFF09 \u00B1\uFF1A\u7B26\u53F7\u3002\u53EF\u4EE5\u7701\u7565\u3002 \u3007\uFF1A\u5C3E\u6570\u30020\uFF5E9\u7684\u5B57\u7B26\uFF0C\u6709\u6548\u4F4D\u6570\u7EA6\u662F7\u4F4D\u3002 *\uFF1A\u6307\u6570\u30020\uFF5E9\u7684\u5B57\u7B26\uFF0C\u6709\u6548\u4F4D\u6570\u662F1\uFF5E3\u4F4D\u3002 \u2022 \u5982\u679C\u5BF9 In \u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u4E8624\u4E2A\u5B57\u7B26\uFF0C\u5219\u8F6C\u6362\u5BF9\u8C61\u53EA\u4F1A\u662F\u4ECE\u5F00\u5934\u5F00\u59CB\u768424\u4E2A\u5B57\u7B26\u3002 LrealToString \u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LrealToString \u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := LrealToString(In, Format, FullCount, SubDecCount, ZeroSuppress, PlusSignOmission); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN LREAL 0 \u8F6C\u6362\u5BF9\u8C61\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E Format IN UINT 0 \u6307\u5B9A\u663E\u793A\u683C\u5F0F\uFF080\uFF1A\u5C0F\u6570\u70B9\u683C\u5F0F\u30011\uFF1A\u6307\u6570\u683C\u5F0F\uFF09\u3002 FullCount IN UINT 14 \u603B\u4F4D\u6570\uFF081\uFF5E24\uFF09 SubDecCount IN UINT 6 \u5C0F\u6570\u4F4D\u6570\uFF080\uFF5E15\uFF09 ZeroSuppress IN BOOL TRUE \u6D88\u96F6\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 PlusSignOmission IN BOOL TRUE \u7701\u7565\uFF0B\u53F7\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 Result RETURN STRING[24] - \u8F6C\u6362\u7ED3\u679C\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5728\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5B58\u50A8NULL\uFF0800H\uFF09\u3002\u6309\u7167\u4E0B\u8FF0\u8F6C\u6362\u53C2\u6570\u8F6C\u6362\u5B57\u7B26\u4E32\u3002 Format \u503C\u662F0\u65F6\uFF0C\u8F6C\u6362\u4E3A\u5C0F\u6570\u70B9\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\u3002\u503C\u662F1\u65F6\uFF0C\u8F6C\u6362\u4E3A\u6307\u6570\u683C\u5F0F\u7684\u5B57\u7B26\u4E32\u3002 FullCount \u57281\uFF5E24\u4F4D\u8303\u56F4\u5185\u6307\u5B9A\u603B\u4F4D\u6570\u3002 SubDecCount \u57280\uFF5E15\u4F4D\u8303\u56F4\u5185\u6307\u5B9A\u5C0F\u6570\u4F4D\u6570\u3002 ZeroSuppress \u7F6E\u4E8ETRUE\u65F6\uFF0C\u6267\u884C\u6D88\u96F6\u3002 PlusSignOmission \u7F6E\u4E8ETRUE\u65F6\uFF0C\u7701\u7565\uFF0B\u53F7\u3002 \u00A0 In \u7684\u503C\u662F23.46\u65F6\u7684\u793A\u4F8B\u5982\u4E0B\u3002 \u603B\u4F4D\u6570 FullCount \u5C0F\u6570\u4F4D\u6570 SubDecCount \u6D88\u96F6 ZeroSuppress \u7701\u7565\uFF0B\u53F7 PlusSignOmission Result\u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32 \u5C0F\u6570\u70B9\u683C\u5F0F\uFF08Format\uFF1D0\uFF09 Result\u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32 \u6307\u6570\u683C\u5F0F\uFF08Format\uFF1D1\uFF09 10 1 FALSE FALSE \u0027\u002B0000023.5\u0027 \u0027\u002B02.3E\u002B001\u0027 TRUE \u002700000023.5\u0027 \u0027002.3E\u002B001\u0027 TRUE FALSE \u0027\u002B23.5\u0027 \u0027\u002B2.3E\u002B001\u0027 TRUE \u002723.5\u0027 \u00272.3E\u002B001\u0027 2 FALSE FALSE \u0027\u002B000023.46\u0027 \u0027\u002B2.35E\u002B001\u0027 TRUE \u00270000023.46\u0027 \u002702.35E\u002B001\u0027 TRUE FALSE \u0027\u002B23.46\u0027 \u0027\u002B2.35E\u002B001\u0027 TRUE \u002723.46\u0027 \u00272.35E\u002B001\u0027 3 FALSE FALSE^ \u0027\u002B0023.460\u0027 \u9519\u8BEF *\uFF08\u0027\u002B2.346E\u002B001\u0027\uFF09 TRUE \u002700023.460\u0027 \u00272.346E\u002B001\u0027 TRUE FALSE \u0027\u002B23.460\u0027 \u9519\u8BEF *\uFF08\u0027\u002B2.346E\u002B001\u0027\uFF09 TRUE \u002723.460\u0027 \u00272.346E\u002B001\u0027 * : \u603B\u4F4D\u6570\u662F11\u4F4D\uFF0C\u6240\u4EE5\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 In \u7684\u503C\u7684\u5C0F\u6570\u90E8\u5206\u6BD4 SubDecCount \u4E2D\u6307\u5B9A\u7684\u4F4D\u6570\u5C11\u65F6\uFF0C\u4F1A\u7528\u96F6\u586B\u8865\u4F4E\u4F4D\u7684\u4F4D\u3002 In \u7684\u503C\u7684\u5C0F\u6570\u90E8\u5206\u6BD4 SubDecCount \u4E2D\u6307\u5B9A\u7684\u4F4D\u6570\u591A\u65F6\uFF0C\u4F1A\u56DB\u820D\u4E94\u5165\u540E\u9762\u7684\u4F4D\u3002 SubDecCount \u662F\u96F6\u65F6\uFF0C\u4E0D\u8F93\u51FA\u5C0F\u6570\u70B9\u0027.\u0027\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u4F4D\u6570\u8D85\u8FC7\u603B\u6570\u4F4D\u6570\u65F6 \u2022 \u603B\u6570\u4F4D\u6570\u3001\u5C0F\u6570\u4F4D\u6570\u672A\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\u65F6 \u00A0 \u5C0F\u6570\u70B9\u683C\u5F0F \u6307\u6570\u683C\u5F0F \u5C0F\u6570\u4F4D\u6570\uFF1D0 1\u2264\u603B\u4F4D\u6570\u226424 6\u2264\u603B\u4F4D\u6570\u226424 0\uFF1C\u5C0F\u6570\u4F4D\u6570\u226415 \u5C0F\u6570\u4F4D\u6570\uFF0B2\u2264\u603B\u4F4D\u6570\u226424 \u5C0F\u6570\u4F4D\u6570\uFF0B7\u2264\u603B\u4F4D\u6570\u226424 \u2022 In \u7684\u503C\u662F\u975E\u6570\u6216\u00B1\u65E0\u7A77\u5927\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8F6C\u6362\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u8F6C\u6362\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 StringToLreal \u5B57\u7B26\u4E32\u2192\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringToLreal \u5B57\u7B26\u4E32\u2192\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u8F6C\u6362 FUN \u00A0 Result := StringToLreal(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[24] \u0027\u0027 \u8F6C\u6362\u5BF9\u8C61\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u5B57\u7B26\u4E32 Result RETURN LREAL - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B57\u7B26\u4E32\uFF08\u5B57\u7B26\u4E32\u7684\u6700\u540E\u5FC5\u987B\u662FNULL\uFF0800H\uFF09\uFF09\u8F6C\u6362\u4E3A\u53CC\u7CBE\u5EA6\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C In \u7684\u524D\u9762\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\uFF0C\u5219\u4F1A\u5728\u8F6C\u6362\u65F6\u5FFD\u7565\u7A7A\u683C\u3002 In \u662FNULL\uFF0800H\uFF09\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u800C\u662F\u5728 Result \u4E2D\u5B58\u50A80.0\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u8F6C\u6362\u540E\u7684\u503C\u8D85\u51FALREAL\u578B\u7684\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5B57\u7B26\u4E32\u683C\u5F0F\u987B\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\uFF1A\u5B57\u7B26\u4E32\u5185\u53EF\u4F7F\u7528\u7684\u5B57\u7B26\u4EC5\u9650\u4E8E \u002B\uFF082BH\uFF09\u3001-\uFF082DH\uFF09\u3001E\uFF0845H\uFF09\u3001e\uFF0865H\uFF09\u3001.\uFF082EH\uFF09\u30010\uFF0830H\uFF09\uFF5E9\uFF0839H\uFF09\u3002 \u2022 \u5C0F\u6570\u70B9.\uFF082EH\uFF09\u7684\u5DE6\u4FA7\u6216\u53F3\u4FA7\u5FC5\u987B\u67090\uFF0830H\uFF09\uFF5E9\uFF0839H\uFF09\u3002 \u2022 \u5B57\u7B26\u4E32\u5FC5\u987B\u7B26\u5408\u53D1\u4E0B\u683C\u5F0F\uFF1A \u2012 \u5C0F\u6570\u70B9\u683C\u5F0F \u00B1\u3007\u3007.\u3007\u3007\u3007\u3007\u2026\u2026\uFF08NULL\uFF09 \u00B1\uFF1A\u7B26\u53F7\u3002\u53EF\u4EE5\u7701\u7565\u3002 \u3007\uFF1A\u6570\u503C\u30020\uFF5E9\u7684\u5B57\u7B26\uFF0C\u6709\u6548\u4F4D\u6570\u7EA6\u662F16\u4F4D\u3002 \u2012 \u6307\u6570\u683C\u5F0F \u00B1\u3007\u3007.\u3007\u3007\u3007\u3007\u2026\u2026E\u00B1***\uFF08NULL\uFF09 \u00B1\uFF1A\u7B26\u53F7\u3002\u53EF\u4EE5\u7701\u7565\u3002 \u3007\uFF1A\u5C3E\u6570\u30020\uFF5E9\u7684\u5B57\u7B26\uFF0C\u6709\u6548\u4F4D\u6570\u7EA6\u662F16\u4F4D\u3002 *\uFF1A\u6307\u6570\u30020\uFF5E9\u7684\u5B57\u7B26\uFF0C\u6709\u6548\u4F4D\u6570\u662F1\uFF5E3\u4F4D\u3002 \u2022 \u5982\u679C\u5BF9 In \u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u4E8624\u4E2A\u5B57\u7B26\uFF0C\u5219\u8F6C\u6362\u5BF9\u8C61\u53EA\u4F1A\u662F\u4ECE\u5F00\u5934\u5F00\u59CB\u768424\u4E2A\u5B57\u7B26\u3002 VariableToString \u53D8\u91CF\u503C\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 VariableToString \u53D8\u91CF\u503C\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 VariableToString(Count, Param, Variable, StrBuf, Length, CountRes); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Count IN UDINT 1 \u8F6C\u6362\u8981\u7D20\u6570\u91CF Param IN _VARIABLE_TO_STRING_PARAM - \u53C2\u6570 Variable IN - - \u8F6C\u6362\u6E90\u53D8\u91CF\u8D77\u59CB StrBuf IN-OUT STRING[*] - \u751F\u6210\u5B57\u7B26\u4E32 Length OUT UINT - \u751F\u6210\u5B57\u7B26\u4E32\u5B57\u8282\u6570 CountRes OUT UDINT - \u751F\u6210\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u6839\u636E Variable \u7684\u6570\u636E\u7C7B\u578B\u548C\u7528 Param \u6307\u5B9A\u7684\u53C2\u6570\uFF0C\u5C06 Variable \u4E2D\u5B58\u50A8\u7684\u503C\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u901A\u8FC7\u5B9A\u754C\u7B26\u5206\u9694\u5B58\u50A8\u5230 StrBuf \u4E2D\u3002 \u2022 \u5BF9 Variable \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u4EE5\u5916\u7684\u503C\u65F6 \u901A\u8FC7\u5B9A\u754C\u7B26\u5206\u9694\u5C06\u4ECE\u5F00\u5934\u5F00\u59CB\u7684 Count \u8981\u7D20\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 \u5982\u679C\u6307\u5B9A\u4E86\u6570\u7EC4\u578B\u53D8\u91CF\u4EE5\u5916\u7684\u503C\uFF0C\u8BF7\u59CB\u7EC8\u5BF9 Count \u6307\u5B9A1\u3002 \u2022 \u5BF9 Variable \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u65F6 \u7528\u5B9A\u754C\u7B26\u5206\u9694\u7ED3\u6784\u4F53\u7684\u6BCF\u4E2A\u6210\u5458\uFF0C\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\u3002 \u5982\u679C\u6210\u5458\u4E2D\u542B\u6709\u7ED3\u6784\u4F53\uFF0C\u5219\u4F1A\u4ECE\u672B\u7AEF\u6210\u5458\u7684\u5F00\u5934\u5F00\u59CB\u6309\u5E8F\u8F6C\u6362\u5B57\u7B26\u4E32\u3002 \u5C06\u6574\u4E2A\u7ED3\u6784\u4F53\u89C6\u4E3A Count \u6307\u5B9A\u76841\u4E2A\u8981\u7D20\u3002 \u5982\u679C\u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u578B\u6570\u7EC4\u53D8\u91CF\u4EE5\u5916\u7684\u503C\uFF0C\u8BF7\u59CB\u7EC8\u5BF9 Count \u6307\u5B9A1\u3002 \u00A0 \u5C06 StrBuf \u751F\u6210\u7684\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\uFF08\u5B57\u8282\uFF09\u5B58\u50A8\u5230 Length \u4E2D\uFF0C\u751F\u6210\u7684\u8981\u7D20\u6570\u91CF\u5B58\u50A8\u5230 CountRes \u4E2D\u3002\u5BF9 Count \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u5728 StrBuf \u4E2D\u5B58\u50A8NULL\uFF0800H\uFF09\u3002 _VARIABLE_TO_STRING_PARAM\u7ED3\u6784\u4F53 \u6210\u5458\u540D \u6570\u636E\u7C7B\u578B \u5185\u5BB9 Delimiter UINT \u5B9A\u754C\u7B26\u6307\u5B9A 0\uFF1A\u9017\u53F7\u30011\uFF1A\u6807\u53F7\u30012\uFF1A\u5206\u53F7 CrLfCount UINT \u6362\u884C\u8981\u7D20\u6570 0\uFF1A\u4E2D\u9014\u4E0D\u6539\u884C 1\uFF5E\uFF1A\u6309\u6307\u5B9A\u7684\u8981\u7D20\u6570\u63D2\u5165\u6539\u884CCR\u002BLF\uFF080x0D0A\uFF09 EndStr UINT \u672B\u5C3E\u5B57\u7B26 0\uFF1A\u672B\u5C3E\u4E0D\u505A\u6DFB\u52A0 1\uFF1A\u5728\u672B\u5C3E\u6DFB\u52A0\u5B9A\u754C\u7B26 2\uFF1A\u5728\u672B\u5C3E\u6DFB\u52A0\u6539\u884CCR\u002BLF\uFF080x0D0A\uFF09 FixedDigit BOOL \u8F93\u51FA\u56FA\u5B9A\u4F4D FALSE\uFF1A\u6309\u4F4D\u6570\u53EF\u53D8\u8F93\u51FA TRUE\uFF1A\u6309\u56FA\u5B9A\u4F4D\u6570\u5206\u522B\u8F93\u51FA\u5404\u6570\u636E\u7C7B\u578B Hex BOOL HEX\u683C\u5F0F\uFF08\u4EC5\u9650UINT/UDINT\u578B\uFF09 FALSE\uFF1A\u5341\u8FDB\u5236\u683C\u5F0F TRUE\uFF1A\u5341\u516D\u8FDB\u5236\u683C\u5F0F \u258C FixedDigit\uFF1DTRUE\u65F6\u7684\u4F4D\u6570 \u6309\u4E0B\u8FF0\u56FA\u5B9A\u4F4D\u6570\u5206\u522B\u8F93\u51FA\u5404\u6570\u636E\u7C7B\u578B\u3002 \u5982\u679C\u8F6C\u6362\u540E\u7684\u5B57\u7B26\u957F\u5EA6\u5C0F\u4E8E\u4E0B\u8FF0\u56FA\u5B9A\u4F4D\u6570\uFF0C\u5219\u4F1A\u5BF9STRING\u578B\u4EE5\u5916\u7684\u7C7B\u578B\u586B\u88650\uFF0C\u5BF9STRING\u578B\u586B\u8865\u534A\u89D2\u7A7A\u683C\u3002 BOOL UINT \uFF08\u5341\u8FDB\u5236\u683C\u5F0F\uFF09 UINT \uFF08\u5341\u516D\u8FDB\u5236\u683C\u5F0F\uFF09 INT UDINT \uFF08\u5341\u8FDB\u5236\u683C\u5F0F\uFF09 UDINT \uFF08\u5341\u516D\u8FDB\u5236\u683C\u5F0F\uFF09 DINT REAL LREAL STRING TIME 1 5 4 6 10 8 11 12 14 \u5B9A\u4E49\u7684\u5B57\u7B26\u5927\u5C0F 32 \u258C \u5404\u6570\u636E\u7C7B\u578B\u7684\u751F\u6210\u5B57\u7B26\u4E32 \u6570\u636E\u7C7B\u578B \u751F\u6210\u5B57\u7B26\u4E32\u7684\u793A\u4F8B\uFF08FixedDigit = FALSE\uFF09 \u751F\u6210\u5B57\u7B26\u4E32\u7684\u793A\u4F8B\uFF08FixedDigit = TRUE\uFF09 BOOL \u00270\u0027\u00A0/ \u00271\u0027 \u00270\u0027\u00A0/ \u00271\u0027 UINT \u5341\u8FDB\u5236\u683C\u5F0F\uFF1A\u0027123\u2019 \u5341\u516D\u8FDB\u5236\u683C\u5F0F\uFF1A\u00274D2\u0027 \u5341\u8FDB\u5236\u683C\u5F0F\uFF1A\u002700123\u2019 \u5341\u516D\u8FDB\u5236\u683C\u5F0F\uFF1A\u002704D2\u0027 UDINT \u5341\u8FDB\u5236\u683C\u5F0F\uFF1A\u00271234567\u2019 \u5341\u516D\u8FDB\u5236\u683C\u5F0F\uFF1A\u002712D687\u0027 \u5341\u8FDB\u5236\u683C\u5F0F\uFF1A\u00270001234567\u2019 \u5341\u516D\u8FDB\u5236\u683C\u5F0F\uFF1A\u00270012D687\u0027 INT \u0027-123\u0027 \u0027-00123\u0027 DINT \u0027-1234567\u0027 \u0027-0001234567\u0027 REAL \u00271.23457E\u002B03\u0027 \uFF08\u6307\u6570\u683C\u5F0F\u3001\u5C0F\u65705\u4F4D\uFF09 \u0027\u002B1.23457E\u002B03\u0027 \uFF08\u4E0D\u7701\u7565\u002B\u53F7\u3001\u6307\u6570\u683C\u5F0F\u3001\u5C0F\u65705\u4F4D\uFF09 LREAL \u00271.234567E\u002B003\u0027 \uFF08\u6307\u6570\u683C\u5F0F\u3001\u5C0F\u65706\u4F4D\uFF09 \u0027\u002B1.234567E\u002B003\u0027 \uFF08\u4E0D\u7701\u7565\u002B\u53F7\u3001\u6307\u6570\u683C\u5F0F\u3001\u5C0F\u65706\u4F4D\uFF09 STRING \u0027ABCDE\u0027 \uFF08\u672B\u5C3E\u65E0NULL\uFF09 \u0027 \u00A0\u00A0\u00A0\u00A0ABCDE\u0027 \uFF08\u672B\u5C3E\u65E0NULL\uFF0C\u4E0D\u8DB3\u6700\u5927\u5B57\u7B26\u957F\u5EA6\u7684\u90E8\u5206\u4ECE\u5DE6\u4FA7\u5F00\u59CB\u7528\u534A\u89D2\u7A7A\u683C\u586B\u8865\uFF09 TIME \u002710d2h3m20s123ms456us789ns\u0027 \u0027\u002B000010d02h03m20s123ms456us789ns\u0027 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 StrBuf \u4E2D\u672A\u5B58\u50A8\u4EFB\u4F551\u4E2A\u8981\u7D20\u7684\u5B57\u7B26\u4E32 \u2022 \u5BF9 Param \u7684\u5404\u6210\u5458\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C \u2022 Variable \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 \u5728 Variable \u4E2D\u6307\u5B9A\u4E86REAL\u578B\u6216LREAL\u578B\uFF0C\u503C\u662F\u975E\u6570\u6216\u00B1\u65E0\u7A77\u5927\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF StringToVariable \u5B57\u7B26\u4E32\u2192\u53D8\u91CF\u503C\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringToVariable \u5B57\u7B26\u4E32\u2192\u53D8\u91CF\u503C\u8F6C\u6362 FUN \u00A0 StringToVariable(Count, Param, StrBuf, Variable, CountRes); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Count IN UDINT 1 \u8F6C\u6362\u8981\u7D20\u6570\u91CF Param IN _STRING_TO_VARIABLE_PARAM - \u53C2\u6570 StrBuf IN STRING[*] - \u8F6C\u6362\u6E90\u5B57\u7B26\u4E32 Variable IN-OUT - - \u5B58\u50A8\u76EE\u6807\u53D8\u91CF\u8D77\u59CB CountRes OUT UDINT - \u5DF2\u8F6C\u6362\u7684\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u4ECE StrBuf \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u5F00\u5934\u5F00\u59CB\uFF0C\u6309\u6307\u5B9A\u7684\u5B9A\u754C\u7B26\u6216\u6539\u884CCR\u002BLF\uFF080x0D0A\uFF09\u5206\u9694\u6765\u8BFB\u53D6 Count \u8981\u7D20\uFF0C\u6839\u636E Variable \u7684\u6570\u636E\u7C7B\u578B\u548C\u7528 Param \u6307\u5B9A\u7684\u53C2\u6570\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\uFF0C\u5E76\u5B58\u50A8\u4EE5 Variable \u4E3A\u5F00\u5934\u7684 Count \u8981\u7D20\u3002 \u2022 \u5BF9 Variable \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u4EE5\u5916\u7684\u503C\u65F6 \u6839\u636E Variable \u7684\u6570\u636E\u7C7B\u578B\uFF0C\u5C06\u622A\u53D6\u7684\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u503C\u540E\u8FDB\u884C\u5B58\u50A8\u3002 1\u4E2A\u622A\u53D6\u7684\u5B57\u7B26\u4E32\u89C6\u4E3A1\u4E2A\u8981\u7D20\u3002 \u5982\u679C\u6307\u5B9A\u4E86\u6570\u7EC4\u578B\u53D8\u91CF\u4EE5\u5916\u7684\u503C\uFF0C\u8BF7\u59CB\u7EC8\u5BF9 Count \u6307\u5B9A1\u3002 \u2022 \u5BF9 Variable \u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u65F6 \u6839\u636E\u7ED3\u6784\u4F53\u4E2D\u5404\u6210\u5458\u7684\u6570\u636E\u7C7B\u578B\uFF0C\u5C06\u622A\u53D6\u7684\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3A\u503C\u540E\u8FDB\u884C\u5B58\u50A8\u3002 \u5982\u679C\u6210\u5458\u4E2D\u542B\u6709\u7ED3\u6784\u4F53\uFF0C\u5219\u4F1A\u4ECE\u672B\u7AEF\u6210\u5458\u7684\u5F00\u5934\u5F00\u59CB\u6309\u5E8F\u5904\u7406\u3002 \u5C06\u6574\u4E2A\u7ED3\u6784\u4F53\u89C6\u4E3A Count \u6307\u5B9A\u76841\u4E2A\u8981\u7D20\u3002 \u5982\u679C\u6307\u5B9A\u4E86\u7ED3\u6784\u4F53\u578B\u6570\u7EC4\u53D8\u91CF\u4EE5\u5916\u7684\u503C\uFF0C\u8BF7\u59CB\u7EC8\u5BF9 Count \u6307\u5B9A1\u3002 \u00A0 \u8F6C\u6362\u5904\u7406\u5B8C\u6210\u540E\uFF0C\u5B9E\u9645\u8F6C\u6362\u5E76\u5B58\u50A8\u7684\u8981\u7D20\u6570\u91CF\u4F1A\u88AB\u5B58\u50A8\u5728 CountRes \u4E2D\u3002 \u5982\u679C\u5728\u622A\u53D6 Count \u8981\u7D20\u4E4B\u524D\u5728 StrBuf \u4E2D\u53D1\u73B0\u4E86NULL\uFF0800H\uFF09\uFF0C\u5219\u4F1A\u7ACB\u5373\u7ED3\u675F\u5904\u7406\u3002 _STRING_TO_VARIABLE_PARAM\u7ED3\u6784\u4F53 \u6210\u5458\u540D \u6570\u636E\u7C7B\u578B \u5185\u5BB9 Delimiter UINT \u5B9A\u754C\u7B26\u6307\u5B9A 0\uFF1A\u9017\u53F7\u30011\uFF1A\u6807\u53F7\u30012\uFF1A\u5206\u53F7 Hex BOOL HEX\u683C\u5F0F\uFF08UINT/UDINT\u578B\uFF09 FALSE\uFF1A\u5341\u8FDB\u5236\u683C\u5F0F TRUE\uFF1A\u5341\u516D\u8FDB\u5236\u683C\u5F0F \u258C \u5404\u6570\u636E\u7C7B\u578B\u7684\u6700\u5927\u5B57\u7B26\u957F\u5EA6 \u7528\u5B9A\u754C\u7B26\u6216\u6539\u884CCR\u002BLF\uFF080x0D0A\uFF09\u5206\u9694\u622A\u53D6\u7684\u5B57\u7B26\u4E32\uFF0C\u5728\u8D85\u8FC7\u4E0B\u8FF0\u5B57\u7B26\u957F\u5EA6\u65F6\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 STRING\u578B\u4EE5\u5916\u7684\u7C7B\u578B\uFF0C\u4F1A\u5FFD\u7565\u622A\u53D6\u5B57\u7B26\u4E32\u524D\u4FA7\u7684\u534A\u89D2\u7A7A\u683C\u3002 STRING\u578B\u4F1A\u5B58\u50A8\u5B9A\u4E49\u7684\u6700\u5927\u5B57\u7B26\u957F\u5EA6\u3002 BOOL UINT/INT/UDINT/DINT REAL LREAL STRING TIME 1 11 24 24 \u5B9A\u4E49\u7684\u6700\u5927\u5B57\u7B26\u957F\u5EA6 32 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Variable \u7684\u5269\u4F59\u8981\u7D20\u6570\u91CF\uFF1C Count \u65F6 \u2022 \u5BF9 Param \u7684\u5404\u6210\u5458\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C \u2022 \u4ECE StrBuf \u622A\u53D6\u7684\u5B57\u7B26\u4E32\u65E0\u6CD5\u8F6C\u6362\u6210 Variable \u7684\u6570\u636E\u7C7B\u578B\u7684\u503C\uFF08\u8F6C\u6362\u5230\u4E2D\u9014\u7684\u503C\u88AB\u5B58\u50A8\u5230 Variable \u4E2D\uFF09 \u2022 \u4ECE StrBuf \u622A\u53D6\u7684\u5B57\u7B26\u4E32\u8D85\u51FA\u4E86 Variable \u7684\u5404\u6570\u636E\u7C7B\u578B\u7684\u6700\u5927\u5B57\u7B26\u957F\u5EA6\uFF08\u8F6C\u6362\u5230\u4E2D\u9014\u7684\u503C\u88AB\u5B58\u50A8\u5230 Variable \u4E2D\uFF09 \u2022 Variable \u4E2D\u672A\u5B58\u50A8\u4EFB\u4F551\u4E2A\u8981\u7D20\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5BF9 Count \u6307\u5B9A\u4E860\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u6307\u4EE4\u3002 \u2022 \u5728\u5B9A\u754C\u7B26\u662F\u8FDE\u7EED\u7684\u60C5\u51B5\u4E0B\uFF0C\u5982\u679C Variable \u4E0D\u662FSTRING\u578B\uFF0C\u5219\u4E0D\u5B58\u50A8\u4EFB\u4F55\u5185\u5BB9\u800C\u76F4\u63A5\u8DF3\u8FC7\u8BE5\u9879\uFF0C\u5982\u679C\u662FSTRING\u578B\uFF0C\u5219\u4F1A\u5B58\u50A8NULL\uFF0800H\uFF09\u3002\u8FD9\u79CD\u60C5\u51B5\u4E5F\u88AB\u89C6\u4E3A\u5DF2\u7ECF\u8F6C\u6362\uFF0C\u4F1A\u5BF9 CountRes \u6267\u884C\u8BA1\u6570\u3002 CipStringToString CIP\u5B57\u7B26\u4E32\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CipStringToString CIP\u5B57\u7B26\u4E32\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := CipStringToString(Src); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - CIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\u8D77\u59CB Result RETURN STRING[1999] - \u8F6C\u6362\u7ED3\u679C\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4EE5 Src \u4E3A\u5F00\u5934\u5B58\u50A8\u7684CIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\u8F6C\u6362\u4E3A\u5B57\u7B26\u4E32\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 Src \u7684\u5185\u5BB9\u5982\u4E0B\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 Src\uFF0B0\u5B57 \u5B57\u7B26\u4E32\u957F\u5EA6(1\uFF5E1999) Src\uFF0B1\u5B57\uFF5E \u5B57\u7B26\u4E32\uFF08\u6309\u4F4E\u4F4D\u5B57\u8282\u2192\u9AD8\u4F4D\u5B57\u8282\u7684\u987A\u5E8F\u5B58\u50A8\uFF09 \u00A0 \u5BF9\u5B58\u50A8\u5728 Src \uFF0B1\u5B57\uFF5E\u4E2D\u7684\u5B57\u7B26\u4E32\u7684\u3001\u7531 Src \uFF0B0\u5B57\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u7684\u6570\u636E\uFF0C\u8C03\u6362\u5176\u9AD8\u4F4D\u5B57\u8282\u548C\u4F4E\u4F4D\u5B57\u8282\uFF0C\u5E76\u5728\u6700\u540E\u6DFB\u52A0NULL\uFF0800H\uFF09\uFF0C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5F00\u5934\u5B57\u6240\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u662F0\u62162000\u4EE5\u4E0A \u2022 Src \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u91CF\u5C0F\u4E8E\u7531 Src \uFF0B0\u5B57\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u957F\u5EA6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 StringToCipString \u5B57\u7B26\u4E32\u2192CIP\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringToCipString \u5B57\u7B26\u4E32\u2192CIP\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := StringToCipString(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN STRING[1999] \u0027\u0027 \u8F6C\u6362\u524D\u7684\u5B57\u7B26\u4E32 Dst IN-OUT - - \u8F6C\u6362\u540E\u7684CIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Result RETURN UINT - \u6570\u636E\u5927\u5C0F \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u8F6C\u6362\u4E3ACIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\uFF0C\u5E76\u4EE5 Dst \u4E3A\u5F00\u5934\u5B58\u50A8\u7ED3\u679C\u3002 \u5C06 Dst \u4E2D\u5B58\u50A8\u7684CIP\u5B57\u7B26\u4E32\u578B\u6570\u636E\u7684\u5927\u5C0F\u5B58\u50A8\u5230 Result \u4E2D\u3002 Dst \u4E2D\u5B58\u50A8\u7684\u5185\u5BB9\u5982\u4E0B\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 Dst\uFF0B0\u5B57 \u5B57\u7B26\u4E32\u957F\u5EA6 Dst\uFF0B1\u5B57\uFF5E \u5B57\u7B26\u4E32\uFF08\u6309\u4F4E\u4F4D\u5B57\u8282\u2192\u9AD8\u4F4D\u5B57\u8282\u7684\u987A\u5E8F\u5B58\u50A8\uFF09 \u00A0 \u5C06 Src \u5230NULL\uFF0800H\uFF09\u4E3A\u6B62\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u5B58\u50A8\u5230 Dst \uFF0B0\u4E2D\uFF0C\u5E76\u5728 Dst \uFF0B1\u5B57\u4E4B\u540E\u8C03\u6362\u5B57\u7B26\u4E32\u7684\u9AD8\u4F4D\u5B57\u8282\u548C\u4F4E\u4F4D\u5B57\u8282\uFF0C\u7136\u540E\u6267\u884C\u5B58\u50A8\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u957F\u5EA6\u662F0 \u2022 Dst \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u91CF\u5C0F\u4E8E Src \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u957F\u5EA6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF UTF16CodeToString UTF-16\u6570\u636E\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UTF16CodeToString UTF-16\u6570\u636E\u2192\u5B57\u7B26\u4E32\u8F6C\u6362 FUN \u00A0 Result := UTF16CodeToString(Src); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UINT[*] - UTF-16\u6570\u636E Result RETURN STRING[65534] - \u8F6C\u6362\u7ED3\u679C\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u6309\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u4E2D\u8BBE\u5B9A\u7684\u5B57\u7B26\u7801\uFF0C\u8F6C\u6362\u5B58\u50A8\u5728 Src \u4E2D\u7684UTF-16\u5B57\u7B26\u7801\u7684\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u5B58\u50A8\u5728 Result \u4E2D\u3002 Src \u7684\u4E0A\u9650\u662F65534\u5B57\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u4E2D\u542B\u6709\u65E0\u6CD5\u8F6C\u6362\u7684\u5B57\u7B26\uFF08\u4E2D\u9014\u8F6C\u6362\u5B8C\u6210\u7684\u5B57\u7B26\u88AB\u5B58\u50A8\u5230 Result \u4E2D\uFF09 \u2022 Src \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u957F\u5EA6\u8D85\u8FC7\u4E8665534\u5B57 \u2022 \u5411 Result \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u957F\u5EA6\u8D85\u8FC7\u4E8665534\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF StringToUTF16Code \u5B57\u7B26\u4E32\u2192UTF-16\u6570\u636E\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringToUTF16Code \u5B57\u7B26\u4E32\u2192UTF-16\u6570\u636E\u8F6C\u6362 FUN \u00A0 StringToUTF16Code(Src,Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN STRING[65534] - \u8F93\u5165\u5B57\u7B26\u4E32 Dst IN-OUT UINT[*] - UTF-16\u6570\u636E \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u4E2D\u5B58\u50A8\u7684\u3001\u6309\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u4E2D\u8BBE\u5B9A\u7684\u5B57\u7B26\u7801\u663E\u793A\u7684\u5B57\u7B26\u4E32\uFF0C\u8F6C\u6362\u4E3AUTF-16\u5B57\u7B26\u7801\u7684\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u5B58\u50A8\u5728 Dst \u4E2D\u3002 Src \u7684\u4E0A\u9650\u662F65534\u5B57\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u4E2D\u542B\u6709\u65E0\u6CD5\u8F6C\u6362\u7684\u5B57\u7B26\uFF08\u4E2D\u9014\u8F6C\u6362\u5B8C\u6210\u7684\u5B57\u7B26\u88AB\u5B58\u50A8\u5230 Dst \u4E2D\uFF09 \u2022 \u5B58\u50A8\u7684UTF-16\u5B57\u7B26\u7801\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF0C\u8D85\u8FC7\u4E86 Dst \u4E2D\u6307\u5B9A\u7684\u6570\u7EC4\u5927\u5C0F\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF"},{"link":"./03_16_FBFUN_CharacterProcessing.html","title":"\u5B57\u7B26\u5904\u7406","body":"\u5B57\u7B26\u5904\u7406 FUN/FB \u540D\u79F0 \u6982\u8FF0 LEN \u5B57\u7B26\u4E32\u957F\u5EA6\u68C0\u6D4B \u8FD4\u56DE\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u6570\u3002 LEFT \u5B57\u7B26\u4E32\u5DE6\u622A\u53D6 \u4ECE\u5B57\u7B26\u4E32\u7684\u5DE6\u7AEF\u5F00\u59CB\u53EA\u622A\u53D6\u6307\u5B9A\u7684\u5B57\u7B26\u6570\u3002 RIGHT \u5B57\u7B26\u4E32\u53F3\u622A\u53D6 \u4ECE\u5B57\u7B26\u4E32\u7684\u53F3\u7AEF\u5F00\u59CB\u53EA\u622A\u53D6\u6307\u5B9A\u7684\u5B57\u7B26\u6570\u3002 MID \u5B57\u7B26\u4E32\u4E2D\u95F4\u622A\u53D6 \u622A\u53D6\u6307\u5B9A\u4F4D\u7F6E\u7684\u5B57\u7B26\u4E32\u3002 CONCAT \u5B57\u7B26\u4E32\u7EC4\u5408 \u6309\u6392\u5217\u987A\u5E8F\u8FDE\u63A5\u591A\u4E2A\u5B57\u7B26\u4E32\u3002 INSERT \u5B57\u7B26\u4E32\u63D2\u5165 \u5411\u5B57\u7B26\u4E32\u7684\u6307\u5B9A\u4F4D\u7F6E\u63D2\u5165\u5B57\u7B26\u4E32\u3002 DELETE \u5B57\u7B26\u4E32\u90E8\u5206\u5220\u9664 \u5220\u9664\u5B57\u7B26\u4E32\u4E2D\u6307\u5B9A\u4F4D\u7F6E\u7684\u5B57\u7B26\u4E32\u3002 REPLACE \u5B57\u7B26\u4E32\u90E8\u5206\u66FF\u6362 \u7F6E\u6362\u5B57\u7B26\u4E32\u4E2D\u6307\u5B9A\u4F4D\u7F6E\u7684\u5B57\u7B26\u4E32\u3002 FIND \u5B57\u7B26\u4E32\u67E5\u627E \u5728\u641C\u7D22\u5BF9\u8C61\u5B57\u7B26\u4E32\u4E2D\u641C\u7D22\u5B57\u7B26\u4E32\uFF0C\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u4E00\u81F4\u7684\u4F4D\u7F6E\u3002 StringSearch \u8303\u56F4\u6307\u5B9A\u5B57\u7B26\u4E32\u68C0\u7D22 \u5728\u641C\u7D22\u5BF9\u8C61\u5B57\u7B26\u4E32\u7684\u6307\u5B9A\u4F4D\u7F6E\u4E4B\u540E\u641C\u7D22\u5B57\u7B26\u4E32\uFF0C\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u4E00\u81F4\u7684\u4F4D\u7F6E\u3002 StringCmp \u5B57\u7B26\u4E32\u6BD4\u8F83 \u8FD4\u56DE2\u4E2A\u5B57\u7B26\u4E32\u662F\u5426\u4E00\u81F4\u3002 StringMove \u5B57\u7B26\u4E32\u4F20\u8F93 \u4F20\u8F93\u5B57\u7B26\u4E32\u3002 TrimL \u5B57\u7B26\u4E32\u5DE6\u7A7A\u683C\u5220\u9664 \u5220\u9664\u5B57\u7B26\u4E32\u5DE6\u7AEF\u7684\u534A\u89D2\u7A7A\u683C\u548C\u6807\u53F7\u3002 TrimR \u5B57\u7B26\u4E32\u53F3\u7A7A\u683C\u5220\u9664 \u5220\u9664\u5B57\u7B26\u4E32\u53F3\u7AEF\u7684\u534A\u89D2\u7A7A\u683C\u548C\u6807\u53F7\u3002 Trim \u5B57\u7B26\u4E32\u4E24\u7AEF\u7A7A\u683C\u5220\u9664 \u5220\u9664\u5B57\u7B26\u4E32\u4E24\u7AEF\u7684\u534A\u89D2\u7A7A\u683C\u548C\u6807\u53F7\u3002 DisperseString \u5B57\u7B26\u4E32\u5B57\u8282\u5206\u89E3 \u5C06\u5B57\u8282\u5355\u4F4D\u7684\u5B57\u7B26\u4E32\u5206\u89E3\u4E3A\u5B57\u5355\u4F4D\u3002 UniteString \u5B57\u7B26\u4E32\u5B57\u8282\u7EC4\u5408 \u5C06\u5B57\u5355\u4F4D\u7684\u5B57\u7B26\u4E32\u7EC4\u5408\u6210\u5B57\u8282\u5355\u4F4D\u3002 SplitN \u5B57\u7B26\u4E32\u5206\u89E3 \u7528\u5B9A\u754C\u7B26\u5206\u9694\u5B57\u7B26\u4E32\u3002 LEN \u5B57\u7B26\u4E32\u957F\u5EA6\u68C0\u6D4B \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LEN \u5B57\u7B26\u4E32\u957F\u5EA6\u68C0\u6D4B FUN \u00A0 Result := LEN(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u5BF9\u8C61\u5B57\u7B26\u4E32 Result RETURN UINT - \u5B57\u7B26\u4E32\u957F\u5EA6\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u8BA1\u6570 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u6570\u91CF\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u30022\u5B57\u8282\u5B57\u7B26\uFF08Shift JIS\u7B49\uFF09\u8BA1\u6570\u4E3A1\u4E2A\u5B57\u7B26\u3002 \u00A0 \u5982\u679C In \u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u6CA1\u6709\u7EC8\u7AEF\u4EE3\u7801\uFF08NULL\uFF0800H\uFF09\uFF09\uFF0C\u5219\u4F1A\u5C06 In \u7684\u6700\u5927\u957F\u5EA6\u5B58\u50A8\u5230 Result \u4E2D\u3002 LEFT \u5B57\u7B26\u4E32\u5DE6\u622A\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LEFT \u5B57\u7B26\u4E32\u5DE6\u622A\u53D6 FUN \u00A0 Result := LEFT(In, L); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u622A\u53D6\u5BF9\u8C61\u5B57\u7B26\u4E32 L IN UINT 1 \u622A\u53D6\u5B57\u7B26\u6570(0\uFF5E1999) Result RETURN STRING[65534] - \u622A\u53D6\u5B57\u7B26\u4E32\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5BF9 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\uFF0C\u6309 L \u4E2D\u6307\u5B9A\u5B57\u7B26\u6570\u4ECE\u5DE6\u7AEF\u5F00\u59CB\u622A\u53D6\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u6570\u6BD4 L \u5C0F\uFF0C\u5219\u4F1A\u4EE5 Result \u4E3A\u5F00\u5934\u5B58\u50A8\u6240\u6709\u5B57\u7B26\u4E32\u3002 In \u548C Result \u53EF\u91CD\u590D\u3002 \u5BF9 L \u6307\u5B9A\u4E860\u65F6\uFF0C\u5728 Result \u4E2D\u53EA\u5B58\u50A81\u4E2A\u5B57\u7B26\u7684NULL\uFF0800H\uFF09\u3002 \u00A0 \u4E0B\u8FF0\u662F In =\u0027ABCDEFG\u0027\u3001 L =3\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 L \uFF1E1999\u65F6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u622A\u53D6\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u622A\u53D6\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 RIGHT \u5B57\u7B26\u4E32\u53F3\u622A\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RIGHT \u5B57\u7B26\u4E32\u53F3\u622A\u53D6 FUN \u00A0 Result := RIGHT(In, L); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u622A\u53D6\u5BF9\u8C61\u5B57\u7B26\u4E32 L IN UINT 1 \u622A\u53D6\u5B57\u7B26\u6570(0\uFF5E1999) Result RETURN STRING[65534] - \u622A\u53D6\u5B57\u7B26\u4E32\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5BF9 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\uFF0C\u6309 L \u4E2D\u6307\u5B9A\u5B57\u7B26\u6570\u4ECE\u53F3\u7AEF\u5F00\u59CB\u622A\u53D6\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u5B57\u7B26\u6570\u6BD4 L \u5C0F\uFF0C\u5219\u4F1A\u4EE5 Result \u4E3A\u5F00\u5934\u5B58\u50A8\u6240\u6709\u5B57\u7B26\u4E32\u3002 In \u548C Result \u53EF\u91CD\u590D\u3002 \u5BF9 L \u6307\u5B9A\u4E860\u65F6\uFF0C\u5728 Result \u4E2D\u53EA\u5B58\u50A81\u4E2A\u5B57\u7B26\u7684NULL\uFF0800H\uFF09\u3002 \u00A0 \u4E0B\u8FF0\u662F In =\u0027ABCDEFG\u0027\u3001 L =3\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 L \uFF1E1999\u65F6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u622A\u53D6\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u622A\u53D6\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u521B\u5EFA\u65F6\u95F4\u6233 MID \u5B57\u7B26\u4E32\u4E2D\u95F4\u622A\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MID \u5B57\u7B26\u4E32\u4E2D\u95F4\u622A\u53D6 FUN \u00A0 Result := MID(In, L, P); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u622A\u53D6\u5BF9\u8C61\u5B57\u7B26\u4E32 L IN UINT 1 \u622A\u53D6\u5B57\u7B26\u6570(0\uFF5E1999) P IN UINT 1 \u5F00\u59CB\u622A\u53D6\u7684\u4F4D\u7F6E(\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D)(1\uFF5E) Result RETURN STRING[65534] - \u622A\u53D6\u5B57\u7B26\u4E32\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u4ECE P \u6240\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF08\u5B57\u8282\u5355\u4F4D\uFF09\u5F00\u59CB\uFF0C\u6309\u7167 L \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u6570\uFF08\u5F00\u5934\u5B57\u7B26\u4F5C\u4E3A1\u7684\u5B57\u8282\u6570\uFF09\u6267\u884C\u622A\u53D6\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 In \u548C Result \u53EF\u91CD\u590D\u3002 \u5BF9 L \u6307\u5B9A\u4E860\u65F6\uFF0C\u5728 Result \u4E2D\u53EA\u5B58\u50A81\u4E2A\u5B57\u7B26\u7684NULL\uFF0800H\uFF09\u3002 \u00A0 \u4E0B\u8FF0\u662F In =\u0027ABCDEFG\u0027\u3001 L =3\u3001 P =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 L \uFF1E1999\u65F6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1C P \u65F6 \u2022 P \u662F0\u65F6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u622A\u53D6\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u622A\u53D6\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 CONCAT \u5B57\u7B26\u4E32\u7EC4\u5408 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 CONCAT \u5B57\u7B26\u4E32\u7EC4\u5408 FUN \u00A0 Result := CONCAT(In1, In2, \u2026, InN); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1\uFF5EInN * IN STRING[65534] \u0027\u0027 \u8FDE\u63A5\u5BF9\u8C61\u5B57\u7B26\u4E32\uFF08N\u4E3A2\uFF5E10\uFF09 Result RETURN STRING[65534] - \u8FDE\u63A5\u7ED3\u679C\u5B57\u7B26\u4E32 * : \u5728\u68AF\u5F62\u56FE\u4E2D\u4F7F\u7528\u65F6\uFF0C\u53EF\u5728\u6307\u4EE4\u7684\u8BBE\u5B9A\u81EA\u53D8\u91CF\u5BF9\u8BDD\u6846\u4E2D\u66F4\u6539\u81EA\u53D8\u91CF\u7684\u6570\u91CF\u3002 \u00A0 \u52A8\u4F5C\u8BF4\u660E \u6309\u987A\u5E8F\u8FDE\u63A5\u4ECE In1 \u5230 InN \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u8FDE\u63A5\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u4E861999\u5B57\u8282\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8FDE\u63A5\u7ED3\u679C\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u8FDE\u63A5\u7ED3\u679C\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 INSERT \u5B57\u7B26\u4E32\u63D2\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 INSERT \u5B57\u7B26\u4E32\u63D2\u5165 FUN \u00A0 Result := INSERT(In1, In2, P); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN STRING[65534] \u0027\u0027 \u63D2\u5165\u5BF9\u8C61\u5B57\u7B26\u4E32 In2 IN STRING[65534] \u0027\u0027 \u63D2\u5165\u7684\u5B57\u7B26\u4E32 P IN UINT 0 \u63D2\u5165\u5F00\u59CB\u4F4D\u7F6E(\u5B57\u8282\u6570)(0\uFF5E) Result RETURN STRING[65534] - \u5DF2\u63D2\u5165\u7684\u5B57\u7B26\u4E32\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5411 In1 \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684 P \u6240\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF08\u5B57\u8282\u6570\uFF09\uFF0C\u63D2\u5165 In2 \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F In1 =\u0027ABCDEFG\u0027\u3001 In2 =\u0027XYZ\u0027\u3001 P =4\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In1 \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1C P \u65F6 \u2022 \u63D2\u5165\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u4E861999\u5B57\u8282\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u63D2\u5165\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u63D2\u5165\u540E\u5B57\u7B26\u4E32\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 DELETE \u5B57\u7B26\u4E32\u90E8\u5206\u5220\u9664 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DELETE \u5B57\u7B26\u4E32\u90E8\u5206\u5220\u9664 FUN \u00A0 Result := DELETE(In, L, P); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u5220\u9664\u5BF9\u8C61\u5B57\u7B26\u4E32 L IN UINT 1 \u5220\u9664\u5B57\u7B26\u6570(\u5B57\u8282\u6570) P IN UINT 1 \u5220\u9664\u5F00\u59CB\u4F4D\u7F6E(\u5B57\u8282\u6570) (1\uFF5E) Result RETURN STRING[65534] - \u5DF2\u5220\u9664\u7684\u5B57\u7B26\u4E32\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u4ECE P \u6240\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF08\u5F00\u5934\u5B57\u7B26\u4F5C\u4E3A1\u7684\u5B57\u8282\u6570\uFF09\u5F00\u59CB\uFF0C\u5220\u9664 L \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u6570\uFF08\u5B57\u8282\u6570\uFF09\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5BF9 L \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u5C06 In \u7684\u5B57\u7B26\u4E32\u76F4\u63A5\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F In =\u0027ABCDEFG\u0027\u3001 L =3\u3001 P =2\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1C P \u65F6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1C\uFF08 P \u002B L -1\uFF09\u65F6 \u2022 P \u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5220\u9664\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u5220\u9664\u540E\u5B57\u7B26\u4E32\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 REPLACE \u5B57\u7B26\u4E32\u90E8\u5206\u66FF\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 REPLACE \u5B57\u7B26\u4E32\u90E8\u5206\u66FF\u6362 FUN \u00A0 Result := REPLACE(In1, In2, L, P); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN STRING[65534] \u0027\u0027 \u66FF\u6362\u5BF9\u8C61\u5B57\u7B26\u4E32 In2 IN STRING[65534] \u0027\u0027 \u66FF\u6362\u7684\u5B57\u7B26\u4E32 L IN UINT 1 \u66FF\u6362\u5B57\u7B26\u6570(\u5B57\u8282\u6570) P IN UINT 1 \u66FF\u6362\u5F00\u59CB\u4F4D\u7F6E(\u5B57\u8282\u6570) (1\uFF5E) Result RETURN STRING[65534] - \u5DF2\u66FF\u6362\u7684\u5B57\u7B26\u4E32\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In1 \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u4ECE P \u6240\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF08\u5F00\u5934\u5B57\u7B26\u4F5C\u4E3A1\u7684\u5B57\u8282\u6570\uFF09\u5F00\u59CB\uFF0C\u5220\u9664 L \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u6570\uFF08\u5B57\u8282\u6570\uFF09\uFF0C\u5728\u8BE5\u5904\u63D2\u5165 In2 \uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5BF9 L \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u5C06 In \u7684\u5B57\u7B26\u4E32\u76F4\u63A5\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 \u4E0B\u8FF0\u662F In1 =\u0027ABCDEFG\u0027\u3001 In2 =\u0027XYZ\u0027\u3001 L =2\u3001 P =4\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1C P \u65F6 \u2022 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1C\uFF08 P \u002B L -1\uFF09\u65F6 \u2022 P \u662F0\u65F6 \u2022 \u7F6E\u6362\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u8D85\u8FC7\u4E861999\u5B57\u8282\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u7F6E\u6362\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u7F6E\u6362\u540E\u5B57\u7B26\u4E32\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 FIND \u5B57\u7B26\u4E32\u67E5\u627E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 FIND \u5B57\u7B26\u4E32\u67E5\u627E FUN \u00A0 Result := FIND(In1, In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN STRING[65534] \u0027\u0027 \u67E5\u627E\u5BF9\u8C61\u5B57\u7B26\u4E32 In2 IN STRING[65534] \u0027\u0027 \u67E5\u627E\u7684\u5B57\u7B26\u4E32 Result RETURN UINT - \u4E00\u81F4\u5904\u7684\u8D77\u59CB\u4F4D\u7F6E \u52A8\u4F5C\u8BF4\u660E \u5728 In1 \u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u4E2D\uFF0C\u4ECE\u5F00\u5934\u5F00\u59CB\u6309\u5E8F\u641C\u7D22 In2 \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\uFF0C\u5C06\u4E00\u81F4\u4E4B\u5904\u7684\u5F00\u5934\u4F4D\u7F6E\uFF08\u539F\u5B57\u7B26\u4E32\u7684\u5F00\u5934\u5B57\u7B26\u4F5C\u4E3A1\u7684\u5B57\u8282\u6570\uFF09\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u672A\u627E\u5230\u5B57\u7B26\u4E32\u65F6\uFF0C\u5982\u679C In2 \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u662F0\u6216\u6BD4 In1 \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u957F\uFF0C\u5219\u4F1A\u5728 Result \u4E2D\u5B58\u50A80\u3002 \u00A0 \u4E0B\u8FF0\u662F In1 =\u0027ABCDEFG\u0027\u3001 In2 =\u0027DE\u0027\u65F6\u7684\u793A\u4F8B\u3002 \u00A0 \u00A0 In1 \u3001 In2 \u7684\u503C\u90FD\u662FNULL\u65F6\uFF0C\u4F1A\u5728 Result \u4E2D\u5B58\u50A81\u3002 StringSearch \u8303\u56F4\u6307\u5B9A\u5B57\u7B26\u4E32\u68C0\u7D22 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringSearch \u8303\u56F4\u6307\u5B9A\u5B57\u7B26\u4E32\u68C0\u7D22 FUN \u00A0 Result := StringSearch(In, Key, InLen, Pos); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u67E5\u627E\u5BF9\u8C61\u5B57\u7B26\u4E32 Key IN STRING[65534] \u0027\u0027 \u67E5\u627E\u7684\u5B57\u7B26\u4E32 InLen IN UINT 0 \u67E5\u627E\u5BF9\u8C61\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF08\u5B57\u8282\u6570\uFF09 Pos IN UINT 1 \u67E5\u627E\u5F00\u59CB\u5B57\u8282\u4F4D\u7F6E\uFF081\uFF5E\uFF09 Result RETURN UINT - \u4E00\u81F4\u5904\u7684\u8D77\u59CB\u4F4D\u7F6E \u52A8\u4F5C\u8BF4\u660E \u4ECE In \u7684\u5F00\u5934\u5F00\u59CB InLen \u5B57\u8282\u5B57\u7B26\u4E32\u7684\u3001 Pos \u6240\u6307\u5B9A\u7684\u4F4D\u7F6E\uFF08\u5F00\u5934\u5B57\u7B26\u4F5C\u4E3A1\u7684\u5B57\u8282\u6570\uFF09\u5F00\u59CB\uFF0C\u641C\u7D22 Key \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u3002 Result \u4E2D\u5B58\u50A8\u7684\u662F\u5728 In \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u4E2D\u7684 Pos \u6240\u6307\u5B9A\u7684\u4F4D\u7F6E\u4E4B\u540E\uFF0C\u9996\u6B21\u53D1\u73B0\u7684 Key \u7684\u5F00\u59CB\u4F4D\u7F6E\uFF08\u5F00\u5934\u5B57\u7B26\u4F5C\u4E3A1\u7684\u5B57\u8282\u6570\uFF09\u3002 \u5BF9 InLen \u6307\u5B9A\u4E860\u65F6\uFF0C\u6216\u8005 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u6BD4 InLen \u77ED\u65F6\uFF0C\u641C\u7D22\u5BF9\u8C61\u662F In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\uFF08\u5230\u672B\u5C3E\u4E3A\u6B62\uFF09\u3002 \u672A\u627E\u5230 Key \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u65F6\uFF0C\u5982\u679C Key \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u662F0\u6216\u6BD4 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u957F\uFF0C Pos \u6BD4 In \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u957F\uFF0C\u5219\u4F1A\u5728 Result \u4E2D\u5B58\u50A80\u3002 \u00A0 \u4E0B\u8FF0\u662F In =\u0027ABCDEFGABCDEFG\u0027\u3001 Key =\u0027AB\u0027\u3001 InLen =10\u3001 Pos =5\u65F6\u7684\u793A\u4F8B\u3002 \u7B2C Pos \u5B57\u8282\uFF5E\u7B2C InLen \u5B57\u8282\u662F\u641C\u7D22\u8303\u56F4\uFF0C\u5176\u4ED6\u90E8\u5206\u4E0D\u5C5E\u4E8E\u641C\u7D22\u8303\u56F4\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 Pos \u6307\u5B9A\u4E860\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF StringCmp \u5B57\u7B26\u4E32\u6BD4\u8F83 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringCmp \u5B57\u7B26\u4E32\u6BD4\u8F83 FUN \u00A0 Result := (In1 = In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In1 IN STRING[65534] \u0027\u0027 \u6BD4\u8F83\u5B57\u7B26\u4E321 In2 IN STRING[65534] \u0027\u0027 \u6BD4\u8F83\u5B57\u7B26\u4E322 Result RETURN BOOL - \u6BD4\u8F83\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u6BD4\u8F83\u5B58\u50A8\u4E8E In1 \u548C In2 \u4E2D\u7684\u5B57\u7B26\u4E32\uFF0C\u5982\u679C\u4E00\u81F4\uFF0C\u5219\u5411 Result \u8F93\u51FATRUE\u3002 \u00A0 \u5982\u679C\u662F\u53D8\u91CF\uFF0C\u5219\u53EF\u4F7F\u7528 EQ \u6307\u4EE4\u6BD4\u8F83\u5B57\u7B26\u4E32\u3002\u5982\u679C\u662F\u8F6F\u5143\u4EF6\uFF0C\u4F7F\u7528 EQ \u6307\u4EE4\u4E0D\u80FD\u6BD4\u8F83\u7528UINT\u578B\u5904\u7406\u7684\u6240\u6709\u5B57\u7B26\u4E32\uFF0C\u6240\u4EE5\u5E94\u4F7F\u7528StringCmp\u6307\u4EE4\u3002 StringMove \u5B57\u7B26\u4E32\u4F20\u8F93 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StringMove \u5B57\u7B26\u4E32\u4F20\u8F93 FUN \u00A0 Dst := Src; \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN STRING[65534] \u0027\u0027 \u4F20\u8F93\u6E90 Dst OUT STRING[65534] - \u4F20\u8F93\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u4F20\u8F93\u7ED9 Dst \u3002 \u5728 Dst \u6240\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7EC8\u7AEF\u5B58\u50A8NULL\u3002 \u00A0 \u2022 Src \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Dst \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE Src \u7684\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u2022 \u5982\u679C\u662F\u53D8\u91CF\uFF0C\u8FD8\u53EF\u4F7F\u7528 MOVE \u6307\u4EE4\u4F20\u8F93\u5B57\u7B26\u4E32\u3002\u5982\u679C\u662F\u8F6F\u5143\u4EF6\uFF0C\u4F7F\u7528 MOVE \u6307\u4EE4\u4E0D\u80FD\u4F20\u8F93\u7528UINT\u578B\u5904\u7406\u7684\u6240\u6709\u5B57\u7B26\u4E32\uFF0C\u6240\u4EE5\u5E94\u4F7F\u7528StringMove\u6307\u4EE4\u3002 TrimL \u5B57\u7B26\u4E32\u5DE6\u7A7A\u683C\u5220\u9664 TrimR \u5B57\u7B26\u4E32\u53F3\u7A7A\u683C\u5220\u9664 Trim \u5B57\u7B26\u4E32\u4E24\u7AEF\u7A7A\u683C\u5220\u9664 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TrimL \u5B57\u7B26\u4E32\u5DE6\u7A7A\u683C\u5220\u9664 FUN \u00A0 Result := TrimL(In); TrimR \u5B57\u7B26\u4E32\u53F3\u7A7A\u683C\u5220\u9664 FUN \u00A0 Result := TrimR(In); Trim \u5B57\u7B26\u4E32\u4E24\u7AEF\u7A7A\u683C\u5220\u9664 FUN \u00A0 Result := Trim(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN STRING[65534] \u0027\u0027 \u5220\u9664\u7A7A\u683C\u5BF9\u8C61\u5B57\u7B26\u4E32 Result RETURN STRING[65534] - \u5220\u9664\u540E\u7684\u5B57\u7B26\u4E32 \u52A8\u4F5C\u8BF4\u660E \u258C TrimL \u5220\u9664 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u5DE6\u7AEF\uFF08\u5B57\u7B26\u4E32\u7684\u5F00\u5934\uFF09\u7684\u6240\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\u548C\u6807\u53F7\uFF0809H\uFF09\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u258C TrimR \u5220\u9664 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u53F3\u7AEF\uFF08\u5B57\u7B26\u4E32\u7684\u672B\u5C3E\uFF09\u7684\u6240\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\u548C\u6807\u53F7\uFF0809H\uFF09\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u258C Trim \u5220\u9664 In \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u4E24\u7AEF\u7684\u6240\u6709\u534A\u89D2\u7A7A\u683C\uFF0820H\uFF09\u548C\u6807\u53F7\uFF0809H\uFF09\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u00A0 \u5220\u9664\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E\u5BF9 Result \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u53EA\u5C06\u4ECE\u5220\u9664\u540E\u5B57\u7B26\u4E32\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 Result \u4E2D\u3002 DisperseString \u5B57\u7B26\u4E32\u5B57\u8282\u5206\u89E3 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DisperseString \u5B57\u7B26\u4E32\u5B57\u8282\u5206\u89E3 FUN \u00A0 DisperseString(Src, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN STRING[65534] \u0027\u0027 \u5206\u89E3\u5BF9\u8C61 Dst IN-OUT UINT[*] - \u5DF2\u5206\u89E3\u5B57\u7B26\u4E32\uFF08\u4EE5\u5B57\u4E3A\u5355\u4F4D\uFF09\u5B58\u50A8\u76EE\u6807\u8D77\u59CB \u52A8\u4F5C\u8BF4\u660E \u5C06\u4EE5 Src \u4E3A\u5F00\u5934\u5B58\u50A8\u7684\u5B57\u8282\u5355\u4F4D\u7684\u5B57\u7B26\u4E32\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\uFF0C\u5206\u89E3\u4E3A\u5B57\u5355\u4F4D\u540E\u8FDB\u884C\u5B58\u50A8\u3002 \u5728 Dst \u7684\u9AD8\u4F4D\u5B57\u8282\u4E2D\u5B58\u50A80\u3002 \u00A0 \u4E0B\u8FF0\u662F Src =\u0027ABCD\u0027\u65F6\u7684\u793A\u4F8B\u3002\u5728 Dst \u7684\u5404\u5B57\u5355\u4F4D\u7684\u9AD8\u4F4D\u5B57\u8282\u4E2D\u5B58\u50A8NULL(00H)\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E Dst \u7684\u5B57\u5927\u5C0F\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF UniteString \u5B57\u7B26\u4E32\u5B57\u8282\u7EC4\u5408 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UniteString \u5B57\u7B26\u4E32\u5B57\u8282\u7EC4\u5408 FUN \u00A0 UniteString(Src, Dst, Num); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN UINT[*] - \u7EC4\u5408\u7684\u5B58\u50A8\u4E86\u5B57\u7B26\u4E32(\u4EE5\u5B57\u4E3A\u5355\u4F4D)\u7684\u8D77\u59CB Dst IN-OUT STRING[*] - \u5DF2\u7EC4\u5408\u5B57\u7B26\u4E32\u5B58\u50A8\u76EE\u6807 Num IN UINT 0 \u7EC4\u5408\u7684\u5B57\u7B26\u6570(\u5B57\u6570) \u52A8\u4F5C\u8BF4\u660E \u5C06\u4EE5 Src \u4E3A\u5F00\u5934\u5B58\u50A8\u7684\u4EE5\u5B57\u4E3A\u5355\u4F4D\u7684\u5B57\u7B26\u4E32\uFF0C\u4EE5 Num \u6240\u6307\u5B9A\u7684\u5B57\u7B26\u6570\uFF08\u5B57\u5355\u4F4D\u6570\uFF09\u4F5C\u4E3A\u4E0A\u9650\uFF0C\u4E0E\u5B57\u8282\u5355\u4F4D\u7EC4\u5408\uFF0C\u5C06 Dst \u4F5C\u4E3A\u5F00\u5934\uFF0C\u6DFB\u52A0\u7EC8\u7AEF\u4EE3\u7801NULL\uFF0800H\uFF09\u540E\u8FDB\u884C\u5B58\u50A8\u3002 Src \u7684\u9AD8\u4F4D\u5B57\u8282\u4F1A\u88AB\u5FFD\u7565\u3002 \u00A0 \u4E0B\u8FF0\u662F Src =\u0027ABCDEFGH\u0027\u3001 Num =4\u65F6\u7684\u793A\u4F8B\u3002 Src \u7684\u5404\u5B57\u5355\u4F4D\u7684\u9AD8\u4F4D\u5B57\u8282\u4F1A\u88AB\u5FFD\u7565\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u5B57\u5927\u5C0F\uFF1C Num \u65F6 \u2022 \u7EC4\u5408\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E Dst \u7684\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF SplitN \u5B57\u7B26\u4E32\u5206\u89E3 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SplitN \u5B57\u7B26\u4E32\u5206\u89E3 FUN \u00A0 Result := SplitN(Src, Delimiter, StrAry); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN STRING[65534] \u0027\u0027 \u5206\u89E3\u6E90\u5B57\u7B26\u4E32 Delimiter IN STRING[65534] \u0027\u0027 \u5206\u9694\u5B57\u7B26\u4E32 StrAry IN-OUT ARRAY[*] OF STRING[*] - \u5206\u89E3\u540E\u5B57\u7B26\u4E32(\u6570\u7EC4) Result RETURN UINT - \u5206\u89E3\u6570\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u7528 Delimiter \u5206\u89E3 Src \uFF0C\u5C06\u5206\u89E3\u7ED3\u679C\u5B58\u50A8\u5230\u5B57\u7B26\u4E32\u6570\u7EC4 StrAry \u4E2D\u3002 \u5728 Result \u4E2D\u5B58\u50A8\u5206\u89E3\u540E\u5B57\u7B26\u4E32\u7684\u6570\u91CF\u3002 \u6839\u636E StrAry \u4E2D\u8BBE\u5B9A\u7684\u5B57\u7B26\u4E32\u6570\u7EC4\u7684\u8981\u7D20\u6570\u91CF\u548C\u5B57\u7B26\u4E32\u5927\u5C0F\uFF0C\u51B3\u5B9A\u6700\u5927\u5206\u89E3\u6570\u91CF\u548C\u5206\u89E3\u540E\u7684\u6700\u5927\u5B57\u7B26\u4E32\u5927\u5C0F\u3002 \u5728 StrAry \u7684\u5404\u8981\u7D20\u7684\u672B\u5C3E\u5B58\u50A8NULL\uFF0800H\uFF09\u3002 \u00A0 \u793A\u4F8B\u5982\u4E0B\u3002 \u5BF9 StrAry \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u7684\u8981\u7D20\u6570\u662F4\u4EE5\u4E0A\u4E14\u5B57\u7B26\u4E32\u5927\u5C0F\u662F2\u4EE5\u4E0A\u65F6\uFF0C\u5982\u679C Src \uFF1A \u002718,1A,35,E0\u0027\u3001 Delimiter \uFF1A\u0027,\u0027\uFF08\u9017\u53F7\uFF09\uFF0C\u5219\u4F1A\u5982\u4E0B\u5B58\u50A8\u3002 \u81EA\u53D8\u91CF \u503C StrAry[0] \u002718\u0027 StrAry[1] \u00271A\u0027 StrAry[2] \u002735\u0027 StrAry[3] \u0027E0\u0027 StrAry[4\u4EE5\u540E] \u4FDD\u6301\u4E0A\u4E00\u6B21\u7684\u503C Result 4 \u5BF9 StrAry \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u7684\u8981\u7D20\u6570\u662F2\u4EE5\u4E0A\u4E14\u5B57\u7B26\u4E32\u5927\u5C0F\u662F4\u4EE5\u4E0A\u65F6\uFF0C\u5982\u679C Src \uFF1A \u0027181A,3,5\u0027\u3001 Delimiter \uFF1A\u0027,\u0027\uFF08\u9017\u53F7\uFF09\uFF0C\u5219\u4F1A\u5982\u4E0B\u5B58\u50A8\u3002 \u81EA\u53D8\u91CF \u503C StrAry[0] \u0027181A\u0027 StrAry[1] \u00273,5\u0027 Result 2 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Delimiter \u662FNULL\u65F6 \u2022 Src \u6216 Delimiter \u88AB\u7701\u7565\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5206\u89E3\u540E\u7684\u5B57\u7B26\u4E32\u957F\u5EA6\uFF1E StrAry \u7684\u6700\u5927\u5B57\u7B26\u4E32\u957F\u5EA6\u65F6\uFF0C\u4F1A\u53EA\u5C06\u4ECE\u5206\u89E3\u540E\u5B57\u7B26\u4E32\u5F00\u5934\u5F00\u59CB\u7684\u53EF\u5B58\u50A8\u90E8\u5206\u5B58\u50A8\u5230 StrAry \u4E2D\u3002 \u2022 \u5982\u679C\u8981\u7D20\u6570\u51FA\u73B00\uFF1C Result \uFF1C StrAry \uFF0C\u5219\u5BF9\u591A\u4F59\u7684\u81EA\u53D8\u91CF\u4E0D\u505A\u4EFB\u4F55\u5904\u7406\u3002 \u2022 \u8981\u7D20\u6570\u662F Result = StrAry \u65F6\uFF0C\u6709\u65F6 StrAry [\u6700\u7EC8\u8981\u7D20]\u4E2D\u4F1A\u542B\u6709\u5206\u9694\u5B57\u7B26\uFF08\u8FD8\u6709\u53EF\u4EE5\u5206\u89E3\u7684\u4F59\u5730\uFF09\u3002 \u5982\u679C\u53EA\u5224\u65AD\u662F\u5426\u8FD8\u53EF\u4EE5\u5206\u89E3\uFF0C\u5219\u5E94\u6267\u884C FIND \u6307\u4EE4\uFF0C\u67E5\u627E StrAry [\u6700\u7EC8\u8981\u7D20]\u4E2D\u6709\u65E0\u5206\u9694\u5B57\u7B26\u3002 \u8FD8\u53EF\u4EE5\u5206\u89E3\u65F6\uFF0C\u53EF\u901A\u8FC7\u5C06 StrAry [\u6700\u7EC8\u8981\u7D20]\u6307\u5B9A\u4E3A Sep \u5E76\u518D\u6B21\u6267\u884CSplitN\u6307\u4EE4\u6765\u8FDB\u884C\u5206\u89E3\u3002"},{"link":"./03_17_FBFUN_DateAndTime.html","title":"\u65F6\u95F4/\u65E5\u671F\u65F6\u523B\u5904\u7406","body":"\u65F6\u95F4/\u65E5\u671F\u65F6\u523B\u5904\u7406 FUN/FB \u540D\u79F0 \u6982\u8FF0 WriteCalendarTime \u65E5\u5386\u5B9A\u65F6\u5668\u5199\u5165 \u5411CPU\u7684\u65E5\u5386\u5B9A\u65F6\u5668\u5199\u5165\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u3002 DtToSec \u65E5\u671F\u548C\u65F6\u95F4\u2192\u79D2\u8F6C\u6362 \u5C06\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u6362\u7B97\u4E3A\u4EE52000\u5E741\u67081\u65E50\u65F60\u52060\u79D2\u4E3A\u57FA\u51C6\u65E5\u671F\u65F6\u95F4\u7684\u603B\u8BA1\u79D2\u6570\u3002 SecToDt \u79D2\u2192\u65E5\u671F\u548C\u65F6\u95F4\u8F6C\u6362 \u5C06\u4EE52000\u5E741\u67081\u65E50\u65F60\u52060\u79D2\u4E3A\u57FA\u51C6\u65E5\u671F\u65F6\u95F4\u7684\u603B\u8BA1\u79D2\u6570\u8F6C\u6362\u4E3A\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u3002 ADD_TIME \u65F6\u95F4\u52A0\u6CD5 2\u4E2A\u65F6\u95F4\u76F8\u52A0\u3002 SUB_TIME \u65F6\u95F4\u51CF\u6CD5 2\u4E2A\u65F6\u95F4\u76F8\u51CF\u3002 MUL_TIME \u65F6\u95F4\u4E58\u6CD5 2\u4E2A\u65F6\u95F4\u76F8\u4E58\u3002 DIV_TIME \u65F6\u95F4\u9664\u6CD5 2\u4E2A\u65F6\u95F4\u76F8\u9664\u3002 GetDayOfWeek \u661F\u671F\u83B7\u53D6 \u6839\u636E\u65E5\u671F\u83B7\u53D6\u5F53\u5929\u662F\u5468\u51E0\u3002 TimeToMicroSec \u65F6\u95F4\u2192\u5FAE\u79D2\u8F6C\u6362 \u5C06\u65F6\u95F4\u8F6C\u6362\u4E3A\u5FAE\u79D2\u5355\u4F4D\u3002 TimeToMilliSec \u65F6\u95F4\u2192\u6BEB\u79D2\u8F6C\u6362 \u5C06\u65F6\u95F4\u8F6C\u6362\u4E3A\u6BEB\u79D2\u5355\u4F4D\u3002 TimeToSec \u65F6\u95F4\u2192\u79D2\u8F6C\u6362 \u5C06\u65F6\u95F4\u8F6C\u6362\u4E3A\u79D2\u5355\u4F4D\u3002 MicroSecToTime \u5FAE\u79D2\u2192\u65F6\u95F4\u8F6C\u6362 \u5C06\u5FAE\u79D2\u8F6C\u6362\u4E3A\u65F6\u95F4\u3002 MilliSecToTime \u6BEB\u79D2\u2192\u65F6\u95F4\u8F6C\u6362 \u5C06\u6BEB\u79D2\u8F6C\u6362\u4E3A\u65F6\u95F4\u3002 SecToTime \u79D2\u2192\u65F6\u95F4\u8F6C\u6362 \u5C06\u79D2\u8F6C\u6362\u4E3A\u65F6\u95F4\u3002 WriteCalendarTime \u65E5\u5386\u5B9A\u65F6\u5668\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 WriteCalendarTime \u65E5\u5386\u5B9A\u65F6\u5668\u5199\u5165 FUN \u00A0 WriteCalendarTime(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN ARRAY[0..5] OF UINT \u0027\u0027 \u5199\u5165\u7684\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u5199\u5165CPU\u7684\u65E5\u5386\u5B9A\u65F6\u5668\u3002 \u8BF7\u5982\u4E0B\u5411 In \u5B58\u50A8\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u8BBE\u5B9A\u8303\u56F4 In[0] \u5E74 0\uFF5E99\uFF08\u5C062000\u5E74\u4F5C\u4E3A0\uFF09 In[1] \u6708 1\uFF5E12 In[2] \u65E5 1\uFF5E31 In[3] \u65F6 0\uFF5E23 In[4] \u5206 0\uFF5E59 In[5] \u79D2 0\uFF5E59 \u65E5\u5386\u5B9A\u65F6\u5668\u7684\u65F6\u523B\u6570\u636E\u88AB\u5B58\u50A8\u5728\u7CFB\u7EDF\u53D8\u91CF_CurrentDateTime[0]\uFF5E[5]\u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5199\u5165\u7684\u6570\u636E\u4E0D\u9002\u5408\u7528\u4F5C\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4E0D\u80FD\u5C06\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u76F4\u63A5\u5199\u5165\u7CFB\u7EDF\u53D8\u91CF_CurrentDateTime[0]\uFF5E[5]\u4E2D\u3002\u5982\u679C\u5199\u5165\uFF0C\u5219\u4F1A\u88AB\u7CFB\u7EDF\u8986\u76D6\uFF0C\u5BFC\u81F4\u5199\u5165\u7684\u503C\u65E0\u6548\u3002 \u2022 \u5468\u51E0\u662F\u6839\u636E\u5E74\u3001\u6708\u3001\u65E5\u81EA\u52A8\u8BA1\u7B97\u7684\u3002 DtToSec \u65E5\u671F\u548C\u65F6\u95F4\u2192\u79D2\u8F6C\u6362 SecToDt \u79D2\u2192\u65E5\u671F\u548C\u65F6\u95F4\u8F6C\u6362 \u258C DtToSec \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DtToSec \u65E5\u671F\u548C\u65F6\u95F4\u2192\u79D2\u8F6C\u6362 FUN \u00A0 Result := DtToSec(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN ARRAY[0..5] OF UINT - \u8F6C\u6362\u6E90\u7684\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E Result RETURN UDINT - \u8F6C\u6362\u540E\u7684\u79D2(\u603B\u8BA1\u79D2\u6570)\u6570\u636E \u258C SecToDt \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SecToDt \u79D2\u2192\u65E5\u671F\u548C\u65F6\u95F4\u8F6C\u6362 FUN \u00A0 SecToDt(In, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN UDINT 0 \u8F6C\u6362\u6E90\u7684\u79D2(\u603B\u8BA1\u79D2\u6570)\u6570\u636E Dst IN-OUT ARRAY[0..5] OF UINT - \u8F6C\u6362\u540E\u7684\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E \u00A0 \u52A8\u4F5C\u8BF4\u660E \u258C DtToSec \u5C06\u5B58\u50A8\u4E8E In \u7684\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\uFF0C\u6362\u7B97\u4E3A\u4EE52000\u5E741\u67081\u65E50\u65F60\u52060\u79D2\u4E3A\u57FA\u51C6\u65E5\u671F\u548C\u65F6\u95F4\u7684\u603B\u8BA1\u79D2\u6570\uFF0C\u5C06\u6362\u7B97\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u8BF7\u5982\u4E0B\u5411 In \u5B58\u50A8\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u8BBE\u5B9A\u8303\u56F4 In[0] \u5E74 0\uFF5E99\uFF08\u5C062000\u5E74\u4F5C\u4E3A0\uFF09 In[1] \u6708 1\uFF5E12 In[2] \u65E5 1\uFF5E31 In[3] \u65F6 0\uFF5E23 In[4] \u5206 0\uFF5E59 In[5] \u79D2 0\uFF5E59 \u258C SecToDt \u5C06\u5B58\u50A8\u4E8E In \u7684\u4EE52000\u5E741\u67081\u65E50\u65F60\u52060\u79D2\u4E3A\u57FA\u51C6\u65E5\u671F\u548C\u65F6\u95F4\u7684\u603B\u8BA1\u79D2\u6570\uFF0C\u8F6C\u6362\u4E3A\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\uFF0C\u5C06\u6362\u7B97\u7ED3\u679C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u5982\u4E0B\u5411 Dst \u5B58\u50A8\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u8BBE\u5B9A\u8303\u56F4 Dst[0] \u5E74 0\uFF5E99\uFF08\u5C062000\u5E74\u4F5C\u4E3A0\uFF09 Dst[1] \u6708 1\uFF5E12 Dst[2] \u65E5 1\uFF5E31 Dst[3] \u65F6 0\uFF5E23 Dst[4] \u5206 0\uFF5E59 Dst[5] \u79D2 0\uFF5E59 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u8F6C\u6362\u7684\u65E5\u671F\u548C\u65F6\u95F4\u6570\u636E\u4E0D\u6B63\u786E\uFF08DtToSec\uFF09 \u2022 \u8F6C\u6362\u7684\u79D2\u6570\u636E\u4E0D\u6B63\u786E\uFF08SecToDt\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF ADD_TIME \u65F6\u95F4\u52A0\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ADD_TIME \u65F6\u95F4\u52A0\u6CD5 FUN \u00A0 Result := ADD_TIME(In1, In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN TIME T#0s \u88AB\u52A0\u65F6\u95F4 In2 IN TIME T#0s \u52A0\u6CD5\u65F6\u95F4 Result RETURN TIME - \u8FD0\u7B97\u7ED3\u679C\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u5C06\u5B58\u50A8\u4E8E In1 \u548C In2 \u7684\u65F6\u95F4\u76F8\u52A0\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u6309\u4E0B\u8FF0\u9012\u589E\u6216\u9012\u51CF\u65B9\u5F0F\u6267\u884C\u8BA1\u7B97\u3002 \u00A0 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FATIME\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 SUB_TIME \u65F6\u95F4\u51CF\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SUB_TIME \u65F6\u95F4\u51CF\u6CD5 FUN \u00A0 Result := SUB_TIME(In1, In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN TIME T#0s \u88AB\u51CF\u65F6\u95F4 In2 IN TIME T#0s \u51CF\u6CD5\u65F6\u95F4 Result RETURN TIME - \u8FD0\u7B97\u7ED3\u679C\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u5B58\u50A8\u4E8E In1 \u7684\u65F6\u95F4\u4E2D\u51CF\u53BB\u5B58\u50A8\u4E8E In2 \u7684\u65F6\u95F4\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u6309\u4E0B\u8FF0\u9012\u589E\u6216\u9012\u51CF\u65B9\u5F0F\u6267\u884C\u8BA1\u7B97\u3002 \u00A0 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FATIME\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 MUL_TIME \u65F6\u95F4\u4E58\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MUL_TIME \u65F6\u95F4\u4E58\u6CD5 FUN \u00A0 Result := MUL_TIME(In1, In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN TIME T#0s \u88AB\u4E58\u65F6\u95F4 In2 IN - - \u4E58\u6CD5\u6570\u636E Result RETURN TIME - \u8FD0\u7B97\u7ED3\u679C\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u5C06\u5B58\u50A8\u4E8E In1 \u7684\u65F6\u95F4\u548C\u5B58\u50A8\u4E8E In2 \u7684\u6570\u503C\u76F8\u4E58\uFF0C\u5C06\u7ED3\u679C\uFF08\u65F6\u95F4\uFF09\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u6309\u4E0B\u8FF0\u9012\u589E\u6216\u9012\u51CF\u65B9\u5F0F\u6267\u884C\u8BA1\u7B97\u3002 \u00A0 \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FATIME\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 DIV_TIME \u65F6\u95F4\u9664\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DIV_TIME \u65F6\u95F4\u9664\u6CD5 FUN \u00A0 Result := DIV_TIME(In1, In2); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In1 IN TIME T#0s \u88AB\u9664\u65F6\u95F4 In2 IN - - \u9664\u6CD5\u6570\u636E Result RETURN TIME - \u8FD0\u7B97\u7ED3\u679C\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u7528\u5B58\u50A8\u4E8E In1 \u7684\u65F6\u95F4\u9664\u4EE5\u5B58\u50A8\u4E8E In2 \u7684\u6570\u503C\uFF0C\u5C06\u7ED3\u679C(\u65F6\u95F4)\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u00A0 \u6309\u4E0B\u8FF0\u9012\u589E\u6216\u9012\u51CF\u65B9\u5F0F\u6267\u884C\u8BA1\u7B97\u3002 \u00A0 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 In2 \u6307\u5B9A\u6574\u6570\u578B\uFF0C In2 \u7684\u503C\u662F0\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u5982\u679C\u8FD0\u7B97\u7ED3\u679C\u8D85\u51FATIME\u578B\u7684\u6709\u6548\u8303\u56F4\uFF0C\u5219\u4F1A\u53D1\u751F\u6EA2\u51FA\u3002\u53D1\u751F\u6EA2\u51FA\u4E0D\u4F1A\u53D8\u6210\u9519\u8BEF\u3002 GetDayOfWeek \u661F\u671F\u83B7\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 GetDayOfWeek \u661F\u671F\u83B7\u53D6 FUN \u00A0 Result := GetDayOfWeek(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN ARRAY[0..2] OF UINT - \u83B7\u53D6\u5468\u51E0\u7684\u65E5\u671F\uFF08\u5E74\u00B7\u6708\u00B7\u65E5\uFF09 Result RETURN UINT - \u5468\u51E0 \u52A8\u4F5C\u8BF4\u660E \u6839\u636E\u5B58\u50A8\u4E8E In \u7684\u65E5\u671F\u83B7\u53D6\u5F53\u5929\u662F\u5468\u51E0\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u8BBE\u5B9A\u8303\u56F4 In[0] \u5E74 0\uFF5E99\uFF08\u5C062000\u5E74\u4F5C\u4E3A0\uFF09 In[1] \u6708 1\uFF5E12 In[2] \u65E5 1\uFF5E31 Result\u4E2D\u5B58\u50A8\u7684\u503C \u5468\u51E0 0 \u5468\u65E5 1 \u5468\u4E00 2 \u5468\u4E8C 3 \u5468\u4E09 4 \u5468\u56DB 5 \u5468\u4E94 6 \u5468\u516D \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u4E2D\u5B58\u50A8\u7684\u65E5\u671F\u8D85\u51FA\u6709\u6548\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF TimeToMicroSec \u65F6\u95F4\u2192\u5FAE\u79D2\u8F6C\u6362 TimeToMilliSec \u65F6\u95F4\u2192\u6BEB\u79D2\u8F6C\u6362 TimeToSec \u65F6\u95F4\u2192\u79D2\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TimeToMicroSec \u65F6\u95F4\u2192\u5FAE\u79D2\u8F6C\u6362 FUN \u00A0 Result := TimeToMicroSec(In); TimeToMilliSec \u65F6\u95F4\u2192\u6BEB\u79D2\u8F6C\u6362 FUN \u00A0 Result := TimeToMilliSec(In); TimeToSec \u65F6\u95F4\u2192\u79D2\u8F6C\u6362 FUN \u00A0 Result := TimeToSec(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN TIME T#0s \u65F6\u95F4 Result RETURN DINT - \u8F6C\u6362\u540E\u5FAE\u79D2\uFF08TimeToMicroSec\uFF09 \u8F6C\u6362\u540E\u6BEB\u79D2\uFF08TimeToMilliSec\uFF09 \u8F6C\u6362\u540E\u79D2\uFF08TimeToSec\uFF09 \u52A8\u4F5C\u8BF4\u660E \u258C TimeToMicroSec \u5C06\u5B58\u50A8\u4E8E In \u7684\u65F6\u95F4\u8F6C\u6362\u4E3A\u5FAE\u79D2\u5355\u4F4D\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u7EB3\u79D2\u88AB\u820D\u53BB\u3002 \u258C TimeToMilliSec \u5C06\u5B58\u50A8\u4E8E In \u7684\u65F6\u95F4\u8F6C\u6362\u4E3A\u6BEB\u79D2\u5355\u4F4D\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u5FAE\u5999\u53CA\u66F4\u4F4E\u503C\u4F1A\u88AB\u820D\u53BB\u3002 \u258C TimeToSec \u5C06\u5B58\u50A8\u4E8E In \u7684\u65F6\u95F4\u8F6C\u6362\u4E3A\u79D2\u5355\u4F4D\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u6BEB\u79D2\u53CA\u66F4\u4F4E\u503C\u4F1A\u88AB\u820D\u53BB\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u8F6C\u6362\u7ED3\u679C\u8D85\u51FADINT\u7684\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF MicroSecToTime \u5FAE\u79D2\u2192\u65F6\u95F4\u8F6C\u6362 MilliSecToTime \u6BEB\u79D2\u2192\u65F6\u95F4\u8F6C\u6362 SecToTime \u79D2\u2192\u65F6\u95F4\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MicroSecToTime \u5FAE\u79D2\u2192\u65F6\u95F4\u8F6C\u6362 FUN \u00A0 Result := MicroSecToTime(In); MilliSecToTime \u6BEB\u79D2\u2192\u65F6\u95F4\u8F6C\u6362 FUN \u00A0 Result := MilliSecToTime(In); SecToTime \u79D2\u2192\u65F6\u95F4\u8F6C\u6362 FUN \u00A0 Result := SecToTime(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN DINT 0 \u5FAE\u79D2\uFF08MicroSecToTime\uFF09 \u6BEB\u79D2\uFF08MilliSecToTime\uFF09 \u79D2\uFF08SecToTime\uFF09 Result RETURN TIME - \u8F6C\u6362\u540E\u65F6\u95F4 \u52A8\u4F5C\u8BF4\u660E \u258C MicroSecToTime \u5C06\u5B58\u50A8\u4E8E In \u7684\u5FAE\u79D2\u8F6C\u6362\u4E3A\u65F6\u95F4\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C MilliSecToTime \u5C06\u5B58\u50A8\u4E8E In \u7684\u6BEB\u79D2\u8F6C\u6362\u4E3A\u65F6\u95F4\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002 \u258C SecToTime \u5C06\u5B58\u50A8\u4E8E In \u7684\u79D2\u8F6C\u6362\u4E3A\u65F6\u95F4\uFF0C\u5C06\u7ED3\u679C\u8F93\u51FA\u5230 Result \u4E2D\u3002"},{"link":"./03_18_FBFUN_DataTypeConversion.html","title":"\u6570\u636E\u7C7B\u578B\u8F6C\u6362","body":"\u6570\u636E\u7C7B\u578B\u8F6C\u6362 FUN/FB \u540D\u79F0 \u6982\u8FF0 *_TO_** \u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u5C06\u6570\u636E\u8F6C\u6362\u4E3A\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u3002 TO_** \u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u5C06\u6570\u636E\u8F6C\u6362\u4E3A\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u3002 TRUNC_** \u5C0F\u6570\u820D\u53BB \u820D\u53BB\u5C0F\u6570\u70B9\u4EE5\u540E\u7684\u503C\uFF0C\u8F6C\u6362\u6210\u6307\u5B9A\u6570\u636E\u7C7B\u578B\u7684\u6574\u6570\u6570\u636E\u3002 TO_BCD_** BIN\u2192BCD\u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u5C06\u6570\u636E\u8F6C\u6362\u4E3A\u6307\u5B9A\u6570\u636E\u7C7B\u578B\u7684BCD\u6570\u636E\u3002 BCD_TO_** BCD\u2192BIN\u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u5C06BCD\u6570\u636E\u8F6C\u6362\u4E3A\u6307\u5B9A\u6570\u636E\u7C7B\u578B\u7684\u6574\u6570\u6570\u636E\u3002 IS_VALID \u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6709\u6548\u786E\u8BA4 \u8FD4\u56DE\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u662F\u5426\u662F\u6709\u6548\u503C\u3002 *_TO_** \u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 *_TO_** \u6570\u636E\u7C7B\u578B\u8F6C\u6362 FUN \u00A0 Result := *_TO_**(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN \u901A\u8FC7*\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B 0 \u8F6C\u6362\u5BF9\u8C61\u6570\u636E Result RETURN \u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u7C7B\u578B*\u7684\u6570\u636E\u8F6C\u6362\u4E3A\u6570\u636E\u7C7B\u578B**\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 *\u548C**\u662FBOOL/UINT/INT/UDINT/DINT/REAL/LREAL\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u3002 \u5982\u679C\u5BF9 Result \u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u7528**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5219\u4F1A\u81EA\u52A8\u6267\u884C\u7C7B\u578B\u8F6C\u6362\u3002 \u00A0\u00A0\u00A0 \u6570\u636E\u7C7B\u578B* \u6570\u636E\u7C7B\u578B** BOOL UINT INT UDINT DINT REAL LREAL BOOL - D4 D4 D4 D4 - - UINT D3 - D1 A A A A INT D3 D1 - D1 A A A UDINT D3 D2 D2 - D1 B A DINT D3 D2 D2 D1 - B A REAL - C C C C - B LREAL - C C C C B - \u8BF4\u660E -\uFF1A \u00A0\u00A0\u00A0 \u662F\u65E0\u6CD5\u8F6C\u6362\u7684\u6570\u636E\u7C7B\u578B\u7684\u7EC4\u5408\uFF0C\u6216\u662F\u540C\u4E00\u6570\u636E\u7C7B\u578B\u4E0D\u9700\u8981\u8F6C\u6362\u7684\u7EC4\u5408\uFF0C\u56E0\u6B64\u6CA1\u6709\u6307\u4EE4\u3002 A\uFF1A \u00A0\u00A0\u00A0 \u76F4\u63A5\u8F6C\u6362\u503C B\uFF1A \u00A0\u00A0\u00A0 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8D85\u51FA\u4E86\u6570\u636E\u7C7B\u578B**\u7684\u6709\u6548\u4F4D\u6570\u8303\u56F4\uFF0C\u5219\u4F1A\u4F7F\u7CBE\u5EA6\u964D\u4F4E\u3002 \u4F8B\uFF1A\uFF08DINT\uFF091234567890\u2192\uFF08REAL\uFF091.234567E09 \u4F8B\uFF1A\uFF08LREAL\uFF093.1415926535\u2192\uFF08REAL\uFF093.1415926 C\uFF1A \u00A0\u00A0\u00A0 \u6309\u4E0B\u8FF0\u89C4\u5219\u5C06\u5C0F\u6570\u70B9\u540E\u7684\u503C\u5904\u7406\u4E3A\u6574\u6570\u3002 \u5C0F\u6570\u70B9\u540E\u7684\u503C \u5904\u7406 \u4F8B \u5C0F\u4E8E0.5 \u820D\u53BB REAL_TO_INT\uFF081.4\uFF09\u21921 REAL_TO_INT\uFF08-1.4\uFF09\u2192-1 0,5 \u5904\u7406\u4E3A\u6700\u63A5\u8FD1\u7684\u5076\u6570\u6574\u6570 REAL_TO_INT\uFF081.5\uFF09\u21922 REAL_TO_INT\uFF082.5\uFF09\u21922 REAL_TO_INT\uFF08-1.5\uFF09\u2192-2 REAL_TO_INT\uFF08-2.5\uFF09\u2192-2 \u5927\u4E8E0.5 \u8FDB\u4F4D REAL_TO_INT\uFF081.6\uFF09\u21922 REAL_TO_INT\uFF08-1.6\uFF09\u2192-2 \u5982\u679C TableX \u7684\u503C\u4E0D\u662F\u5347\u5E8F\uFF0CResult\u7684\u503C\u4F1A\u53D8\u5F97\u4E0D\u7A33\u5B9A\u3002 D1\uFF1A \u00A0\u00A0\u00A0 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8D85\u51FA\u6570\u636E\u7C7B\u578B**\u7684\u8303\u56F4\u65F6\uFF0C\u4E0D\u6267\u884C\u8F6C\u6362\uFF0C\u76F4\u63A5\u5B58\u50A8\u8BE5\u503C\u3002 D2\uFF1A \u00A0\u00A0\u00A0 \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u7684\u4F4E\u4F4D16\u4F4D\u4F5C\u4E3A\u5BF9\u8C61\u8FDB\u884C\u6362\u8F6C\u3002 D3\uFF1A \u00A0\u00A0\u00A0 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u662F0\u65F6\uFF0C\u5B58\u50A8FALSE\uFF1B\u662F0\u4EE5\u5916\u7684\u503C\u65F6\uFF0C\u5B58\u50A8TRUE\u3002 D4\uFF1A \u00A0\u00A0\u00A0 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u662FFALSE\u65F6\uFF0C\u5B58\u50A80\uFF1B\u662FTRUE\u65F6\uFF0C\u5B58\u50A81\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 ST\uFF1A \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 TO_** \u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TO_** \u6570\u636E\u7C7B\u578B\u8F6C\u6362 FUN \u00A0 Result := TO_**(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8F6C\u6362\u5BF9\u8C61\u6570\u636E Result RETURN \u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8F6C\u6362\u4E3A\u6570\u636E\u7C7B\u578B**\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 **\u662FBOOL/UINT/INT/UDINT/DINT/REAL/LREAL\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u3002 \u5982\u679C\u5BF9 Result \u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u7528**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5219\u4F1A\u81EA\u52A8\u6267\u884C\u7C7B\u578B\u8F6C\u6362\u3002 \u00A0 \u8F6C\u6362\u65F6\u7684\u52A8\u4F5C\u4E0E\u201C *_TO_** \u201D\u76F8\u540C\u3002 TRUNC_** \u5C0F\u6570\u820D\u53BB \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TRUNC_** \u5C0F\u6570\u820D\u53BB FUN \u00A0 Result := TRUNC_**(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In *1 IN - - \u8F6C\u6362\u5BF9\u8C61\u6570\u636E Result RETURN \u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B - \u8F6C\u6362\u7ED3\u679C *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u820D\u53BB In \u4E2D\u5B58\u50A8\u6570\u636E\u7684\u5C0F\u6570\u70B9\u540E\u7684\u503C\uFF0C\u8F6C\u6362\u6210\u6570\u636E\u7C7B\u578B**\u7684\u6574\u6570\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 **\u662FUINT/INT/UDINT/DINT\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u3002 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8D85\u51FA\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u7684\u8303\u56F4\uFF0C\u5219 Result \u4F1A\u662F\u4E0D\u5B9A\u503C\u3002 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8D85\u51FA\u6570\u636E\u7C7B\u578B**\u7684\u8303\u56F4\uFF0C\u5219 Result \u4F1A\u662F\u4E0D\u5B9A\u503C\u3002 \u5982\u679C\u5BF9 Result \u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u7528**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5219\u4F1A\u81EA\u52A8\u6267\u884C\u7C7B\u578B\u8F6C\u6362\u3002 TO_BCD_** BIN\u2192BCD\u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 TO_BCD_** BIN\u2192BCD\u6570\u636E\u7C7B\u578B\u8F6C\u6362 FUN \u00A0 Result := TO_BCD_**(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8F6C\u6362\u5BF9\u8C61\u6570\u636E Result RETURN \u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8F6C\u6362\u6210\u6570\u636E\u7C7B\u578B**\u7684BCD\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 **\u662FUINT/INT/UDINT/DINT\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u3002 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u8D85\u51FA\u6570\u636E\u7C7B\u578B**\u7684BCD\u6570\u636E\u7684\u8303\u56F4\uFF0C\u5219 Result \u4F1A\u662F\u4E0D\u5B9A\u503C\u3002 \u5982\u679C\u5BF9 Result \u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u7528**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5219\u4F1A\u81EA\u52A8\u6267\u884C\u7C7B\u578B\u8F6C\u6362\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u8F6C\u6362\u7ED3\u679C\u8D85\u51FA\u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u7684\u5927\u5C0F\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF BCD_TO_** BCD\u2192BIN\u6570\u636E\u7C7B\u578B\u8F6C\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 BCD_TO_** BCD\u2192BIN\u6570\u636E\u7C7B\u578B\u8F6C\u6362 FUN \u00A0 Result := BCD_TO_**(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8F6C\u6362\u5BF9\u8C61\u6570\u636E Result RETURN \u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B - \u8F6C\u6362\u7ED3\u679C \u52A8\u4F5C\u8BF4\u660E \u5C06 In \u4E2D\u5B58\u50A8\u7684BCD\u6570\u636E\u8F6C\u6362\u6210\u6570\u636E\u7C7B\u578B**\u7684\u6574\u6570\u6570\u636E\uFF0C\u5E76\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 **\u662FUINT/INT/UDINT/DINT\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u3002 \u5982\u679C In \u4E2D\u5B58\u50A8\u7684BCD\u6570\u636E\u8D85\u51FA\u8303\u56F4\uFF0C\u5219 Result \u4F1A\u662F\u4E0D\u5B9A\u503C\u3002 \u5982\u679C\u5BF9 Result \u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u7528**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u4E0D\u540C\uFF0C\u5219\u4F1A\u81EA\u52A8\u6267\u884C\u7C7B\u578B\u8F6C\u6362\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u4E2D\u5B58\u50A8\u7684\u503C\u4E0D\u662FBCD\u6570\u636E\u65F6 \u2022 \u8F6C\u6362\u7ED3\u679C\u8D85\u51FA\u901A\u8FC7**\u6307\u5B9A\u7684\u6570\u636E\u7C7B\u578B\u7684\u5927\u5C0F\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF IS_VALID \u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6709\u6548\u786E\u8BA4 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 IS_VALID \u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6709\u6548\u786E\u8BA4 FUN \u00A0 Result := IS_VALID(In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 In *1 IN - - \u6709\u6548\u786E\u8BA4\u6570\u636E Result RETURN BOOL - \u7ED3\u679C\uFF08\u975E\u6570\u6216\u65E0\u7A77\u65F6FALSE\uFF09 *1: \u5982\u679C\u5728\u68AF\u5F62\u56FE\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u4E3A\u8F6F\u5143\u4EF6\u65F6\uFF0C\u6309REAL\u578B\u8FDB\u884C\u52A8\u4F5C\u3002 \u52A8\u4F5C\u8BF4\u660E \u786E\u8BA4 In \u4E2D\u5B58\u50A8\u7684\u6D6E\u52A8\u5C0F\u6570\u70B9\u578B\u5B9E\u6570\u6570\u636E\u662F\u5426\u662F\u6709\u6548\u503C\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002 \u5982\u679C\u662F\u975E\u6570\uFF08NaN\uFF09\u6216\u65E0\u7A77\uFF08\u002BInf\u3001-Inf\uFF09\uFF0C\u5219\u4F1A\u5411 Result \u5B58\u50A8FALSE\u3002 \u00A0 \u2022 \u975E\u89C4\u683C\u6570\u88AB\u89C6\u4E3A\u6709\u6548\u503C\u3002 \u2022 \u5BF9 In \u6307\u5B9A\u4E86UINT/INT/UDINT/DINT\u578B\u7684\u53D8\u91CF\u65F6\uFF0C\u5C06\u59CB\u7EC8\u5728 Result \u4E2D\u5B58\u50A8TRUE\u3002"},{"link":"./03_19_FBFUN_Storage.html","title":"\u5B58\u50A8","body":"\u5B58\u50A8 FUN/FB \u540D\u79F0 \u6982\u8FF0 StorageWriteBin \u5199\u5165\u5B58\u50A8\u6587\u4EF6(BIN\u6570\u636E) \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u4FDD\u5B58\u4E3A\u6587\u4EF6\u3002 StorageReadBin \u8BFB\u53D6\u5B58\u50A8\u6587\u4EF6(BIN\u6570\u636E) \u8BFB\u53D6\u6587\u4EF6\u4E2D\u7684\u4E8C\u8FDB\u5236\u6570\u636E\u3002 StorageReadLine \u8BFB\u53D6\u5B58\u50A8\u6587\u4EF6(\u591A\u884C\u5B57\u7B26\u4E32) \u8BFB\u53D6\u6587\u4EF6\u4E2D\u7684\u591A\u884C\u5B57\u7B26\u4E32\u6570\u636E\u3002 StoragePrint \u5199\u5165\u5B58\u50A8\u5B57\u7B26\u4E32 \u5411\u6587\u4EF6\u7684\u672B\u5C3E\u5199\u5165\u5B57\u7B26\u4E32\u3002 StorageDeleteFile \u5220\u9664\u5B58\u50A8\u6587\u4EF6 \u5220\u9664\u6587\u4EF6\u3002 StorageMakeDir \u521B\u5EFA\u5B58\u50A8\u6587\u4EF6\u5939 \u521B\u5EFA\u6587\u4EF6\u5939\u3002 StorageRemoveDir \u5220\u9664\u5B58\u50A8\u6587\u4EF6\u5939 \u5305\u62EC\u5B50\u6587\u4EF6\u5939\u5728\u5185\uFF0C\u5220\u9664\u6587\u4EF6\u5939\u3002 StorageCopy \u590D\u5236\u5B58\u50A8\u6587\u4EF6 \u5C06\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u590D\u5236\u5230\u6307\u5B9A\u4F4D\u7F6E\u3002 StorageMove \u79FB\u52A8\u5B58\u50A8\u6587\u4EF6 \u5C06\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u79FB\u52A8\u5230\u6307\u5B9A\u4F4D\u7F6E\u3002 StorageRename \u91CD\u547D\u540D\u5B58\u50A8\u6587\u4EF6 \u66F4\u6539\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D\u3002 StorageGetCapacity \u83B7\u53D6\u5B58\u50A8\u53EF\u7528\u7A7A\u95F4 \u8FD4\u56DE\u5B58\u50A8\u53EF\u7528\u7A7A\u95F4\uFF08\u4EE5\u5343\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u3002 StorageGetStatus \u83B7\u53D6\u5B58\u50A8\u6587\u4EF6\u72B6\u6001 \u8FD4\u56DE\u6587\u4EF6\u7684\u72B6\u6001\uFF08\u6700\u7EC8\u66F4\u6539\u65E5\u671F\u65F6\u95F4\u3001\u5927\u5C0F\u7B49\uFF09\u3002 StorageGetFileList \u83B7\u53D6\u5B58\u50A8\u6587\u4EF6\u5217\u8868 \u83B7\u53D6\u6587\u4EF6\u5939\u4E2D\u542B\u6709\u7684\u6587\u4EF6\u5217\u8868\uFF08\u6700\u591A1000\uFF09\u3002 \u901A\u7528\u4E8B\u9879 \u4E0B\u8FF0\u5185\u5BB9\u662F\u6240\u6709\u5B58\u50A8FB\u7684\u901A\u7528\u5185\u5BB9\u3002\u5728\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u4E2D\u4E0D\u518D\u8BB0\u8F7D\u3002 \u2022 \u5728\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D\u7684\u5F00\u5934\u6DFB\u52A0\u201C0:\\\u201D\uFF08\u5B58\u50A8\u5361\uFF09\u3001\u201C1:\\\u201D\uFF08CPU\u5B58\u50A8\u5668\uFF09\uFF0C\u53EF\u4EE5\u6307\u5B9A\u5BF9\u8C61\u5B58\u50A8\u5668\u3002 \u5982\u4E0D\u6307\u5B9A\uFF0C\u5BF9\u8C61\u9A71\u52A8\u5668\u5C06\u4F5C\u4E3A\u5B58\u50A8\u5361\u8FD0\u884C\u3002 \u2022 \u6587\u4EF6\u540D\u5E94\u5305\u542B\u6269\u5C55\u540D\uFF0C\u5E76\u5B58\u50A8\u7EC8\u7AEF\u4EE3\u7801\uFF08NULL\uFF09\u3002 \u2022 \u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D\u5E94\u533A\u5206\u534A\u89D2\uFF0F\u5168\u89D2\uFF08\u4E0D\u533A\u5206\u5927\uFF0F\u5C0F\u5199\uFF09\u3002 \u2022 \u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D\u4E0D\u6B63\u786E\u65F6\uFF0C\u4F1A\u53D1\u751F\u6267\u884C\u65F6\u9519\u8BEF\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A2\uFF09\u3002 \u2022 \u4ECE\u5C06 Execute \u7F6E\u4E8ETRUE\u5F00\u59CB\u5230\u6267\u884C\u5B8C\u6210\u4E3A\u6B62\uFF0C\u9700\u8981\u8FDB\u884C\u591A\u6B21\u626B\u63CF\u3002\u56E0\u6B64\uFF0C\u4ECE\u5C06 Execute \u7F6E\u4E8ETRUE\u5F00\u59CB\u5230 Done \u53D8\u4E3ATRUE\u4E3A\u6B62\uFF0C\u8BF7\u4E0D\u8981\u66F4\u6539\u5404\u81EA\u53D8\u91CF\u7684\u503C\u3002 \u2022 \u4E0D\u80FD\u5728\u521D\u59CB\u5316\u6A21\u5757\u5185\u4F7F\u7528\u3002 \u2022 \u867D\u7136\u53EF\u4EE5\u540C\u65F6\u6267\u884C\u591A\u4E2A\u5B58\u50A8FB\uFF0C\u4F46\u6267\u884C\u987A\u5E8F\u4E0D\u5B9A\u3002 \u9519\u8BEF\u4EE3\u7801 \u5B58\u50A8FB\u7684\u9519\u8BEF\u4EE3\u7801\u5982\u4E0B\u6240\u793A\u3002 \u9519\u8BEF\u4EE3\u7801 \u9519\u8BEF\u5185\u5BB9 \u539F\u56E0 0 \u6B63\u5E38 - 1 \u5B58\u50A8\u5361\u672A\u63D2\u5165 \u5B58\u50A8\u5361\u672A\u63D2\u5165\u6216\u5B58\u50A8\u5361\u69FD\u6253\u5F00\u3002 2 \u6587\u4EF6\u540D\u5F02\u5E38 \u6587\u4EF6\u540D\u4E2D\u542B\u6709\u4E0D\u80FD\u4F7F\u7528\u7684\u5B57\u7B26\u3002 \u6216\u8005\u5728\u4E0D\u80FD\u4F7F\u7528\u4E4B\u5904\u4F7F\u7528\u4E86\u901A\u914D\u7B26\u3002 3 \u6587\u4EF6\u4E0D\u5B58\u5728 \u6307\u5B9A\u7684\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u3002 4 \u6587\u4EF6\u5DF2\u7ECF\u5B58\u5728 \u6307\u5B9A\u7684\u6587\u4EF6\u6216\u6587\u4EF6\u5939\u5DF2\u7ECF\u5B58\u5728\u3002 5 \u6587\u4EF6\u8BFB\u53D6\u9519\u8BEF \u5B58\u50A8\u5361\u7684\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u6709\u5F02\u5E38 6 \u6587\u4EF6\u5199\u5165\u9519\u8BEF \u2022 \u6307\u5B9A\u7684\u6587\u4EF6\u4E2D\u6709\u5199\u4FDD\u62A4\u3002 \u2022 \u8BF7\u53D6\u6D88\u6307\u5B9A\u6587\u4EF6\u7684\u5199\u4FDD\u62A4\u3002 \u2022 \u5B58\u50A8\u5361\u7684\u6587\u4EF6\u7CFB\u7EDF\u4E2D\u6709\u5F02\u5E38 7 \u6587\u4EF6\u5199\u5165\uFF0F\u8BFB\u53D6\u4F4D\u7F6E\u5F02\u5E38 \u6307\u5B9A\u7684\u5199\u5165\uFF0F\u8BFB\u51FA\u4F4D\u7F6E\u8D85\u51FA\u4E86\u6587\u4EF6\u7684\u8303\u56F4\u3002 8 \u5B58\u50A8\u5361\u5BB9\u91CF\u4E0D\u8DB3 \u7531\u4E8E\u5B58\u50A8\u5361\u7684\u5BB9\u91CF\u4E0D\u8DB3\uFF0C\u4E0D\u80FD\u6B63\u5E38\u4FDD\u5B58\u6587\u4EF6\u3002 9 \u683C\u5F0F\u5F02\u5E38 \u5199\u5165\u5B57\u7B26\u4E32\u4E2D\u6CA1\u6709NULL\u3002 10 \u6587\u4EF6\u5B58\u53D6\u7ADE\u4E89 \u56E0\u4E3A\u6B63\u5728\u8BBF\u95EE\u5176\u4ED6\u529F\u80FD\u6307\u5B9A\u7684\u6587\u4EF6\u4E2D\uFF0C\u6240\u4EE5\u672A\u6267\u884C\u6307\u4EE4\u3002 11 CPU\u5B58\u50A8\u5668\u9650\u5236\u9519\u8BEF \u2022 CPU\u5B58\u50A8\u5668\u4E2D\u5DF2\u67094096\u4E2A\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\uFF0C\u6240\u4EE5\u65E0\u6CD5\u521B\u5EFA\u65B0\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u3002 \u2022 \u60F3\u8981\u521B\u5EFA\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u7684\u5C42\u7EA7\u8D85\u8FC7\u4E8616\u5C42\u3002 100 \u53C2\u6570\u8BBE\u5B9A\u8D85\u51FA\u8303\u56F4\u9519\u8BEF \u53C2\u6570\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u3002\u8BF7\u786E\u8BA4\u5404FB\u7684\u89C4\u683C\u3002 1000 \u5176\u5B83\u9519\u8BEF \u56E0\u4E3A\u6587\u4EF6\u7CFB\u7EDF\u7684\u9650\u5236\u672A\u80FD\u6267\u884C\u6307\u4EE4\u3002 2000 \u529F\u80FD\u7684\u5806\u6808\u533A\u57DF\u6307\u5B9A\u9519\u8BEF \u4E0D\u80FD\u5BF9IN-OUT\u81EA\u53D8\u91CF\u6307\u5B9A\u529F\u80FD\u7684IN\u81EA\u53D8\u91CF\u3001OUT\u81EA\u53D8\u91CF\u548C\u5C40\u90E8\u53D8\u91CF\u3002 StorageWriteBin \u5199\u5165\u5B58\u50A8\u6587\u4EF6(BIN\u6570\u636E) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageWriteBin \u5199\u5165\u5B58\u50A8\u6587\u4EF6(BIN\u6570\u636E) FB \u00A0 StorageWriteBin_instance(Execute, Path, Mode, ByteSize, WritePos, Src, ByteSizeRes, WritePosRes, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Path IN STRING[246] \u0027\u0027 \u6587\u4EF6\u540D Mode IN UINT 0 \u5199\u5165\u6A21\u5F0F\uFF080\uFF1A\u6DFB\u52A0\u30011\uFF1A\u4ECE\u5F00\u5934\u504F\u79FB\u30012\uFF1A\u4ECE\u672B\u5C3E\u504F\u79FB\u30013\uFF1A\u65B0\u5EFA\uFF09 ByteSize IN UDINT 0 \u5199\u5165\u5B57\u8282\u6570(1\uFF5E) WritePos IN UDINT 0 \u5199\u5165\u5B57\u8282\u4F4D\u7F6E Src IN - - \u5199\u5165\u6570\u636E\u8D77\u59CB ByteSizeRes OUT UDINT - \u5DF2\u5B9E\u9645\u5199\u5165\u6570\u636E\u7684\u5B57\u8282\u6570 WritePosRes OUT UDINT - \u5199\u5165\u5B57\u8282\u4F4D\u7F6E\u7ED3\u679C Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4EE5 Src \u4E3A\u5F00\u5934\u7684 ByteSize \u5B57\u8282\u7684\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5728 Mode \u6307\u5B9A\u7684\u6A21\u5F0F\u4E0B\uFF0C\u4FDD\u5B58\u5230 Path \u6307\u5B9A\u7684\u6587\u4EF6\u4E2D\u3002 \u5B8C\u6210\u5199\u5165\u5B58\u50A8\u5904\u7406\u540E\uFF0C\u5B9E\u9645\u5199\u5165\u7684\u6570\u636E\u6570\u5B58\u50A8\u5728 ByteSizeRes \u4E2D\uFF0C\u4E0B\u6B21\u5199\u5165\u4F4D\u7F6E\u5B58\u50A8\u5728 WritePosRes \u4E2D\u3002 Path \u6240\u542B\u6709\u7684\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF0C\u4F1A\u5728\u521B\u5EFA\u6587\u4EF6\u5939\u540E\u6267\u884C\u5199\u5165\u3002\u5199\u5165\u7684\u5B57\u8282\u987A\u5E8F\u662F\u5C0F\u7AEF\u5E8F\u3002 Mode \u5199\u5165\u65B9\u6CD5\u53EF\u6839\u636E Mode \u7684\u503C\uFF0C\u4ECE\u4E0B\u8FF0\u65B9\u6CD5\u4E2D\u9009\u62E9\u3002 Mode\u7684\u503C \u6A21\u5F0F \u5185\u5BB9 0 \u6DFB\u52A0\u6A21\u5F0F \u4FDD\u7559\u5F53\u524D\u6587\u4EF6\u7684\u5185\u5BB9\uFF0C\u5728\u8BE5\u6587\u4EF6\u7684\u672B\u5C3E\u6DFB\u52A0\u5E76\u4FDD\u5B58\u6570\u636E\u3002 \u6CA1\u6709\u6587\u4EF6\u65F6\u4F1A\u65B0\u5EFA\u6587\u4EF6\u3002 1 \u4ECE\u6587\u4EF6\u5F00\u5934\u5F00\u59CB\u504F\u79FB \u4FDD\u7559\u5F53\u524D\u6587\u4EF6\u7684\u5185\u5BB9\uFF0C\u5728\u8BE5\u6587\u4EF6\u4ECE\u5F00\u5934\u5F00\u59CB\u7528 WritePos \u6307\u5B9A\u7684\u4F4D\u7F6E\u5904\u8986\u76D6\u5E76\u4FDD\u5B58\u6570\u636E\u3002 \u6CA1\u6709\u6587\u4EF6\u65F6\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 2 \u4ECE\u6587\u4EF6\u672B\u5C3E\u5F00\u59CB\u504F\u79FB \u4FDD\u7559\u5F53\u524D\u6587\u4EF6\u7684\u5185\u5BB9\uFF0C\u5728\u8BE5\u6587\u4EF6\u4ECE\u672B\u5C3E\u5F00\u59CB\u7528 WritePos \u6307\u5B9A\u7684\u4F4D\u7F6E\u5904\u8986\u76D6\u5E76\u4FDD\u5B58\u6570\u636E\u3002 \u6CA1\u6709\u6587\u4EF6\u65F6\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 3 \u65B0\u5EFA\u6A21\u5F0F \u5220\u9664\u6587\u4EF6\u7684\u5185\u5BB9\u540E\u5199\u5165\u6570\u636E\u3002 \u6CA1\u6709\u6587\u4EF6\u65F6\u4F1A\u65B0\u5EFA\u6587\u4EF6\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Src \u7684\u5269\u4F59\u5B57\u8282\u5927\u5C0F\uFF1C ByteSize \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2022 ByteSize \uFF1D0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2022 \u5BF9 Mode \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2022 Mode \uFF1D1\u6216 Mode \uFF1D2\uFF0C\u7528 Path \u6307\u5B9A\u7684\u6587\u4EF6\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 Mode \uFF1D1\u6216 Mode \uFF1D2\uFF0C\u5728 WritePos \u4E2D\u6307\u5B9A\u4E86\u9519\u8BEF\u7684\u6587\u4EF6\u6307\u9488\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A7\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u5C06CPU\u7CFB\u7EDF\u8BBE\u5B9A\u7684\u9879\u76EE\u8BED\u8A00\u8BBE\u4E3AUTF-8\u65F6\uFF0C\u5982\u679C\u4E0D\u5728\u6587\u4EF6\u5F00\u5934\u9644\u52A0BOM\uFF0C\u90A3\u4E48\u5728\u4F7F\u7528\u8868\u683C\u8BA1\u7B97\u8F6F\u4EF6\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E71\u7801\u3002 \u9644\u52A0BOM\u65F6\uFF0C\u5728StorageWriteBin\u4E2D\u5199\u51650xEFBBBF\u3002 \u4F46StorageWriteBin\u662F\u6309\u5C0F\u7AEF\u5E8F\u5199\u5165\u6570\u636E\u7684\uFF0C\u6240\u4EE5\u5728 Src \u4E2D\u5B58\u50A8\u201CBFBBEF\u201D\u3002\u9644\u52A0BOM\u65F6\uFF0C\u8BF7\u5728\u6587\u4EF6\u5F00\u5934\u53EA\u9644\u52A01\u6B21\u3002 \u00A0 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u5199\u5165CSV ST\uFF1A \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u5199\u5165CSV StorageReadBin \u8BFB\u53D6\u5B58\u50A8\u6587\u4EF6(BIN\u6570\u636E) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageReadBin \u8BFB\u53D6\u5B58\u50A8\u6587\u4EF6(BIN\u6570\u636E) FB \u00A0 StorageReadBin_instance(Execute, Path, Mode, MaxByteSize, ReadPos, Dst, ByteSizeRes, ReadPosRes, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Path IN STRING[246] \u0027\u0027 \u6587\u4EF6\u540D Mode IN UINT 0 \u8BFB\u53D6\u6A21\u5F0F\uFF080\uFF1A\u4ECE\u5F00\u5934\u504F\u79FB\u30011\uFF1A\u4ECE\u672B\u5C3E\u504F\u79FB\uFF09 MaxByteSize IN UDINT 0 \u6700\u5927\u8BFB\u53D6\u5B57\u8282\u6570(1\uFF5E) ReadPos IN UDINT 0 \u8BFB\u53D6\u5B57\u8282\u4F4D\u7F6E Dst IN-OUT - - \u8BFB\u53D6\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB ByteSizeRes OUT UDINT - \u5DF2\u5B9E\u9645\u8BFB\u53D6\u6570\u636E\u7684\u5B57\u8282\u6570 ReadPosRes OUT UDINT - \u8BFB\u53D6\u5B57\u8282\u4F4D\u7F6E\u7ED3\u679C Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5BF9\u4E8E\u7528 Path \u6307\u5B9A\u7684\u6587\u4EF6\u7684\u4E8C\u8FDB\u5236\u6570\u636E\uFF0C\u5728\u7528 Mode \u6307\u5B9A\u7684\u6A21\u5F0F\u4E0B\uFF0C\u8BFB\u53D6\u6700\u5927 MaxByteSize \u5B57\u8282\uFF0C\u5E76\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u5B8C\u6210\u8BFB\u53D6\u5904\u7406\u540E\uFF0C\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u6570\u5B58\u50A8\u5728 ByteSizeRes \u4E2D\uFF0C\u4E0B\u6B21\u8BFB\u53D6\u4F4D\u7F6E\u5B58\u50A8\u5728 ReadPosRes \u4E2D\u3002 \u8BFB\u53D6\u5BF9\u8C61\u6570\u636E\u5927\u5C0F\u6BD4 MaxByteSize \u5B57\u8282\u5C0F\u65F6\uFF0C\u4F1A\u53EA\u8BFB\u53D6\u8BE5\u6570\u636E\u5927\u5C0F\u3002 \u8BFB\u53D6\u7684\u5B57\u8282\u987A\u5E8F\u662F\u5C0F\u7AEF\u5E8F\u3002 Mode \u8BFB\u53D6\u65B9\u6CD5\u53EF\u6839\u636E Mode \u7684\u503C\uFF0C\u4ECE\u4E0B\u8FF0\u65B9\u6CD5\u4E2D\u9009\u62E9\u3002 Mode\u7684\u503C \u6A21\u5F0F \u5185\u5BB9 0 \u4ECE\u6587\u4EF6\u5F00\u5934\u5F00\u59CB\u504F\u79FB \u8BFB\u53D6\u4ECE\u6587\u4EF6\u7684\u5F00\u5934\u5F00\u59CB\u3001\u7528 ReadPos \u6307\u5B9A\u7684\u5B57\u8282\u4F4D\u7F6E\u5F00\u59CB\u7684\u6570\u636E\u3002 1 \u4ECE\u6587\u4EF6\u672B\u5C3E\u5F00\u59CB\u504F\u79FB \u8BFB\u53D6\u4ECE\u6587\u4EF6\u7684\u672B\u5C3E\u5F00\u59CB\u3001\u7528 ReadPos \u6307\u5B9A\u7684\u5B57\u8282\u4F4D\u7F6E\u5F00\u59CB\u7684\u6570\u636E\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Path \u6307\u5B9A\u7684\u6587\u4EF6\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5728 ReadPos \u4E2D\u6307\u5B9A\u4E86\u9519\u8BEF\u7684\u6587\u4EF6\u6307\u9488\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A7\uFF09 \u2022 Dst \u7684\u5269\u4F59\u5B57\u8282\u5927\u5C0F\uFF1C MaxByteSize \u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2022 MaxByteSize \uFF1D0\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2022 \u5BF9 Mode \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageReadLine \u8BFB\u53D6\u5B58\u50A8\u6587\u4EF6(\u591A\u884C\u5B57\u7B26\u4E32) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageReadLine \u8BFB\u53D6\u5B58\u50A8\u6587\u4EF6(\u591A\u884C\u5B57\u7B26\u4E32) FB \u00A0 StorageReadLine_instance(Execute, Path, MaxReadLineNum, MaxByteSize, ReadPos, Dst, ByteSizeRes, ReadLineNum, EOF, NoCRLF, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Path IN STRING[246] \u0027\u0027 \u6587\u4EF6\u540D MaxReadLineNum IN UINT 1 \u6700\u5927\u8BFB\u53D6\u884C\u6570 MaxByteSize IN UINT 0 \u6700\u5927\u8BFB\u53D6\u5B57\u8282\u6570\uFF08NULL\u9664\u5916\uFF09 ReadPos IN-OUT UDINT - \u8BFB\u53D6\u5B57\u8282\u4F4D\u7F6E Dst IN-OUT STRING[*] - \u8BFB\u53D6\u6570\u636E\u5B58\u50A8\u76EE\u6807 ByteSizeRes OUT UINT - \u5DF2\u5B9E\u9645\u8BFB\u53D6\u6570\u636E\u7684\u5B57\u8282\u6570 ReadLineNum OUT UINT - \u5DF2\u5B9E\u9645\u8BFB\u53D6\u6570\u636E\u7684\u884C\u6570 EOF OUT BOOL - \u6587\u4EF6\u672B\u7AEF\u901A\u77E5 NoCRLF OUT BOOL - \u65E0\u6362\u884C\u901A\u77E5 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5BF9\u4E8E\u7528 Path \u6307\u5B9A\u7684\u6587\u4EF6\u7684\u5B57\u7B26\u4E32\u6570\u636E\uFF0C\u4ECE ReadPos \u5B57\u8282\u7684\u4F4D\u7F6E\u5F00\u59CB\u8BFB\u53D6 MaxReadLineNum \u884C\uFF0C\u5E76\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u5BF9 MaxByteSize \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u5C06\u201C\u5BF9 Dst \u6307\u5B9A\u7684\u64CD\u4F5C\u6570\u7684\u5B57\u7B26\u5927\u5C0F\u201D\u4F5C\u4E3A\u6700\u5927\u8BFB\u53D6\u5B57\u8282\u6570\u8FDB\u884C\u8BFB\u53D6\u3002 \u5982\u679C\u5BF9 MaxReadLineNum \u6307\u5B9A\u4E860\uFF0C\u5219\u4E0D\u9650\u5236\u8BFB\u53D6\u884C\u6570\uFF0C\u4F1A\u8BFB\u53D6\u5230\u6700\u5927\u8BFB\u53D6\u5B57\u8282\u6570\u6216\u6587\u4EF6\u672B\u7AEF\u3002 \u5B8C\u6210\u8BFB\u53D6\u5904\u7406\u540E\uFF0C\u5B9E\u9645\u4EE5 Dst \u4E3A\u5F00\u5934\u8BFB\u53D6\u7684\u6570\u636E\u6570\uFF08\u5B57\u8282\u5355\u4F4D\uFF0CNULL\u9664\u5916\uFF09\u5B58\u50A8\u5728 ByteSizeRes \u4E2D\uFF0C\u6539\u884C\u5B57\u7B26\u7684\u6570\u91CF\u5B58\u50A8\u5728 ReadLineNum \u4E2D\uFF0C\u4E0B\u6B21\u8BFB\u53D6\u4F4D\u7F6E\u5B58\u50A8\u5728 ReadPos \u4E2D\u3002 \u8BFB\u53D6\u5230\u6587\u4EF6\u672B\u7AEF\u540E\uFF0C EOF \u53D8\u4E3ATRUE\u3002 \u4ECE\u8BFB\u53D6\u6570\u636E\u7684\u5F00\u5934\u5230\u6700\u5927\u8BFB\u53D6\u5B57\u8282\u6570\u6216\u6587\u4EF6\u672B\u7AEF\u5185\uFF0C\u5982\u672A\u627E\u5230 MaxReadLineNum \u4E2A\u6539\u884C\u5B57\u7B26\uFF08CR\uFF080x0D\uFF09\u3001LF\uFF080x0A\uFF09\u3001CR\u002BLF\uFF09\uFF0C\u5219\u4F1A\u8BFB\u53D6\u5230\u6700\u5927\u8BFB\u53D6\u5B57\u8282\u6570\u6216\u6587\u4EF6\u672B\u7AEF\uFF0C NoCRLF \u53D8\u4E3ATRUE\u3002 \u5728\u8BFB\u53D6\u5230 Dst \u4E2D\u7684\u6570\u636E\u672B\u5C3E\u5B58\u50A8NULL\u3002 \u5982\u679C\u8BFB\u53D6\u4E86 MaxReadLineNum \u4E2A\u6539\u884C\u5B57\u7B26\uFF08 MaxReadLineNum \uFF1D ReadLineNum \u65F6\uFF09\uFF0C\u5219\u4E0D\u4F1A\u5728 Dst \u4E2D\u5B58\u50A8\u6700\u540E\u4E00\u884C\u672B\u5C3E\u7684\u6539\u884C\u5B57\u7B26\uFF08\u5B58\u50A8\u6700\u540E\u4E00\u884C\u4EE5\u5916\u7684\u6539\u884C\u5B57\u7B26\uFF09\u3002 \u5982\u679C\u672A\u80FD\u8BFB\u53D6 MaxReadLineNum \u4E2A\u6539\u884C\u5B57\u7B26\uFF08 MaxReadLineNum \uFF1E ReadLineNum \u65F6\uFF09\uFF0C\u5219\u4F1A\u5411 Dst \u5B58\u50A8\u8BFB\u53D6\u5230\u7684\u6240\u6709\u5B57\u7B26\uFF08\u6700\u540E\u4E00\u884C\u4E0D\u5305\u542B\u57281\u884C\u4E2D\uFF09\u3002 \u00A0 \u4E0B\u8FF0\u662F MaxReadLineNum =3\u3001 MaxByteSize =0\u3001 ReadPos =5\u65F6\u7684\u793A\u4F8B\u3002 \u4E0B\u56FE\u4E2D\u7684 \u662F\u8868\u793A\u6539\u884C\u7B26(CR\u002BLF)\u7684\u7B26\u53F7\uFF082\u5B57\u8282\uFF09\u3002 \u00A0 \u672A\u5230\u8FBE\u6587\u4EF6\u7684\u672B\u7AEF\uFF0C\u6240\u4EE5 EOF \u662FFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Path \u6307\u5B9A\u7684\u6587\u4EF6\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5728 ReadPos \u4E2D\u6307\u5B9A\u4E86\u9519\u8BEF\u7684\u6587\u4EF6\u6307\u9488\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A7\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StoragePrint \u5199\u5165\u5B58\u50A8\u5B57\u7B26\u4E32 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StoragePrint \u5199\u5165\u5B58\u50A8\u5B57\u7B26\u4E32 FB \u00A0 StoragePrint_instance(Execute, Path, Src, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Path IN STRING[246] \u0027\u0027 \u6587\u4EF6\u540D Src IN STRING[*] - \u5199\u5165\u5B57\u7B26\u4E32 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728\u7528 Path \u6307\u5B9A\u7684\u6587\u4EF6\u672B\u5C3E\uFF0C\u5199\u5165\u7528 Src \u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u3002 Path \u6240\u542B\u6709\u7684\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF0C\u4F1A\u5728\u521B\u5EFA\u6587\u4EF6\u5939\u540E\u6267\u884C\u5199\u5165\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Src \u4E2D\u6CA1\u6709NULL\uFF0800H\uFF09\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A9\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u5C06CPU\u7CFB\u7EDF\u8BBE\u5B9A\u7684\u9879\u76EE\u8BED\u8A00\u8BBE\u4E3AUTF-8\u65F6\uFF0C\u5982\u679C\u4E0D\u5728\u6587\u4EF6\u5F00\u5934\u9644\u52A0BOM\uFF0C\u90A3\u4E48\u5728\u4F7F\u7528\u8868\u683C\u8BA1\u7B97\u8F6F\u4EF6\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E71\u7801\u3002 \u9644\u52A0BOM\u65F6\uFF0C\u5728StorageWriteBin\u4E2D\u5199\u51650xEFBBBF\u3002 \u4F46StorageWriteBin\u662F\u6309\u5C0F\u7AEF\u5E8F\u5199\u5165\u6570\u636E\u7684\uFF0C\u6240\u4EE5\u5728 Src \u4E2D\u5B58\u50A8\u201CBFBBEF\u201D\u3002\u9644\u52A0BOM\u65F6\uFF0C\u8BF7\u5728\u6587\u4EF6\u5F00\u5934\u53EA\u9644\u52A01\u6B21\u3002 \u00A0 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u5C06\u5B57\u7B26\u4E32\u5199\u5165CSV ST\uFF1A \u5C06\u5B57\u7B26\u4E32\u5199\u5165CSV StorageDeleteFile \u5220\u9664\u5B58\u50A8\u6587\u4EF6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageDeleteFile \u5220\u9664\u5B58\u50A8\u6587\u4EF6 FB \u00A0 StorageDeleteFile_instance(Execute, Path, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Path IN STRING[246] \u0027\u0027 \u5373\u5C06\u5220\u9664\u7684\u6587\u4EF6\u540D Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5220\u9664\u7528 Path \u6307\u5B9A\u7684\u6587\u4EF6\u3002 Path \u652F\u6301\u6307\u5B9A\u901A\u914D\u7B26\uFF08*, ?\uFF09\u3002 \u4F46\u662F\uFF0C\u6587\u4EF6\u5939\u540D\u4E2D\u4E0D\u80FD\u542B\u6709\u901A\u914D\u7B26\uFF08\u6839\u76EE\u5F55\u4E2D\u4E5F\u4E0D\u80FD\u542B\u6709\u901A\u914D\u7B26\uFF09\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Path \u6307\u5B9A\u7684\u6587\u4EF6\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 Path \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u540D\u4E2D\u542B\u6709\u901A\u914D\u7B26\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A2\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageMakeDir \u521B\u5EFA\u5B58\u50A8\u6587\u4EF6\u5939 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageMakeDir \u521B\u5EFA\u5B58\u50A8\u6587\u4EF6\u5939 FB \u00A0 StorageMakeDir_instance(Execute, DirPath, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 DirPath IN STRING[246] \u0027\u0027 \u5373\u5C06\u521B\u5EFA\u7684\u6587\u4EF6\u5939\u540D Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u521B\u5EFA\u7528 DirPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u3002\u53EF\u57281\u6B21\u6267\u884C\u4E2D\u521B\u5EFA\u591A\u5C42\u7EA7\u7684\u6587\u4EF6\u5939\u3002 StorageRemoveDir \u5220\u9664\u5B58\u50A8\u6587\u4EF6\u5939 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageRemoveDir \u5220\u9664\u5B58\u50A8\u6587\u4EF6\u5939 FB \u00A0 StorageRemoveDir_instance(Execute, DirPath, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 DirPath IN STRING[246] \u0027\u0027 \u5373\u5C06\u5220\u9664\u7684\u6587\u4EF6\u5939\u540D Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5305\u62EC\u5B50\u6587\u4EF6\u5939\u5728\u5185\uFF0C\u5220\u9664\u901A\u8FC7 DirPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u3002 DirPath \u652F\u6301\u6307\u5B9A\u901A\u914D\u7B26\uFF08*, ?\uFF09\u3002 \u4F46\u662F\uFF0C\u53EA\u6709 DirPath \u6307\u5B9A\u7684\u6700\u4E0B\u5C42\u6587\u4EF6\u5939\u540D\u53EF\u4F7F\u7528\u901A\u914D\u7B26\uFF08\u6839\u76EE\u5F55\u4E2D\u4E5F\u4E0D\u80FD\u542B\u6709\u901A\u914D\u7B26\uFF09\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 DirPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5728 DirPath \u6307\u5B9A\u7684\u6700\u4E0B\u5C42\u6587\u4EF6\u5939\u540D\u4EE5\u5916\u4E4B\u5904\u542B\u6709\u901A\u914D\u7B26\uFF0C\u6216\u8005\u6839\u76EE\u5F55\u4E2D\u542B\u6709\u901A\u914D\u7B26\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A2\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageCopy \u590D\u5236\u5B58\u50A8\u6587\u4EF6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageCopy \u590D\u5236\u5B58\u50A8\u6587\u4EF6 FB \u00A0 StorageCopy_instance(Execute, SrcPath, DstPath, Overwrite, SubFolder, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SrcPath IN STRING[246] \u0027\u0027 \u590D\u5236\u6E90\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D DstPath IN STRING[246] \u0027\u0027 \u590D\u5236\u76EE\u6807\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D Overwrite IN BOOL FALSE \u540C\u540D\u6587\u4EF6\u8986\u76D6\u4FDD\u5B58\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 SubFolder IN BOOL FALSE \u590D\u5236\u5B50\u6587\u4EF6\u5939\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF0C\u4EC5\u5728\u8DE8\u5B58\u50A8\u590D\u5236\u65F6\u6709\u6548\uFF09 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5C06\u901A\u8FC7 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\uFF0C\u590D\u5236\u5230\u901A\u8FC7 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u4E2D\u3002 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\u65F6 \u5C06 SrcPath \u7684\u6587\u4EF6\u5939\u4E0B\u9762\u7684\u6240\u6709\u6587\u4EF6\uFF0C\u90FD\u590D\u5236\u5230\u901A\u8FC7 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u3002\u5982\u679C\u901A\u8FC7 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u81EA\u52A8\u521B\u5EFA\u6587\u4EF6\u5939\uFF08\u4F46\u5982\u679C\u662F\u8DE8\u5B58\u50A8\u590D\u5236\uFF0C\u5219\u4F1A\u53EA\u81EA\u52A8\u521B\u5EFA1\u4E2A\u5C42\u7EA7\uFF09\u3002\u8FDB\u884C\u8DE8\u5B58\u50A8\u590D\u5236\u65F6\uFF0C\u5982\u679C\u5BF9 SubFolder \u6307\u5B9ATRUE\uFF0C\u5219\u590D\u5236\u5BF9\u8C61\u8FD8\u5305\u62EC SrcPath \u7684\u6587\u4EF6\u5939\u4E0B\u9762\u7684\u5B50\u6587\u4EF6\u5939\u3002 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u65F6 \u5BF9 DstPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\u65F6\uFF0C\u4F1A\u590D\u5236\u7528 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u3001\u7528 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\u3002\u5982\u679C DstPath \u5305\u542B\u6587\u4EF6\u5939\uFF0C\u8BF7\u9884\u5148\u521B\u5EFA\u6587\u4EF6\u5939\uFF08\u4E0D\u4F1A\u81EA\u52A8\u521B\u5EFA\uFF09\u3002 Overwrite \u5C06 Overwrite \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5982\u679C\u590D\u5236\u76EE\u6807\u4E2D\u6709\u540C\u540D\u6587\u4EF6\uFF0C\u5219\u4F1A\u8986\u76D6\u4FDD\u5B58\uFF08\u4E0D\u8986\u76D6\u53EA\u8BFB\u5C5E\u6027\u7684\u6587\u4EF6\uFF09\u3002 \u5C06 Overwrite \u8BBE\u4E3AFALSE\u65F6\uFF0C\u5982\u679C\u590D\u5236\u76EE\u6807\u4E2D\u6709\u540C\u540D\u6587\u4EF6\uFF0C\u5219\u4E0D\u8FDB\u884C\u8986\u76D6\uFF0C\u800C\u662F\u53D1\u751F\u9519\u8BEF\u540E\u7ED3\u675F\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\uFF0C\u5BF9 DstPath \u6307\u5B9A\u4E86\u6587\u4EF6\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A2\uFF09 \u2022 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u5305\u542B\u6587\u4EF6\u7684\u8DEF\u5F84\uFF0C\u5BF9 DstPath \u6307\u5B9A\u4E86\u5305\u542B\u6587\u4EF6\u5939\u7684\u8DEF\u5F84\uFF0C\u4F46\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5728\u8DE8\u5B58\u50A8\u590D\u5236\u4E2D\u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\uFF0C\u800C DstPath \u4E2D\u6307\u5B9A\u7684\u6587\u4EF6\u5939\u6CA1\u67092\u5C42\u4EE5\u4E0A\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 SrcPath \u548C DstPath \u5B8C\u5168\u76F8\u540C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u2022 \u5C06 Overwrite \u8BBE\u4E3AFALSE\uFF0C\u590D\u5236\u76EE\u6807\u4E2D\u6709\u540C\u540D\u6587\u4EF6\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageMove \u79FB\u52A8\u5B58\u50A8\u6587\u4EF6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageMove \u79FB\u52A8\u5B58\u50A8\u6587\u4EF6 FB \u00A0 StorageMove_instance(Execute, SrcPath, DstPath, Overwrite, SubFolder, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SrcPath IN STRING[246] \u0027\u0027 \u79FB\u52A8\u6E90\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D DstPath IN STRING[246] \u0027\u0027 \u79FB\u52A8\u76EE\u6807\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D Overwrite IN BOOL FALSE \u540C\u540D\u6587\u4EF6\u8986\u76D6\u4FDD\u5B58\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF09 SubFolder IN BOOL FALSE \u79FB\u52A8\u5B50\u6587\u4EF6\u5939\uFF08FALSE\uFF1A\u53BB\u80FD\u3001TRUE\uFF1A\u4F7F\u80FD\uFF0C\u4EC5\u5728\u8DE8\u5B58\u50A8\u79FB\u52A8\u65F6\u6709\u6548\uFF09 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5C06\u901A\u8FC7 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\uFF0C\u79FB\u52A8\u5230\u901A\u8FC7 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u4E2D\u3002 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\u65F6 \u5C06 SrcPath \u7684\u6587\u4EF6\u5939\u4E0B\u9762\u7684\u6240\u6709\u6587\u4EF6\uFF0C\u90FD\u79FB\u52A8\u5230\u901A\u8FC7 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u3002 \u5982\u679C\u901A\u8FC7 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u81EA\u52A8\u521B\u5EFA\u6587\u4EF6\u5939\uFF08\u4F46\u5982\u679C\u662F\u8DE8\u5B58\u50A8\u79FB\u52A8\uFF0C\u5219\u4F1A\u53EA\u81EA\u52A8\u521B\u5EFA1\u4E2A\u5C42\u7EA7\uFF09\u3002 \u2012 \u5728\u8DE8\u5B58\u50A8\u79FB\u52A8\u4E2D\u5BF9 SubFolder \u6307\u5B9A\u4E86FALSE\u65F6 \u5982\u679C SrcPath \u4E2D\u6CA1\u6709\u5B50\u6587\u4EF6\u5939\uFF0C\u5219\u4F1A\u5728\u79FB\u52A8\u540E\u5220\u9664 SrcPath \u7684\u6587\u4EF6\u5939\u4EE5\u53CA SrcPath \u5185\u7684\u6587\u4EF6\u3002 \u5982\u679C SrcPath \u4E2D\u6709\u5B50\u6587\u4EF6\u5939\uFF0C\u5219\u4F1A\u5728\u79FB\u52A8\u540E\u53EA\u5220\u9664 SrcPath \u5185\u7684\u6587\u4EF6\uFF08\u4E0D\u5220\u9664 SrcPath \u7684\u6587\u4EF6\u5939\uFF09\u3002 \u2012 \u5728\u8DE8\u5B58\u50A8\u79FB\u52A8\u4E2D\u5BF9 SubFolder \u6307\u5B9A\u4E86TRUE\u65F6 \u79FB\u52A8 SrcPath \u7684\u6587\u4EF6\u5939\u53CA\u4E0B\u9762\u7684\u5B50\u6587\u4EF6\u5939\uFF0C\u79FB\u52A8\u540E\u5220\u9664 SrcPath \u7684\u6587\u4EF6\u5939\u3002 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u65F6 \u5BF9 DstPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\u65F6\uFF0C\u4F1A\u79FB\u52A8\u7528 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u3001\u7528 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\u3002 \u5982\u679C DstPath \u5305\u542B\u6587\u4EF6\u5939\uFF0C\u8BF7\u9884\u5148\u521B\u5EFA\u6587\u4EF6\u5939\uFF08\u4E0D\u4F1A\u81EA\u52A8\u521B\u5EFA\uFF09\u3002 Overwrite \u5C06 Overwrite \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5982\u679C\u79FB\u52A8\u76EE\u6807\u4E2D\u6709\u540C\u540D\u6587\u4EF6\uFF0C\u5219\u4F1A\u8986\u76D6\u4FDD\u5B58\u3002 \u5C06 Overwrite \u8BBE\u4E3AFALSE\u65F6\uFF0C\u5982\u679C\u79FB\u52A8\u76EE\u6807\u4E2D\u6709\u540C\u540D\u6587\u4EF6\uFF0C\u5219\u4E0D\u8FDB\u884C\u8986\u76D6\uFF0C\u800C\u662F\u53D1\u751F\u9519\u8BEF\u540E\u7ED3\u675F\u3002 \u6587\u4EF6\u5C5E\u6027 \u53EF\u79FB\u52A8\u53EA\u8BFB\u5C5E\u6027\u7684\u6587\u4EF6\uFF0C\u4F46\u79FB\u52A8\u540E\u4ECD\u4FDD\u6301\u53EA\u8BFB\u5C5E\u6027\u3002 \u5B58\u50A8\u53EF\u7528\u7A7A\u95F4 \u56E0\u5185\u90E8\u5904\u7406\u7684\u5173\u7CFB\uFF0C\u5B58\u50A8\u5668\u9700\u8981\u6709\u5927\u4E8E\u6587\u4EF6\u5927\u5C0F\u7684\u53EF\u7528\u5BB9\u91CF\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\uFF0C\u5BF9 DstPath \u6307\u5B9A\u4E86\u6587\u4EF6\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A2\uFF09 \u2022 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u5305\u542B\u6587\u4EF6\u7684\u8DEF\u5F84\uFF0C\u5BF9 DstPath \u6307\u5B9A\u4E86\u5305\u542B\u6587\u4EF6\u5939\u7684\u8DEF\u5F84\uFF0C\u4F46\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5728\u8DE8\u5B58\u50A8\u79FB\u52A8\u4E2D\u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\uFF0C\u800C DstPath \u4E2D\u6307\u5B9A\u7684\u6587\u4EF6\u5939\u6CA1\u67092\u5C42\u4EE5\u4E0A\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u2022 \u5BF9 SrcPath \u6307\u5B9A\u4E86\u6587\u4EF6\uFF0C\u5BF9 DstPath \u6307\u5B9A\u4E86\u6587\u4EF6\u5939\uFF0C\u5BF9 Overwrite \u6307\u5B9A\u4E86TRUE\uFF0C\u4F46\u7528 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u662F\u53EA\u8BFB\u6587\u4EF6\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u2022 SrcPath \u548C DstPath \u5B8C\u5168\u76F8\u540C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u2022 \u5C06 Overwrite \u8BBE\u4E3AFALSE\uFF0C\u79FB\u52A8\u76EE\u6807\u4E2D\u6709\u540C\u540D\u6587\u4EF6\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageRename \u91CD\u547D\u540D\u5B58\u50A8\u6587\u4EF6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageRename \u91CD\u547D\u540D\u5B58\u50A8\u6587\u4EF6 FB \u00A0 StorageRename_instance(Execute, SrcPath, DstPath, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SrcPath IN STRING[246] \u0027\u0027 \u91CD\u547D\u540D\u524D\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D DstPath IN STRING[246] \u0027\u0027 \u91CD\u547D\u540D\u540E\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 SrcPath \u6307\u5B9A\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D\u66F4\u6539\u4E3A\u7528 DstPath \u6307\u5B9A\u7684\u6587\u4EF6\u540D\uFF0F\u6587\u4EF6\u5939\u540D\u3002 \u00A0 \u8BF7\u5728DstPath\u4E2D\u4EC5\u6307\u5B9A\u91CD\u547D\u540D\u540E\u7684\u6587\u4EF6\u5939\u540D\uFF0F\u6587\u4EF6\u540D\uFF0C\u4E0D\u8981\u5305\u542B\u8DEF\u5F84\u3002\u4F8B\u5982\uFF0C\u8981\u5C06\u0027ABC\u0027\u6587\u4EF6\u5939\u5185\u7684\u0027DEF.csv\u0027\u6587\u4EF6\u91CD\u547D\u540D\u4E3A\u0027XYZ.csv\u0027\u65F6\uFF0C\u5E94\u5982\u4E0B\u6307\u5B9A\uFF1A SrcPath : \u0027ABC\\DEF.csv\u0027 DstPath : \u0027XYZ.csv\u0027 \u5982\u679CDstPath\u4E2D\u542B\u6709\u8DEF\u5F84\uFF0C\u5219\u4F1A\u5728\u6267\u884C\u65F6\u53D1\u751F\u9519\u8BEF\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5DF2\u6709\u540C\u540D\u6587\u4EF6\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A4\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageGetCapacity \u83B7\u53D6\u5B58\u50A8\u53EF\u7528\u7A7A\u95F4 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageGetCapacity \u83B7\u53D6\u5B58\u50A8\u53EF\u7528\u7A7A\u95F4 FB \u00A0 StorageGetCapacity_instance(Execute, Drive, Capacity, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Drive IN UINT 0 \u786E\u8BA4\u7A7A\u5BB9\u91CF\u7684\u9A71\u52A8\u5668\u7F16\u53F7\uFF080\uFF1A\u5B58\u50A8\u5361\u30011\uFF1ACPU\u5B58\u50A8\u5668\uFF09 Capacity OUT UDINT - \u7A7A\u5BB9\u91CF\uFF08\u4EE5\u5343\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u5B58\u50A8\u76EE\u6807 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 Drive \u6307\u5B9A\u7684\u5B58\u50A8\u53EF\u7528\u7A7A\u95F4\uFF08\u4EE5\u5343\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u5B58\u50A8\u5230 Capacity \u4E2D\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 Drive \u6307\u5B9A\u4E86\u8D85\u8FC71\u7684\u503C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageGetStatus \u83B7\u53D6\u5B58\u50A8\u6587\u4EF6\u72B6\u6001 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageGetStatus \u83B7\u53D6\u5B58\u50A8\u6587\u4EF6\u72B6\u6001 FB \u00A0 StorageGetStatus_instance(Execute, Path, Status, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Path IN STRING[246] \u0027\u0027 \u83B7\u53D6\u72B6\u6001\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u540D Status OUT _FileStatus - \u6587\u4EF6\u72B6\u6001\u5B58\u50A8\u76EE\u6807 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u83B7\u53D6\u7528 Path \u6307\u5B9A\u7684\u6587\u4EF6\u7684\u6587\u4EF6\u72B6\u6001\u5E76\u5B58\u50A8\u5230 Status \u4E2D\u3002 _FileStatus\u7ED3\u6784\u4F53 \u6210\u5458\u540D \u6570\u636E\u7C7B\u578B \u5185\u5BB9 ModifiedDate ARRAY[0..5] OF UINT \u6700\u7EC8\u66F4\u6539\u65E5\u671F\u548C\u65F6\u95F4 FileSize UDINT \u6587\u4EF6\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\uFF08\u5982\u679C\u662F\u76EE\u5F55\u5219\u662F0\uFF09 ReadOnly BOOL \u4E3A\u53EA\u8BFB\u6587\u4EF6\u65F6\u4E3ATRUE HiddenFile BOOL \u4E3A\u9690\u85CF\u6587\u4EF6\u65F6\u4E3ATRUE SystemFile BOOL \u4E3A\u7CFB\u7EDF\u6587\u4EF6\u65F6\u4E3ATRUE VolumeLabel BOOL \u4E3A\u786C\u76D8\u9A71\u52A8\u5668\u5377\u6807\u65F6\u4E3ATRUE Folder BOOL \u4E3A\u76EE\u5F55\u65F6\u4E3ATRUE Archive BOOL \u4E3A\u6863\u6848\u65F6\u4E3ATRUE Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 Path \u4E2D\u6307\u5B9A\u7684\u6587\u4EF6\uFF0F\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A3\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 StorageGetFileList \u83B7\u53D6\u5B58\u50A8\u6587\u4EF6\u5217\u8868 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 StorageGetFileList \u83B7\u53D6\u5B58\u50A8\u6587\u4EF6\u5217\u8868 FB \u00A0 StorageGetFileList_instance(Execute, DirPath, SearchFileName, Order, MaxFileListNum, FileList, ResultNum, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 DirPath IN STRING[246] \u0027\u0027 \u6267\u884C\u83B7\u53D6\u6587\u4EF6\u5217\u8868\u7684\u6587\u4EF6\u5939\u540D SearchFileName IN STRING[128] \u0027\u0027 \u67E5\u627E\u6587\u4EF6\u540D Order IN UINT 0 \u6392\u5E8F\u987A\u5E8F\uFF080\uFF1A\u540D\u79F0\u5347\u5E8F\u30011\uFF1A\u540D\u79F0\u964D\u5E8F\u30012\uFF1A\u66F4\u65B0\u65F6\u95F4\u5347\u5E8F\u30013\uFF1A\u66F4\u65B0\u65F6\u95F4\u964D\u5E8F\uFF09 MaxFileListNum IN UINT 0 \u83B7\u53D6\u7684\u6700\u5927\u6587\u4EF6\u5217\u8868\u6570\uFF080\uFF5E1000\uFF09 FileList IN-OUT ARRAY[0..*] OF _FileInfo - \u6587\u4EF6\u5217\u8868\u5B58\u50A8\u76EE\u6807\u8D77\u59CB ResultNum OUT UINT - \u5DF2\u83B7\u53D6\u7684\u6587\u4EF6\u5217\u8868\u6570 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 DirPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u542B\u6709\u7684\u6587\u4EF6\u5217\u8868\uFF0C\u6309\u7167\u7528 Order \u6307\u5B9A\u7684\u6392\u5E8F\u987A\u5E8F\uFF0C\u4EE5 FileList \u4E3A\u5F00\u5934\u6700\u591A\u5B58\u50A8 MaxFileListNum \u4E2A\u3002 \u53EF\u5728 SearchFileName \u4E2D\u6307\u5B9A\u901A\u914D\u7B26\uFF08*\uFF0C\uFF1F\uFF09\u6765\u7B5B\u9009\u8981\u83B7\u53D6\u7684\u6587\u4EF6\u540D\u3002 \u53EF\u83B7\u53D6\u7684\u6700\u5927\u6587\u4EF6\u5217\u8868\u6570\u662F1000\u3002 \u5BF9 MaxFileListNum \u6307\u5B9A\u4E860\u65F6\uFF0C\u6216\u8005\u7528 MaxFileListNum \u6307\u5B9A\u7684\u503C\u6BD4\u7528 FileList \u6307\u5B9A\u7684\u6570\u7EC4\u8981\u7D20\u6570\u5927\u65F6\uFF0C\u4F1A\u5C06 FileList \u7684\u6570\u7EC4\u8981\u7D20\u6570\u4F5C\u4E3A\u6700\u5927\u6587\u4EF6\u5217\u8868\u6570\u3002\u6570\u7EC4\u8981\u7D20\u6570\u8D85\u8FC71000\u65F6\uFF0C\u4ECD\u89C6\u4E3A\u6700\u59271000\u3002 SearchFileName \u662FNULL\u65F6\uFF0C\u0027*\u0027\u4F1A\u4F5C\u4E3A\u6307\u5B9A\u7684\u503C\u52A8\u4F5C\u3002 \u53E6\u5916\uFF0C\u4E0D\u80FD\u5BF9 DirPath \u6307\u5B9A\u6839\u76EE\u5F55\u3002 Order \u5411 FileList \u5B58\u50A8\u65F6\u7684\u987A\u5E8F\u5E94\u6839\u636E Order \u7684\u503C\uFF0C\u4ECE\u4E0B\u8FF0\u987A\u5E8F\u4E2D\u9009\u62E9\u3002 Order\u7684\u503C \u6392\u5E8F\u987A\u5E8F 0 \u540D\u79F0\u5347\u5E8F 1 \u540D\u79F0\u964D\u5E8F 2 \u66F4\u65B0\u65F6\u95F4\u5347\u5E8F 3 \u66F4\u65B0\u65F6\u95F4\u964D\u5E8F _FileInfo\u7ED3\u6784\u4F53 \u6210\u5458\u540D \u6570\u636E\u7C7B\u578B \u5185\u5BB9 strFileName STRING[128] \u6587\u4EF6\u540D stFileStaus _FileStatus \u6587\u4EF6\u4FE1\u606F Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 Order \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u2022 \u5BF9 MaxFileListNum \u6307\u5B9A\u4E86\u6BD41000\u5927\u7684\u503C\u65F6\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A100\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u2022 \u83B7\u53D6\u7684\u6587\u4EF6\u540D\u7684\u5B57\u7B26\u4EE3\u7801\u53D6\u51B3\u4E8E\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u3002\u9879\u76EE\u8BED\u8A00\u8BBE\u5B9A\u4E0D\u652F\u6301\u7684\u5B57\u7B26\u4E32\u4F1A\u8F6C\u6362\u4E3A\u0027_\u0027\u3002 \u2022 \u6267\u884C\u65F6 FileList \u4E0D\u4F1A\u88AB\u521D\u59CB\u5316\u3002 \u2022 \u7528 DirPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u7684\u6587\u4EF6\u6570\u91CF\u8D8A\u591A\uFF0C\u5B8C\u6210\u6267\u884C\u6240\u9700\u7684\u65F6\u95F4\u8D8A\u957F\u3002 \u2022 \u7528 DirPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\u542B\u6709\u7684\u6587\u4EF6\u6570\u91CF\u6BD4\u7528 MaxFileListNum \u6307\u5B9A\u7684\u6570\u91CF\u591A\u65F6\uFF0C\u4F1A\u5BF9\u6240\u6709\u6587\u4EF6\u6267\u884C\u6392\u5E8F\u5904\u7406\uFF0C\u5E76\u83B7\u53D6\u9AD8\u4F4D\u7684 MaxFileListNum \u4E2A\u6587\u4EF6\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u83B7\u53D6\u6587\u4EF6\u5939\u5185\u7684\u6587\u4EF6\u5217\u8868 ST\uFF1A \u83B7\u53D6\u6587\u4EF6\u5939\u5185\u7684\u6587\u4EF6\u5217\u8868"},{"link":"./03_20_FBFUN_SocketCommunication.html","title":"\u5957\u63A5\u5B57\u901A\u4FE1","body":"\u5957\u63A5\u5B57\u901A\u4FE1 FUN/FB \u540D\u79F0 \u6982\u8FF0 SocketTCP_ActiveOpen TCP\u5957\u63A5\u5B57\u4E3B\u52A8\u6253\u5F00 \u4ECE\u672C\u673ATCP\u7AEF\u53E3\u53F7\u5411\u5BF9\u65B9\u53D1\u51FATCP\u4E3B\u52A8\u6253\u5F00\u8BF7\u6C42\u3002 SocketTCP_PassiveOpen TCP\u5957\u63A5\u5B57\u88AB\u52A8\u6253\u5F00 \u6267\u884C\u672C\u673ATCP\u7AEF\u53E3\u53F7\u7684\u88AB\u52A8\u6253\u5F00\u3002 SocketTCP_Send TCP\u5957\u63A5\u5B57\u53D1\u9001 \u5411TCP\u5957\u63A5\u5B57\u7684\u901A\u4FE1\u76EE\u6807\u53D1\u9001\u6570\u636E\u3002 SocketTCP_Recv TCP\u5957\u63A5\u5B57\u63A5\u6536(\u6307\u5B9A\u6570\u636E\u957F\u5EA6) \u8BFB\u53D6TCP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u5185\u7684\u6570\u636E\u3002 SocketTCP_RecvDelimiter TCP\u5957\u63A5\u5B57\u63A5\u6536(\u6307\u5B9A\u5B9A\u754C\u7B26) \u7528\u5B9A\u754C\u7B26\u5206\u9694\u5E76\u8BFB\u53D6TCP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u5185\u7684\u6570\u636E\u3002 SocketUDP_Open \u6253\u5F00UDP\u5957\u63A5\u5B57 \u6253\u5F00\u672C\u673AUDP\u7AEF\u53E3\u53F7\u3002 SocketUDP_Send UDP\u5957\u63A5\u5B57\u53D1\u9001 \u4ECEUDP\u5957\u63A5\u5B57\u5411\u5BF9\u65B9\u53D1\u9001\u6570\u636E\u3002 SocketUDP_Recv UDP\u5957\u63A5\u5B57\u63A5\u6536 \u8BFB\u53D6UDP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u5185\u7684\u6570\u636E\u3002 SocketClearRecvBuf \u6E05\u9664\u5957\u63A5\u5B57\u63A5\u6536\u7F13\u5B58 \u6E05\u9664TCP/UDP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u3002 SocketClose \u5173\u95ED\u5957\u63A5\u5B57 \u5173\u95EDTCP/UDP\u5957\u63A5\u5B57\u3002 Ping PING\u53D1\u9001 \u5411\u5BF9\u65B9\u53D1\u51FA1\u6B21ICMP\u56DE\u5E94\u8BF7\u6C42\u3002\u53EF\u4EE5\u786E\u8BA4\u4E0E\u5BF9\u65B9\u8BBE\u5907\u7684\u8FDE\u901A\u6027\u3002 \u901A\u7528\u4E8B\u9879 \u4E0B\u8FF0\u5185\u5BB9\u662F\u6240\u6709\u5957\u63A5\u5B57\u901A\u4FE1FB\u7684\u901A\u7528\u5185\u5BB9\u3002\u5728\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u4E2D\u4E0D\u518D\u8BB0\u8F7D\u3002 \u2022 \u4ECE\u5C06 Execute \u7F6E\u4E8ETRUE\u5F00\u59CB\u5230\u6267\u884C\u5B8C\u6210\u4E3A\u6B62\uFF0C\u9700\u8981\u8FDB\u884C\u591A\u6B21\u626B\u63CF\u3002 \u56E0\u6B64\uFF0C\u4ECE\u5C06 Execute \u7F6E\u4E8ETRUE\u5F00\u59CB\u5230 Done \u6216 Error \u53D8\u4E3ATRUE\u4E3A\u6B62\uFF0C\u8BF7\u4E0D\u8981\u66F4\u6539\u5404\u81EA\u53D8\u91CF\u7684\u503C\u3002 \u4F46\u662F\uFF0C\u53D1\u751F\u67D0\u4E9B\u79CD\u7C7B\u7684\u9519\u8BEF\u65F6\uFF0C\u53EF\u80FD\u4F1A\u5728\u5C06 Execute \u7F6E\u4E8ETRUE\u4E4B\u540E\u53D8\u4E3A Error \u3002\u6B64\u65F6\u7684 Busy \u4ECD\u662FFALSE\u3002 \u2022 \u4E0D\u80FD\u5728\u521D\u59CB\u5316\u6A21\u5757\u5185\u4F7F\u7528\u3002 \u2022 \u6536\u53D1\u6570\u636E\u3001\u5B9A\u754C\u7B26\u7684\u5B57\u8282\u987A\u5E8F\u662F\u9AD8\u4F4D\u2192\u4F4E\u4F4D\u3002 \u2022 \u867D\u7136\u53EF\u4EE5\u540C\u65F6\u6267\u884C\u591A\u4E2A\u5957\u63A5\u5B57\u901A\u4FE1FB\uFF0C\u4F46\u6267\u884C\u987A\u5E8F\u4E0D\u5B9A\u3002 \u2022 \u5207\u6362RUN\u2192PROG\u6A21\u5F0F\u65F6\uFF0C\u6240\u6709\u5957\u63A5\u5B57\u90FD\u4F1A\u88AB\u5173\u95ED\u3002\u5728\u5173\u95ED\u5904\u7406\u5B8C\u6210\u4E4B\u524D\uFF0C\u4E0D\u4F1A\u8FDB\u5165RUN\u6A21\u5F0F\u3002 \u6700\u5927\u5957\u63A5\u5B57\u6570 \u5404CPU\u7684\u6700\u5927\u5957\u63A5\u5B57\u6570\u5982\u4E0B\u6240\u793A\u3002\u662FTCP/UDP\u7684\u5408\u8BA1\u503C\u3002 KV-X500\u7CFB\u5217 KV-X300\u7CFB\u5217 64 32 \u6267\u884C\u5957\u63A5\u5B57\u6253\u5F00\u65F6\uFF0C\u4F1A\u5360\u75281\u4E2A\u5957\u63A5\u5B57\u3002\u6267\u884C\u5957\u63A5\u5B57\u5173\u95ED\uFF0C\u53EF\u89E3\u9664\u5957\u63A5\u5B57\u5360\u7528\u3002 \u6700\u5927\u6536\u53D1\u5927\u5C0F \u6700\u5927\u6536\u53D1\u5927\u5C0F\u662F16384\u5B57\u8282\u3002 \u4E0A\u8FF0\u5927\u5C0F\u662FSocketTCP_Send/SocketTCP_Recv/SocketTCP_RecvDelimiter/SocketUDP_Send/SocketUDP_Recv\u53EF\u6307\u5B9A\u7684\u6700\u5927\u6536\u53D1\u6570\u636E\u5927\u5C0F\u3002 \u9519\u8BEF\u4EE3\u7801 \u5957\u63A5\u5B57\u901A\u4FE1FB\u7684\u9519\u8BEF\u4EE3\u7801\u5982\u4E0B\u6240\u793A\u3002 \u9519\u8BEF\u4EE3\u7801 \u9519\u8BEF\u5185\u5BB9 \u53D1\u751F\u7684FB \u8BF4\u660E 0 \u6B63\u5E38 - - 10 \u901A\u4FE1\u76EE\u6807IP\u3001\u7AEF\u53E3\u53F7\u65E0\u6548 SocketTCP_ActiveOpen SocketUDP_Send Ping \u901A\u4FE1\u76EE\u6807\u7684IP\u5730\u5740\u6216\u7AEF\u53E3\u53F7\u9519\u8BEF\u3002 11 \u81EA\u7AEF\u53E3\u53F7\u9519\u8BEF SocketTCP_PassiveOpen \u5BF9\u672C\u673A\u7AEF\u53E3\u53F7\u6307\u5B9A\u4E860\u3002 12 \u53D1\u9001\u6570\u636E\u5927\u5C0F\u9519\u8BEF SocketTCP_Send SocketUDP_Send \u5BF9\u53D1\u9001\u6570\u636E\u5927\u5C0F\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u3002 13 \u63A5\u6536\u6570\u636E\u5927\u5C0F\u9519\u8BEF SocketTCP_Recv SocketTCP_RecvDelimiter SocketUDP_Recv \u5BF9\u63A5\u6536\u6570\u636E\u5927\u5C0F\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u3002 14 \u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u9519\u8BEF SocketTCP_ActiveOpen SocketTCP_PassiveOpen SocketUDP_Open \u5BF9\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u3002 15 \u5B9A\u754C\u7B26\u5927\u5C0F\u9519\u8BEF SocketTCP_RecvDelimiter \u5BF9\u5B9A\u754C\u7B26\u5927\u5C0F\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u3002 16 \u8D85\u65F6\u65F6\u95F4\u8BBE\u5B9A\u9519\u8BEF Ping \u5C06\u8D85\u65F6\u65F6\u95F4\u6307\u5B9A\u4E3A0\u5E76\u6267\u884C\u4E86Ping\u3002 17 \u5957\u63A5\u5B57\u7F16\u53F7\u9519\u8BEF SocketTCP_Send SocketUDP_Send SocketTCP_Recv SocketTCP_RecvDelimiter SocketUDP_Recv SocketClearRecvBuf SocketClose \u5BF9\u5957\u63A5\u5B57\u7F16\u53F7\u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u3002 18 \u6570\u7EC4\u8981\u7D20\u6570\u4E0D\u8DB3 SocketTCP_Send SocketUDP_Send SocketTCP_Recv SocketTCP_RecvDelimiter SocketUDP_Recv \u5BF9\u6536\u53D1\u6570\u636E\u6307\u5B9A\u7684\u8F6F\u5143\u4EF6\uFF0F\u53D8\u91CF\u7684\u5269\u4F59\u8981\u7D20\u6570\u4E0D\u8DB3\u3002 31 \u8BF7\u6C42\u91CD\u590D \u6240\u6709\u5957\u63A5\u5B57FB \u540C\u65F6\u6267\u884C\u4E86\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u65E0\u6CD5\u540C\u65F6\u6267\u884C\u7684FB\u3002 40 \u8FDE\u63A5\u9519\u8BEF SocketTCP_ActiveOpen \u672A\u80FD\u5EFA\u7ACB\u8FDE\u63A5\u3002 41 \u7AEF\u53E3\u53F7\u91CD\u590D SocketTCP_ActiveOpen SocketTCP_PassiveOpen SocketUDP_Open \u672C\u673A\u7AEF\u53E3\u53F7\u4E0E\u5957\u63A5\u5B57FB\u6216\u5176\u4ED6\u529F\u80FD\u6B63\u5728\u4F7F\u7528\u7684\u7AEF\u53E3\u53F7\u91CD\u590D\u3002 42 ACK\u63A5\u6536\u9519\u8BEF SocketTCP_PassiveOpen \u6536\u5230SYN\u5E76\u53D1\u9001ACK\u548CSYN\u540E\uFF0C\u672A\u80FD\u5728\u63A5\u6536\u8D85\u65F6\u65F6\u95F4\u5185\u6536\u5230ACK\u3002 43 \u65E0\u5957\u63A5\u5B57\u7A7A\u4F59 SocketTCP_ActiveOpen SocketTCP_PassiveOpen SocketUDP_Open \u5728\u5957\u63A5\u5B57\u5168\u90E8\u5904\u4E8E\u4F7F\u7528\u4E2D\u7684\u72B6\u6001\u4E0B\u518D\u6B21\u6267\u884C\u4E86\u6253\u5F00\u3002 50 \u672A\u6253\u5F00 SocketTCP_Send SocketUDP_Send SocketTCP_Recv SocketTCP_RecvDelimiter SocketUDP_Recv \u5728\u672A\u6253\u5F00\u7684\u72B6\u6001\u4E0B\u6267\u884C\u4E86\u5904\u7406\u3002 51 \u5F3A\u5236\u5173\u95ED SocketTCP_ActiveOpen SocketTCP_PassiveOpen SocketTCP_Send SocketUDP_Send SocketTCP_Recv SocketTCP_RecvDelimiter SocketUDP_Recv \u5728\u6267\u884C\u4E2D\u6267\u884C\u4E86SocketClose\u5E76\u5173\u95ED\u4E86\u5904\u7406\u3002 52 \u8D85\u65F6 \u6240\u6709\u5957\u63A5\u5B57FB \u672A\u80FD\u5728\u6307\u5B9A\u7684\u8D85\u65F6\u65F6\u95F4\u5185\u6216\u5185\u90E8\u5B9A\u4E49\u7684\u8D85\u65F6\u65F6\u95F4\u5185\u5B8C\u6210\u5904\u7406\u3002 53 \u5173\u673A SocketTCP_Send SocketTCP_Recv SocketTCP_RecvDelimiter \u901A\u4FE1\u76EE\u6807\u5DF2\u7ECF\u5173\u95ED\u3002 54 \u53D1\u751F\u5F02\u5E38 SocketTCP_Send SocketTCP_Recv SocketTCP_RecvDelimiter \u4FDD\u6301\u8FDE\u63A5\u6CA1\u6709\u54CD\u5E94\u3002 55 \u6307\u5B9A\u7F51\u7EDC\u5730\u5740\u4E0D\u540C\u7684\u901A\u4FE1\u76EE\u6807 SocketTCP_Send SocketUDP_Send \u6307\u5B9A\u4E86\u7F51\u7EDC\u5730\u5740\u4E0D\u540C\u7684\u901A\u4FE1\u76EE\u6807\u3002 56 \u5E8F\u5217ID\u4E0D\u4E00\u81F4 SocketTCP_Send SocketTCP_Recv SocketTCP_RecvDelimiter \u6267\u884C\u547D\u4EE4\u4E2D\uFF0C\u540C\u4E00\u5957\u63A5\u5B57\u7F16\u53F7\u7684\u901A\u4FE1\u76EE\u6807\u88AB\u66F4\u6539\u3002 60 DNS\u670D\u52A1\u5668\u8BBE\u5B9A\u9519\u8BEF SocketTCP_ActiveOpen SocketUDP_Send Ping \u5BF9\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u6307\u5B9A\u4E86\u4E3B\u673A\u540D\u65F6\uFF0CDNS\u670D\u52A1\u5668\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 61 DNS\u670D\u52A1\u5668\u65E0\u54CD\u5E94 SocketTCP_ActiveOpen SocketUDP_Send Ping \u5BF9\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u6307\u5B9A\u4E86\u4E3B\u673A\u540D\u65F6\uFF0CDNS\u670D\u52A1\u5668\u6CA1\u6709\u54CD\u5E94\u3002 62 DNS\u670D\u52A1\u5668\u65E0\u76F8\u5173\u5730\u5740 SocketTCP_ActiveOpen SocketUDP_Send Ping \u5BF9\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u6307\u5B9A\u4E86\u4E3B\u673A\u540D\u65F6\uFF0C\u65E0\u5BF9\u5E94\u7684IP\u5730\u5740\u3002 63 DNS\u670D\u52A1\u5668\u5176\u4ED6\u9519\u8BEF SocketTCP_ActiveOpen SocketUDP_Send Ping \u5BF9\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u6307\u5B9A\u4E86\u4E3B\u673A\u540D\u65F6\uFF0CDNS\u670D\u52A1\u5668\u53D1\u751F\u7684\u5176\u4ED6\u9519\u8BEF\uFF08\u901A\u5E38\u4E0D\u53D1\u751F\uFF09\u3002 111 \u94FE\u63A5\u72B6\u6001\u9519\u8BEF Ping \u5728\u672A\u5EFA\u7ACB\u94FE\u63A5\u7684\u72B6\u6001\u4E0B\u6267\u884C\u4E86Ping\u3002 112 \u67E5\u627E\u7A7AIP\u5730\u5740\u6267\u884C\u4E2D\u9519\u8BEF Ping \u5728\u67E5\u627E\u7A7AIP\u5730\u5740\u7684\u8FC7\u7A0B\u4E2D\u6267\u884C\u4E86Ping\u3002 200 IP\u5730\u5740\u8BBE\u5B9A\u9519\u8BEF \u6240\u6709\u5957\u63A5\u5B57FB \u5728\u672A\u5206\u914DIP\u5730\u5740\u6216IP\u5730\u5740\u8BBE\u5B9A\u9519\u8BEF\u7684\u72B6\u6001\u4E0B\u6267\u884C\u4E86\u5904\u7406\u3002 \u7CFB\u7EDF\u53D8\u91CF \u4E0B\u8FF0\u662F\u7528\u6765\u76D1\u63A7\u5404\u5957\u63A5\u5B57\u72B6\u6001\u7684\u7CFB\u7EDF\u53D8\u91CF\u8BF4\u660E\u3002 \u53D8\u91CF\u540D \u6570\u636E\u7C7B\u578B \u6CE8\u91CA \u5C5E\u6027 _SocketNum UINT \u5957\u63A5\u5B57\u4F7F\u7528\u6570 R _SocketStatus ARRAY[0..63] OF _SOCKET_STATUS\u00A0(KV-X500\u7CFB\u5217) ARRAY[0..31] OF _SOCKET_STATUS (KV-X300\u7CFB\u5217) \u5957\u63A5\u5B57\u72B6\u6001 R _SocketNum \u5B58\u50A8\u5F53\u524D\u7684\u5957\u63A5\u5B57\u4F7F\u7528\u6570\u3002\u5957\u63A5\u5B57\u6253\u5F00\u6210\u529F\u65F6\u002B1\uFF0C\u5957\u63A5\u5B57\u5173\u95ED\u6210\u529F\u65F6-1\u3002 _SocketStatus \u5B58\u50A8\u5404\u5957\u63A5\u5B57\u7684\u72B6\u6001\u3002\u5957\u63A5\u5B57\u7F16\u53F7\u5BF9\u5E94\u6570\u7EC4\u8981\u7D20\u7F16\u53F7\u3002 \u4F8B\uFF1A\u5957\u63A5\u5B57\u7F16\u53F71\u7684\u72B6\u6001\u5B58\u50A8\u5728_SocketStatus[1]\u4E2D _SOCKET_STATUS\u7ED3\u6784\u4F53 \u6210\u5458\u540D \u6570\u636E\u7C7B\u578B \u5185\u5BB9 SocketStatus UINT \u5957\u63A5\u5B57\u72B6\u6001 TCPConnStatus UINT TCP\u8FDE\u63A5\u72B6\u6001\uFF08\u4EC5TCP\u6709\u6548\uFF09 MyPortNo UINT \u672C\u673A\u7AEF\u53E3\u53F7 ConnAddress STRING[15] \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u5982\u679C\u662FUDP\uFF0C\u5219\u4E3A\u4E0A\u6B21\u63A5\u6536\u7684\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF09 ConnPortNo UINT \u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\uFF08\u5982\u679C\u662FUDP\uFF0C\u5219\u4E3A\u4E0A\u6B21\u63A5\u6536\u7684\u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\uFF09 \u2022 SocketStatus \u5B58\u50A8\u5957\u63A5\u5B57\u7684\u72B6\u6001\u3002\u5957\u63A5\u5B57\u72B6\u6001\u7684\u8BE6\u7EC6\u5185\u5BB9\u5982\u4E0B\u3002 \u503C \u5185\u5BB9 0 \u672A\u4F7F\u7528 1 TCP\u5957\u63A5\u5B57\u6253\u5F00\u72B6\u6001\uFF08\u672A\u8FDE\u63A5\uFF09 2 TCP\u5957\u63A5\u5B57\u5DF2\u8FDE\u63A5\u72B6\u6001 3 UDP\u5957\u63A5\u5B57\u6253\u5F00\u72B6\u6001 \u2022 TCPConnStatus \u5B58\u50A8TCP\u5957\u63A5\u5B57\u7684\u8FDE\u63A5\u72B6\u6001\u3002\u4F7F\u7528UDP\u5957\u63A5\u5B57\u65F6\u4F1A\u88AB\u5FFD\u7565\u3002\u8FDE\u63A5\u72B6\u6001\u7684\u8BE6\u7EC6\u5185\u5BB9\u5982\u4E0B\u3002 \u503C \u8FDE\u63A5\u72B6\u6001 \u5185\u5BB9 0 CLOSED \u5DF2\u5173\u95ED\u7684\u72B6\u6001\u3002 1 LISTEN \u4FDD\u6301\u8FDE\u63A5\u7684\u72B6\u6001\u3002 2 SYN SENT \u6267\u884C\u4E3B\u52A8\u6253\u5F00\uFF0C\u53D1\u9001\u4E86SYN\u7684\u72B6\u6001\u3002 3 SYN RCVD \u670D\u52A1\u5668\u6536\u5230SYN\uFF0C\u53D1\u9001\u4E86\u54CD\u5E94\u7684\u72B6\u6001\u3002 4 ESTABLISHED \u786E\u7ACB\u4E86\u8FDE\u63A5\u7684\u72B6\u6001\u3002 5 CLOSE WAIT \u6536\u5230FIN\uFF0C\u7B49\u5F85\u7ED3\u675F\u7684\u72B6\u6001\u3002 6 FIN WAIT1 \u7ED3\u675F\uFF0C\u53D1\u9001\u4E86FIN\u7684\u72B6\u6001\u3002 7 FIN WAIT2 \u6536\u5230\u5BF9\u5E94FIN\u7684ACK\uFF0C\u7B49\u5F85\u901A\u4FE1\u76EE\u6807\u53D1\u6765FIN\u7684\u72B6\u6001\u3002 8 CLOSING \u670D\u52A1\u5668\u548C\u5BA2\u6237\u7AEF\u540C\u65F6\u53D1\u9001\u4E86FIN\u7684\u72B6\u6001\u3002 9 LAST ACK \u4ECE\u901A\u4FE1\u76EE\u6807\u6536\u5230FIN\u540E\uFF0C\u7ED3\u675F\u5E76\u53D1\u9001\u4E86FIN\u7684\u72B6\u6001\u3002 \u2022 MyPortNo \u5B58\u50A8\u672C\u673A\u7AEF\u53E3\u53F7\u3002 \u2022 ConnAddress \u5B58\u50A8\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u3002\u4F7F\u7528UDP\u5957\u63A5\u5B57\u65F6\uFF0C\u4F1A\u5B58\u50A8\u4E0A\u6B21\u6536\u5230\u6570\u636E\u7684\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u3002\u65E0\u8BBADNS\u670D\u52A1\u5668\u7684\u8BBE\u5B9A\u5982\u4F55\uFF0C\u59CB\u7EC8\u5B58\u50A8IP\u5730\u5740\u800C\u4E0D\u662F\u4E3B\u673A\u540D\u3002 \u2022 ConnPortNo \u5B58\u50A8\u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\u3002\u4F7F\u7528UDP\u5957\u63A5\u5B57\u65F6\uFF0C\u4F1A\u5B58\u50A8\u4E0A\u6B21\u6536\u5230\u6570\u636E\u7684\u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\u3002 SocketTCP_ActiveOpen TCP\u5957\u63A5\u5B57\u4E3B\u52A8\u6253\u5F00 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketTCP_ActiveOpen TCP\u5957\u63A5\u5B57\u4E3B\u52A8\u6253\u5F00 FB \u00A0 SocketTCP_ActiveOpen_instance(Execute, EthernetPort, SrcPortNo, DstAddress, DstPortNo, SocketNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 EthernetPort IN UINT 0 \u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\uFF080\uFF1A\u81EA\u52A8\u9009\u62E9\uFF09 SrcPortNo IN UINT 0 \u81EA\u7AEF\u53E3\u53F7\uFF080\uFF1A\u4E34\u65F6\u7AEF\u53E3\uFF09 DstAddress IN STRING[255] \u0027\u0027 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740(\u4E3B\u673A\u540D) DstPortNo IN UINT 0 \u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\uFF081\uFF5E\uFF09 SocketNo OUT UINT - \u5957\u63A5\u5B57\u7F16\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7528 SrcPortNo \u6307\u5B9A\u7684\u672C\u673ATCP\u7AEF\u53E3\u53F7\uFF0C\u5411\u7528 DstAddress \u548C DstPortNo \u6307\u5B9A\u7684\u5BF9\u65B9\uFF0C\u53D1\u51FATCP\u4E3B\u52A8\u6253\u5F00\u8BF7\u6C42\u3002 Busy \u53D8\u4E3ATRUE\u65F6\uFF0C\u5728 SocketNo \u4E2D\u5B58\u50A8\u503C\u3002\u5EFA\u7ACB\u8FDE\u63A5\u540E\uFF0C Done \u4F1A\u53D8\u4E3ATRUE\u3002 \u8BE5 SocketNo \u4E2D\u5B58\u50A8\u7684\u503C\uFF0C\u4F1A\u5728SocketTCP_Send/SocketTCP_Recv/SocketTCP_RecvDelimiter/SocketClose\u4E2D\u4F7F\u7528\u3002 SrcPortNo \u6307\u5B9A\u672C\u673A\u7AEF\u53E3\u53F7\u3002 \u5982\u679C\u6307\u5B9A\u4E860\uFF0C\u5219\u4F7F\u7528\u4E34\u65F6\u7AEF\u53E3\u3002 DstAddress \u7528\u5B57\u7B26\u4E32\u6307\u5B9A\u901A\u4FE1\u76EE\u6807\u7684IP\u5730\u5740\u6216\u4E3B\u673A\u540D\u3002 \u4F8B\uFF1A\u0027192.168.0.20\u0027 \u7528\u4E3B\u673A\u540D\u6307\u5B9A\u65F6\uFF0C\u8BF7\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E0A\u8BBE\u5B9ADNS\u670D\u52A1\u5668\u3002 DstPortNo \u6307\u5B9A\u901A\u4FE1\u76EE\u6807\u7684\u7AEF\u53E3\u53F7\u3002 SocketNo Busy \u53D8\u4E3ATRUE\u65F6\u5B58\u50A8\u503C\u3002 \u5B58\u50A8\u7684\u503C\u4F1A\u5728SocketTCP_Send/SocketTCP_Recv/SocketTCP_RecvDelimiter/SocketClose\u4E2D\u4F7F\u7528\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 EthernetPort \u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u65F6 \u2022 \u5BF9 DstPortNo \u6307\u5B9A\u4E860\u65F6 \u2022 \u7528 SrcPortNo \u6307\u5B9A\u7684TCP\u7AEF\u53E3\u5DF2\u7ECF\u6253\u5F00\u65F6 \u2022 \u5BF9 DstAddress \u6307\u5B9A\u4E86\u4E3B\u673A\u540D\uFF0C\u4F46\u5730\u5740\u89E3\u6790\u5931\u8D25\u65F6 \u2022 \u7528 DstAddress \u3001 DstPortNo \u6307\u5B9A\u7684\u901A\u4FE1\u76EE\u6807\u4E0D\u662FListen\u72B6\u6001\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u2022 \u5728\u5957\u63A5\u5B57\u7F16\u53F7\u4E0D\u4E3A\u7A7A\u7684\u72B6\u6001\u4E0B\u6267\u884C\u4E86\u5904\u7406\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u2022 \u5BF9 DstAddress \u6307\u5B9A\u4E3B\u673A\u540D\u65F6\uFF0C\u4F1A\u5411DNS\u670D\u52A1\u5668\u53D1\u51FA\u8BE2\u95EE\uFF0C\u6240\u4EE5\u6267\u884C\u65F6\u95F4\u6BD4\u6307\u5B9AIP\u5730\u5740\u65F6\u66F4\u957F\u3002 \u53E6\u5916\uFF0C\u5982\u679CDNS\u670D\u52A1\u5668\u6CA1\u6709\u54CD\u5E94\uFF0C\u5219\u4ECE\u5F00\u59CB\u6267\u884C\u5230\u53D1\u751F\u9519\u8BEF\uFF08\u5230 Error \u53D8\u4E3ATRUE\uFF09\u7EA6\u97001\u5206\u949F\u3002 \u2022 \u53D1\u9001\u5EFA\u7ACB\u8FDE\u63A5\u8BF7\u6C42(SYN)\u4E4B\u540E\uFF0C\u5982\u679C\u901A\u4FE1\u76EE\u6807\u6CA1\u6709\u53D1\u6765\u786E\u8BA4\u54CD\u5E94(SYN\u002BACK)\uFF0C\u5219\u4F1A\u518D\u6B21\u53D1\u9001SYN\u3002\u5982\u679C\u5F00\u59CB\u6267\u884C\u540E\u7EA630\u79D2\u5185\u672A\u80FD\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u5219\u4F1A\u53D1\u751F\u8FDE\u63A5\u9519\u8BEF\u3002 SocketTCP_PassiveOpen TCP\u5957\u63A5\u5B57\u88AB\u52A8\u6253\u5F00 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketTCP_PassiveO\u00ADpen TCP\u5957\u63A5\u5B57\u88AB\u52A8\u6253\u5F00 FB \u00A0 SocketTCP_PassiveOpen_instance(Execute, EthernetPort, SrcPortNo, Timeout, SocketNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 EthernetPort IN UINT 0 \u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\uFF080\uFF1A\u81EA\u52A8\u9009\u62E9\uFF09 SrcPortNo IN UINT 0 \u81EA\u7AEF\u53E3\u53F7\uFF080\uFF1A\u4E34\u65F6\u7AEF\u53E3\uFF09 Timeout IN UINT 0 \u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4[0.1s] SocketNo OUT UINT - \u5957\u63A5\u5B57\u7F16\u53F7 DstAddress OUT STRING[15] - \u8FDE\u63A5\u76EE\u6807IP\u5730\u5740 DstPortNo OUT UINT - \u8FDE\u63A5\u76EE\u6807\u7AEF\u53E3\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5BF9\u7528 SrcPortNo \u6307\u5B9A\u7684\u672C\u673ATCP\u7AEF\u53E3\u53F7\u6267\u884C\u88AB\u52A8\u6253\u5F00\u3002 Busy \u53D8\u4E3ATRUE\u65F6\uFF0C\u5728 SocketNo \u4E2D\u5B58\u50A8\u503C\u3002\u5EFA\u7ACB\u8FDE\u63A5\u540E\uFF0C Done \u4F1A\u53D8\u4E3ATRUE\u3002 \u8BE5 SocketNo \u4E2D\u5B58\u50A8\u7684\u503C\uFF0C\u4F1A\u5728SocketTCP_Send/SocketTCP_Recv/SocketTCP_RecvDelimiter/SocketClose\u4E2D\u4F7F\u7528\u3002 \u5B8C\u6210\u540E\uFF0C\u8FDE\u63A5\u76EE\u6807IP\u5730\u5740\u548C\u8FDE\u63A5\u76EE\u6807\u7AEF\u53E3\u53F7\u4F1A\u5206\u522B\u5B58\u50A8\u5728 DstAddress \u3001 DstPortNo \u4E2D\u3002 \u5982\u679C\u5728\u6267\u884C\u4E2D\u6267\u884CSocketClose\uFF0C\u5219\u4F1A\u4E2D\u65AD\u5904\u7406\u3002 SrcPortNo \u6307\u5B9A\u672C\u673A\u7AEF\u53E3\u53F7\u3002 \u5982\u679C\u6307\u5B9A\u4E860\uFF0C\u5219\u4F7F\u7528\u4E34\u65F6\u7AEF\u53E3\u3002 Timeout \u75280.1s\u5355\u4F4D\u6307\u5B9A\u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4\u3002 \u5C06 Execute \u7F6E\u4E8ETRUE\u540E\uFF0C\u5982\u679C\u5728\u8FDE\u63A5\u8D85\u65F6\u65F6\u95F4\u5185\u672A\u5EFA\u7ACB\u8FDE\u63A5\uFF0C\u5219 Error \u4F1A\u53D8\u4E3ATRUE\u3002 SocketNo Busy \u53D8\u4E3ATRUE\u65F6\u5B58\u50A8\u503C\u3002 \u5B58\u50A8\u7684\u503C\u4F1A\u5728SocketTCP_Send/SocketTCP_Recv/SocketTCP_RecvDelimiter/SocketClose\u4E2D\u4F7F\u7528\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 EthernetPort \u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u65F6 \u2022 \u7528 SrcPortNo \u6307\u5B9A\u7684TCP\u7AEF\u53E3\u5DF2\u7ECF\u6253\u5F00\u65F6 \u2022 \u5BF9 SrcPortNo \u6307\u5B9A\u4E860\u65F6 \u2022 \u5C06 Execute \u7F6E\u4E8ETRUE\u540E\uFF0C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u8D85\u65F6\u65F6\u95F4\u5185\u672A\u5EFA\u7ACB\u8FDE\u63A5\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u2022 \u5728\u5957\u63A5\u5B57\u7F16\u53F7\u4E0D\u4E3A\u7A7A\u7684\u72B6\u6001\u4E0B\u6267\u884C\u4E86\u5904\u7406\u65F6 \u2022 \u5176\u4ED6\u8BBE\u5907\u6307\u5B9A\u4E86\u76F8\u540C\u7684\u672C\u673A\u7AEF\u53E3\u53F7\uFF0C\u6B63\u5728\u6267\u884CSocketTCP_PassiveOpen\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u2022 \u5982\u679C\u591A\u4E2A\u5BA2\u6237\u7AEF\u6B63\u5728\u7B49\u5F85\u540C\u4E00\u4E2A\u7AEF\u53E3\u53F7\u7684\u8FDE\u63A5\uFF0C\u8BF7\u9010\u4E00\u6267\u884C\u672C\u6307\u4EE4\u3002\u4E0D\u80FD\u8FDB\u884C\u591A\u4E2A\u540C\u65F6\u542F\u52A8\u3002 \u2022 \u65E0\u8BBADNS\u670D\u52A1\u5668\u7684\u8BBE\u5B9A\u5982\u4F55\uFF0C DstAddress \u59CB\u7EC8\u5B58\u50A8IP\u5730\u5740\u800C\u4E0D\u662F\u4E3B\u673A\u540D\u3002 SocketTCP_Send TCP\u5957\u63A5\u5B57\u53D1\u9001 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketTCP_Send TCP\u5957\u63A5\u5B57\u53D1\u9001 FB \u00A0 SocketTCP_Send_instance(Execute, SocketNo, ByteSize, Src, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 ByteSize IN UDINT 0 \u53D1\u9001\u5B57\u8282\u6570(1\uFF5E16384) Src IN - - \u53D1\u9001\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5411\u7528 SocketNo \u6307\u5B9A\u7684TCP\u5957\u63A5\u5B57\u7684\u901A\u4FE1\u76EE\u6807\uFF0C\u53D1\u9001\u4EE5 Src \u4E3A\u5F00\u5934\u7684 ByteSize \u5B57\u8282\u7684\u6570\u636E\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684TCP\u5957\u63A5\u5B57\u672A\u5EFA\u7ACB\u901A\u4FE1\u65F6 \u2022 Src \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C ByteSize \u65F6 \u2022 ByteSize \u662F0\u6216\u5927\u4E8E\u63A5\u6536/\u53D1\u9001\u6700\u5927\u5927\u5C0F\u65F6 \u2022 \u4F7F\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u6B63\u5728\u6267\u884CSocketTCP_ActiveOpen/SocketTCP_PassiveOpen/SocketTCP_Send/SocketUDP_Open/SocketUDP_Send\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u2022 \u5728\u6267\u884C\u4E2D\u66F4\u6539\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u7684\u901A\u4FE1\u76EE\u6807\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u5728\u5411\u53D1\u9001\u7F13\u5B58\u5B58\u50A8\u6210\u529F\u65F6\u5373\u4E3A\u5B8C\u6210\u3002\u800C\u4E0D\u662F\u4EE5\u6570\u636E\u5230\u8FBE\u901A\u4FE1\u5BF9\u65B9\u4F5C\u4E3A\u5B8C\u6210\u6807\u8BC6\u3002 SocketTCP_Recv TCP\u5957\u63A5\u5B57\u63A5\u6536(\u6307\u5B9A\u6570\u636E\u957F\u5EA6) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketTCP_Recv TCP\u5957\u63A5\u5B57\u63A5\u6536(\u6307\u5B9A\u6570\u636E\u957F\u5EA6) FB \u00A0 SocketTCP_Recv_instance(Execute, SocketNo, ByteSize, Dst, Timeout, RecvByteSize, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 ByteSize IN UDINT 0 \u63A5\u6536\u5B57\u8282\u6570(1\uFF5E16384) \u6307\u5B9A\u4E3A0\u65F6\uFF0C\u63A5\u6536\u7B2C1\u4E2A\u6570\u636E\u5305\u3002 Dst IN-OUT - - \u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Timeout IN UINT 0 \u63A5\u6536\u8D85\u65F6\u65F6\u95F4[0.1s] RecvByteSize OUT UDINT - \u5DF2\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u5927\u5C0F Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u7528 SocketNo \u6307\u5B9A\u7684TCP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u5185\u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u2022 \u5BF9 ByteSize \u6307\u5B9A\u4E861\u4EE5\u4E0A\u7684\u503C\u65F6 \u8BFB\u53D6 ByteSize \u5B57\u8282\u7684\u6570\u636E\u3002\u5982\u679C\u63A5\u6536\u7F13\u5B58\u4E2D\u6CA1\u6709 ByteSize \u5B57\u8282\u7684\u6570\u636E\uFF0C\u5219\u4F1A\u7B49\u5F85\u79EF\u5B58\u5230 ByteSize \u5B57\u8282\u3002 \u2022 \u5BF9 ByteSize \u6307\u5B9A\u4E860\u65F6 \u8BFB\u53D6\u63A5\u6536\u7F13\u5B58\u7684\u5F00\u59341\u6570\u636E\u5305\u3002\u5982\u679C\u63A5\u6536\u7F13\u5B58\u4E2D\u6CA1\u67091\u6570\u636E\u5305\u7684\u6570\u636E\uFF0C\u5219\u4F1A\u7B49\u5F85\u79EF\u5B58\u52301\u6570\u636E\u5305\u4EE5\u4E0A\u3002 \u00A0 \u5B8C\u6210\u65F6\uFF0C\u4F1A\u5C06\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u5927\u5C0F\u5B58\u50A8\u5728 RecvByteSize \u4E2D\u3002 \u5982\u679C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210\u63A5\u6536\u5904\u7406\uFF0C\u5219\u4F1A\u53D1\u751F\u8D85\u65F6\u9519\u8BEF\u3002\u5BF9 Timeout \u6307\u5B9A\u4E860\u65F6\uFF0C\u4E0D\u6267\u884C\u8D85\u65F6\u68C0\u6D4B\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684TCP\u5957\u63A5\u5B57\u672A\u5EFA\u7ACB\u901A\u4FE1\u65F6 \u2022 Dst \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C ByteSize \u65F6 \u2022 ByteSize \uFF1E\u63A5\u6536/\u53D1\u9001\u6700\u5927\u5927\u5C0F\u65F6 \u2022 \u5C06 ByteSize \u6307\u5B9A\u4E3A0\u65F6\uFF0C Dst \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C\u63A5\u6536\u5230\u76841\u6570\u636E\u5305\u7684\u5B57\u8282\u5927\u5C0F\u65F6\uFF08\u6B64\u65F6\u5728 RecvByteSize \u4E2D\u5B58\u50A8\u63A5\u6536\u5230\u76841\u6570\u636E\u5305\u7684\u5B57\u8282\u5927\u5C0F\uFF09 \u2022 \u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210\u63A5\u6536\u5904\u7406\u65F6 \u2022 \u4F7F\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u6B63\u5728\u6267\u884CSocketTCP_Recv/SocketTCP_RecvDelimiter/SocketUDP_Recv/SocketClearRecvBuf\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u2022 \u5728\u6267\u884C\u4E2D\u66F4\u6539\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u7684\u901A\u4FE1\u76EE\u6807\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 SocketTCP_RecvDelimiter TCP\u5957\u63A5\u5B57\u63A5\u6536(\u6307\u5B9A\u5B9A\u754C\u7B26) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketTCP_RecvDelim\u00ADiter TCP\u5957\u63A5\u5B57\u63A5\u6536(\u6307\u5B9A\u5B9A\u754C\u7B26) FB \u00A0 SocketTCP_Recv_instance(Execute, SocketNo, DelimiterLen, Delimiter, MaxByteSize, Dst, Timeout, RecvByteSize, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 DelimiterLen IN UINT 1 \u5B9A\u754C\u7B26\u957F\u5EA6(1\uFF5E4\u5B57\u8282) Delimiter IN - - \u5B9A\u754C\u7B26 MaxByteSize IN UDINT 0 \u63A5\u6536\u6700\u5927\u5B57\u8282\u6570(1\uFF5E16384) Dst IN-OUT - - \u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Timeout IN UINT 0 \u63A5\u6536\u8D85\u65F6\u65F6\u95F4[0.1s] RecvByteSize OUT UDINT - \u5DF2\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u5927\u5C0F Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6309\u5B9A\u754C\u7B26\u5206\u9694\u8BFB\u53D6\u7528 SocketNo \u6307\u5B9A\u7684TCP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u5185\u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u5C06\u4EE5 Delimiter \u4E3A\u5F00\u5934\u7684 DelimiterLen \u5B57\u8282\u7684\u6570\u636E\u4F5C\u4E3A\u5B9A\u754C\u7B26\uFF0C\u8BFB\u53D6\u5305\u542B\u5B9A\u754C\u7B26\u7684\u6570\u636E\u3002 \u4E0B\u6B21\u6267\u884C\u6307\u4EE4\u65F6\uFF0C\u4F1A\u4ECE\u4E0A\u6B21\u8BFB\u53D6\u4E4B\u540E\u7684\u6570\u636E\u5F00\u59CB\u8BFB\u53D6\u3002 \u5982\u679C\u5728 MaxByteSize \u5B57\u8282\u5185\u672A\u627E\u5230\u5B9A\u754C\u7B26\uFF0C\u5219\u4F1A\u8BFB\u53D6 MaxByteSize \u5B57\u8282\uFF08\u6B64\u65F6\u4E0D\u53D1\u751F\u9519\u8BEF\uFF09\u3002 \u5B8C\u6210\u65F6\uFF0C\u4F1A\u5C06\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u5927\u5C0F\u5B58\u50A8\u5728 RecvByteSize \u4E2D\u3002\u5982\u679C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210\u63A5\u6536\u5904\u7406\uFF0C\u5219\u4F1A\u53D1\u751F\u8D85\u65F6\u9519\u8BEF\u3002\u5BF9 Timeout \u6307\u5B9A\u4E860\u65F6\uFF0C\u4E0D\u6267\u884C\u8D85\u65F6\u68C0\u6D4B\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684TCP\u5957\u63A5\u5B57\u672A\u5EFA\u7ACB\u901A\u4FE1\u65F6 \u2022 Delimiter \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C DelimiterLen \u65F6 \u2022 Dst \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C MaxByteSize \u65F6 \u2022 MaxByteSize \u662F0\u6216\u5927\u4E8E\u63A5\u6536/\u53D1\u9001\u6700\u5927\u5927\u5C0F\u65F6 \u2022 DelimiterLen \u662F0\u6216\u6BD44\u5927\u65F6 \u2022 \u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210\u63A5\u6536\u5904\u7406\u65F6 \u2022 \u4F7F\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u6B63\u5728\u6267\u884CSocketTCP_Recv/SocketTCP_RecvDelimiter/SocketUDP_Recv/SocketClearRecvBuf\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u2022 \u5728\u6267\u884C\u4E2D\u66F4\u6539\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u7684\u901A\u4FE1\u76EE\u6807\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 SocketUDP_Open \u6253\u5F00UDP\u5957\u63A5\u5B57 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketUDP_Open \u6253\u5F00UDP\u5957\u63A5\u5B57 FB \u00A0 SocketUDP_Open_instance(Execute, EthernetPort, SrcPortNo, SocketNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 EthernetPort IN UINT 0 \u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\uFF080\uFF1A\u81EA\u52A8\u9009\u62E9\uFF09 SrcPortNo IN UINT 0 \u81EA\u7AEF\u53E3\u53F7\uFF080\uFF1A\u4E34\u65F6\u7AEF\u53E3\uFF09 SocketNo OUT UINT - \u5957\u63A5\u5B57\u7F16\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6253\u5F00\u7528 SrcPortNo \u6307\u5B9A\u7684\u672C\u673AUDP\u7AEF\u53E3\u53F7\u3002 Busy \u53D8\u4E3ATRUE\u65F6\uFF0C\u5728 SocketNo \u4E2D\u5B58\u50A8\u503C\u3002\u6253\u5F00\u540E\uFF0C  Done \u4F1A\u53D8\u4E3ATRUE\u3002 \u8BE5 SocketNo \u4E2D\u5B58\u50A8\u7684\u503C\uFF0C\u4F1A\u5728SocketUDP_Send/SocketUDP_Recv/SocketClose\u4E2D\u4F7F\u7528\u3002 SrcPortNo \u6307\u5B9A\u672C\u673A\u7AEF\u53E3\u53F7\u3002 \u5982\u679C\u6307\u5B9A\u4E860\uFF0C\u5219\u4F7F\u7528\u4E34\u65F6\u7AEF\u53E3\u3002 SocketNo Busy \u53D8\u4E3ATRUE\u65F6\u5B58\u50A8\u503C\u3002 \u5B58\u50A8\u7684\u503C\u5728SocketUDP_Send/SocketUDP_Recv/SocketClose\u4E2D\u4F7F\u7528\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 EthernetPort \u6307\u5B9A\u4E86\u8D85\u51FA\u8303\u56F4\u7684\u503C\u65F6 \u2022 \u7528 SrcPortNo \u6307\u5B9A\u7684UDP\u7AEF\u53E3\u5DF2\u7ECF\u6253\u5F00\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 SocketUDP_Send UDP\u5957\u63A5\u5B57\u53D1\u9001 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketUDP_Send UDP\u5957\u63A5\u5B57\u53D1\u9001 FB \u00A0 SocketUDP_Send_instance(Execute, SocketNo, DstAddress, DstPortNo, ByteSize, Src, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 DstAddress IN STRING[255] \u0027\u0027 \u53D1\u9001\u76EE\u6807IP\u5730\u5740(\u4E3B\u673A\u540D) DstPortNo IN UINT 0 \u53D1\u9001\u76EE\u6807\u7AEF\u53E3\u53F7\uFF081\uFF5E\uFF09 ByteSize IN UDINT 0 \u53D1\u9001\u5B57\u8282\u6570(1\uFF5E16384) Src IN - - \u53D1\u9001\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7528 SocketNo \u6307\u5B9A\u7684UDP\u5957\u63A5\u5B57\uFF0C\u5411\u7528 DstAddress \u548C DstPortNo \u6307\u5B9A\u7684\u5BF9\u65B9\uFF0C\u53D1\u9001\u4EE5 Src \u5F00\u5934\u7684 ByteSize \u5B57\u8282\u6570\u636E\u3002 DstAddress \u7528\u5B57\u7B26\u4E32\uFF08\u7528\u0027\u6807\u51FA\uFF09\u6307\u5B9A\u901A\u4FE1\u76EE\u6807\u7684IP\u5730\u5740\u6216\u4E3B\u673A\u540D\u3002\u7528IP\u5730\u5740\u6307\u5B9A\u65F6\uFF0C\u4F7F\u7528.\uFF08\u53E5\u70B9\uFF09\u5206\u9694\u6BCF\u4E2A\u516B\u4F4D\u7EC4\uFF08\u53EF\u6D88\u96F6\uFF09\u3002 \u4F8B\uFF1A\u0027192.168.0.20\u0027 \u7528\u4E3B\u673A\u540D\u6307\u5B9A\u65F6\uFF0C\u8BF7\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E0A\u8BBE\u5B9ADNS\u670D\u52A1\u5668\u3002 \u5982\u679C\u6307\u5B9A\u4E86\u0027255.255.255.255\u0027\uFF0C\u5219\u4F1A\u5C06\u5E7F\u64AD\u53D1\u9001\u5230\u5B50\u7F51\u7EDC\u4E2D\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684UDP\u5957\u63A5\u5B57\u672A\u6253\u5F00\u65F6 \u2022 \u5BF9 DstAddress \u6307\u5B9A\u4E86\u4E3B\u673A\u540D\uFF0C\u4F46\u5730\u5740\u89E3\u6790\u5931\u8D25\u65F6 \u2022 \u5BF9 DstPortNo \u6307\u5B9A\u4E860\u65F6 \u2022 Src \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C ByteSize \u65F6 \u2022 ByteSize \u662F0\u6216\u5927\u4E8E\u63A5\u6536/\u53D1\u9001\u6700\u5927\u5927\u5C0F\u65F6 \u2022 \u4F7F\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u6B63\u5728\u6267\u884CSocketTCP_ActiveOpen/SocketTCP_PassiveOpen/SocketTCP_Send/SocketUDP_Open/SocketUDP_Send\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u5BF9 DstAddress \u6307\u5B9A\u4E3B\u673A\u540D\u65F6\uFF0C\u4F1A\u5411DNS\u670D\u52A1\u5668\u53D1\u51FA\u8BE2\u95EE\uFF0C\u6240\u4EE5\u6267\u884C\u65F6\u95F4\u6BD4\u5BF9 DstAddress \u6307\u5B9AIP\u5730\u5740\u65F6\u66F4\u957F\u3002 \u53E6\u5916\uFF0C\u5982\u679CDNS\u670D\u52A1\u5668\u6CA1\u6709\u54CD\u5E94\uFF0C\u5219\u4ECE\u5F00\u59CB\u6267\u884C\u5230\u53D1\u751F\u9519\u8BEF\uFF08\u5230 Error \u53D8\u4E3ATRUE\uFF09\u7EA6\u97001\u5206\u949F\u3002 SocketUDP_Recv UDP\u5957\u63A5\u5B57\u63A5\u6536 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketUDP_Recv UDP\u5957\u63A5\u5B57\u63A5\u6536 FB \u00A0 SocketUDP_Recv_instance(Execute, SocketNo, ByteSize, Dst, Timeout, RecvByteSize, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 MaxByteSize IN UDINT 0 \u63A5\u6536\u6700\u5927\u5B57\u8282\u6570(1\uFF5E16384) Dst IN-OUT - - \u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Timeout IN UINT 0 \u63A5\u6536\u8D85\u65F6\u65F6\u95F4[0.1s] RecvByteSize OUT UDINT - \u5DF2\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u5927\u5C0F SrcAddress OUT STRING[15] - \u53D1\u9001\u6E90IP\u5730\u5740 SrcPortNo OUT UINT - \u53D1\u9001\u6E90\u7AEF\u53E3\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u7528 SocketNo \u6307\u5B9A\u7684UDP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u5185\u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 UDP\u5C061\u6570\u636E\u5305\u4F5C\u4E3A\u4E00\u7EC4\u8FDB\u884C\u63A5\u6536\uFF0C\u56E0\u6B64\u5728\u6536\u5230\u6570\u636E\u65F6\u5373\u5B8C\u6210\u5904\u7406\u3002 \u8D85\u8FC7\u7528 MaxByteSize \u6307\u5B9A\u7684\u6700\u5927\u5B57\u8282\u6570\u7684\u6570\u636E\u4F1A\u88AB\u4E22\u5F03\u3002 \u63A5\u6536\u5B8C\u6210\u65F6\uFF0C\u4F1A\u5C06\u5B9E\u9645\u8BFB\u53D6\u7684\u6570\u636E\u5927\u5C0F\u3001\u53D1\u9001\u6E90IP\u5730\u5740\u3001\u53D1\u9001\u6E90\u7AEF\u53E3\u53F7\u5206\u522B\u5B58\u50A8\u5728 RecvByteSize \u3001 SrcAddress \u3001 SrcPortNo \u4E2D\u3002 \u5982\u679C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210\u63A5\u6536\u5904\u7406\uFF0C\u5219\u4F1A\u53D1\u751F\u8D85\u65F6\u9519\u8BEF\u3002\u5BF9 Timeout \u6307\u5B9A\u4E860\u65F6\uFF0C\u4E0D\u6267\u884C\u8D85\u65F6\u68C0\u6D4B\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5C06 Execute \u7F6E\u4E8ETRUE\u540E\uFF0C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u8D85\u65F6\u65F6\u95F4\u5185\u672A\u6267\u884C\u63A5\u6536\u6570\u636E\u5904\u7406\u65F6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684UDP\u5957\u63A5\u5B57\u672A\u6253\u5F00\u65F6 \u2022 Dst \u7684\u5269\u4F59\u5B57\u8282\u6570\uFF1C MaxByteSize \u65F6 \u2022 MaxByteSize \u662F0\u6216\u5927\u4E8E\u63A5\u6536/\u53D1\u9001\u6700\u5927\u5927\u5C0F\u65F6 \u2022 \u4F7F\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u6B63\u5728\u6267\u884CSocketTCP_Recv/SocketTCP_RecvDelimiter/SocketUDP_Recv/SocketClearRecvBuf\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u65E0\u8BBADNS\u670D\u52A1\u5668\u7684\u8BBE\u5B9A\u5982\u4F55\uFF0C SrcAddress \u59CB\u7EC8\u5B58\u50A8IP\u5730\u5740\u800C\u4E0D\u662F\u4E3B\u673A\u540D\u3002 SocketClearRecvBuf \u6E05\u9664\u5957\u63A5\u5B57\u63A5\u6536\u7F13\u5B58 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketClearRecvBuf \u6E05\u9664\u5957\u63A5\u5B57\u63A5\u6536\u7F13\u5B58 FB \u00A0 SocketClearRecvBuf_instance(Execute, SocketNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6E05\u9664\u7528 SocketNo \u6307\u5B9A\u7684TCP/UDP\u5957\u63A5\u5B57\u7684\u63A5\u6536\u7F13\u5B58\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684TCP/UDP\u5957\u63A5\u5B57\u4E0D\u5B58\u5728\u65F6 \u2022 SocketNo \u2265\u6700\u5927\u5957\u63A5\u5B57\u6570\u65F6 \u2022 \u4F7F\u7528\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\u6B63\u5728\u6267\u884CSocketTCP_Recv/SocketTCP_RecvDelimiter/SocketUDP_Recv/SocketClearRecvBuf\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u65F6 \u2022 \u6267\u884C\u4E2D\u6307\u5B9A\u4E86\u540C\u4E00\u4E2A\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u4F46\u6267\u884C\u4E86SocketClose\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u7528 SocketNo \u6307\u5B9A\u4E86TCP\u5957\u63A5\u5B57\u65F6\uFF0C\u901A\u4FE1\u76EE\u6807\u4F1A\u53D8\u4E3A\u7B49\u5F85\u53D1\u9001\u72B6\u6001\uFF0C\u6240\u4EE5\u6709\u65F6\u4F1A\u5728\u521A\u6267\u884C\u5B8C\u672C\u6307\u4EE4\u540E\uFF0C\u5728\u63A5\u6536\u7F13\u5B58\u4E2D\u5B58\u50A8\u6570\u636E\u3002 SocketClose \u5173\u95ED\u5957\u63A5\u5B57 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SocketClose \u5173\u95ED\u5957\u63A5\u5B57 FB \u00A0 SocketClose_instance(Execute, SocketNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 SocketNo IN UINT 0 \u5957\u63A5\u5B57\u7F16\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5173\u95ED\u7528 SocketNo \u6307\u5B9A\u7684TCP/UDP\u5957\u63A5\u5B57\u3002 \u5BF9 SocketNo \u6307\u5B9A\u4E86$FFFF\u65F6\uFF0C\u4F1A\u5173\u95ED\u6240\u6709TCP/UDP\u5957\u63A5\u5B57\u3002 \u6307\u5B9A\u4E3ATCP\u5957\u63A5\u5B57\u65F6\uFF0C\u4F1A\u5728\u65AD\u5F00\u8FDE\u63A5\u4E4B\u540E\u6267\u884C\u5173\u95ED\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 SocketNo \u6307\u5B9A\u7684TCP/UDP\u5957\u63A5\u5B57\u4E0D\u5B58\u5728\u65F6 \u2022 SocketNo \u2265\u6700\u5927\u5957\u63A5\u5B57\u6570\u65F6\uFF08$FFFF\u9664\u5916) \u2022 \u6307\u5B9A\u5173\u95ED\u5904\u7406\u4E2D\u7684\u5957\u63A5\u5B57\u7F16\u53F7\uFF0C\u6267\u884C\u4E86SocketClose\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u2022 \u5982\u679C1\u4E2A\u7AEF\u53E3\u53F7\u5EFA\u7ACB\u4E86\u591A\u4E2A\u8FDE\u63A5\uFF0C\u5219\u53EA\u5173\u95ED\u6240\u6307\u5B9A\u7684\u5957\u63A5\u5B57\u7684\u8FDE\u63A5\u3002 \u2022 \u5982\u679C\u5728SocketTCP_Recv\u3001SocketTCP_RecvDelimiter\u3001SocketUDP_Recv\u7684\u6267\u884C\u4E2D\u6267\u884C\u4E86\u672C\u6307\u4EE4\uFF0C\u5219\u4F1A\u53D6\u6D88\u63A5\u6536\u7B49\u5F85\u3002 \u2022 \u53EA\u6709\u5728\u6240\u6709\u5957\u63A5\u5B57\u90FD\u4E0D\u662F\u5173\u95ED\u5904\u7406\u4E2D\u7684\u72B6\u6001\u4E0B\uFF0C\u624D\u53EF\u4EE5\u6267\u884C\u5728 SocketNo \u4E2D\u6307\u5B9A\u4E86$FFFF\u7684\u5168\u90E8\u5957\u63A5\u5B57\u5173\u95ED\u5904\u7406\u3002\u5982\u679C\u4EFB\u610F\u4E00\u4E2A\u5957\u63A5\u5B57\u662F\u5173\u95ED\u5904\u7406\u4E2D\u72B6\u6001\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 Ping PING\u53D1\u9001 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 Ping PING\u53D1\u9001 FB \u00A0 Ping_instance(Execute, DstAddress, Timeout, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 DstAddress IN STRING[255] \u0027\u0027 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740 Timeout IN UINT 40 \u8D85\u65F6\u65F6\u95F4[0.1s](1(0.1s)\uFF5E) Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5411\u7528 DstAddress \u6307\u5B9A\u7684\u5BF9\u65B9\uFF0C\u53D1\u51FA1\u6B21ICMP\u56DE\u5E94\u8BF7\u6C42\uFF0C\u786E\u8BA4\u4E0E\u5BF9\u65B9\u8BBE\u5907\u7684\u8FDE\u901A\u6027\u3002 DstAddress \u7528\u5B57\u7B26\u4E32\uFF08\u7528\u0027\u6807\u51FA\uFF09\u6307\u5B9A\u901A\u4FE1\u76EE\u6807\u7684IP\u5730\u5740\u6216\u4E3B\u673A\u540D\u3002\u7528IP\u5730\u5740\u6307\u5B9A\u65F6\uFF0C\u4F7F\u7528.\uFF08\u53E5\u70B9\uFF09\u5206\u9694\u6BCF\u4E2A\u516B\u4F4D\u7EC4\uFF08\u53EF\u6D88\u96F6\uFF09\u3002 \u4F8B\uFF1A\u0027192.168.0.20\u0027 \u7528\u4E3B\u673A\u540D\u6307\u5B9A\u65F6\uFF0C\u8BF7\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E0A\u8BBE\u5B9ADNS\u670D\u52A1\u5668\u3002 \u5982\u679C\u6307\u5B9A\u4E86\u0027255.255.255.255\u0027\uFF0C\u5219\u4F1A\u5C06\u5E7F\u64AD\u53D1\u9001\u5230\u5B50\u7F51\u7EDC\u4E2D\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\uFF0C\u5BF9\u65B9\u8BBE\u5907\u6CA1\u6709\u54CD\u5E94\u65F6 \u2022 \u5BF9 Timeout \u6307\u5B9A\u4E860\u65F6 \u2022 \u5728Ping\u5904\u4E8E\u6267\u884C\u4E2D\u7684\u72B6\u6001\u4E0B\u6267\u884C\u4E86\u5904\u7406\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u2022 \u4E00\u6B21\u53EA\u80FD\u6267\u884C1\u4E2APing\u3002 \u2022 \u5BF9 Timeout \u6307\u5B9A\u4E86\u6BD4100\uFF0810.0s\uFF09\u5927\u7684\u503C\u65F6\uFF0C\u4F1A\u6309100\uFF0810.0s\uFF09\u52A8\u4F5C\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u901A\u8FC7Ping\u8FDB\u884C\u8FDE\u63A5\u786E\u8BA4 ST\uFF1A \u901A\u8FC7Ping\u8FDB\u884C\u8FDE\u63A5\u786E\u8BA4"},{"link":"./03_21_FBFUN_BufferMemory.html","title":"\u7F13\u51B2\u5B58\u50A8\u5668","body":"\u7F13\u51B2\u5B58\u50A8\u5668 FUN/FB \u540D\u79F0 \u6982\u8FF0 UnitBufMemBlockRead \u7F13\u51B2\u5B58\u50A8\u5668\u8FDE\u7EED\u8BFB\u53D6 \u4ECE\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u6570\u636E\u3002 UnitBufMemBlockWrite \u7F13\u51B2\u5B58\u50A8\u5668\u8FDE\u7EED\u5199\u5165 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u6570\u636E\u3002 UnitBufMemFill \u7F13\u51B2\u5B58\u50A8\u5668\u6279\u91CF\u5199\u5165 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u591A\u4E2A\u6570\u636E\u3002 UnitBufMemRead \u7F13\u51B2\u5B58\u50A8\u5668\u503C\u8BFB\u53D6 \u4ECE\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u503C\u3002 UnitBufMemWrite \u7F13\u51B2\u5B58\u50A8\u5668\u503C\u5199\u5165 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u503C\u3002 UnitBufMemBlockRead \u7F13\u51B2\u5B58\u50A8\u5668\u8FDE\u7EED\u8BFB\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UnitBufMemBlockRead \u7F13\u51B2\u5B58\u50A8\u5668\u8FDE\u7EED\u8BFB\u53D6 FUN \u00A0 UnitBufMemBlockRead(Unit, BufMemAddress, Dst, WordSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 BufMemAddress IN UDINT 0 \u8BFB\u53D6\u7F13\u51B2\u5B58\u50A8\u5668\u8D77\u59CB\u7F16\u53F7 Dst IN-OUT - - \u8BFB\u53D6\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB WordSize IN UDINT 0 \u8BFB\u53D6\u5B57\u6570 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\uFF0C\u8BFB\u53D6\u4EE5 BufMemAddress \u6307\u5B9A\u7684\u5730\u5740\u4E3A\u5F00\u5934\u7684 WordSize \u5B57\u7684\u6570\u636E\uFF0C\u5E76\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u6307\u5B9A\u4E86 Unit \u4E2D\u6CA1\u6709\u7684\u5355\u5143\u7F16\u53F7\u65F6 \u2022 BufMemAddress \u002B( WordSize -1)\u8D85\u51FA\u4E86\u5F53\u524D\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8303\u56F4\u65F6 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\uFF1C WordSize \u65F6 \u2022 \u5BF9 Dst \u6307\u5B9A\u4E86\u4E0D\u662FCH\u5F00\u5934\u7684\u503C\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 WordSize =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u591A\u4E2A\u6570\u636E\uFF09 ST\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u591A\u4E2A\u6570\u636E\uFF09 UnitBufMemBlockWrite \u7F13\u51B2\u5B58\u50A8\u5668\u8FDE\u7EED\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UnitBufMemBlockWrite \u7F13\u51B2\u5B58\u50A8\u5668\u8FDE\u7EED\u5199\u5165 FUN \u00A0 UnitBufMemBlockWrite(Unit, BufMemAddress, Src, WordSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 BufMemAddress IN UDINT 0 \u5199\u5165\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8D77\u59CB\u7F16\u53F7 Src IN - - \u5199\u5165\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB WordSize IN UDINT 0 \u5199\u5165\u5B57\u6570 \u52A8\u4F5C\u8BF4\u660E \u5728\u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\uFF0C\u4EE5 BufMemAddress \u6307\u5B9A\u7684\u5730\u5740\u4E3A\u5F00\u5934\uFF0C\u5199\u5165\u4EE5 Src \u4E3A\u5F00\u5934\u7684 WordSize \u5B57\u7684\u6570\u636E\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u6307\u5B9A\u4E86 Unit \u4E2D\u6CA1\u6709\u7684\u5355\u5143\u7F16\u53F7\u65F6 \u2022 BufMemAddress \u002B( WordSize -1)\u8D85\u51FA\u4E86\u5F53\u524D\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8303\u56F4\u65F6 \u2022 Src \u7684\u5269\u4F59\u5B57\u6570\uFF1C WordSize \u65F6 \u2022 \u5BF9 Src \u6307\u5B9A\u4E86\u4E0D\u662FCH\u5F00\u5934\u7684\u503C\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 WordSize =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u591A\u4E2A\u6570\u636E\uFF09 ST\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u591A\u4E2A\u6570\u636E\uFF09 UnitBufMemFill \u7F13\u51B2\u5B58\u50A8\u5668\u6279\u91CF\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UnitBufMemFill \u7F13\u51B2\u5B58\u50A8\u5668\u6279\u91CF\u5199\u5165 FUN \u00A0 UnitBufMemFill(Unit, BufMemAddress, Src, Count); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 BufMemAddress IN UDINT 0 \u5199\u5165\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8D77\u59CB\u7F16\u53F7 Src IN - - \u5199\u5165\u6570\u636E Count IN UDINT 0 \u5199\u5165\u8981\u7D20\u6570\u91CF \u52A8\u4F5C\u8BF4\u660E \u5728\u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\uFF0C\u4EE5 BufMemAddress \u6307\u5B9A\u7684\u5730\u5740\u4E3A\u5F00\u5934\uFF0C\u5199\u5165 Count \u8981\u7D20\u5728 Src \u4E2D\u5B58\u50A8\u7684\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u6307\u5B9A\u4E86 Unit \u4E2D\u6CA1\u6709\u7684\u5355\u5143\u7F16\u53F7\u65F6 \u2022 BufMemAddress \u002B( Count *1\u8981\u7D20\u7684\u5B57\u6570-1)\u8D85\u51FA\u4E86\u5F53\u524D\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 Count =0\u65F6\uFF0C\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 UnitBufMemRead \u7F13\u51B2\u5B58\u50A8\u5668\u503C\u8BFB\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UnitBufMemRead \u7F13\u51B2\u5B58\u50A8\u5668\u503C\u8BFB\u53D6 FUN \u00A0 UnitBufMemRead(Unit, BufMemAddress, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 BufMemAddress IN UDINT 0 \u8BFB\u53D6\u7F13\u51B2\u5B58\u50A8\u5668\u8D77\u59CB\u7F16\u53F7 Dst IN-OUT - - \u8BFB\u53D6\u6570\u636E\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\uFF0C\u4EE5 BufMemAddress \u6307\u5B9A\u7684\u5730\u5740\u4E3A\u5F00\u5934\u5B58\u50A8\u7684\u503C\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002\u6839\u636E Dst \u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\u7C7B\u578B\uFF0C\u8BFB\u53D6\u7684\u5B57\u6570\u4F1A\u6709\u6240\u4E0D\u540C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u6307\u5B9A\u4E86 Unit \u4E2D\u6CA1\u6709\u7684\u5355\u5143\u7F16\u53F7\u65F6 \u2022 BufMemAddress \u002B( Dst \u7684\u5B57\u6570-1)\u8D85\u51FA\u4E86\u5F53\u524D\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u5355\u4E2A\u6570\u636E\uFF09 ST\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u5355\u4E2A\u6570\u636E\uFF09 UnitBufMemWrite \u7F13\u51B2\u5B58\u50A8\u5668\u503C\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UnitBufMemWrite \u7F13\u51B2\u5B58\u50A8\u5668\u503C\u5199\u5165 FUN \u00A0 UnitBufMemWrite(Unit, BufMemAddress, Src); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 BufMemAddress IN UDINT 0 \u5199\u5165\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8D77\u59CB\u7F16\u53F7 Src IN - - \u5199\u5165\u6570\u636E\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u5C06 Src \u4E2D\u5B58\u50A8\u7684\u503C\uFF0C\u5728\u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\uFF0C\u4EE5 BufMemAddress \u6307\u5B9A\u7684\u5730\u5740\u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002\u6839\u636E Src \u4E2D\u6307\u5B9A\u7684\u53D8\u91CF\u7C7B\u578B\uFF0C\u5199\u5165\u7684\u5B57\u6570\u4F1A\u6709\u6240\u4E0D\u540C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u6307\u5B9A\u4E86 Unit \u4E2D\u6CA1\u6709\u7684\u5355\u5143\u7F16\u53F7\u65F6 \u2022 BufMemAddress \u002B( Src \u7684\u5B57\u6570-1)\u8D85\u51FA\u4E86\u5F53\u524D\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8303\u56F4\u65F6 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u5355\u4E2A\u6570\u636E\uFF09 ST\uFF1A \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u5355\u4E2A\u6570\u636E\uFF09"},{"link":"./03_22_FBFUN_Refresh.html","title":"\u5237\u65B0","body":"\u5237\u65B0 FUN/FB \u540D\u79F0 \u6982\u8FF0 RefreshFreerunCounter \u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u5237\u65B0 \u5C06\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u5237\u65B0\u4E3A\u6700\u65B0\u503C\u3002 RefreshX \u8F93\u5165\u7EE7\u7535\u5668\u72B6\u6001\u5237\u65B0 \u5237\u65B0\u8F93\u5165\u7EE7\u7535\u5668\u72B6\u6001\u3002 RefreshY \u8F93\u51FA\u7EE7\u7535\u5668\u72B6\u6001\u5237\u65B0 \u5237\u65B0\u8F93\u51FA\u7EE7\u7535\u5668\u72B6\u6001\u3002 RefreshCyclicInput \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u5165\u6570\u636E\u5237\u65B0 \u5237\u65B0\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u5165\u6570\u636E\u3002 RefreshCyclicOutput \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u51FA\u6570\u636E\u5237\u65B0 \u5237\u65B0\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u51FA\u6570\u636E\u3002 RefreshFreerunCounter \u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u5237\u65B0 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RefreshFreerun\u00ADCounter \u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u5237\u65B0 FUN \u00A0 RefreshFreerunCounter(); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA \u52A8\u4F5C\u8BF4\u660E \u5C06\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u5237\u65B0\u4E3A\u6700\u65B0\u503C\u3002\u5237\u65B0\u7684\u5BF9\u8C61\u5982\u4E0B\u3002 \u5185\u5BB9 \u7CFB\u7EDF\u53D8\u91CF\u540D CM\u7F16\u53F7 1ms\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668 _FreeRunCounter1ms CM1030 10us\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668 _FreeRunCounter10us CM1032 1us\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668 _FreeRunCounter1us CM1034 100ns\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668 _FreeRunCounter100ns CM1036 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A 2\u70B9\u95F4\u7684\u65F6\u95F4\u6D4B\u91CF ST\uFF1A 2\u70B9\u95F4\u7684\u65F6\u95F4\u6D4B\u91CF RefreshX \u8F93\u5165\u7EE7\u7535\u5668\u72B6\u6001\u5237\u65B0 RefreshY \u8F93\u51FA\u7EE7\u7535\u5668\u72B6\u6001\u5237\u65B0 \u258C RefreshX \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RefreshX \u8F93\u5165\u7EE7\u7535\u5668\u72B6\u6001\u5237\u65B0 FUN \u00A0 RefreshX(InRelay, BitSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA InRelay IN-OUT - - \u5237\u65B0\u7684\u8F93\u5165\u7EE7\u7535\u5668\u8D77\u59CB BitSize IN UINT 1 \u5237\u65B0\u7684\u4F4D\u70B9\u6570(1\uFF5E256) \u258C RefreshY \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RefreshY \u8F93\u51FA\u7EE7\u7535\u5668\u72B6\u6001\u5237\u65B0 FUN \u00A0 RefreshY(OutRelay, BitSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA OutRelay IN-OUT - - \u5237\u65B0\u7684\u8F93\u51FA\u7EE7\u7535\u5668\u8D77\u59CB BitSize IN UINT 1 \u5237\u65B0\u7684\u4F4D\u70B9\u6570(1\uFF5E256) \u00A0 \u52A8\u4F5C\u8BF4\u660E \u258C RefreshX \u4EE5 InRelay \u4E3A\u5F00\u5934\uFF0C\u5237\u65B0 BitSize \u6570\u91CF\u7684\u8F93\u5165\u7EE7\u7535\u5668\u72B6\u6001\u3002 \u258C RefreshY \u4EE5 OutRelay \u4E3A\u5F00\u5934\uFF0C\u5237\u65B0 BitSize \u6570\u91CF\u7684\u8F93\u51FA\u7EE7\u7535\u5668\u72B6\u6001\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5728\u64CD\u4F5C\u6570\u6307\u5B9A\u7684\u8303\u56F4\u5185\uFF0C\u6709\u4E0D\u652F\u6301\u8F93\u5165\u5237\u65B0\u7684\u8F6F\u5143\u4EF6(RefreshX) \u2022 \u5728\u64CD\u4F5C\u6570\u6307\u5B9A\u7684\u8303\u56F4\u5185\uFF0C\u6709\u4E0D\u652F\u6301\u8F93\u51FA\u5237\u65B0\u7684\u8F6F\u5143\u4EF6(RefreshY) \u2022 \u64CD\u4F5C\u6570\u6307\u5B9A\u7684\u8303\u56F4\u8DE8\u5360\u4E0D\u540C\u7684\u5355\u5143 \u2022 \u5BF9\u8C61\u7EE7\u7535\u5668\u8DE8\u536017CH\u4EE5\u4E0A \u2022 \u5BF9 BitSize \u6307\u5B9A\u4E860 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF RefreshCyclicInput \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u5165\u6570\u636E\u5237\u65B0 RefreshCyclicOutput \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u51FA\u6570\u636E\u5237\u65B0 \u258C RefreshCyclicInput \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RefreshCyclicInput \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u5165\u6570\u636E\u5237\u65B0 FUN \u00A0 RefreshCyclicInput(Unit, NodeAdr, Connection); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 NodeAdr IN UINT 0 \u8282\u70B9\u5730\u5740(0\uFF5E256) Connection IN UINT 1 \u5237\u65B0\u7684\u8FDE\u63A5\u7F16\u53F7\uFF081\uFF5E256\uFF09 \u258C RefreshCyclicOutput \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 RefreshCyclicOutput \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u51FA\u6570\u636E\u5237\u65B0 FUN \u00A0 RefreshCyclicOutput(Unit, NodeAdr, Connection); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 NodeAdr IN UINT 0 \u8282\u70B9\u5730\u5740(0\uFF5E256) Connection IN UINT 1 \u5237\u65B0\u7684\u8FDE\u63A5\u7F16\u53F7(1\uFF5E256) \u00A0 \u52A8\u4F5C\u8BF4\u660E \u258C RefreshCyclicInput \u5237\u65B0\u7B2C Unit \u4E2A\u8282\u70B9\u5730\u5740 NodeAdr \u7684\u8FDE\u63A5\u7F16\u53F7 Connection \u7684\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u5165\u6570\u636E\u3002 \u258C RefreshCyclicOutput \u5237\u65B0\u7B2C Unit \u4E2A\u8282\u70B9\u5730\u5740 NodeAdr \u7684\u8FDE\u63A5\u7F16\u53F7 Connection \u7684\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u51FA\u6570\u636E\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Unit \u3001 NodeAdr \u3001 Connection \u6307\u5B9A\u7684\u8FDE\u63A5\u4E0D\u5B58\u5728 \u2022 Unit \u3001 NodeAdr \u3001 Connection \u6307\u5B9A\u7684\u8FDE\u63A5\u4E2D\u6CA1\u6709\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u5165\u6570\u636E\uFF08RefreshCyclicInput\uFF09 \u2022 Unit \u3001 NodeAdr \u3001 Connection \u6307\u5B9A\u7684\u8FDE\u63A5\u4E2D\u6CA1\u6709\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u8F93\u51FA\u6570\u636E\uFF08RefreshCyclicOutput\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4E0D\u4FDD\u8BC1\u8FDE\u63A5\u5355\u4F4D\u4E2D\u7684\u540C\u65F6\u6027\u3002\u4F46\u662F\uFF0C\u4FDD\u8BC1\u4EE5\u4ECE\u6765\u81EA\u5FAA\u73AF\u901A\u4FE1\u6570\u636E\u7684\u524D\u5934\u7684 4 \u7684\u500D\u6570\u7684\u504F\u79FB\u4F4D\u7F6E\u5206\u914D\u7684\u5076\u6570\u7F16\u53F7\u4E3A\u524D\u5934\u7684 2 \u4E2A\u5B57\u6570\u636E\u7684\u540C\u65F6\u6027\u3002 \u2022 \u5BF9 NodeAdr \u6307\u5B9A\u4E860\uFF08\u672C\u673A\u8282\u70B9\uFF09\u65F6\uFF0C\u8BF7\u5BF9 Connection \u6307\u5B9A\u6807\u7B7E\u7F16\u53F7\u3002 \u2022 \u5982\u679C\u6307\u5B9A\u4E86\u5DF2\u8BBE\u5B9A\u9884\u7559\u7684\u8282\u70B9\u5730\u5740\uFF0C\u5219\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\uFF08\u5982\u679C\u6307\u5B9A\u4E86\u4E0D\u5B58\u5728\u7684\u8FDE\u63A5\u7F16\u53F7\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\uFF09\u3002"},{"link":"./03_23_FBFUN_ModuleExecution.html","title":"\u6267\u884C\u6A21\u5757","body":"\u6267\u884C\u6A21\u5757 FUN/FB \u540D\u79F0 \u6982\u8FF0 ModuleStart \u542F\u52A8\u7A0B\u5E8F\u6A21\u5757 \u542F\u52A8\u6A21\u5757\u3002 ModuleStop \u505C\u6B62\u7A0B\u5E8F\u6A21\u5757 \u505C\u6B62\u6A21\u5757\u3002 ModuleStart \u542F\u52A8\u7A0B\u5E8F\u6A21\u5757 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ModuleStart \u542F\u52A8\u7A0B\u5E8F\u6A21\u5757 \u505C\u6B62\u7A0B\u5E8F\u6A21\u5757FUN \u00A0 \u2014 \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Name IN - - \u6A21\u5757\u540D \u52A8\u4F5C\u8BF4\u660E \u542F\u52A8\u7528 Name \u6307\u5B9A\u7684\u6A21\u5757\u3002\u6A21\u5757\u540D\u7528\u0022\u0022\uFF08\u53CC\u5F15\u53F7\uFF09\u6307\u5B9A\uFF08\u4F8B\uFF1A\u0022Main\u0022\uFF09\u3002 \u6307\u5B9A\u7684\u6A21\u5757\u4ECE\u4E0B\u4E00\u4E2A\u626B\u63CF\u5468\u671F\u5F00\u59CB\u8FD0\u884C\u3002 \u5BF9\u5DF2\u7ECF\u542F\u52A8\u7684\u6A21\u5757\uFF0C\u4E0D\u4F5C\u4EFB\u4F55\u5904\u7406\u3002 \u00A0 \u2022 \u5F00\u59CB\u6267\u884C\u6A21\u5757\u65F6\u7684\u5FAE\u5206\u6267\u884C\u578B\u6307\u4EE4\u7684\u521D\u59CB\u72B6\u6001\uFF0C\u5728\u68C0\u6D4B\u5230\u4E0A\u5347\u6CBF\u65F6\u53D8\u4E3AON\uFF0C\u5728\u68C0\u6D4B\u5230\u4E0B\u964D\u6CBF\u65F6\u53D8\u4E3AOFF\u3002 \u5F00\u59CB\u6267\u884C\u65F6\uFF0C\u4E0D\u4F1A\u7ACB\u5373\u68C0\u6D4B\u5FAE\u5206\u4FE1\u53F7\u3002 \u2022 \u5982\u679C\u5BF9\u76F8\u540C\u6A21\u5757\u5728\u76F8\u540C\u626B\u63CF\u5468\u671F\u5185\uFF0C\u6267\u884C\u4E86\u591A\u6B21ModuleStart\u6307\u4EE4\u548CModuleStop\u6307\u4EE4\uFF0C\u5219\u4F1A\u6309\u6700\u540E\u6267\u884C\u7684\u6A21\u5757\u6307\u4EE4\u6267\u884C\u5904\u7406\u3002 \u2022 \u4E0D\u80FD\u5F00\u59CB\u6216\u505C\u6B62\u6267\u884C\u521D\u59CB\u5316\u6A21\u5757\u3002 ModuleStop \u505C\u6B62\u7A0B\u5E8F\u6A21\u5757 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 ModuleStop \u505C\u6B62\u7A0B\u5E8F\u6A21\u5757 FUN \u00A0 \u2014 \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Name IN - - \u6A21\u5757\u540D \u52A8\u4F5C\u8BF4\u660E \u505C\u6B62\u7528 Name \u6307\u5B9A\u7684\u6A21\u5757\u3002\u6A21\u5757\u540D\u7528\u0022\u0022\uFF08\u53CC\u5F15\u53F7\uFF09\u6307\u5B9A\uFF08\u4F8B\uFF1A\u0022Main\u0022\uFF09\u3002 \u5BF9\u5DF2\u7ECF\u505C\u6B62\u7684\u6A21\u5757\uFF0C\u4E0D\u4F5C\u4EFB\u4F55\u5904\u7406\u3002 \u4E5F\u53EF\u4EE5\u505C\u6B62\u81EA\u5DF1\u7684\u6A21\u5757\u3002 \u00A0 \u2022 \u5982\u679C\u5BF9\u76F8\u540C\u6A21\u5757\u5728\u76F8\u540C\u626B\u63CF\u5468\u671F\u5185\uFF0C\u6267\u884C\u4E86\u591A\u6B21ModuleStart\u6307\u4EE4\u548CModuleStop\u6307\u4EE4\uFF0C\u5219\u4F1A\u6309\u6700\u540E\u6267\u884C\u7684\u6307\u4EE4\u6267\u884C\u5904\u7406\u3002 \u2022 \u8BF7\u4E0D\u8981\u505C\u6B62\u6240\u6709\u6A21\u5757\u3002\u5982\u679C\u505C\u6B62\u4E86\u6240\u6709\u6A21\u5757\uFF0C\u5219\u4F1A\u5BFC\u81F4\u6240\u6709\u7A0B\u5E8F\u90FD\u4E0D\u6267\u884C\uFF0C\u8BF7\u7528\u4E0B\u8FF0\u4EFB\u610F\u4E00\u4E2A\u65B9\u6CD5\u6062\u590D\uFF08\u5FC5\u987B\u5148\u505C\u6B62\u7A0B\u5E8F\u624D\u80FD\u6062\u590D\uFF09\u3002 \u2012 \u8BF7\u5148\u5207\u65ADCPU\u5355\u5143\u7684\u7535\u6E90\uFF0C\u7136\u540E\u518D\u6B21\u63A5\u901A\u7535\u6E90\u3002 \u2012 \u8BF7\u5148\u5C06CPU\u5355\u5143\u7684\u201CRUN-PROG\u201D\u5207\u6362\u5F00\u5173\u5207\u6362\u5230\u201CPROG\u201D\u6A21\u5F0F\uFF0C\u7136\u540E\u518D\u5207\u6362\u4E3A\u201CRUN\u201D\u6A21\u5F0F\u3002 \u2012 \u8BF7\u5148\u5728\u201CKV STUDIO\u201D\u4E2D\uFF0C\u5173\u95ED\u7A0B\u5E8F\u7684RUN \u6A21\u5F0F\uFF0C\u7136\u540E\u518D\u6B21\u6253\u5F00\u3002 \u2022 \u4E0D\u80FD\u5F00\u59CB\u6216\u505C\u6B62\u6267\u884C\u521D\u59CB\u5316\u6A21\u5757\u3002"},{"link":"./03_24_FBFUN_DeviceAddress.html","title":"\u8F6F\u5143\u4EF6\u5730\u5740","body":"\u8F6F\u5143\u4EF6\u5730\u5740 FUN/FB \u540D\u79F0 \u6982\u8FF0 DevAddressGet \u83B7\u53D6\u8F6F\u5143\u4EF6\u5730\u5740 \u83B7\u53D6\u8F6F\u5143\u4EF6\u7684\u5730\u5740\u3002 DevAddressInc \u8F6F\u5143\u4EF6\u5730\u5740\u52A0\u4E00 \u8F6F\u5143\u4EF6\u7684\u5730\u5740\u52A01\u3002 DevAddressDec \u8F6F\u5143\u4EF6\u5730\u5740\u51CF\u4E00 \u8F6F\u5143\u4EF6\u7684\u5730\u5740\u51CF1\u3002 DevAddressAdd \u8F6F\u5143\u4EF6\u5730\u5740\u52A0\u6CD5 \u8F6F\u5143\u4EF6\u7684\u5730\u5740\u52A0\u4E0A\u6307\u5B9A\u7684\u503C\u3002 DevAddressSub \u8F6F\u5143\u4EF6\u5730\u5740\u51CF\u6CD5 \u8F6F\u5143\u4EF6\u7684\u5730\u5740\u51CF\u53BB\u6307\u5B9A\u7684\u503C\u3002 DevAddressGet \u83B7\u53D6\u8F6F\u5143\u4EF6\u5730\u5740 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DevAddressGet \u83B7\u53D6\u8F6F\u5143\u4EF6\u5730\u5740 FUN \u00A0 Result := DevAddressGet(Device); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Device IN - - \u95F4\u63A5\u6307\u5B9A\u7684\u5BF9\u8C61\u8F6F\u5143\u4EF6 Result RETURN UDINT - \u5730\u5740\u5B58\u50A8\u76EE\u6807 \u52A8\u4F5C\u8BF4\u660E \u8BA1\u7B97 Device \u7684\u5730\u5740\uFF0C\u5C06\u7ED3\u679C\u5B58\u50A8\u5230 Result \u4E2D\u3002\u53EA\u80FD\u5BF9 Device \u6307\u5B9A\u8F6F\u5143\u4EF6\u6216\u5206\u914D\u8F6F\u5143\u4EF6\u7684\u53D8\u91CF\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Device \u7684\u53C2\u7167\u76EE\u6807\u4E0D\u662F\u8F6F\u5143\u4EF6\uFF08\u4E5F\u5305\u62ECCR/CM\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4E0D\u80FD\u5BF9 Device \u6307\u5B9ACR/CM/Z/T/C/DR\u3002\u5982\u679C\u6307\u5B9A\uFF0C\u5219\u4F1A\u53D1\u751F\u8F6C\u6362\u9519\u8BEF\u3002 \u2022 \u4E0D\u80FD\u95F4\u63A5\u6307\u5B9ACR/CM\u3002 \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u95F4\u63A5\u6307\u5B9A\u8F6F\u5143\u4EF6 DevAddressInc \u8F6F\u5143\u4EF6\u5730\u5740\u52A0\u4E00 DevAddressDec \u8F6F\u5143\u4EF6\u5730\u5740\u51CF\u4E00 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DevAddressInc \u8F6F\u5143\u4EF6\u5730\u5740\u52A0\u4E00 FUN \u00A0 DevAddressInc(Address); DevAddressDec \u8F6F\u5143\u4EF6\u5730\u5740\u51CF\u4E00 FUN \u00A0 DevAddressDec(Address); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Address IN-OUT UDINT - \u589E\u91CF\uFF0F\u51CF\u91CF\u7684\u5730\u5740 \u52A8\u4F5C\u8BF4\u660E \u258C DevAddressInc \u5411 Address \u4E2D\u5B58\u50A8\u7684\u5730\u5740\u52A0\u4E0A1\u3002 \u258C DevAddressDec \u4ECE Address \u4E2D\u5B58\u50A8\u7684\u5730\u5740\u51CF\u53BB1\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Address \u4E2D\u5B58\u50A8\u7684\u5730\u5740\u4E0D\u6B63\u786E \u2022 \u4F7F\u7528DevAddressInc\u6307\u4EE4\u589E\u52A0\u540E\u7684\u5730\u5740\u4E0D\u6B63\u786E \u2022 \u4F7F\u7528DevAddressDec\u6307\u4EE4\u51CF\u5C11\u540E\u7684\u5730\u5740\u4E0D\u6B63\u786E \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8BF7\u4E0D\u8981\u4F7F\u7528DevAddressGet\u3001DevAddressInc\u3001DevAddressAdd\u3001DevAddressDec\u3001DevAddressSub\u6307\u4EE4\u4EE5\u5916\u7684\u5176\u4ED6\u65B9\u5F0F\u751F\u6210\uFF0F\u64CD\u4F5C\u5730\u5740\u3002 \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u95F4\u63A5\u6307\u5B9A\u8F6F\u5143\u4EF6 DevAddressAdd \u8F6F\u5143\u4EF6\u5730\u5740\u52A0\u6CD5 DevAddressSub \u8F6F\u5143\u4EF6\u5730\u5740\u51CF\u6CD5 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DevAddressAdd \u8F6F\u5143\u4EF6\u5730\u5740\u52A0\u6CD5 FUN \u00A0 DevAddressAdd(In, Address); DevAddressSub \u8F6F\u5143\u4EF6\u5730\u5740\u51CF\u6CD5 FUN \u00A0 DevAddressSub(In, Address); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN DINT 0 \u52A0\u4E0A\uFF0F\u51CF\u53BB\u7684\u503C Address IN-OUT UDINT - \u52A0\u4E0A\uFF0F\u51CF\u53BB\u7684\u5730\u5740 \u52A8\u4F5C\u8BF4\u660E \u258C DevAddressAdd \u5411 Address \u4E2D\u5B58\u50A8\u7684\u5730\u5740\u52A0\u4E0A In \u4E2D\u5B58\u50A8\u7684\u503C\u3002 \u258C DevAddressSub \u4ECE Address \u4E2D\u5B58\u50A8\u7684\u5730\u5740\u51CF\u53BB In \u4E2D\u5B58\u50A8\u7684\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 Address \u4E2D\u5B58\u50A8\u7684\u5730\u5740\u4E0D\u6B63\u786E \u2022 \u4F7F\u7528DevAddressAdd\u6307\u4EE4\u589E\u52A0\u540E\u7684\u5730\u5740\u4E0D\u6B63\u786E \u2022 \u4F7F\u7528DevAddressSub\u6307\u4EE4\u51CF\u5C11\u540E\u7684\u5730\u5740\u4E0D\u6B63\u786E \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8BF7\u4E0D\u8981\u4F7F\u7528DevAddressGet\u3001DevAddressInc\u3001DevAddressAdd\u3001DevAddressDec\u3001DevAddressSub\u6307\u4EE4\u4EE5\u5916\u7684\u5176\u4ED6\u65B9\u5F0F\u751F\u6210\uFF0F\u64CD\u4F5C\u5730\u5740\u3002 \u793A\u4F8B\u7A0B\u5E8F ST\uFF1A \u95F4\u63A5\u6307\u5B9A\u8F6F\u5143\u4EF6"},{"link":"./03_25_FBFUN_Interrupt.html","title":"\u4E2D\u65AD","body":"\u4E2D\u65AD FUN/FB \u540D\u79F0 \u6982\u8FF0 EnableInterrupt \u4E2D\u65AD\u5141\u8BB8 \u5141\u8BB8\u6267\u884C\u56FA\u5B9A\u5468\u671F\u6A21\u5757/\u540E\u5907\u6A21\u5757/\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u3002 DisableInterrupt \u4E2D\u65AD\u7981\u6B62 \u7981\u6B62\u6267\u884C\u56FA\u5B9A\u5468\u671F\u6A21\u5757/\u540E\u5907\u6A21\u5757/\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u3002 DisableInterruptRange \u4E2D\u65AD\u7981\u6B62\u8303\u56F4 \u6682\u65F6\u7981\u6B62\u6267\u884C\u4E2D\u65AD\u5904\u7406\u3002 SetInputInterruptCondition \u8BBE\u5B9A\u8F93\u5165\u4E2D\u65AD\u68C0\u6D4B\u6761\u4EF6 \u5BF9\u5355\u5143\u8BBE\u5B9A\u4E2D\u65AD\u539F\u56E0\u7684\u68C0\u6D4B\u6761\u4EF6\u3002 EnableInterrupt \u4E2D\u65AD\u5141\u8BB8 DisableInterrupt \u4E2D\u65AD\u7981\u6B62 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EnableInterrupt \u4E2D\u65AD\u5141\u8BB8 FUN \u00A0 EnableInterrupt(); DisableInterrupt \u4E2D\u65AD\u7981\u6B62 FUN \u00A0 DisableInterrupt(); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA \u52A8\u4F5C\u8BF4\u660E \u258C EnableInterrupt \u5141\u8BB8\u6267\u884C\u56FA\u5B9A\u5468\u671F\u6A21\u5757/\u4E2D\u65AD\u6A21\u5757/\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u3002 \u258C DisableInterrupt \u7981\u6B62\u6267\u884C\u56FA\u5B9A\u5468\u671F\u6A21\u5757/\u4E2D\u65AD\u6A21\u5757/\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u3002 \u00A0 \u2022 \u4E00\u65E6\u6267\u884CEnableInterrupt\u6307\u4EE4\uFF0C\u5219\u4F1A\u5728\u6267\u884CDisableInterrupt\u6307\u4EE4\u4E4B\u524D\uFF0C\u4FDD\u6301\u4E2D\u65AD\u5141\u8BB8\u72B6\u6001\u3002 \u2022 \u7A0B\u5E8F\u8FD0\u884C\u5F00\u59CB\u65F6\u4E00\u76F4\u7981\u6B62\u4E2D\u65AD\u3002 DisableInterruptRange \u4E2D\u65AD\u7981\u6B62\u8303\u56F4 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DisableInter\u00ADruptRange \u4E2D\u65AD\u7981\u6B62\u8303\u56F4 FUN \u00A0 DisableInterruptRange(Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Dst OUT BOOL - \u4E2D\u65AD\u5141\u8BB8\uFF0F\u7981\u6B62\u72B6\u6001\u8F93\u51FA\u4F4D \u52A8\u4F5C\u8BF4\u660E \u60F3\u8981\u6682\u65F6\u7981\u6B62\u4E2D\u65AD\u65F6\uFF0C\u5E94\u7EC4\u5408EnableInterrupt\u6307\u4EE4\u4F7F\u7528\u3002 \u4ECEDisableInterruptRange\u6307\u4EE4\u5230EnableInterrupt\u6307\u4EE4\u7684\u671F\u95F4\u5185\uFF0C\u7981\u6B62\u6267\u884C\u4E2D\u65AD\u5904\u7406\u3002 \u5982\u679C\u6267\u884CDisableInterruptRange\u6307\u4EE4\u524D\u7684\u72B6\u6001\u662F\u5141\u8BB8\u4E2D\u65AD\uFF0C\u5219\u4F1A\u5C06 Dst \u7F6E\u4E8ETRUE\uFF0C\u5982\u679C\u662F\u7981\u6B62\uFF0C\u5219\u7F6E\u4E8EFALSE\u3002\u5728DisableInterruptRange\u6307\u4EE4\u4E4B\u540E\uFF0C\u5C06 Dst \u4F5C\u4E3A\u6267\u884C\u6761\u4EF6\u6267\u884CEnableInterrupt\u6307\u4EE4\uFF0C\u53EF\u5C06\u4E2D\u65AD\u5141\u8BB8/\u7981\u6B62\u7684\u72B6\u6001\u6062\u590D\u5230\u6267\u884CDisableInterruptRange\u6307\u4EE4\u524D\u7684\u72B6\u6001\u3002 \u6267\u884CDisableInterruptRange\u6307\u4EE4\u524D\u7684\u72B6\u6001\u662F\u5141\u8BB8\u4E2D\u65AD\u65F6 \u5BF9 Dst \u6307\u5B9A\u7684 Flag \u53D8\u4E3ATRUE\uFF0C\u5E76\u6267\u884CEnableInterrup\u6307\u4EE4\uFF0C\u7136\u540E\u5728\u901A\u8FC7\u4E2D\u65AD\u7981\u6B62\u8303\u56F4\u540E\u518D\u6B21\u53D8\u4E3A\u5141\u8BB8\u4E2D\u65AD\u72B6\u6001\u3002 \uFF1A\u4E2D\u65AD\u7981\u6B62\u533A\u95F4 \u00A0 \u6267\u884CDisableInterruptRange\u6307\u4EE4\u524D\u7684\u72B6\u6001\u662F\u7981\u6B62\u4E2D\u65AD\u65F6 \u5BF9 Dst \u6307\u5B9A\u7684 Flag \u53D8\u4E3AFALSE\uFF0C\u4E0D\u6267\u884CEnableInterrup\u6307\u4EE4\uFF0C\u5728\u901A\u8FC7\u4E2D\u65AD\u7981\u6B62\u8303\u56F4\u4E4B\u540E\u4ECD\u7EE7\u7EED\u4FDD\u6301\u7981\u6B62\u4E2D\u65AD\u72B6\u6001\u3002 \uFF1A\u4E2D\u65AD\u7981\u6B62\u533A\u95F4 \u00A0 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7981\u6B62\u4E2D\u65AD\uFF08\u6307\u5B9A\u8303\u56F4\uFF09 SetInputInterruptCondition \u8BBE\u5B9A\u8F93\u5165\u4E2D\u65AD\u68C0\u6D4B\u6761\u4EF6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 SetInputInterrupt\u00ADCondition \u8BBE\u5B9A\u8F93\u5165\u4E2D\u65AD\u68C0\u6D4B\u6761\u4EF6 FUN \u00A0 SetInputInterruptCondition(Unit,\u00A0Input, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Input IN UINT 0 \u4E2D\u65AD\u539F\u56E0\u7F16\u53F7\uFF080\uFF5E31\uFF09 In IN UINT 0 \u68C0\u6D4B\u6761\u4EF6 \u2022 \u4E0A\u5347\u6CBF\uFF1A0\u62161 \u2022 \u4E0B\u964D\u6CBF\uFF1A2 \u2022 \u4E0A\u5347\u6CBF\u548C\u4E0B\u964D\u6CBF\uFF1A3 \u652F\u6301\u7684\u5355\u5143 KV-SIR32XT \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u68C0\u6D4B\u6761\u4EF6\u8BBE\u5B9A\u4E3A\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7B2C Input \u4E2A\u539F\u56E0\u7684\u4E2D\u65AD\u68C0\u6D4B\u6761\u4EF6\u3002 In In\u7684\u503C \u68C0\u6D4B\u6761\u4EF6 0\uFF5E1 \u4E0A\u5347\u6CBF 2 \u4E0B\u964D\u6CBF 3 \u4E0A\u5347\u6CBF\u3001\u4E0B\u964D\u6CBF \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u662F\u652F\u6301\u672C\u6307\u4EE4\u7684\u5355\u5143 \u2022 \u5BF9 Input \u6307\u5B9A\u4E86\u6BD431\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5BF9 In \u6307\u5B9A\u4E864\uFF5E65535\u65F6\uFF0C\u867D\u7136\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4F46\u4E5F\u4E0D\u4F1A\u66F4\u6539\u68C0\u6D4B\u6761\u4EF6\u3002 \u2022 \u5728\u672C\u6307\u4EE4\u6267\u884C\u5B8C\u6210\u7684\u65F6\u95F4\u70B9\u4E0A\uFF0C\u4E0A\u8FF0\u68C0\u6D4B\u6761\u4EF6\u7684\u8BBE\u5B9A\u4F1A\u88AB\u66F4\u6539\u3002"},{"link":"./03_26_FBFUN_Logging.html","title":"\u65E5\u5FD7","body":"\u65E5\u5FD7 FUN/FB \u540D\u79F0 \u6982\u8FF0 LoggingEnable \u65E5\u5FD7\u3001\u8DDF\u8E2A\u4F7F\u80FD \u5C06\u65E5\u5FD7\u548C\u8DDF\u8E2A\u8BBE\u4E3A\u5141\u8BB8\u6267\u884C\u7684\u72B6\u6001\u3002 LoggingDisable \u65E5\u5FD7\u3001\u8DDF\u8E2A\u53BB\u80FD \u5C06\u65E5\u5FD7\u548C\u8DDF\u8E2A\u8BBE\u4E3A\u7981\u6B62\u6267\u884C\u7684\u72B6\u6001\u3002 LoggingTrigger \u65E5\u5FD7\u3001\u8DDF\u8E2A\u89E6\u53D1 \u83B7\u53D6\u6307\u5B9A\u65E5\u5FD7ID\u7684\u6570\u636E\u3002 LoggingEnable \u65E5\u5FD7\u3001\u8DDF\u8E2A\u4F7F\u80FD LoggingDisable \u65E5\u5FD7\u3001\u8DDF\u8E2A\u53BB\u80FD \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LoggingEnable \u65E5\u5FD7\u3001\u8DDF\u8E2A\u4F7F\u80FD FUN \u00A0 LoggingEnable(ID); LoggingDisable \u65E5\u5FD7\u3001\u8DDF\u8E2A\u53BB\u80FD FUN \u00A0 LoggingDisable(ID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA ID IN UINT 0 \u65E5\u5FD7\u3001\u8DDF\u8E2AID (0\uFF5E9) \u52A8\u4F5C\u8BF4\u660E \u258C LoggingEnable \u5C06\u7528 ID \u6307\u5B9A\u7684\u65E5\u5FD7ID\u7684\u65E5\u5FD7\u3001\u8DDF\u8E2A\u8BBE\u4E3A\u5141\u8BB8\u6267\u884C\u7684\u72B6\u6001\u3002 \u6267\u884C\u65F6\uFF0C\u4F1A\u6E05\u9664\u6307\u5B9A ID \u7684CPU\u5355\u5143\u7684\u7F13\u5B58\uFF0C\u5E76\u8BBE\u5B9A_LoggingTrace[n].InOperation\uFF08n\uFF1A\u65E5\u5FD7\u3001\u8DDF\u8E2AID\uFF09\u3002 \u5982\u679C\u53D1\u751F\u89E6\u53D1\uFF0C\u5219\u4F1A\u6267\u884C\u65E5\u5FD7\u3001\u8DDF\u8E2A\u3002 \u65E0\u8BBALoggingEnable\u6307\u4EE4\u7684\u6267\u884C\u6761\u4EF6\u72B6\u6001\u5982\u4F55\uFF0C\u5728\u6267\u884CLoggingDisable\u6307\u4EE4\u4E4B\u524D\u90FD\u4F1A\u4FDD\u6301\u5141\u8BB8\u6267\u884C\u72B6\u6001\u3002 \u53EF\u5728\u76F8\u540C\u6267\u884C\u6761\u4EF6\u4E0B\uFF0C\u5C06\u6240\u6709\u65E5\u5FD7ID\u7684\u65E5\u5FD7\u3001\u8DDF\u8E2A\u8BBE\u4E3A\u5141\u8BB8\u6267\u884C\u72B6\u6001\u3002 \u258C LoggingDisable \u5C06\u7528 ID \u6307\u5B9A\u7684\u65E5\u5FD7ID\u7684\u65E5\u5FD7\u3001\u8DDF\u8E2A\u8BBE\u4E3A\u7981\u6B62\u6267\u884C\u7684\u72B6\u6001\u3002 \u6267\u884C\u540E\uFF0C\u4F1A\u91CD\u7F6E\u5404 ID \u7684_LoggingTrace[n].InOperation\uFF08n\uFF1A\u65E5\u5FD7\u3001\u8DDF\u8E2AID\uFF09\uFF0C\u505C\u6B62\u65E5\u5FD7\u3001\u8DDF\u8E2A\u3002 \u81F3\u6B64\u4E3A\u6B62\u7684\u65E5\u5FD7\u5185\u5BB9\u88AB\u8F93\u51FA\u5230\u5B58\u50A8\u5361\u6216CPU\u5B58\u50A8\u5668\u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 ID \u8BBE\u5B9A\u4E8610\u4EE5\u4E0A\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF LoggingTrigger \u65E5\u5FD7\u3001\u8DDF\u8E2A\u89E6\u53D1 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 LoggingTrigger \u65E5\u5FD7\u3001\u8DDF\u8E2A\u89E6\u53D1 FUN \u00A0 LoggingTrigger(ID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA ID IN UINT 0 \u65E5\u5FD7\u3001\u8DDF\u8E2AID\uFF080\uFF5E10\uFF09 \u52A8\u4F5C\u8BF4\u660E \u83B7\u53D6\u7528 ID \u6307\u5B9A\u7684\u65E5\u5FD7ID\u7684\u6570\u636E\u3002 \u4EE5\u4F4D\u8F6F\u5143\u4EF6\u6216\u5468\u671F\u4E3A\u89E6\u53D1\u7684\u65E5\u5FD7\u3001\u8DDF\u8E2A\uFF0C\u4F1A\u5728END\u5904\u7406\u65F6\u83B7\u53D6\u6570\u636E\uFF0C\u4F46\u4F7F\u7528LoggingTrigger\u6307\u4EE4\uFF0C\u53EF\u5728\u4EFB\u610F\u65F6\u95F4\u83B7\u53D6\u6570\u636E\u3002\u5728\u5B9E\u65F6\u65F6\u5E8F\u56FE\u76D1\u63A7\u5668\u4E0A\u4F7F\u7528\u6307\u4EE4\u89E6\u53D1\u65F6\uFF0C\u9700\u8981\u5C06 ID \u6307\u5B9A\u4E3A10\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 ID \u8BBE\u5B9A\u4E8611\u4EE5\u4E0A\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4F7F\u7528LoggingTrigger\u6307\u4EE4\u83B7\u53D6\u6570\u636E\u65F6\uFF0C\u9700\u8981\u5728\u201CKV STUDIO\u201D\u7684\u8BB0\u5F55\u3001\u8DDF\u8E2A\u8BBE\u5B9A\u4E2D\uFF0C\u5C06\u89E6\u53D1\u7C7B\u578B\u8BBE\u4E3A\u201C\u89E6\u53D1\u6307\u4EE4\u201D\u3002 \u2022 \u5728\u5B9E\u65F6\u65F6\u5E8F\u56FE\u76D1\u63A7\u5668\u4E0A\u4F7F\u7528\u6307\u4EE4\u89E6\u53D1\u65F6\uFF0C\u9700\u8981\u5728\u201C\u5B9E\u65F6\u65F6\u5E8F\u56FE\u76D1\u63A7\u5668\u201D\u7684\u89E6\u53D1\u8BBE\u5B9A\u4E2D\uFF0C\u5C06\u89E6\u53D1\u7C7B\u578B\u8BBE\u4E3A\u201C\u89E6\u53D1\u6307\u4EE4\u201D\u3002\u5982\u679C\u6CA1\u6709\u8BBE\u5B9A\uFF0C\u5219\u5373\u4F7F\u6267\u884CLoggingTrigger\u6307\u4EE4\uFF0C\u4E5F\u4E0D\u4F1A\u83B7\u53D6\u6570\u636E\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u83B7\u53D6\u56FA\u5B9A\u5468\u671F/\u5355\u5143\u95F4\u540C\u6B65/\u4E2D\u65AD\u65F6\u7684\u65E5\u5FD7\u6570\u636E"},{"link":"./03_27_FBFUN_OperationRecord.html","title":"\u8FD0\u8F6C\u8BB0\u5F55","body":"\u8FD0\u8F6C\u8BB0\u5F55 FUN/FB \u540D\u79F0 \u6982\u8FF0 OperationRecordCapture \u83B7\u53D6\u8FD0\u8F6C\u8BB0\u5F55\u6570\u636E \u83B7\u53D6\u6307\u5B9A\u8FD0\u8F6C\u8BB0\u5F55ID\u7684\u6570\u636E\u3002 OperationRecordSave \u6267\u884C\u8FD0\u8F6C\u8BB0\u5F55\u4FDD\u5B58 \u4FDD\u5B58\u6307\u5B9A\u8FD0\u8F6C\u8BB0\u5F55ID\u7684\u8FD0\u8F6C\u8BB0\u5F55\u3002 OperationRecordCapture \u83B7\u53D6\u8FD0\u8F6C\u8BB0\u5F55\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 OperationRecordCap\u00ADture \u83B7\u53D6\u8FD0\u8F6C\u8BB0\u5F55\u6570\u636E FUN \u00A0 OperationRecordCapture(ID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA ID IN UINT 0 \u8FD0\u8F6C\u8BB0\u5F55ID \u52A8\u4F5C\u8BF4\u660E \u83B7\u53D6\u7528 ID \u6307\u5B9A\u7684\u8FD0\u8F6C\u8BB0\u5F55ID\u7684\u6570\u636E\u3002 \u5982\u679C\u5BF9\u91C7\u6837\u5468\u671F\u8BBE\u5B9A\u201CSCAN\u201D\u6216\u201C\u56FA\u5B9A\u5468\u671F\u201D\uFF0C\u5219\u4F1A\u83B7\u53D6END\u5904\u7406\u65F6\u7684\u6570\u636E\uFF0C\u4F46\u5982\u679C\u5BF9\u91C7\u6837\u5468\u671F\u8BBE\u5B9A\u201C\u89E6\u53D1\u6307\u4EE4\u201D\uFF0C\u5219\u53EF\u901A\u8FC7\u4F7F\u7528OperationRecordCapture\u6307\u4EE4\uFF0C\u83B7\u53D6\u4EFB\u610F\u65F6\u95F4\u70B9\u7684\u6570\u636E\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 ID \u8BBE\u5B9A\u7684\u503C\u8D85\u8FC7\u4E86\u8FD0\u8F6C\u8BB0\u5F55ID\u7684\u6700\u5927\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u4F7F\u7528OperationRecordCapture\u6307\u4EE4\u83B7\u53D6\u6570\u636E\u65F6\uFF0C\u9700\u8981\u9884\u5148\u5728\u201CKV STUDIO\u201D\u7684\u201C\u8FD0\u8F6C\u8BB0\u5F55\u8BBE\u5B9A\u201D\uFF0D\u201C\u8F6F\u5143\u4EF6\u8BB0\u5F55\u8BBE\u5B9A\u201D\u4E2D\uFF0C\u5C06\u91C7\u6837\u5468\u671F\u8BBE\u5B9A\u4E3A\u201C\u89E6\u53D1\u6307\u4EE4\u201D\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u83B7\u53D6\u56FA\u5B9A\u5468\u671F/\u5355\u5143\u95F4\u540C\u6B65/\u4E2D\u65AD\u65F6\u7684\u8FD0\u884C\u8BB0\u5F55\u6570\u636E OperationRecordSave \u6267\u884C\u8FD0\u8F6C\u8BB0\u5F55\u4FDD\u5B58 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 OperationRecordSave \u6267\u884C\u8FD0\u8F6C\u8BB0\u5F55\u4FDD\u5B58 FUN \u00A0 OperationRecordSave(ID, TrgComment); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA ID IN UINT 0 \u8FD0\u8F6C\u8BB0\u5F55ID TrgComment IN STRING[64] \u0027\u0027 \u89E6\u53D1\u6CE8\u91CA \u52A8\u4F5C\u8BF4\u660E \u4FDD\u5B58\u7528 ID \u6307\u5B9A\u7684\u8FD0\u8F6C\u8BB0\u5F55ID\u7684\u8FD0\u8F6C\u8BB0\u5F55\u3002 \u53EF\u5C06\u7528 TrgComment \u6307\u5B9A\u7684\u5B57\u7B26\u4E32\u4F5C\u4E3A\u89E6\u53D1\u6CE8\u91CA\uFF0C\u6DFB\u52A0\u5230\u4FDD\u5B58\u6587\u4EF6\u5939\u540D\u4E2D\u3002 \u5B8C\u6210\u4FDD\u5B58\u540E\uFF0C\u7CFB\u7EDF\u53D8\u91CF_OperationRecorder[n].SaveComplete\uFF08n\uFF1A\u8FD0\u8F6C\u8BB0\u5F55ID\uFF09\u53D8\u4E3ATRUE\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 ID \u8BBE\u5B9A\u7684\u503C\u8D85\u8FC7\u4E86\u8FD0\u8F6C\u8BB0\u5F55ID\u7684\u6700\u5927\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5B8C\u6210\u4FDD\u5B58\u7684\u65F6\u95F4\uFF0C\u8BF7\u786E\u8BA4\u7CFB\u7EDF\u53D8\u91CF_OperationRecorder[n].SaveComplete\uFF08n\uFF1A\u8FD0\u8F6C\u8BB0\u5F55ID\uFF09\u3002 \u2022 \u5BF9 TrgComment \u8BBE\u5B9A\u7684\u5B57\u7B26\u4E32\u4E2D\u5982\u6709\u4E0B\u8FF0\u5B57\u7B26\uFF0C\u4F1A\u8F6C\u6362\u4E3A\u0027_\u0027\u3002 \u2012 \u534A\u89D212\u4E2A\u5B57\u7B26\u00A0*\u00A0/\u00A0\u003C\u00A0\u003E\u00A0?\u00A0\\\u00A0\uFF5C\u00A0%\u00A0,\u00A0:\u00A0;\u00A0\u0022 \u2012 \u5168\u89D27\u4E2A\u5B57\u7B26\u00A0\uFF0F\u00A0\u00A0: \u00A0\uFF1F\u2572\u00A0\uFF0A\u00A0\uFF3B\u00A0\uFF3D \u2012 ASCII\u63A7\u5236\u7801\uFF1A01H\uFF5E1FH\u30017FH \u2012 NEC\u7279\u6B8A\u5B57\u7B26\uFF088740H\uFF5E879CH\uFF09 \u2460 \u3001 \u339D \u3001 \u2121 \u3001 \u337B  \u00A0\u7B49 \u2012 NEC\u9009\u62E9\u7684IBM\u6269\u5C55\u5B57\u7B26\uFF08ED40H\uFF5EEEFCH\uFF09 \u2012 IBM\u9009\u62E9\u7684IBM\u6269\u5C55\u5B57\u7B26\uFF08FA40H\uFF5EFC4BH\uFF09 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u4FDD\u5B58\u8FD0\u884C\u8BB0\u5F55"},{"link":"./03_28_FBFUN_VariableAccess.html","title":"\u8BBF\u95EE\u53D8\u91CF","body":"\u8BBF\u95EE\u53D8\u91CF FUN/FB \u540D\u79F0 \u6982\u8FF0 DevInfoGet \u83B7\u53D6\u8F6F\u5143\u4EF6\u4FE1\u606F \u83B7\u53D6\u8F6F\u5143\u4EF6\uFF0F\u53D8\u91CF\u7684\u8F6F\u5143\u4EF6\u4FE1\u606F\u3002 DevInfoRead \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u8BFB\u53D6\u4F4D\u5217 \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u8BFB\u53D6\u6570\u636E\u3002 DevInfoWrite \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u5199\u5165\u4F4D\u5217 \u5411\u8F6F\u5143\u4EF6\u4FE1\u606F\u5199\u5165\u6570\u636E\u3002 DevInfoGet \u83B7\u53D6\u8F6F\u5143\u4EF6\u4FE1\u606F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DevInfoGet \u83B7\u53D6\u8F6F\u5143\u4EF6\u4FE1\u606F FUN \u00A0 DevInfoGet(In, DevInfo); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA In IN - - \u8FDB\u884C\u4FE1\u606F\u83B7\u53D6\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6 DevInfo IN-OUT _DEV_INFO - \u83B7\u53D6\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u4FE1\u606F \u52A8\u4F5C\u8BF4\u660E \u83B7\u53D6\u7528 In \u6307\u5B9A\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u4FE1\u606F\uFF0C\u5B58\u50A8\u5230 DevInfo \u4E2D\u3002 \u5C06 DevInfo \u4E2D\u5B58\u50A8\u7684\u4FE1\u606F\u4F20\u7ED9 DevInfoRead / DevInfoWrite \u6307\u4EE4\uFF0C\u53EF\u5BF9\u7528 In \u6307\u5B9A\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u8FDB\u884C\u8BFB\u5199\u3002 _DEV_INFO\u7ED3\u6784\u4F53 \u6210\u5458\u540D \u6570\u636E\u683C\u5F0F \u5185\u5BB9 DevType UINT \u8F6F\u5143\u4EF6\u7C7B\u578B BitOffset UINT \u4F4D\u504F\u79FB\u91CF\uFF080\uFF5E15\uFF09 DevNo UDINT \u8F6F\u5143\u4EF6\u7F16\u53F7 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 In \u7684\u53C2\u7167\u76EE\u6807\u662F\u529F\u80FD\u7684\u5C40\u90E8\u53D8\u91CF \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF DevInfoRead \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u8BFB\u53D6\u4F4D\u5217 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DevInfoRead \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u8BFB\u53D6\u4F4D\u5217 FUN \u00A0 DevInfoRead(DevInfo, BitSize, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA DevInfo IN _DEV_INFO - \u8BFB\u53D6\u7684\u8D77\u59CB\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u7684\u4FE1\u606F BitSize IN UDINT 0 \u8BFB\u53D6\u4F4D\u6570\u91CF Dst IN-OUT - - \u5DF2\u8BFB\u53D6\u6570\u636E\u7684\u5B58\u50A8\u76EE\u6807\u8D77\u59CB \u52A8\u4F5C\u8BF4\u660E \u4EE5 DevInfo \u6307\u793A\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u4E3A\u5F00\u5934\uFF0C\u83B7\u53D6 BitSize \u4F4D\u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002 \u5411 DevInfo \u4E2D\u5B58\u50A8\u7684\u6570\u636E\uFF0C\u8BF7\u4F7F\u7528 DevInfoGet \u6307\u4EE4\u83B7\u53D6\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 DevInfo \u6307\u5B9A\u7684\u4FE1\u606F\u4E0D\u6B63\u786E \u2022 Dst \u7684\u5269\u4F59\u4F4D\u6570\uFF1C BitSize \u65F6 \u2022 \u7528 DevInfo \u6307\u5B9A\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u7684\u5269\u4F59\u4F4D\u6570\uFF1C BitSize \u65F6 \u2022 \u5BF9 DevInfo \u6307\u5B9A\u7684\u8F6F\u5143\u4EF6\u7C7B\u578B\u662F\u4F4D\u8F6F\u5143\u4EF6\uFF0C\u4F46\u5BF9\u4F4D\u504F\u79FB\u91CF\u6307\u5B9A\u4E860\u4EE5\u5916\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5982\u679C\u5728 Dst \u4E2D\u8BBE\u5B9A\u5909\u6570(\u5B57\u6570\u636E)\u7684\u4F4D\u6307\u5B9A\u65F6\uFF0C\u5269\u4E0B\u6570\u91CF\u5C06\u5176\u89C6\u4E3A1\u4F4D\u3002 \u2022 \u5982\u679C\u5C06 BitSize \u6307\u5B9A\u4E3A0\uFF0C Dst \u91CC\u9762\u4EFB\u4F55\u4E0D\u5B58\u50A8\u6570\u636E\uFF08\u4E5F\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\u4FE1\u606F\uFF09\u3002 \u00A0 DevInfoWrite \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u5199\u5165\u4F4D\u5217 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 DevInfoWrite \u4ECE\u8F6F\u5143\u4EF6\u4FE1\u606F\u5199\u5165\u4F4D\u5217 FUN \u00A0 DevInfoWrite(Src, DevInfo, BitSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Src IN - - \u5199\u5165\u6570\u636E\u7684\u5B58\u50A8\u76EE\u6807\u8D77\u59CB DevInfo IN _DEV_INFO - \u5199\u5165\u7684\u8D77\u59CB\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u7684\u4FE1\u606F BitSize IN UDINT 0 \u5199\u5165\u4F4D\u6570\u91CF \u64CD\u4F5C\u8BF4\u660E \u5C06\u4EE5 Src \u4E3A\u5F00\u5934\u7684 BitSize \u4F4D\u7684\u6570\u636E\uFF0C\u4EE5 DevInfo \u6307\u793A\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u4E3A\u5F00\u5934\u8FDB\u884C\u5199\u5165\u3002 \u5411 DevInfo \u4E2D\u5B58\u50A8\u7684\u6570\u636E\uFF0C\u8BF7\u4F7F\u7528 DevInfoGet \u6307\u4EE4\u83B7\u53D6\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 DevInfo \u6307\u5B9A\u7684\u4FE1\u606F\u4E0D\u6B63\u786E \u2022 Src \u7684\u5269\u4F59\u4F4D\u6570\uFF1C BitSize \u65F6 \u2022 \u7528 DevInfo \u6307\u5B9A\u7684\u53D8\u91CF\uFF0F\u8F6F\u5143\u4EF6\u7684\u5269\u4F59\u4F4D\u6570\uFF1C BitSize \u65F6 \u2022 \u5BF9 DevInfo \u6307\u5B9A\u7684\u8F6F\u5143\u4EF6\u7C7B\u578B\u662F\u4F4D\u8F6F\u5143\u4EF6\uFF0C\u4F46\u5BF9\u4F4D\u504F\u79FB\u91CF\u6307\u5B9A\u4E860\u4EE5\u5916\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5982\u679C\u5728 Src \u4E2D\u8BBE\u5B9A\u5909\u6570(\u5B57\u6570\u636E)\u7684\u4F4D\u6307\u5B9A\u65F6\uFF0C\u5269\u4E0B\u6570\u91CF\u5C06\u5176\u89C6\u4E3A1\u4F4D\u3002 \u2022 \u5982\u679C\u5C06 BitSize \u6307\u5B9A\u4E3A0\uFF0C DevInfo \u6307\u5B9A\u7684\u53D8\u91CF/\u8F6F\u5143\u4EF6\u4EFB\u4F55\u4E0D\u5B58\u50A8\u6570\u636E\uFF08\u4E5F\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\u64CD\u4F5C\uFF09\u3002"},{"link":"./03_29_FBFUN_UnitProgram.html","title":"\u5355\u5143\u7A0B\u5E8F","body":"\u5355\u5143\u7A0B\u5E8F FUN/FB \u540D\u79F0 \u6982\u8FF0 U P Start \u5355\u5143\u7A0B\u5E8F\u5F00\u59CB \u5F00\u59CB\u8FD0\u884C\u5355\u5143\u7A0B\u5E8F\u3002 U P Stop \u5355\u5143\u7A0B\u5E8F\u5F3A\u5236\u7ED3\u675F \u5355\u5143\u7A0B\u5E8F\u5F3A\u5236\u7ED3\u675F\uFF0C\u4F7F\u53D8\u91CF\u69FD\u53D8\u4E3A\u7A7A\u3002 U F Suspend \u6682\u505C\u6D41\u7A0B \u6682\u505C\u901A\u8FC7\u6307\u5B9A\u53D8\u91CF\u69FD\u6267\u884C\u7684\u6D41\u7A0B\u3002 U F Resume \u6062\u590D\u6D41\u7A0B \u91CD\u65B0\u5F00\u59CB\u901A\u8FC7\u5355\u5143\u7684\u6307\u5B9A\u53D8\u91CF\u69FD\u6682\u505C\u7684\u6D41\u7A0B\u3002 \u9519\u8BEF\u4EE3\u7801 \u5355\u5143\u7A0B\u5E8FFB\u7684\u9519\u8BEF\u4EE3\u7801\u5982\u4E0B\u6240\u793A\u3002 \u9519\u8BEF\u4EE3\u7801 \u5185\u5BB9 0 \u5DF2\u6B63\u5E38\u5F00\u59CB\u3002 1 \u6307\u5B9A\u7684\u5355\u5143\u7A0B\u5E8F\u4E0D\u5B58\u5728\u3002 2 \u65E0\u7A7A\u95F2\u69FD\u3002 3 \u52A8\u4F5C\u5141\u8BB8\u5DF2\u7ECF\u7F6E\u4E8EOFF\u3002 4 \u53D1\u751F\u4E86\u5355\u5143\u7A0B\u5E8F\u9519\u8BEF\u3002 5 \u6307\u5B9A\u7684\u69FD\u4E0D\u5B58\u5728\u3002 6 \u6307\u5B9A\u7684\u69FD\u6B63\u5728\u4F7F\u7528\u3002 7 \u8BE5\u5355\u5143\u7A0B\u5E8F\u5DF2\u5728\u6267\u884C\u3002 8 \u6307\u5B9A\u7684\u5757\u4E0D\u5B58\u5728\u3002 9 \u8BE5\u5355\u5143\u7A0B\u5E8F\u5DF2\u505C\u6B62\u6267\u884C\u3002 10 \u6307\u5B9A\u7684\u5355\u5143\u7A0B\u5E8F\u4E0D\u662F\u6D41\u7A0B\u3002 100 \u5355\u5143\u53D1\u751F\u4E86\u9519\u8BEF\u3002 1000 \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728\u3002 1001 \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u6B63\u786E\u3002 UPStart \u5355\u5143\u7A0B\u5E8F\u5F00\u59CB \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UPStart \u5355\u5143\u7A0B\u5E8F\u5F00\u59CB FB \u00A0 UPStart_instance(Execute, Unit, ProgramNo, SlotNo, Param, Mode, SlotRes, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 ProgramNo IN UINT 0 \u5373\u5C06\u5F00\u59CB\u7684\u5355\u5143\u7A0B\u5E8F\u7F16\u53F7 \uFF08KV-XD02\uFF1A0\uFF5E1023\uFF0C\u5176\u4ED6\uFF1A0\uFF5E255\uFF09 SlotNo IN UINT 0 Mode =TRUE\u65F6\u4F7F\u7528\u7684\u69FD\u7F16\u53F7(0\uFF5E31) Param IN UINT 0 \u5373\u5C06\u5F00\u59CB\u7684\u5355\u5143\u7A0B\u5E8F\u7684\u53C2\u6570 \u6D41\u7A0B\uFF1A\u6307\u5B9A\u6700\u521D\u6267\u884C\u7684\u5757\u7F16\u53F7 Mode IN BOOL FALSE \u69FD\u7684\u6307\u5B9A\u65B9\u6CD5 \u2022 TRUE\uFF1A\u4F7F\u7528\u5728 SlotNo \u4E2D\u6307\u5B9A\u7684\u69FD \u2022 FALSE\uFF1A\u4F7F\u7528\u81EA\u52A8\u5206\u914D\u7684\u7A7A\u95F2\u69FD SlotRes OUT UINT - \u5DF2\u5F00\u59CB\u7684\u69FD\u7F16\u53F7 Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6839\u636E\u7528 Param \u6307\u5B9A\u7684\u53C2\u6570\uFF0C\u542F\u52A8\u7528\u7B2C Unit \u4E2A\u5355\u5143\u7684 ProgramNo \u6307\u5B9A\u7684\u5355\u5143\u7A0B\u5E8F\u3002 Mode \u662FFALSE\u65F6\uFF0C\u4F1A\u4F7F\u7528\u81EA\u52A8\u5206\u914D\u7684\u7A7A\u95F2\u69FD\u3002 Mode \u662FTRUE\u65F6\uFF0C\u4F7F\u7528\u5728 SlotNo \u4E2D\u6307\u5B9A\u7684\u69FD\u3002 \u6267\u884C\u5B8C\u6210\u65F6\uFF0C\u5C06\u4F7F\u7528\u7684\u69FD\u7F16\u53F7\u5B58\u50A8\u5230 SlotRes \u4E2D\u3002 UPStop \u5355\u5143\u7A0B\u5E8F\u5F3A\u5236\u7ED3\u675F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UPStop \u5355\u5143\u7A0B\u5E8F\u5F3A\u5236\u7ED3\u675F FB \u00A0 UPStop_instance(Execute, Unit, SlotNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 SlotNo IN UINT 0 \u5F3A\u5236\u7ED3\u675F\u7684\u69FD\u7F16\u53F7(0\uFF5E31) Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5F3A\u5236\u7ED3\u675F\u901A\u8FC7\u7B2C Unit \u4E2A\u5355\u5143\u7684 SlotNo \u6307\u5B9A\u7684\u53D8\u91CF\u69FD\u6B63\u5728\u6267\u884C\u7684\u5355\u5143\u7A0B\u5E8F\uFF0C\u8BA9\u53D8\u91CF\u69FD\u5904\u4E8E\u7A7A\u95F2\u72B6\u6001\u3002 UFSuspend \u6682\u505C\u6D41\u7A0B \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UFSuspend \u6682\u505C\u6D41\u7A0B FB \u00A0 UFSuspend_instance(Execute, Unit, SlotNo, Mode, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 SlotNo IN UINT 0 \u6682\u505C\u7684\u69FD\u7F16\u53F7(0\uFF5E31) Mode IN BOOL FALSE \u6682\u505C\u65B9\u6CD5 \u2022 TRUE\uFF1A\u5982\u679C\u6709\u6267\u884C\u4E2D\u7684\u5757\uFF0C\u5219\u5E94\u5F3A\u5236\u505C\u6B62\uFF0C\u5E76\u6682\u505C\u6D41\u7A0B \u2022 FALSE\uFF1A\u5728\u6267\u884C\u4E2D\u7684\u5757\u5B8C\u6210\u65F6\u6682\u505C\u6D41\u7A0B Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6309\u7167 Mode \u4E2D\u6307\u5B9A\u7684\u65B9\u6CD5\uFF0C\u6682\u505C\u7B2C Unit \u4E2A\u5355\u5143\u7684 SlotNo \u6240\u6307\u5B9A\u7684\u53D8\u91CF\u69FD\u6B63\u5728\u6267\u884C\u7684\u6D41\u7A0B\u3002 UFResume \u6062\u590D\u6D41\u7A0B \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 UFResume \u6062\u590D\u6D41\u7A0B FB \u00A0 UFResume_instance(Execute, Unit, SlotNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 SlotNo IN UINT 0 \u91CD\u542F\u7684\u69FD\u7F16\u53F7(0\uFF5E31) Done OUT BOOL - \u6267\u884C\u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u91CD\u65B0\u5F00\u59CB\u901A\u8FC7\u7B2C Unit \u4E2A\u5355\u5143\u7684 SlotNo \u6307\u5B9A\u7684\u53D8\u91CF\u69FD\u6682\u505C\u7684\u6D41\u7A0B\u3002"},{"link":"./03_30_FBFUN_UnitOnly.html","title":"\u5355\u5143\u4E13\u7528","body":"\u5355\u5143\u4E13\u7528 \u5355\u5143\u4E13\u7528FUN\u662F\u8BFB\u5199\u5BF9\u8C61\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6307\u4EE4\u3002\u666E\u901A\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u6307\u4EE4\u9700\u8981\u6307\u5B9A\u8BFB\u5199\u5BF9\u8C61\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u5730\u5740\uFF0C\u4F46\u4F7F\u7528\u5355\u5143\u4E13\u7528FUN\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BFB\u5199\u7F13\u51B2\u5B58\u50A8\u5668\uFF0C\u800C\u65E0\u9700\u6307\u5B9A\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u5730\u5740\u3002 FUN/FB \u540D\u79F0 \u6982\u8FF0 U_ReadBuf \u8BFB\u53D6\u7F13\u51B2\u6570\u636E \u8BFB\u53D6\u5355\u5143\u7684\u7F13\u51B2\u6570\u636E\u3002 U_DisableOverCP \u8BBE\u5B9A\u8F93\u51FA\u8FC7\u7535\u6D41\u4FDD\u62A4\u529F\u80FD \u8BBE\u5B9A\u5355\u5143\u7684\u8FC7\u7535\u6D41\u4FDD\u62A4\u529F\u80FD\u3002 U_DisableOverVP \u8BBE\u5B9A\u8F93\u5165\u8FC7\u7535\u538B\u4FDD\u62A4\u529F\u80FD \u8BBE\u5B9A\u5355\u5143\u7684\u8FC7\u7535\u538B\u4FDD\u62A4\u529F\u80FD\u3002 U_SockOpen \u8BBE\u5B9AKV\u5957\u63A5\u5B57\u6253\u5F00 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165KV\u5957\u63A5\u5B57\u6253\u5F00\u8BBE\u5B9A\u6570\u636E\u3002 U_SockWriteBuf \u5199\u5165KV\u5957\u63A5\u5B57\u53D1\u9001\u6570\u636E \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165KV\u5957\u63A5\u5B57\u7684\u53D1\u9001\u6570\u636E\u3002 U_SockReadBuf \u8BFB\u53D6KV\u5957\u63A5\u5B57\u63A5\u6536\u6570\u636E \u4ECE\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6KV\u5957\u63A5\u5B57\u7684\u63A5\u6536\u6570\u636E\u3002 U_SockStatus \u8BFB\u53D6KV\u5957\u63A5\u5B57\u5904\u7406\u72B6\u6001 \u4ECE\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6KV\u5957\u63A5\u5B57\u7684\u5904\u7406\u72B6\u6001\u3002 U_SockNonProcRecvSetting \u8BBE\u5B9AKV\u5957\u63A5\u5B57TCP(\u65E0\u534F\u8BAE)\u63A5\u6536 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165KV\u5957\u63A5\u5B57\u7684\u63A5\u6536\u8BBE\u5B9A\u6570\u636E\u3002 U_SockUDPTo \u5199\u5165KV\u5957\u63A5\u5B57UDP\u901A\u4FE1\u76EE\u6807 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165KV\u5957\u63A5\u5B57\u7684UDP\u901A\u4FE1\u76EE\u6807\u8BBE\u5B9A\u6570\u636E\u3002 U_SockSelectPort \u6307\u5B9AKV\u5957\u63A5\u5B57\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165KV\u5957\u63A5\u5B57\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u3002 U_MailToGroup \u8BBE\u5B9A\u90AE\u4EF6\u6536\u4EF6\u4EBA\u7EC4 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u53D1\u9001\u90AE\u4EF6\u7684\u6536\u4EF6\u4EBA\u7EC4\u7F16\u53F7\u3002 U_MailTo \u8BBE\u5B9A\u90AE\u4EF6\u6536\u4EF6\u4EBA\u5730\u5740 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u53D1\u9001\u90AE\u4EF6\u7684\u6536\u4EF6\u4EBA\u5730\u5740\u3002 U_MailSubject \u8BBE\u5B9A\u90AE\u4EF6\u4E3B\u9898 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u90AE\u4EF6\u4E3B\u9898\u3002 U_MailText \u8BBE\u5B9A\u90AE\u4EF6\u6B63\u6587 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u90AE\u4EF6\u6B63\u6587\u3002 U_MailAttach \u8BBE\u5B9A\u90AE\u4EF6\u9644\u52A0\u6587\u4EF6\u540D \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u9644\u4EF6\u540D\u3002 U_MailStatus \u83B7\u53D6\u90AE\u4EF6\u53D1\u9001\u7ED3\u679C \u4ECE\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u90AE\u4EF6\u53D1\u9001\u5B8C\u6210\u4EE3\u7801\u3002 U_FTPClientStatus \u8BFB\u53D6FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001 \u4ECE\u5355\u5143\u8BFB\u53D6FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001\u3002 U_MsgTo \u6307\u5B9A\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5BF9\u8C61 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5BF9\u8C61\u8BBE\u5B9A\u3002 U_MsgSend \u5199\u5165\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u53D1\u9001\u6570\u636E \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u53D1\u9001\u6570\u636E\u3002 U_MsgRecv \u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u63A5\u6536\u6570\u636E \u4ECE\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u63A5\u6536\u670D\u52A1\u6570\u636E\u3002 U_MsgStatus \u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5B8C\u6210\u4EE3\u7801 \u4ECE\u5355\u5143\u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u7684\u5B8C\u6210\u4EE3\u7801\u3002 U_CyclicStop \u6307\u5B9A\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9\u3002 U_CyclicStart \u6307\u5B9A\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9\u3002 U_CyclicReadRegister \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868 \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868\u3002 U_CyclicReadErr \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868 \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868\u3002 U_PSReadBuf \u8BFB\u53D6PROTOCOLSTUDIO\u4E8B\u4EF6\u901A\u4FE1\u6307\u4EE4\u63A5\u6536\u7F13\u5B58 \u4ECE\u5355\u5143\u8BFB\u53D6\u8FDE\u63A5\u8BBE\u5907\u7684\u4E8B\u4EF6\u901A\u4FE1\u6307\u4EE4\u63A5\u6536\u7F13\u5B58\u3002 U_CntReadCounter \u8BFB\u53D6\u8BA1\u6570\u5F53\u524D\u503C \u4ECE\u5355\u5143\u8BFB\u53D6\u9AD8\u901F\u8BA1\u6570\u5668\u5F53\u524D\u503C\u3002 U_CntReadHz \u8BFB\u53D6\u9891\u7387 \u4ECE\u5355\u5143\u8BFB\u53D6\u9891\u7387\u8BA1\u6570\u7684\u6D4B\u91CF\u7ED3\u679C\uFF08Hz\uFF09\u3002 U_CntReadRPM \u8BFB\u53D6\u8F6C\u901F \u4ECE\u5355\u5143\u8BFB\u53D6\u8F6C\u901F\u6D4B\u91CF\u7ED3\u679C\uFF08rpm\uFF09\u3002 U_CntReadInputCapture0 \u8BFB\u53D6\u8F93\u5165\u6355\u83B70 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F93\u5165\u6355\u83B7\u503C\u3002 U_CntReadInputCapture1 \u8BFB\u53D6\u8F93\u5165\u6355\u83B71 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F93\u5165\u6355\u83B7\u503C\u3002 U_CntWriteCounter \u5199\u5165\u8BA1\u6570\u5F53\u524D\u503C \u5C06\u5355\u5143\u7684\u9AD8\u901F\u8BA1\u6570\u5668\u5F53\u524D\u503C\u6539\u5199\u4E3A2\u5B57\u7684\u4E8C\u8FDB\u5236\u503C\u3002 U_CntWriteCTC0 \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C0 \u5C06\u5355\u5143\u7684\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u6539\u5199\u4E3A2\u5B57\u7684\u4E8C\u8FDB\u5236\u503C\u3002 U_CntWriteCTC1 \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C1 \u5C06\u5355\u5143\u7684\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u6539\u5199\u4E3A2\u5B57\u7684\u4E8C\u8FDB\u5236\u503C\u3002 U_CntWritePreset \u5199\u5165\u9884\u8BBE\u8BBE\u5B9A\u503C \u5C06\u5355\u5143\u7684\u9884\u8BBE\u8BBE\u5B9A\u503C\u6539\u5199\u4E3A2\u5B57\u7684\u4E8C\u8FDB\u5236\u503C\u3002 U_ADRead \u8BFB\u53D6A/D\u8F6C\u6362\u7279\u6B8A\u6570\u636E \u4ECE\u5355\u5143\u8BFB\u53D6A/D\u8F6C\u6362(\u7279\u6B8A)\u6570\u636E\uFF08\u6267\u884C\u5B9A\u6807\u3001\u5E73\u5747\u7B49\u8FD0\u7B97\u5904\u7406\u540E\u7684\u7ED3\u679C\u503C\uFF09\u3002 U_ADReadBlock \u8BFB\u53D6\u5168\u90E8\u7C7B\u578B\u7684A/D\u8F6C\u6362\u6570\u636E \u4ECE\u5355\u5143\u8BFB\u53D6A/D\u8F6C\u6362\u76F8\u51735\u4E2A\u6570\u636E\uFF08A/D\u8F6C\u6362\u6570\u636E\u3001\u7279\u6B8A\u6570\u636E\u3001\u6A21\u62DF\u6570\u636E\u3001\u5CF0\u503C\u3001\u8C37\u503C\uFF09\u3002 U_ADWriteOffset \u66F4\u6539\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C \u66F4\u6539\u5355\u5143\u7684\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C\u3002 U_ADWriteAverage \u5199\u5165\u5E73\u5747\u5E38\u6570 \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u5E73\u5747\u5E38\u6570\u3002 U_ADWriteScaling \u5199\u5165\u5B9A\u6807\u8BBE\u5B9A\u503C \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u7F29\u653E\u8BBE\u5B9A\u503C\u3002 U_ADWriteCmpLimit \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u3002 U_DAWrite \u66F4\u6539D/A\u8F6C\u6362\u8F93\u51FA\u6570\u636E \u66F4\u6539\u5355\u5143\u7684D/A\u8F6C\u6362\u8F93\u51FA\u6570\u636E\u3002 U_DAWriteOffset \u66F4\u6539\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C \u66F4\u6539\u5355\u5143\u7684\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C\u3002 U_DAWriteScaling \u5199\u5165\u5B9A\u6807\u8BBE\u5B9A\u503C \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u7F29\u653E\u8BBE\u5B9A\u503C\u3002 U_DAWriteUpperLowerLimit \u5199\u5165\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C \u5411\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5199\u5165\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\u3002 U_PosWritePointNo \u5199\u5165\u5B9A\u4F4D\u5F00\u59CB\u70B9\u7F16\u53F7 \u5199\u5165\u5355\u5143\u8F74\u7684\u5B9A\u4F4D\u5F00\u59CB\u70B9\u7F16\u53F7\u3002 U_PosReadCurrentPointNo \u8BFB\u53D6\u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7\u3002 U_PosReadMCode \u8BFB\u53D6\u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7\u3002 U_PosReadActPos \u8BFB\u53D6\u5F53\u524D\u5750\u6807 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u5F53\u524D\u5750\u6807\u3002 U_PosReadActVel \u8BFB\u53D6\u5F53\u524D\u901F\u5EA6 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u5F53\u524D\u901F\u5EA6\u3002 U_PosReadFeedbackTrq \u8BFB\u53D6\u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u5668 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u5668\u3002 U_PosReadCmdPos \u8BFB\u53D6\u6307\u4EE4\u5750\u6807 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u6307\u4EE4\u5750\u6807\u3002 U_PosReadCmdVel \u8BFB\u53D6\u6307\u4EE4\u901F\u5EA6 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u6307\u4EE4\u901F\u5EA6\u3002 U_PosWriteChgPos \u5199\u5165\u5F53\u524D\u5750\u6807\u66F4\u6539 \u5411\u5355\u5143\u8F74\u7684\u5F53\u524D\u5750\u6807\u66F4\u6539\u5199\u5165\u503C\u3002 U_PosWriteChgTargetPos \u5199\u5165\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539(\u5750\u6807) \u5411\u5355\u5143\u8F74\u7684\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u5750\u6807\uFF09\u5199\u5165\u503C\u3002 U_PosWriteChgTargetVel \u5199\u5165\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539(\u901F\u5EA6) \u5411\u5355\u5143\u8F74\u7684\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u901F\u5EA6\uFF09\u5199\u5165\u503C\u3002 U_PosWriteChgVel \u5199\u5165\u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 \u5411\u5355\u5143\u8F74\u7684\u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539\u5199\u5165\u503C\u3002 U_PosWriteOverride \u5199\u5165\u5B9A\u4F4D\u901F\u5EA6\u500D\u7387 \u5411\u5355\u5143\u8F74\u7684\u5B9A\u4F4D\u901F\u5EA6\u500D\u7387\u5199\u5165\u503C\u3002 U_PosReadCtrlMode \u8BFB\u53D6\u5F53\u524D\u63A7\u5236\u6A21\u5F0F \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u7684\u5F53\u524D\u63A7\u5236\u6A21\u5F0F\u3002 U_PosWriteCtrlMode \u5199\u5165\u63A7\u5236\u6A21\u5F0F\u66F4\u6539 \u5411\u5355\u5143\u8F74\u7684\u63A7\u5236\u6A21\u5F0F\u66F4\u6539\u5199\u5165\u503C\u3002 U_PosWriteVelCtrlCmdVel \u5199\u5165\u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4 \u5411\u5355\u5143\u8F74\u7684\u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4\u503C\u5199\u5165\u503C\u3002 U_PosWriteVelCtrlTrqLimit \u5199\u5165\u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236 \u5411\u5355\u5143\u8F74\u7684\u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236\u503C\u5199\u5165\u503C\u3002 U_PosWriteTrqCtrlCmdTrq \u5199\u5165\u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4 \u5411\u5355\u5143\u8F74\u7684\u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4\u5199\u5165\u503C\u3002 U_PosWriteTrqCtrlVelLimit \u5199\u5165\u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236 \u5411\u5355\u5143\u8F74\u7684\u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236\u5199\u5165\u503C\u3002 U_PosReadAxisErrCode \u8BFB\u53D6\u8F74\u9519\u8BEF\u4EE3\u7801 \u4ECE\u5355\u5143\u8BFB\u53D6\u8F74\u9519\u8BEF\u4EE3\u7801\u3002 U_PosWriteSelectSpecialFunc \u5199\u5165\u7279\u6B8A\u529F\u80FD\u9009\u62E9 \u5411\u5355\u5143\u8F74\u7684\u7279\u6B8A\u529F\u80FD\u9009\u62E9\u7F16\u53F7\u5199\u5165\u503C\u3002 U_ReadBuf \u8BFB\u53D6\u7F13\u51B2\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ReadBuf \u8BFB\u53D6\u7F13\u51B2\u6570\u636E FUN \u00A0 U_ReadBuf(Unit, Ch, Dst, WordSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7 Dst IN-OUT - - \u8BFB\u53D6\u6570\u636E\u7684\u5B58\u50A8\u76EE\u6807\u8D77\u59CB WordSize IN UINT 0 \u8BFB\u53D6\u5B57\u6570\uFF081\uFF5E8192\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-SIR32XT\u3001KV-SAD04\u3001KV-SSC02 \u52A8\u4F5C\u8BF4\u660E KV-SIR32XT \u8BFB\u53D6 WordSize \u5B57\u7684\u7B2C Unit \u4E2A\u5355\u5143\u4E2D\u7F13\u51B2\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684I/O\u72B6\u6001\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002\u540C\u65F6\u5220\u9664\u5DF2\u8BFB\u53D6\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6570\u636E\uFF0C\u5C06\u4E4B\u540E\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u6570\u636E\u524D\u79FB\u3002 KV-SAD04 \u8BFB\u53D6 WordSize \u5B57\u7684\u7B2C Unit \u4E2A\u5355\u5143\u4E2D\u7F13\u51B2\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7279\u6B8A\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002\u540C\u65F6\u5220\u9664\u5DF2\u8BFB\u53D6\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6570\u636E\uFF0C\u5C06\u4E4B\u540E\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u6570\u636E\u524D\u79FB\u3002 KV-SSC02 \u8BFB\u53D6 WordSize \u5B57\u7684\u7B2C Unit \u4E2A\u5355\u5143\u4E2D\u7F13\u51B2\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u6570\u636E\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u8FDB\u884C\u5B58\u50A8\u3002\u540C\u65F6\u5220\u9664\u5DF2\u8BFB\u53D6\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u6570\u636E\uFF0C\u5C06\u4E4B\u540E\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u6570\u636E\u524D\u79FB\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\uFF1C WordSize \u2022 \u5BF9 WordSize \u6307\u5B9A\u4E86\u8D85\u8FC78192\u7684\u503C \u2022 \u6307\u5B9A\u4E86\u4E0D\u5B58\u5728\u7684 Ch \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_DisableOverCP \u8BBE\u5B9A\u8F93\u51FA\u8FC7\u7535\u6D41\u4FDD\u62A4\u529F\u80FD \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_DisableOverCP \u8BBE\u5B9A\u8F93\u51FA\u8FC7\u7535\u6D41\u4FDD\u62A4\u529F\u80FD FUN \u00A0 U_DisableOverCP(Unit, Flags); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Flags IN UINT 0 \u7981\u7528\u6807\u5FD7 \u2022 0\uFF1A\u8FC7\u7535\u6D41\u4FDD\u62A4\u6709\u6548 \u2022 1\uFF1A\u8FC7\u7535\u6D41\u4FDD\u62A4\u65E0\u6548 \u652F\u6301\u7684\u5355\u5143 KV-SIR32XT\u3001KV-SSC02\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u5BF9 Flags \u6307\u5B9A1\uFF0C\u7981\u7528\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8FC7\u7535\u6D41\u4FDD\u62A4\u529F\u80FD\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u00A0 \u2022 \u8FC7\u7535\u6D41\u4FDD\u62A4\u529F\u80FD\u7684\u6709\u6548\u548C\u65E0\u6548\u8BBE\u5B9A\u4F1A\u5728FUN\u6267\u884C\u65F6\u751F\u6548\u3002 \u2022 \u63A5\u901A\u7535\u6E90\u65F6\uFF0C\u5728\u201C0\uFF1A\u8FC7\u7535\u6D41\u4FDD\u62A4\u6709\u6548\u201D\u7684\u72B6\u6001\u4E0B\u542F\u52A8\u3002 U_DisableOverVP \u8BBE\u5B9A\u8F93\u5165\u8FC7\u7535\u538B\u4FDD\u62A4\u529F\u80FD \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_DisableOverVP \u8BBE\u5B9A\u8F93\u5165\u8FC7\u7535\u538B\u4FDD\u62A4\u529F\u80FD FUN \u00A0 U_DisableOverVP(Unit, Flags); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Flags IN UINT 0 \u7981\u7528\u6807\u5FD7 \u2022 0\uFF1A\u8FC7\u7535\u538B\u4FDD\u62A4\u6709\u6548 \u2022 1\uFF1A\u8FC7\u7535\u538B\u4FDD\u62A4\u65E0\u6548 \u652F\u6301\u7684\u5355\u5143 KV-SIR32XT \u52A8\u4F5C\u8BF4\u660E \u5BF9 Flags \u6307\u5B9A1\uFF0C\u7981\u7528\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8FC7\u7535\u538B\u4FDD\u62A4\u529F\u80FD\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u8FC7\u7535\u538B\u4FDD\u62A4\u529F\u80FD\u7684\u6709\u6548\u548C\u65E0\u6548\u8BBE\u5B9A\u4F1A\u5728FUN\u6267\u884C\u65F6\u751F\u6548\u3002 \u2022 \u63A5\u901A\u7535\u6E90\u65F6\uFF0C\u5728\u201C0\uFF1A\u8FC7\u7535\u538B\u4FDD\u62A4\u6709\u6548\u201D\u7684\u72B6\u6001\u4E0B\u542F\u52A8\u3002 U_SockOpen \u8BBE\u5B9AKV\u5957\u63A5\u5B57\u6253\u5F00 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockOpen \u8BBE\u5B9AKV\u5957\u63A5\u5B57\u6253\u5F00 FUN \u00A0 U_SockOpen(Unit, Socket, Setting); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 Setting IN - - \u5B58\u50A8\u4E86KV\u5957\u63A5\u5B57\u6253\u5F00\u8BBE\u5B9A\u6570\u636E\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF088\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u4ECE Setting \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76848\u5B57\u6570\u636E\uFF0C\u4F5C\u4E3A\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u6253\u5F00\u8BBE\u5B9A\u6570\u636E\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u30028\u5B57\u6570\u636E\u7684\u5185\u5BB9\u5982\u4E0B\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Setting\uFF0B0\u5B57 \u672C\u673A\u7AEF\u53E3\u53F7 #10000\uFF0BSocket\u00D71500 Setting\u002B1\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C1Byte\uFF09 #10001\uFF0BSocket\u00D71500 Setting\u002B2\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C2Byte\uFF09 #10002\uFF0BSocket\u00D71500 Setting\u002B3\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C3Byte\uFF09 #10003\uFF0BSocket\u00D71500 Setting\u002B4\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C4Byte\uFF09 #10004\uFF0BSocket\u00D71500 Setting\u002B5\u5B57 \u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7 #10005\uFF0BSocket\u00D71500 Setting\u002B6\u5B57 \u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4(ms) #10006\uFF0BSocket\u00D71500 Setting\u002B7\u5B57 UDP\u53D1\u9001\u6807\u5FD7 #10007\uFF0BSocket\u00D71500 \u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4(ms) \u8BBE\u5B9A\u4ECE\u63A5\u6536\u8BF7\u6C42\u7EE7\u7535\u5668\u53D8\u4E3AON\u5F00\u59CB\u5230\u63A5\u6536\u6570\u636E\u4E3A\u6B62\u7684\u8D85\u65F6\u65F6\u95F4\u3002\u57280\uFF5E65535\u7684\u8303\u56F4\u5185\u8BBE\u5B9A\uFF0C\u8BBE\u5B9A\u4E3A0\u8868\u793A\u7981\u7528\u8D85\u65F6\u3002 UDP\u53D1\u9001\u6807\u5FD7 UDP\u53D1\u9001\u6807\u5FD7\u4EC5\u5728\u4F7F\u7528UDP/IP\u901A\u4FE1\u65F6\u6709\u6548\u3002\u5728\u4F7F\u7528TCP/IP\u901A\u4FE1\u65F6\u4F1A\u88AB\u5FFD\u7565\u3002 \u2022 \u6307\u5B9A\u4E86\u201C0\u201D\u65F6\uFF1A\u5411\u7528U_SockOpen\u6307\u4EE4\u6307\u5B9A\u7684\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u548C\u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\u53D1\u9001\u6570\u636E\u3002 \u2022 \u6307\u5B9A\u4E86\u201C1\u201D\u65F6\uFF1A\u5411\u4E0A\u6B21\u63A5\u6536\u4E86\u6570\u636E\u7684\u901A\u4FE1\u76EE\u6807\u53D1\u9001\u6570\u636E\u3002\u7528U_SockOpen\u6307\u4EE4\u6307\u5B9A\u7684\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u548C\u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\u4F1A\u88AB\u5FFD\u7565\u3002\u5982\u679C\u5728\u63A5\u901ACPU\u5355\u5143\u7684\u7535\u6E90\u540E\uFF0C\u4E00\u6B21\u4E5F\u6CA1\u6709\u63A5\u6536\u6570\u636E\uFF0C\u5219\u4F1A\u8FD4\u56DE\u9519\u8BEF\u4EE3\u7801\u201C45\u201D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 Setting \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB38\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_SockWriteBuf \u5199\u5165KV\u5957\u63A5\u5B57\u53D1\u9001\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockWriteBuf \u5199\u5165KV\u5957\u63A5\u5B57\u53D1\u9001\u6570\u636E FUN \u00A0 U_SockWriteBuf(Unit, Socket, SendData); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 SendData IN - - \u5B58\u50A8\u4E86\u53D1\u9001\u6570\u636E\u957F\u5EA6\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u53D1\u9001\u6570\u636E\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF08\u6700\u591A737\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE SendData \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684 SendData \u5B57\u8282\u7684\u53D1\u9001\u6570\u636E\uFF0C\u4F5C\u4E3A\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u53D1\u9001\u6570\u636E\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002\u6700\u591A\u53EF\u5199\u51651472\u5B57\u8282\u7684\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 SendData\uFF0B0\u5B57 \u53D1\u9001\u6570\u636E\u957F\u5EA6\uFF08\u5B57\u8282\u5355\u4F4D\uFF09 #10009\uFF0BSocket\u00D71500 SendData\uFF0B1\u5B57\uFF5E \u53D1\u9001\u6570\u636E #10010\uFF0BSocket\u00D71500 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 SendData \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 SendData \uFF0B0\u5B57\u6307\u5B9A\u7684\u5927\u5C0F \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_SockReadBuf \u8BFB\u53D6KV\u5957\u63A5\u5B57\u63A5\u6536\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockReadBuf \u8BFB\u53D6KV\u5957\u63A5\u5B57\u63A5\u6536\u6570\u636E FUN \u00A0 U_SockReadBuf(Unit, Socket, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 Dst IN-OUT - - \u5B58\u50A8\u63A5\u6536\u6570\u636E\u957F\u5EA6\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u63A5\u6536\u6570\u636E\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF08\u6700\u591A737\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u7684\u63A5\u6536\u6570\u636E\uFF0C\u6309\u7167\u63A5\u6536\u6570\u636E\u957F\u5EA6\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\uFF0C\u4ECE Dst \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5C06\u63A5\u6536\u6570\u636E\u5B58\u50A8\u5230 Dst \u4E2D\u3002\u6700\u591A\u53EF\u8BFB\u53D61472\u5B57\u8282\u7684\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0 \u63A5\u6536\u6570\u636E\u957F\u5EA6\uFF08\u5B57\u8282\u5355\u4F4D\uFF09 #10759\uFF0BSocket\u00D71500 Dst\uFF0B1 \uFF5E \u63A5\u6536\u6570\u636E #10760\uFF0BSocket\u00D71500 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 Dst \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 Dst \uFF0B0\u5B57\u6307\u5B9A\u7684\u5927\u5C0F \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u8FDB\u884CTCP\uFF08\u65E0\u534F\u8BAE\uFF09\u901A\u4FE1\u65F6\uFF0C\u5982\u679C\u5728\u63A5\u6536\u65F6\u5C06\u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u504F\u79FB\u91CF\uFF08\u8BF7\u6C42\uFF09\u8BBE\u4E3A\u201C0\u201D\u4EE5\u5916\u7684\u503C\uFF0C\u5219\u4E0D\u80FD\u4F7F\u7528U_SockReadBuf\u6307\u4EE4\u3002\u8BF7\u4F7F\u7528UnitBufMemBlockRead\u6307\u4EE4\u8BFB\u53D6\u63A5\u6536\u6570\u636E\u3002 U_SockStatus \u8BFB\u53D6KV\u5957\u63A5\u5B57\u5904\u7406\u72B6\u6001 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockStatus \u8BFB\u53D6KV\u5957\u63A5\u5B57\u5904\u7406\u72B6\u6001 FUN \u00A0 U_SockStatus(Unit, Socket, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 Dst IN-OUT - - \u5B58\u50A8KV\u5957\u63A5\u5B57\u5904\u7406\u72B6\u6001\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF0812\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u7684\u5904\u7406\u72B6\u6001\uFF0C\u5B58\u50A8\u5230\u4EE5 Dst \u4E3A\u5F00\u5934\u7684\u8FDE\u7EED12\u5B57\u7684\u8F6F\u5143\u4EF6\u4E2D\u300212\u5B57\u6570\u636E\u7684\u5185\u5BB9\u5982\u4E0B\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0 \u8FDE\u63A5\u72B6\u6001 #10748\uFF0BSocket\u00D71500 Dst\uFF0B1 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C1Byte\uFF09 #10749\uFF0BSocket\u00D71500 Dst\uFF0B2 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C2Byte\uFF09 #10750\uFF0BSocket\u00D71500 Dst\uFF0B3 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C3Byte\uFF09 #10751\uFF0BSocket\u00D71500 Dst\uFF0B4 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C4Byte\uFF09 #10752\uFF0BSocket\u00D71500 Dst\uFF0B5 \u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7 #10753\uFF0BSocket\u00D71500 Dst\uFF0B6 \u6253\u5F00\u5B8C\u6210\u4EE3\u7801 #10754\uFF0BSocket\u00D71500 Dst\uFF0B7 \u53D1\u9001\u5B8C\u6210\u4EE3\u7801 #10755\uFF0BSocket\u00D71500 Dst\uFF0B8 \u54CD\u5E94\u7ED3\u675F\u4EE3\u7801 #10756\uFF0BSocket\u00D71500 Dst\uFF0B9 \u63A5\u6536\u5B8C\u6210\u4EE3\u7801 #10757\uFF0BSocket\u00D71500 Dst\uFF0B10 \u5173\u95ED\u5B8C\u6210\u4EE3\u7801 #10758\uFF0BSocket\u00D71500 Dst\uFF0B11 \u63A5\u6536\u6570\u636E\u957F\u5EA6 #10759\uFF0BSocket\u00D71500 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB312\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_SockNonProcRecvSetting \u8BBE\u5B9AKV\u5957\u63A5\u5B57TCP(\u65E0\u534F\u8BAE)\u63A5\u6536 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockNonProcRecvSetting \u8BBE\u5B9AKV\u5957\u63A5\u5B57TCP(\u65E0\u534F\u8BAE)\u63A5\u6536 FUN \u00A0 U_SockNonProcRecvSetting(Unit, Socket, Setting); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 Setting IN - - \u5B58\u50A8\u4E86KV\u5957\u63A5\u5B57TCP\uFF08\u65E0\u534F\u8BAE\uFF09\u901A\u4FE1\u65F6\uFF0C\u63A5\u6536\u6570\u636E\u957F\u5EA6(\u8BF7\u6C42)[\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D]\u548C\u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u504F\u79FB\u91CF(\u8BF7\u6C42)[\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D]\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF082\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u4ECE Setting \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76842\u5B57\u6570\u636E\uFF0C\u4F5C\u4E3A\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u7684\u63A5\u6536\u8BBE\u5B9A\u6570\u636E\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u30022\u5B57\u6570\u636E\u7684\u5185\u5BB9\u5982\u4E0B\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Setting\uFF0B0\u5B57 \u63A5\u6536\u6570\u636E\u957F\u5EA6(\u8BF7\u6C42) [\u5B57\u8282\u5355\u4F4D] #10746\uFF0BSocket\u00D71500 Setting\uFF0B1\u5B57 \u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u504F\u79FB\u91CF(\u8BF7\u6C42) [\u5B57\u8282\u5355\u4F4D] #10747\uFF0BSocket\u00D71500 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 Setting \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB32\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_SockUDPTo \u5199\u5165KV\u5957\u63A5\u5B57UDP\u901A\u4FE1\u76EE\u6807 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockUDPTo \u5199\u5165KV\u5957\u63A5\u5B57UDP\u901A\u4FE1\u76EE\u6807 FUN \u00A0 U_SockUDPTo(Unit, Socket, Setting); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 Setting IN - - \u5B58\u50A8\u4E86KV\u5957\u63A5\u5B57UDP\u901A\u4FE1\u76EE\u6807\u8BBE\u5B9A\u6570\u636E\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF085\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u4ECE Setting \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76845\u5B57\u6570\u636E\uFF0C\u4F5C\u4E3A\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u7684UDP\u901A\u4FE1\u76EE\u6807\u8BBE\u5B9A\u6570\u636E\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u30025\u5B57\u6570\u636E\u7684\u5185\u5BB9\u5982\u4E0B\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Setting\uFF0B0\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C1Byte\uFF09 #10001\uFF0BSocket\u00D71500 Setting\uFF0B1\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C2Byte\uFF09 #10002\uFF0BSocket\u00D71500 Setting\uFF0B2\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C3Byte\uFF09 #10003\uFF0BSocket\u00D71500 Setting\uFF0B3\u5B57 \u901A\u4FE1\u76EE\u6807IP\u5730\u5740\uFF08\u7B2C4Byte\uFF09 #10004\uFF0BSocket\u00D71500 Setting\uFF0B4\u5B57 \u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7 #10005\uFF0BSocket\u00D71500 \u4F7F\u7528\u8BE5\u6307\u4EE4\uFF0C\u53EF\u76F4\u63A5\u66F4\u6539\u901A\u4FE1\u76EE\u6807IP\u5730\u5740\u548C\u901A\u4FE1\u76EE\u6807\u7AEF\u53E3\u53F7\uFF0C\u800C\u65E0\u9700\u5173\u95ED\u672C\u673A\u7AEF\u53E3\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 Setting \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB35\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_SockSelectPort \u6307\u5B9AKV\u5957\u63A5\u5B57\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_SockSelectPort \u6307\u5B9AKV\u5957\u63A5\u5B57\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7 FUN \u00A0 U_SockSelectPort(Unit, Socket, Port); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Socket IN UINT 0 KV\u5957\u63A5\u5B57\u7F16\u53F7\uFF080\uFF5E15\uFF09 Port IN UINT - KV\u5957\u63A5\u5B57\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\uFF080\uFF5E2\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u5B58\u50A8\u4E8E Port \u7684\u503C\uFF0C\u4F5C\u4E3A\u7B2C Socket \u4E2AKV\u5957\u63A5\u5B57\u7684\u7AEF\u53E3\u53F7\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Port \u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7 #10008\uFF0BSocket\u00D71500 \u6307\u5B9A\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u65F6\uFF0C\u5E94\u5728\u6253\u5F00\u65F6\u6307\u5B9AKV\u5957\u63A5\u5B57\u901A\u4FE1\u4F7F\u7528\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u3002\u6307\u5B9A\u4E86\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u540E\u7684\u52A8\u4F5C\u5982\u4E0B\u6240\u793A\u3002 TCP\u4E3B\u52A8\u6253\u5F00 \u2022 \u6307\u5B9A\u4E860\uFF08\u65E0\u6307\u5B9A\uFF09\u65F6 \u5728\u6253\u5F00\u65F6\uFF0C\u4F1A\u6839\u636E\u901A\u4FE1\u5BF9\u8C61\u7684IP\u5730\u5740\u81EA\u52A8\u9009\u62E9\u4F7F\u7528\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u3002 \u2022 \u6307\u5B9A\u4E861\u30012\u65F6 \u5728\u6253\u5F00\u65F6\uFF0C\u53EA\u4F7F\u7528\u6307\u5B9A\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u3002 TCP\u88AB\u52A8\u6253\u5F00 \u2022 \u6307\u5B9A\u4E860\uFF08\u65E0\u6307\u5B9A\uFF09\u65F6 \u53CC\u65B9\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53D8\u4E3A\u7B49\u5F85\u542F\u7528\u7684\u72B6\u6001\u3002 \u2022 \u6307\u5B9A\u4E861\u30012\u65F6 \u53EA\u6709\u6307\u5B9A\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53D8\u4E3A\u7B49\u5F85\u542F\u7528\u7684\u72B6\u6001\u3002 \u6253\u5F00UDP \u2022 \u6307\u5B9A\u4E860\uFF08\u65E0\u6307\u5B9A\uFF09\u65F6 \u5728\u8BF7\u6C42\u53D1\u9001\u65F6\uFF0C\u4F1A\u6839\u636E\u5BF9\u65B9\u81EA\u52A8\u9009\u62E9\u53D1\u9001\u6E90\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u3002\u53E6\u5916\uFF0C\u4EE5\u592A\u7F51\u7AEF\u53E31\u548C\u4EE5\u592A\u7F51\u7AEF\u53E32\u90FD\u53D8\u4E3A\u7B49\u5F85\u63A5\u6536\u7684\u72B6\u6001\u3002 \u2022 \u6307\u5B9A\u4E861\u30012\u65F6 \u5728\u8BF7\u6C42\u53D1\u9001\u65F6\uFF0C\u53EA\u4ECE\u6307\u5B9A\u7F16\u53F7\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u6267\u884C\u53D1\u9001\u3002\u53E6\u5916\uFF0C\u53EA\u6709\u6307\u5B9A\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53D8\u4E3A\u7B49\u5F85\u63A5\u6536\u7684\u72B6\u6001\u3002\u8BF7\u6307\u5B9A\u5BF9\u5E94\u901A\u4FE1\u5BF9\u8C61\u7684\u4EE5\u592A\u7F51\u7AEF\u53E3\u53F7\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Socket \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 \u5BF9 Port \u6307\u5B9A\u4E86\u6BD42\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MailToGroup \u8BBE\u5B9A\u90AE\u4EF6\u6536\u4EF6\u4EBA\u7EC4 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MailToGroup \u8BBE\u5B9A\u90AE\u4EF6\u6536\u4EF6\u4EBA\u7EC4 FUN \u00A0 U_MailToGroup(Unit, AddressGroup); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 AddressGroup IN UINT 0 \u6536\u4EF6\u4EBA\u7EC4\u7F16\u53F7\uFF080\uFF5E7, 65535\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 AddressGroup \u6307\u5B9A\u7684\u503C\uFF0C\u4F5C\u4E3A\u53D1\u9001\u90AE\u4EF6\u7684\u6536\u4EF6\u4EBA\u7EC4\u7F16\u53F7\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 AddressGroup \u6536\u4EF6\u4EBA\u7EC4\u7F16\u53F7 #20 \u4E0D\u662F\u5411\u5BF9\u6536\u4EF6\u4EBA\u7EC4\u8BBE\u5B9A\u7684\u5730\u5740\u53D1\u9001\uFF0C\u800C\u662F\u5411\u7528U_MailTo\u6307\u4EE4\u6307\u5B9A\u7684\u5730\u5740\u53D1\u9001\u90AE\u4EF6\u65F6\uFF0C\u8BF7\u5728 AddressGroup \u4E2D\u5B58\u50A865535\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MailTo \u8BBE\u5B9A\u90AE\u4EF6\u6536\u4EF6\u4EBA\u5730\u5740 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MailTo \u8BBE\u5B9A\u90AE\u4EF6\u6536\u4EF6\u4EBA\u5730\u5740 FUN \u00A0 U_MailTo(Unit, Address); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Address IN - - \u5B58\u50A8\u4E86\u6536\u4EF6\u4EBA\u5730\u5740\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u6536\u4EF6\u4EBA\u5730\u5740\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF08\u5B57\u7B26\u6570/2\uFF0B1\u5B57\uFF0C\u6700\u591A129\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE Address \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684 Address \u5B57\u8282\u7684\u6570\u636E\uFF0C\u4F5C\u4E3A\u53D1\u9001\u90AE\u4EF6\u7684\u6536\u4EF6\u4EBA\u5730\u5740\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002\u6700\u591A\u53EF\u5199\u5165256\u5B57\u8282\u7684\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Address\uFF0B0\u5B57 \u6536\u4EF6\u4EBA\u5730\u5740\u7684\u5927\u5C0F(\u5B57\u8282\u5355\u4F4D) #21 Address\uFF0B1\u5B57\uFF5E \u5730\u5740 #22\uFF5E \u4F7F\u7528U_MailTo\u6307\u4EE4\u6307\u5B9A\u6536\u4EF6\u4EBA\u5730\u5740\u5E76\u53D1\u9001\u90AE\u4EF6\u65F6\uFF0C\u9700\u8981\u9884\u5148\u4F7F\u7528U_MailToGroup\u6307\u4EE4\u5728\u6536\u4EF6\u4EBA\u7EC4\u7F16\u53F7\u4E2D\u5B58\u50A865535\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Address \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 Address \uFF0B0\u5B57\u6307\u5B9A\u7684\u5927\u5C0F \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MailSubject \u8BBE\u5B9A\u90AE\u4EF6\u4E3B\u9898 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MailSubject \u8BBE\u5B9A\u90AE\u4EF6\u4E3B\u9898 FUN \u00A0 U_MailSubject(Unit, Title); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Title IN - - \u5B58\u50A8\u4E86\u6807\u9898\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u6807\u9898\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF08\u5B57\u7B26\u6570/2\uFF0B1\u5B57\uFF0C\u6700\u591A129\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE Title \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684 Title \u5B57\u8282\u7684\u6570\u636E\uFF0C\u4F5C\u4E3A\u90AE\u4EF6\u4E3B\u9898\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002\u6700\u591A\u53EF\u5199\u5165256\u5B57\u8282\u7684\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Title\uFF0B0\u5B57 \u90AE\u4EF6\u4E3B\u9898\u7684\u5927\u5C0F(\u5B57\u8282\u5355\u4F4D) #151 Title\uFF0B1\u5B57\uFF5E \u90AE\u4EF6\u4E3B\u9898 #152\uFF5E \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Title \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 Title \uFF0B0\u5B57\u6307\u5B9A\u7684\u5927\u5C0F \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MailText \u8BBE\u5B9A\u90AE\u4EF6\u6B63\u6587 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MailText \u8BBE\u5B9A\u90AE\u4EF6\u6B63\u6587 FUN \u00A0 U_MailText(Unit, Body); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Body IN - - \u5B58\u50A8\u4E86\u6B63\u6587\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u6B63\u6587\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF08\u5B57\u7B26\u6570/2\uFF0B1\u5B57\uFF0C\u6700\u591A1001\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE Body \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684 Body \u5B57\u8282\u7684\u6570\u636E\uFF0C\u4F5C\u4E3A\u90AE\u4EF6\u6B63\u6587\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002\u6700\u591A\u53EF\u5199\u51652000\u5B57\u8282\u7684\u6570\u636E\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Body\uFF0B0\u5B57 \u6B63\u6587\u7684\u5927\u5C0F(\u5B57\u8282\u5355\u4F4D) #281 Body\uFF0B1\u5B57\uFF5E \u6B63\u6587 #282\uFF5E \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Body \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 Body \uFF0B0\u5B57\u6307\u5B9A\u7684\u5927\u5C0F \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MailAttach \u8BBE\u5B9A\u90AE\u4EF6\u9644\u52A0\u6587\u4EF6\u540D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MailAttach \u8BBE\u5B9A\u90AE\u4EF6\u9644\u52A0\u6587\u4EF6\u540D FUN \u00A0 U_MailAttach(Unit, Attach); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Attach IN - - \u5B58\u50A8\u4E86\u9644\u4EF6\u540D\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u9644\u4EF6\u540D\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF08\u5B57\u7B26\u6570/2\uFF0B1\u5B57\uFF0C\u6700\u591A129\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE Attach \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684 Attach \u5B57\u8282\u7684\u6570\u636E\uFF0C\u4F5C\u4E3A\u9644\u52A0\u6587\u4EF6\u540D\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002\u9644\u52A0\u6587\u4EF6\u540D\u5E94\u6307\u5B9A\u5728\u4ECE\u6839\u76EE\u5F55\u5F00\u59CB\u7684\u7EDD\u5BF9\u8DEF\u5F84\uFF08\u5B8C\u6574\u8DEF\u5F84\uFF09\u7684\u5F00\u5934\u6DFB\u52A0\u4E86\u201C/CARD/\u201D\uFF08\u534A\u89D2\u5927\u5199\uFF09\u7684\u540D\u79F0\u3002\u53E6\u5916\uFF0C\u5982\u679C\u9644\u52A0CPU\u5B58\u50A8\u5668\u7684\u6587\u4EF6\uFF0C\u5219\u5E94\u6DFB\u52A0\u201C/CPUMEM/\u201D\u3002\u9644\u4EF6\u8DEF\u5F84\u5305\u62EC\u76EE\u5F55\u540D\u548C\u6587\u4EF6\u540D\u5728\u5185\uFF0C\u6700\u591A\u53EF\u8BBE\u5B9A254\u4E2A\u534A\u89D2\u5B57\u7B26\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Attach\uFF0B0\u5B57 \u9644\u52A0\u6587\u4EF6\u540D\u7684\u5927\u5C0F(\u5B57\u8282\u5355\u4F4D) #1283 Attach\uFF0B1\u5B57\uFF5E \u9644\u52A0\u6587\u4EF6\u540D #1284\uFF5E \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Attach \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 Attach \uFF0B0\u5B57\u6307\u5B9A\u7684\u5927\u5C0F \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MailStatus \u83B7\u53D6\u90AE\u4EF6\u53D1\u9001\u7ED3\u679C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MailStatus \u83B7\u53D6\u90AE\u4EF6\u53D1\u9001\u7ED3\u679C FUN \u00A0 U_MailStatus(Unit, SendResult); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 SendResult OUT UINT - \u5B58\u50A8\u90AE\u4EF6\u53D1\u9001\u7ED3\u679C\u4EE3\u7801\u7684\u5BF9\u8C61\u6570\u636E \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u90AE\u4EF6\u53D1\u9001\u5B8C\u6210\u4EE3\u7801\uFF0C\u5B58\u50A8\u5230 SendResult \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 SendResult \u90AE\u4EF6\u53D1\u9001\u5B8C\u6210\u4EE3\u7801 #1413 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_FTPClientStatus \u8BFB\u53D6FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_FTPClientStatus \u8BFB\u53D6FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001 FUN \u00A0 U_FTPClientStatus(Unit, TransferId, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 TransferId IN UINT 0 \u6587\u4EF6\u4F20\u8F93ID(0\uFF5E9) Dst IN-OUT - - FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001\u5B58\u50A8\u76EE\u6807\uFF084\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02\u3001KV-XCM02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u8FC7 TransferId \u6307\u5B9A\u7684\u6587\u4EF6\u4F20\u8F93ID\u7684FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001\uFF0C\u5B58\u50A8\u5230\u4EE5 Dst \u4E3A\u5F00\u5934\u76844\u5B57\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0\u5B57 FTP\u6587\u4EF6\u4F20\u8F93\u5B8C\u6210\u4EE3\u7801 #1420\uFF0BTransferId\u00D74 (KV-XLE02\u3001KV-XCM02) #1480\uFF0BTransferId\u00D74 (CPU\u5355\u5143) Dst\uFF0B1\u5B57 FTP\u6587\u4EF6\u4F20\u8F93\u72B6\u6001\u4EE3\u7801 #1421\uFF0BTransferId\u00D74 (KV-XLE02\u3001KV-XCM02) #1481\uFF0BTransferId\u00D74 (CPU\u5355\u5143) Dst\uFF0B2\u5B57 FTP\u6587\u4EF6\u4F20\u8F93\u8FDB\u5EA6 #1422\uFF0BTransferId\u00D74 (KV-XLE02\u3001KV-XCM02) #1482\uFF0BTransferId\u00D74 (CPU\u5355\u5143) Dst\uFF0B3\u5B57 0 (\u7CFB\u7EDF\u9884\u7559) #1423\uFF0BTransferId\u00D74 (KV-XLE02\u3001KV-XCM02) #1483\uFF0BTransferId\u00D74 (CPU\u5355\u5143) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 TransferId \u6BD49\u5927 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB34\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MsgTo \u6307\u5B9A\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5BF9\u8C61 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MsgTo \u6307\u5B9A\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5BF9\u8C61 FUN \u00A0 U_MsgTo(Unit, Setting); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Setting IN - - \u5B58\u50A8\u4E86\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u7684\u5BF9\u8C61\u8BBE\u5B9A\u7684\u8D77\u59CB\uFF088\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE Setting \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76848\u5B57\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5BF9\u8C61\u8BBE\u5B9A\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Setting\uFF0B0\u5B57 IP\u5730\u5740\u7B2C1\u5B57\u8282 #1800 Setting\uFF0B1\u5B57 IP\u5730\u5740\u7B2C2\u5B57\u8282 #1801 Setting\uFF0B2\u5B57 IP\u5730\u5740\u7B2C3\u5B57\u8282 #1802 Setting\uFF0B3\u5B57 IP\u5730\u5740\u7B2C4\u5B57\u8282 #1803 Setting\uFF0B4\u5B57 \u670D\u52A1\u4EE3\u7801 #1804 Setting\uFF0B5\u5B57 \u7C7B\u578BID #1805 Setting\uFF0B6\u5B57 \u5B9E\u4F8B ID #1806 Setting\uFF0B7\u5B57 \u5C5E\u6027ID #1807 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Setting \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB38\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MsgSend \u5199\u5165\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u53D1\u9001\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MsgSend \u5199\u5165\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u53D1\u9001\u6570\u636E FUN \u00A0 U_MsgSend(Unit, SendData); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 SendData IN - - \u5B58\u50A8\u4E86\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u53D1\u9001\u6570\u636E\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u53D1\u9001\u6570\u636E\u7684\u8D77\u59CB\uFF08\u5B57\u7B26\u6570/2\uFF0B1\u5B57\uFF0C\u6700\u591A253\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE SendData \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684 SendData \u5B57\u8282\u7684\u53D1\u9001\u6570\u636E\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 SendData\uFF0B0\u5B57 \u53D1\u9001\u670D\u52A1\u6570\u636E\u5927\u5C0F\uFF08\u5B57\u8282\u5355\u4F4D\uFF09 #1900 SendData\uFF0B1\u5B57\uFF5E \u53D1\u9001\u670D\u52A1\u6570\u636E #1901\uFF5E \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 SendData \uFF0B1\u5B57\u4E4B\u540E\u7684\u5269\u4F59\u5B57\u8282\u6570\u5C0F\u4E8E\u7531 SendData \uFF0B0\u5B57\u6307\u5B9A\u7684\u6570\u636E\u5927\u5C0F \u2022 \u5BF9 SendData \uFF0B0\u5B57\u6307\u5B9A\u4E86\u6BD4504\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MsgRecv \u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u63A5\u6536\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MsgRecv \u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u63A5\u6536\u6570\u636E FUN \u00A0 U_MsgRecv(Unit, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Dst IN-OUT - - \u5B58\u50A8\u63A5\u6536\u670D\u52A1\u6570\u636E\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\u548C\u63A5\u6536\u670D\u52A1\u6570\u636E\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB \uFF08\u5B57\u7B26\u6570/2\uFF0B1\u5B57\uFF0C\u6700\u591A253\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u8BFB\u53D6\u63A5\u6536\u670D\u52A1\u6570\u636E\uFF0C\u6309\u7167\u63A5\u6536\u670D\u52A1\u6570\u636E\u5927\u5C0F\uFF08\u4EE5\u5B57\u8282\u4E3A\u5355\u4F4D\uFF09\uFF0C\u4ECE Dst \uFF0B1\u5F00\u59CB\u6309\u987A\u5E8F\u5C06\u63A5\u6536\u670D\u52A1\u6570\u636E\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0\u5B57 \u63A5\u6536\u670D\u52A1\u6570\u636E\u5927\u5C0F\uFF08\u5B57\u8282\u5355\u4F4D\uFF09 #2200 Dst\uFF0B1\u5B57\uFF5E \u63A5\u6536\u670D\u52A1\u6570\u636E #2201\uFF5E \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB3253\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_MsgStatus \u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5B8C\u6210\u4EE3\u7801 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_MsgStatus \u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5B8C\u6210\u4EE3\u7801 FUN \u00A0 U_MsgStatus(Unit, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Dst IN-OUT - - \u5B58\u50A8\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5B8C\u6210\u4EE3\u7801\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF082\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5B8C\u6210\u4EE3\u7801\uFF0C\u5B58\u50A8\u5230\u4EE5 Dst \u4E3A\u5F00\u5934\u76842\u5B57\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0\u5B57 \u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u5B8C\u6210\u4EE3\u7801 #1810 Dst\uFF0B1\u5B57 \u663E\u5F0F\u62A5\u6587\u901A\u4FE1\u8BE6\u7EC6\u5B8C\u6210\u4EE3\u7801 #1811 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB32\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CyclicStop \u6307\u5B9A\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CyclicStop \u6307\u5B9A\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9 FUN \u00A0 U_CyclicStop(Unit, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 In IN - - \u5B58\u50A8\u4E86\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u5BF9\u8C61\u8282\u70B9\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF0816\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE In \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u768416\u5B57\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In\uFF0B0\u5B57\uFF5EIN\uFF0B15\u5B57 \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u505C\u6B62\u8BF7\u6C42\u8282\u70B9\u8868 #1632\uFF5E#1647 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 In \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB316\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CyclicStart \u6307\u5B9A\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CyclicStart \u6307\u5B9A\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9 FUN \u00A0 U_CyclicStart(Unit, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 In IN - - \u5B58\u50A8\u4E86\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u5BF9\u8C61\u8282\u70B9\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF0816\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE In \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u768416\u5B57\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u8BF7\u6C42\u5BF9\u8C61\u8282\u70B9\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In\uFF0B0\u5B57\uFF5EIN\uFF0B15\u5B57 \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB\u8BF7\u6C42\u8282\u70B9\u8868 #1648\uFF5E#1663 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 In \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB316\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CyclicReadRegister \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CyclicReadRegister \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868 FUN \u00A0 U_CyclicReadRegister(Unit, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Dst IN-OUT - - \u5B58\u50A8\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF0816\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u4ECE Dst \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u768416\u5B57\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0\u5B57\uFF5EDst\uFF0B15\u5B57 \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u767B\u5F55\u8282\u70B9\u8868 #1600\uFF5E#1615 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB316\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CyclicReadErr \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CyclicReadErr \u8BFB\u53D6\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868 FUN \u00A0 U_CyclicReadErr(Unit, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Dst IN-OUT - - \u5B58\u50A8\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF0816\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 CPU\u5355\u5143\u3001KV-XLE02 \u52A8\u4F5C\u8BF4\u660E \u8BFB\u53D6\u4ECE Dst \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u768416\u5B57\u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0\u5B57\uFF5EDst\uFF0B15\u5B57 \u9690\u5F0F(I/O)\u62A5\u6587\u901A\u4FE1\u9519\u8BEF\u4E2D\u8282\u70B9\u8868 #1616\uFF5E#1631 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB316\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PSReadBuf \u8BFB\u53D6PROTOCOL STUDIO\u4E8B\u4EF6\u901A\u4FE1\u6307\u4EE4\u63A5\u6536\u7F13\u5B58 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PSReadBuf \u8BFB\u53D6PROTOCOL STUDIO\u4E8B\u4EF6\u901A\u4FE1\u6307\u4EE4\u63A5\u6536\u7F13\u5B58 FUN \u00A0 U_PSReadBuf(Unit, ConnectionDevice, Dst, WordSize); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 ConnectionDevice IN UINT 0 \u8FDE\u63A5\u8BBE\u5907\u7F16\u53F7(0\uFF5E15) Dst IN-OUT - - \u5B58\u50A8\u63A5\u6536\u7F13\u51B2\u6570\u636E\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB WordSize IN UINT 0 \u8BFB\u53D6\u6570\u636E\u6570\uFF080\uFF5E1024\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XLE02\u3001KV-XL202/XL402 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6 WordSize \u5B57\u7684\u8FDE\u63A5\u8BBE\u5907\u7F16\u53F7 ConnectionDevice \u7684\u4E8B\u4EF6\u901A\u4FE1\u6307\u4EE4\u63A5\u6536\u7F13\u5B58\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 ConnectionDevice \u6307\u5B9A\u4E86\u6BD415\u5927\u7684\u503C \u2022 \u5BF9 WordSize \u6307\u5B9A\u4E86\u6BD41024\u5927\u7684\u503C \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\uFF1C WordSize \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CntReadCounter \u8BFB\u53D6\u8BA1\u6570\u5F53\u524D\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntReadCounter \u8BFB\u53D6\u8BA1\u6570\u5F53\u524D\u503C FUN \u00A0 U_CntReadCounter(Unit, Ch, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u8BA1\u6570\u5F53\u524D\u503C\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u9053\u7F16\u53F7 Ch \u7684\u9AD8\u901F\u8BA1\u6570\u5668\u5F53\u524D\u503C\uFF0C\u5C06\u5176\u4F5C\u4E3A2\u5B57\u4E8C\u8FDB\u5236\u503C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF5EDst\uFF0B1\u5B57 \u8BA1\u6570\u5F53\u524D\u503C #0\uFF0BCh\u00D714\uFF5E#1\uFF0BCh\u00D714 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CntReadHz \u8BFB\u53D6\u9891\u7387 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntReadHz \u8BFB\u53D6\u9891\u7387 FUN \u00A0 U_CntReadHz(Unit, Ch, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u9891\u7387\u8BA1\u6570\u6D4B\u91CF\u7ED3\u679C\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u9053\u7F16\u53F7 Ch \u7684\u9891\u7387\u8BA1\u6570\u6D4B\u91CF\u7ED3\u679C(Hz)\uFF0C\u5C06\u5176\u4F5C\u4E3A2\u5B57\u4E8C\u8FDB\u5236\u503C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF5EDst\uFF0B1\u5B57 \u9891\u7387\u8BA1\u6570\u6D4B\u91CF\u7ED3\u679C #6\uFF0BCh\u00D714\uFF5E#7\uFF0BCh\u00D714 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CntReadRPM \u8BFB\u53D6\u8F6C\u901F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntReadRPM \u8BFB\u53D6\u8F6C\u901F FUN \u00A0 U_CntReadRPM(Unit, Ch, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u8F6C\u901F\u6D4B\u91CF\u7ED3\u679C\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u9053\u7F16\u53F7 Ch \u7684\u8F6C\u901F\u6D4B\u91CF\u7ED3\u679C\uFF08rpm\uFF09\uFF0C\u5C06\u5176\u4F5C\u4E3A2\u5B57\u4E8C\u8FDB\u5236\u503C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF5EDst\uFF0B1\u5B57 \u8F6C\u901F\u6D4B\u91CF\u7ED3\u679C #8\uFF0BCh\u00D714\uFF5E#9\uFF0BCh\u00D714 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CntReadInputCapture0 \u8BFB\u53D6\u8F93\u5165\u6355\u83B70 U_CntReadInputCapture1 \u8BFB\u53D6\u8F93\u5165\u6355\u83B71 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntReadInputCapture0 \u8BFB\u53D6\u8F93\u5165\u6355\u83B70 FUN \u00A0 U_CntReadInputCapture0(Unit, Ch, Dst); U_CntReadInputCapture1 \u8BFB\u53D6\u8F93\u5165\u6355\u83B71 FUN \u00A0 U_CntReadInputCapture1(Unit, Ch, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u8F93\u5165\u6355\u83B7\u503C\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u9053\u7F16\u53F7 Ch \u7684\u8F93\u5165\u6355\u83B7\u503C\uFF0C\u5C06\u5176\u4F5C\u4E3A2\u5B57\u4E8C\u8FDB\u5236\u503C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF5EDst\uFF0B1\u5B57 \u8F93\u5165\u6355\u83B7\u503C #2\uFF0BCh\u00D714\uFF5E#3\uFF0BCh\u00D714 (\u8F93\u5165\u6355\u83B7\u503C0) #4\uFF0BCh\u00D714\uFF5E#5\uFF0BCh\u00D714 (\u8F93\u5165\u6355\u83B7\u503C1) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_CntWriteCounter \u5199\u5165\u8BA1\u6570\u5F53\u524D\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntWriteCounter \u5199\u5165\u8BA1\u6570\u5F53\u524D\u503C FUN \u00A0 U_CntWriteCounter(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 In IN DINT 0 \u5199\u5165\u503C \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u9AD8\u901F\u8BA1\u6570\u5668\u5F53\u524D\u503C\uFF0C\u6539\u5199\u4E3A\u7528 In \u6307\u5B9A\u76842\u5B57\u4E8C\u8FDB\u5236\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5728\u4E2D\u65AD\u6A21\u5757\u6216\u56FA\u5B9A\u5468\u671F\u6267\u884C\u6A21\u5757\u4E2D\u4F7F\u7528U_CntWriteCounter\u6307\u4EE4\u65F6\uFF0C\u8BF7\u89E3\u9664\u4E0E\u5199\u5165\u5F53\u524D\u503C\uFF08\u4F7F\u7528\u4E86\u4E3B\u626B\u63CF\u5185\u7684\u8BBE\u5B9A\u66F4\u65B0\u8BF7\u6C42\u7EE7\u7535\u5668\uFF09\u4E4B\u95F4\u7684\u8054\u9501\u3002 \u2022 U_CntWriteCounter\u6307\u4EE4\u4F1A\u5728\u5411\u5355\u5143\u5199\u5165\u7684\u540C\u65F6\uFF0C\u6539\u5199\u5206\u914D\u7ED9DM\u7684\u5F53\u524D\u503C\u66F4\u6539\u503C\u3002 U_CntWriteCTC0 \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C0 U_CntWriteCTC1 \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C1 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntWriteCTC0 \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C0 FUN \u00A0 U_CntWriteCTC0(Unit, Ch, In); U_CntWriteCTC1 \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C1 FUN \u00A0 U_CntWriteCTC1(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 In IN DINT 0 \u5199\u5165\u503C \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u8F83\u5668\u8BBE\u5B9A\u503C\uFF0C\u6539\u5199\u4E3A\u7528 In \u6307\u5B9A\u76842\u5B57\u4E8C\u8FDB\u5236\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5728\u4E2D\u65AD\u6A21\u5757\u6216\u56FA\u5B9A\u5468\u671F\u6267\u884C\u6A21\u5757\u4E2D\u4F7F\u7528U_CntWriteCTC0/1\u6307\u4EE4\u65F6\uFF0C\u8BF7\u89E3\u9664\u4E0E\u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\uFF08\u4F7F\u7528\u4E86\u4E3B\u626B\u63CF\u5185\u7684\u8BBE\u5B9A\u66F4\u65B0\u8BF7\u6C42\u7EE7\u7535\u5668\uFF09\u4E4B\u95F4\u7684\u8054\u9501\u3002 \u2022 U_CntWriteCTC0/1\u6307\u4EE4\u4F1A\u5728\u5411\u5355\u5143\u5199\u5165\u7684\u540C\u65F6\uFF0C\u6539\u5199\u5206\u914D\u7ED9DM\u7684\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u3002 U_CntWritePreset \u5199\u5165\u9884\u8BBE\u8BBE\u5B9A\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_CntWritePreset \u5199\u5165\u9884\u8BBE\u8BBE\u5B9A\u503C FUN \u00A0 U_CntWritePreset(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u901A\u9053\u7F16\u53F7\uFF080\uFF5E1\uFF09 In IN DINT 0 \u5199\u5165\u503C \u652F\u6301\u7684\u5355\u5143 KV-SSC02 \u52A8\u4F5C\u8BF4\u660E \u5C06\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u9884\u8BBE\u8BBE\u5B9A\u503C\uFF0C\u6539\u5199\u4E3A\u7528 In \u6307\u5B9A\u76842\u5B57\u4E8C\u8FDB\u5236\u503C\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u5728\u4E2D\u65AD\u6A21\u5757\u6216\u56FA\u5B9A\u5468\u671F\u6267\u884C\u6A21\u5757\u4E2D\u4F7F\u7528U_CntWritePreset\u6307\u4EE4\u65F6\uFF0C\u8BF7\u89E3\u9664\u4E0E\u5199\u5165\u9884\u8BBE\u503C\uFF08\u4F7F\u7528\u4E86\u4E3B\u626B\u63CF\u5185\u7684\u9884\u8BBE\u503C\u5199\u5165\u8BF7\u6C42\u7EE7\u7535\u5668\uFF09\u4E4B\u95F4\u7684\u8054\u9501\u3002 \u2022 U_CntWritePreset\u6307\u4EE4\u4F1A\u5728\u5411\u5355\u5143\u5199\u5165\u7684\u540C\u65F6\uFF0C\u6539\u5199\u5206\u914D\u7ED9DM\u7684\u9884\u8BBE\u8BBE\u5B9A\u503C\u3002 U_ADRead \u8BFB\u53D6A/D\u8F6C\u6362\u7279\u6B8A\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ADRead \u8BFB\u53D6A/D\u8F6C\u6362\u7279\u6B8A\u6570\u636E FUN \u00A0 U_ADRead(Unit, Ch, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 Dst OUT INT - \u5DF2\u8BFB\u53D6\u7684A/D\u8F6C\u6362(\u7279\u6B8A)\u6570\u636E\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-SAD04\u3001KV-AD40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u9053\u7F16\u53F7 Ch \u7684A/D\u8F6C\u6362\uFF08\u7279\u6B8A\uFF09\u6570\u636E\uFF08\u6267\u884C\u5B9A\u6807\u3001\u5E73\u5747\u7B49\u8FD0\u7B97\u5904\u7406\u540E\u7684\u7ED3\u679C\u503C\uFF09\uFF0C\u5C06\u5176\u4F5C\u4E3A\u4E8C\u8FDB\u5236\u503C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst \u7279\u6B8A\u6570\u636E #1\uFF0BCh\u00D76 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SAD04/KV-AD40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_ADReadBlock \u8BFB\u53D6\u5168\u90E8\u7C7B\u578B\u7684A/D\u8F6C\u6362\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ADReadBlock \u8BFB\u53D6\u5168\u90E8\u7C7B\u578B\u7684A/D\u8F6C\u6362\u6570\u636E FUN \u00A0 U_ADReadBlock(Unit, Ch, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 Dst IN-OUT - - \u5DF2\u8BFB\u53D6\u7684A/D\u8F6C\u6362\u76F8\u51735\u4E2A\u6570\u636E\u7684\u5B58\u50A8\u76EE\u6807\uFF085\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-SAD04\u3001KV-AD40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u901A\u9053\u7F16\u53F7 Ch \u7684A/D\u8F6C\u6362\u76F8\u51735\u4E2A\u6570\u636E\uFF08A/D\u8F6C\u6362\u6570\u636E\u3001\u7279\u6B8A\u6570\u636E\u3001\u6A21\u62DF\u6570\u636E\u3001\u5CF0\u503C\u3001\u8C37\u503C\uFF09\uFF0C\u4EE5 Dst \u4E3A\u5F00\u5934\u5B58\u50A85\u5B57\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 Dst\uFF0B0\u5B57 A/D\u8F6C\u6362\u6570\u636E #0\uFF0BCh\u00D76 Dst\uFF0B1\u5B57 \u7279\u6B8A\u6570\u636E #1\uFF0BCh\u00D76 Dst\uFF0B2\u5B57 \u6A21\u62DF\u6570\u636E #2\uFF0BCh\u00D76 Dst\uFF0B3\u5B57 \u5CF0\u503C #3\uFF0BCh\u00D76 Dst\uFF0B4\u5B57 \u8C37\u503C #4\uFF0BCh\u00D76 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SAD04/KV-AD40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u2022 Dst \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB35\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_ADWriteOffset \u66F4\u6539\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ADWriteOffset \u66F4\u6539\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C FUN \u00A0 U_ADWriteOffset(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN INT 0 \u66F4\u6539\u7684\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C \u652F\u6301\u7684\u5355\u5143 KV-SAD04\u3001KV-AD40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C\u66F4\u6539\u4E3A\u5B58\u50A8\u4E8E In \u4E2D\u7684\u503C\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C #24\uFF0BCh\u00D72 (KV-SAD04/AD40V) #25\uFF0BCh\u00D72 (KV-AM40V) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SAD04/KV-AD40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u6267\u884CU_ADWriteOffset\u6307\u4EE4\u65F6\uFF0C\u8FD8\u4F1A\u5411\u5206\u914D\u7ED9\u7279\u6B8A\u6570\u636E\u504F\u79FB\u503C\u7684DM\u5B58\u50A8\u7528 In \u6307\u5B9A\u7684\u503C\u3002 U_ADWriteAverage \u5199\u5165\u5E73\u5747\u5E38\u6570 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ADWriteAverage \u5199\u5165\u5E73\u5747\u5E38\u6570 FUN \u00A0 U_ADWriteAverage(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN INT 0 \u66F4\u6539\u7684\u5E73\u5747\u5E38\u6570 \u652F\u6301\u7684\u5355\u5143 KV-SAD04\u3001KV-AD40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\u4F5C\u4E3A\u5E73\u5747\u5E38\u6570\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5E73\u5747\u5E38\u6570 #38\uFF0BCh\u00D72 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SAD04/KV-AD40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4EC5\u6267\u884CU_ADWriteAverage\u6307\u4EE4\uFF0C\u4E0D\u4F1A\u66F4\u6539\u5E73\u5747\u5E38\u6570\u8BBE\u5B9A\u503C\u3002\u9700\u8981\u4F7F\u7528\u66F4\u65B0\u8BBE\u5B9A\u7684\u7A0B\u5E8F\u3002 \u2022 \u6267\u884CU_ADWriteAverage\u6307\u4EE4\u65F6\uFF0C\u4F1A\u540C\u65F6\u5728\u5206\u914D\u7ED9\u5E73\u5747\u5E38\u6570\u7684DM\u4E2D\uFF0C\u5B58\u50A8\u4E0E\u5199\u5165\u7F13\u51B2\u5B58\u50A8\u5668\u76F8\u540C\u7684\u503C\u3002 \u2022 \u5982\u679C\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u5C06\u5E73\u5747\u5E38\u6570\u6307\u5B9A\u4E3A\u201C\u5355\u5143\u7F16\u8F91\u5668\u6307\u5B9A\u201D\uFF0C\u5219\u4F1A\u5728\u5207\u6362PROGRAM\u6A21\u5F0F\u2192RUN\u6A21\u5F0F\u65F6\uFF0C\u5C06\u5E73\u5747\u5E38\u6570\u521D\u59CB\u5316\u4E3A\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u6307\u5B9A\u7684\u503C\u3002 U_ADWriteScaling \u5199\u5165\u5B9A\u6807\u8BBE\u5B9A\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ADWriteScaling \u5199\u5165\u5B9A\u6807\u8BBE\u5B9A\u503C FUN \u00A0 U_ADWriteScaling(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN - - \u5B58\u50A8\u4E86\u66F4\u6539\u7684\u7F29\u653E\u8BBE\u5B9A\u503C\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF082\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-SAD04\u3001KV-AD40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE In \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76842\u5B57\u6570\u636E\u4F5C\u4E3A\u7F29\u653E\u8BBE\u5B9A\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In\uFF0B0\u5B57 \u5B9A\u6807\u4E0A\u9650\u503C #32\uFF0BCh\u00D78 In\uFF0B1\u5B57 \u5B9A\u6807\u4E0B\u9650\u503C #33\uFF0BCh\u00D78 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SAD04/KV-AD40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u2022 In \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB32\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4EC5\u6267\u884CU_ADWriteScaling\u6307\u4EE4\uFF0C\u4E0D\u4F1A\u66F4\u6539\u7F29\u653E\u8BBE\u5B9A\u503C\u3002\u9700\u8981\u4F7F\u7528\u66F4\u65B0\u8BBE\u5B9A\u7684\u7A0B\u5E8F\u3002 \u2022 \u6267\u884CU_ADWriteScaling\u6307\u4EE4\u65F6\uFF0C\u4F1A\u540C\u65F6\u5728\u5206\u914D\u7ED9\u7F29\u653E\u8BBE\u5B9A\u503C\u7684DM\u4E2D\uFF0C\u5B58\u50A8\u4E0E\u5199\u5165\u7F13\u51B2\u5B58\u50A8\u5668\u76F8\u540C\u7684\u503C\u3002 \u2022 \u5982\u679C\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u5C06\u7F29\u653E\u503C\u6307\u5B9A\u4E3A\u201C\u5355\u5143\u7F16\u8F91\u5668\u6307\u5B9A\u201D\uFF0C\u5219\u4F1A\u5728\u5207\u6362PROGRAM\u6A21\u5F0F\u2192RUN\u6A21\u5F0F\u65F6\uFF0C\u5C06\u7F29\u653E\u8BBE\u5B9A\u503C\u521D\u59CB\u5316\u4E3A\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u6307\u5B9A\u7684\u503C\u3002 U_ADWriteCmpLimit \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_ADWriteCmpLimit \u5199\u5165\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C FUN \u00A0 U_ADWriteCmpLimit(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN - - \u5B58\u50A8\u4E86\u66F4\u6539\u7684\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF084\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-SAD04\u3001KV-AD40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE In \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76844\u5B57\u6570\u636E\u4F5C\u4E3A\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In\uFF0B0\u5B57 \u6BD4\u8F83\u5668\u4E0A\u9650\u503CON\u7535\u5E73 #34\uFF0BCh\u00D78 In\uFF0B1\u5B57 \u6BD4\u8F83\u5668\u4E0A\u9650\u503COFF\u7535\u5E73 #35\uFF0BCh\u00D78 In\uFF0B2\u5B57 \u6BD4\u8F83\u5668\u4E0B\u9650\u503COFF\u7535\u5E73 #36\uFF0BCh\u00D78 In\uFF0B3\u5B57 \u6BD4\u8F83\u5668\u4E0B\u9650\u503CON\u7535\u5E73 #37\uFF0BCh\u00D78 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SAD04/KV-AD40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u2022 In \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB34\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4EC5\u6267\u884CU_ADWriteCmpLimit\u6307\u4EE4\uFF0C\u4E0D\u4F1A\u66F4\u6539\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u3002\u9700\u8981\u4F7F\u7528\u66F4\u65B0\u8BBE\u5B9A\u7684\u7A0B\u5E8F\u3002 \u2022 \u6267\u884CU_ADWriteCmpLimit\u6307\u4EE4\u65F6\uFF0C\u4F1A\u540C\u65F6\u5728\u5206\u914D\u7ED9\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u7684DM\u4E2D\uFF0C\u5B58\u50A8\u4E0E\u5199\u5165\u7F13\u51B2\u5B58\u50A8\u5668\u76F8\u540C\u7684\u503C\u3002 \u2022 \u5982\u679C\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u5C06\u6BD4\u8F83\u5668\u503C\u6307\u5B9A\u4E3A\u201C\u5355\u5143\u7F16\u8F91\u5668\u6307\u5B9A\u201D\uFF0C\u5219\u4F1A\u5728\u5207\u6362PROGRAM\u6A21\u5F0F\u2192RUN\u6A21\u5F0F\u65F6\uFF0C\u5C06\u6BD4\u8F83\u5668\u8BBE\u5B9A\u503C\u521D\u59CB\u5316\u4E3A\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u6307\u5B9A\u7684\u503C\u3002 U_DAWrite \u66F4\u6539D/A\u8F6C\u6362\u8F93\u51FA\u6570\u636E \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_DAWrite \u66F4\u6539D/A\u8F6C\u6362\u8F93\u51FA\u6570\u636E FUN \u00A0 U_DAWrite(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN INT 0 \u66F4\u6539\u7684\u8F93\u51FA\u6570\u636E \u652F\u6301\u7684\u5355\u5143 KV-SDA04\u3001KV-DA40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684D/A\u8F6C\u6362\u8F93\u51FA\u6570\u636E\uFF0C\u66F4\u6539\u4E3A In \u6307\u5B9A\u7684\u503C\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u8F93\u51FA\u6570\u636E #24\uFF0BCh\u00D72 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SDA04/KV-DA40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_DAWriteOffset \u66F4\u6539\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_DAWriteOffset \u66F4\u6539\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C FUN \u00A0 U_DAWriteOffset(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN INT 0 \u66F4\u6539\u7684\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C \u652F\u6301\u7684\u5355\u5143 KV-SDA04\u3001KV-DA40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C\u66F4\u6539\u4E3A\u5B58\u50A8\u4E8E In \u4E2D\u7684\u503C\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C #25\uFF0BCh\u00D72 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SDA04/KV-DA40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u6267\u884CU_DAWriteOffset\u6307\u4EE4\u65F6\uFF0C\u8FD8\u4F1A\u5411\u5206\u914D\u7ED9\u8F93\u51FA\u6570\u636E\u504F\u79FB\u503C\u7684DM\u5B58\u50A8\u7528 In \u6307\u5B9A\u7684\u503C\u3002 U_DAWriteScaling \u5199\u5165\u5B9A\u6807\u8BBE\u5B9A\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_DAWriteScaling \u5199\u5165\u5B9A\u6807\u8BBE\u5B9A\u503C FUN \u00A0 U_DAWriteScaling(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN - - \u5B58\u50A8\u4E86\u66F4\u6539\u7684\u7F29\u653E\u8BBE\u5B9A\u503C\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF082\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-SDA04\u3001KV-DA40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE In \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76842\u5B57\u6570\u636E\u4F5C\u4E3A\u7F29\u653E\u8BBE\u5B9A\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In\uFF0B0\u5B57 \u5B9A\u6807\u4E0A\u9650\u503C #32\uFF0BCh\u00D78 In\u002B1\u5B57 \u5B9A\u6807\u4E0B\u9650\u503C #33\uFF0BCh\u00D78 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SDA04/KV-DA40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u2022 In \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB32\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4EC5\u6267\u884CU_DAWriteScaling\u6307\u4EE4\uFF0C\u4E0D\u4F1A\u66F4\u6539\u7F29\u653E\u8BBE\u5B9A\u503C\u3002\u9700\u8981\u4F7F\u7528\u66F4\u65B0\u8BBE\u5B9A\u7684\u7A0B\u5E8F\u3002 \u2022 \u6267\u884CU_DAWriteScaling\u6307\u4EE4\u65F6\uFF0C\u4F1A\u540C\u65F6\u5728\u5206\u914D\u7ED9\u7F29\u653E\u8BBE\u5B9A\u503C\u7684DM\u4E2D\uFF0C\u5B58\u50A8\u4E0E\u5199\u5165\u7F13\u51B2\u5B58\u50A8\u5668\u76F8\u540C\u7684\u503C\u3002 \u2022 \u5982\u679C\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u5C06\u7F29\u653E\u503C\u6307\u5B9A\u4E3A\u201C\u5355\u5143\u7F16\u8F91\u5668\u6307\u5B9A\u201D\uFF0C\u5219\u4F1A\u5728\u5207\u6362PROGRAM\u6A21\u5F0F\u2192RUN\u6A21\u5F0F\u65F6\uFF0C\u5C06\u7F29\u653E\u8BBE\u5B9A\u503C\u521D\u59CB\u5316\u4E3A\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u6307\u5B9A\u7684\u503C\u3002 U_DAWriteUpperLowerLimit \u5199\u5165\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_DAWriteUpperLowerLimit \u5199\u5165\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C FUN \u00A0 U_DAWriteUpperLowerLimit(Unit, Ch, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Ch IN UINT 0 \u6A21\u62DF\u8F93\u5165\u901A\u9053 In IN - - \u5B58\u50A8\u4E86\u66F4\u6539\u7684\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\u7684\u5BF9\u8C61\u6570\u636E\u8D77\u59CB\uFF082\u5B57\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-SDA04\u3001KV-DA40V\u3001KV-AM40V \u52A8\u4F5C\u8BF4\u660E \u5C06\u4ECE In \u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u76842\u5B57\u6570\u636E\u4F5C\u4E3A\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u901A\u9053\u7F16\u53F7 Ch \u7684\u7F13\u51B2\u5B58\u50A8\u5668\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In\uFF0B0\u5B57 \u4E0A\u9650\u8B66\u62A5\u503C #34\uFF0BCh\u00D78 In\uFF0B1\u5B57 \u4E0B\u9650\u8B66\u62A5\u503C #35\uFF0BCh\u00D78 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD43\u5927\u7684\u503C\uFF08KV-SDA04/KV-DA40V\uFF09 \u2022 \u5BF9 Ch \u6307\u5B9A\u4E86\u6BD41\u5927\u7684\u503C\uFF08KV-AM40V\uFF09 \u2022 In \u7684\u5269\u4F59\u5B57\u6570\u4E0D\u8DB32\u5B57 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u00A0 \u2022 \u4EC5\u6267\u884CU_DAWriteUpperLowerLimit\u6307\u4EE4\uFF0C\u4E0D\u4F1A\u66F4\u6539\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\u3002\u9700\u8981\u4F7F\u7528\u66F4\u65B0\u8BBE\u5B9A\u7684\u7A0B\u5E8F\u3002 \u2022 \u6267\u884CU_DAWriteUpperLowerLimit\u6307\u4EE4\u65F6\uFF0C\u4F1A\u540C\u65F6\u5728\u5206\u914D\u7ED9\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\u7684DM\u4E2D\uFF0C\u5B58\u50A8\u4E0E\u5199\u5165\u7F13\u51B2\u5B58\u50A8\u5668\u76F8\u540C\u7684\u503C\u3002 \u2022 \u5982\u679C\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u5C06\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\u6307\u5B9A\u4E3A\u201C\u5355\u5143\u7F16\u8F91\u5668\u6307\u5B9A\u201D\uFF0C\u5219\u4F1A\u5728\u5207\u6362PROGRAM\u6A21\u5F0F\u2192RUN\u6A21\u5F0F\u65F6\uFF0C\u5C06\u4E0A\u4E0B\u9650\u62A5\u8B66\u503C\u521D\u59CB\u5316\u4E3A\u5728\u5355\u5143\u7F16\u8F91\u5668\u4E2D\u6307\u5B9A\u7684\u503C\u3002 U_PosWritePointNo \u5199\u5165\u5B9A\u4F4D\u5F00\u59CB\u70B9\u7F16\u53F7 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWritePointNo \u5199\u5165\u5B9A\u4F4D\u5F00\u59CB\u70B9\u7F16\u53F7 FUN \u00A0 U_PosWritePointNo(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN UINT 0 \u5199\u5165\u7684\u70B9\u7F16\u53F7 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4D\u5F00\u59CB\u70B9\u7F16\u53F7\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4D\u5F00\u59CB\u70B9\u7F16\u53F7 #2100\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10100\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #600\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosReadCurrentPointNo \u8BFB\u53D6\u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7 U_PosReadMCode \u8BFB\u53D6\u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosReadCurrentPointNo \u8BFB\u53D6\u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7 FUN \u00A0 U_PosReadCurrentPointNo(Unit, Axis, Dst); U_PosReadMCode \u8BFB\u53D6\u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7 FUN \u00A0 U_PosReadMCode(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 Dst OUT UINT - \u5DF2\u8BFB\u53D6\u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7\uFF0F\u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u258C U_PosReadCurrentPointNo \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4D\u5F53\u524D\u70B9\u7F16\u53F7 #112\uFF0B(Axis-1)\u00D7100 \u258C U_PosReadMCode \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4DM\u4EE3\u7801\u7F16\u53F7 #113\uFF0B(Axis-1)\u00D7100 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosReadActPos \u8BFB\u53D6\u5F53\u524D\u5750\u6807 U_PosReadActVel \u8BFB\u53D6\u5F53\u524D\u901F\u5EA6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosReadActPos \u8BFB\u53D6\u5F53\u524D\u5750\u6807 FUN \u00A0 U_PosReadActPos(Unit, Axis, Dst); U_PosReadActVel \u8BFB\u53D6\u5F53\u524D\u901F\u5EA6 FUN \u00A0 U_PosReadActVel(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u5F53\u524D\u5750\u6807/\u5F53\u524D\u901F\u5EA6\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u258C U_PosReadActPos \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u5F53\u524D\u5750\u6807\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5F53\u524D\u5750\u6807 #122\uFF0B(Axis-1)\u00D7100 \uFF5E #123\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH64EC/XH32EC/XH16EC) #104\uFF0B(Axis-1)\u00D7100 \uFF5E #105\uFF0B(Axis-1)\u00D7100 (KV-SH04PL) \u258C U_PosReadActVel \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u5F53\u524D\u901F\u5EA6\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5F53\u524D\u901F\u5EA6 #124\uFF0B(Axis-1)\u00D7100 \uFF5E #125\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH64EC/XH32EC/XH16EC) #106\uFF0B(Axis-1)\u00D7100 \uFF5E #107\uFF0B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosReadFeedbackTrq \u8BFB\u53D6\u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u5668 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosReadFeedbackTrq \u8BFB\u53D6\u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u5668 FUN \u00A0 U_PosReadFeedbackTrq(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u5668\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u53CD\u9988\u8F6C\u77E9\u76D1\u63A7\u5668 #146\uFF0B(Axis-1)\u00D7100\uFF5E#147\uFF0B(Axis-1)\u00D7100 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosReadCmdPos \u8BFB\u53D6\u6307\u4EE4\u5750\u6807 U_PosReadCmdVel \u8BFB\u53D6\u6307\u4EE4\u901F\u5EA6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosReadCmdPos \u8BFB\u53D6\u6307\u4EE4\u5750\u6807 FUN \u00A0 U_PosReadCmdPos(Unit, Axis, Dst); U_PosReadCmdVel \u8BFB\u53D6\u6307\u4EE4\u901F\u5EA6 FUN \u00A0 U_PosReadCmdVel(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 Dst OUT DINT - \u5DF2\u8BFB\u53D6\u7684\u6307\u4EE4\u5750\u6807\uFF0F\u6307\u4EE4\u901F\u5EA6\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC \u52A8\u4F5C\u8BF4\u660E \u258C U_PosReadCmdPos \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u6307\u4EE4\u5750\u6807\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u6307\u4EE4\u5750\u6807 #104\uFF0B(Axis-1)\u00D7100\uFF5E#105\uFF0B(Axis-1)\u00D7100 \u258C U_PosReadCmdVel \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u6307\u4EE4\u901F\u5EA6\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u6307\u4EE4\u901F\u5EA6 #106\uFF0B(Axis-1)\u00D7100\uFF5E#107\uFF0B(Axis-1)\u00D7100 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteChgPos \u5199\u5165\u5F53\u524D\u5750\u6807\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteChgPos \u5199\u5165\u5F53\u524D\u5750\u6807\u66F4\u6539 FUN \u00A0 U_PosWriteChgPos(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN DINT 0 \u5199\u5165\u7684\u5F53\u524D\u5750\u6807\u53D8\u66F4\u503C \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u66F4\u6539\u5F53\u524D\u5750\u6807\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u66F4\u6539\u5F53\u524D\u5750\u6807 #2102\uFF0B(Axis-1)\u00D7100\uFF5E#2103\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10102\uFF0B(Axis-1)\u00D7100\uFF5E#10103\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #602\u002B(Axis-1)\u00D7100\uFF5E#602\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteChgTargetPos \u5199\u5165\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539(\u5750\u6807) U_PosWriteChgTargetVel \u5199\u5165\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539(\u901F\u5EA6) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteChgTargetPos \u5199\u5165\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539(\u5750\u6807) FUN \u00A0 U_PosWriteChgTargetPos(Unit, Axis, In); U_PosWriteChgTargetVel \u5199\u5165\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539(\u901F\u5EA6) FUN \u00A0 U_PosWriteChgTargetVel(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN DINT 0 \u5199\u5165\u7684\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u5750\u6807\uFF09\uFF0F\uFF08\u901F\u5EA6\uFF09 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u258C U_PosWriteChgTargetPos \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u5750\u6807\uFF09\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u5750\u6807\uFF09 #2104\uFF0B(Axis-1)\u00D7100\uFF5E#2105\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10104\uFF0B(Axis-1)\u00D7100\uFF5E#10105\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #604\u002B(Axis-1)\u00D7100\uFF5E#605\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u258C U_PosWriteChgTargetVel \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u901F\u5EA6\uFF09\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u901F\u5EA6\uFF09 #2106\uFF0B(Axis-1)\u00D7100\uFF5E#2107\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10106\uFF0B(Axis-1)\u00D7100\uFF5E#10107\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #606\u002B(Axis-1)\u00D7100\uFF5E#607\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteChgVel \u5199\u5165\u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteChgVel \u5199\u5165\u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 FUN \u00A0 U_PosWriteChgVel(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN DINT 0 \u5199\u5165\u7684\u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 #2108\uFF0B(Axis-1)\u00D7100\uFF5E#2109\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10108\uFF0B(Axis-1)\u00D7100\uFF5E#10109\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #608\u002B(Axis-1)\u00D7100\uFF5E#609\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteOverride \u5199\u5165\u5B9A\u4F4D\u901F\u5EA6\u500D\u7387 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteOverride \u5199\u5165\u5B9A\u4F4D\u901F\u5EA6\u500D\u7387 FUN \u00A0 U_PosWriteOverride(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN UINT 0 \u5199\u5165\u7684\u5B9A\u4F4D\u901F\u5EA6\u500D\u7387 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u5B9A\u4F4D\u901F\u5EA6\u500D\u7387\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5B9A\u4F4D\u901F\u5EA6\u500D\u7387 #2110\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10110\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #610\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosReadCtrlMode \u8BFB\u53D6\u5F53\u524D\u63A7\u5236\u6A21\u5F0F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosReadCtrlMode \u8BFB\u53D6\u5F53\u524D\u63A7\u5236\u6A21\u5F0F FUN \u00A0 U_PosReadCtrlMode(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 Dst OUT UINT - \u5DF2\u8BFB\u53D6\u7684\u5F53\u524D\u63A7\u5236\u6A21\u5F0F\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u5F53\u524D\u63A7\u5236\u6A21\u5F0F\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u5F53\u524D\u63A7\u5236\u6A21\u5F0F #119\uFF0B(Axis-1)\u00D7100 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteCtrlMode \u5199\u5165\u63A7\u5236\u6A21\u5F0F\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteCtrlMode \u5199\u5165\u63A7\u5236\u6A21\u5F0F\u66F4\u6539 FUN \u00A0 U_PosWriteCtrlMode(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN UINT 0 \u5199\u5165\u7684\u63A7\u5236\u6A21\u5F0F\u53D8\u66F4\u503C \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u66F4\u6539\u63A7\u5236\u6A21\u5F0F #2101\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10101\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteVelCtrlCmdVel \u5199\u5165\u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4 U_PosWriteVelCtrlTrqLimit \u5199\u5165\u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteVelCtrlCmdVel \u5199\u5165\u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4 FUN \u00A0 U_PosWriteVelCtrlCmdVel(Unit, Axis, In); U_PosWriteVelCtrlTrqLimit \u5199\u5165\u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236 FUN \u00A0 U_PosWriteVelCtrlTrqLimit(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN DINT 0 \u5199\u5165\u7684\u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4\u503C\uFF0F\u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236\u503C \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC \u52A8\u4F5C\u8BF4\u660E \u258C U_PosWriteVelCtrlCmdVel \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4\u503C\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u901F\u5EA6\u63A7\u5236\u901F\u5EA6\u6307\u4EE4\u503C #2118\uFF0B(Axis-1)\u00D7100\uFF5E#2119\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10118\uFF0B(Axis-1)\u00D7100\uFF5E#10119\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) \u258C U_PosWriteVelCtrlTrqLimit \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236\u503C\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u901F\u5EA6\u63A7\u5236\u8F6C\u77E9\u9650\u5236\u503C #2120\uFF0B(Axis-1)\u00D7100\uFF5E#2121\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10120\uFF0B(Axis-1)\u00D7100\uFF5E#10121\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteTrqCtrlCmdTrq \u5199\u5165\u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4 U_PosWriteTrqCtrlVelLimit \u5199\u5165\u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteTrqCtrlCmdTrq \u5199\u5165\u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4 FUN \u00A0 U_PosWriteTrqCtrlCmdTrq(Unit, Axis, In); U_PosWriteTrqCtrlVelLimit \u5199\u5165\u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236 FUN \u00A0 U_PosWriteTrqCtrlVelLimit(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN DINT 0 \u5199\u5165\u7684\u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4\u503C\uFF0F\u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236\u503C \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC \u52A8\u4F5C\u8BF4\u660E \u258C U_PosWriteTrqCtrlCmdTrq \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4\u503C\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u8F6C\u77E9\u63A7\u5236\u8F6C\u77E9\u6307\u4EE4 #2124\uFF0B(Axis-1)\u00D7100\uFF5E#2125\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10124\uFF0B(Axis-1)\u00D7100\uFF5E#10125\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) \u258C U_PosWriteTrqCtrlVelLimit \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236\u503C\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u8F6C\u77E9\u63A7\u5236\u901F\u5EA6\u9650\u5236 #2126\uFF0B(Axis-1)\u00D7100\uFF5E#2127\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10126\uFF0B(Axis-1)\u00D7100\uFF5E#10127\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosReadAxisErrCode \u8BFB\u53D6\u8F74\u9519\u8BEF\u4EE3\u7801 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosReadAxisErrCode \u8BFB\u53D6\u8F74\u9519\u8BEF\u4EE3\u7801 FUN \u00A0 U_PosReadAxisErrCode(Unit, Axis, Dst); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 Dst OUT UINT - \u5DF2\u8BFB\u53D6\u7684\u8F74\u9519\u8BEF\u4EE3\u7801\u7684\u5B58\u50A8\u76EE\u6807 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7B2C Unit \u4E2A\u5355\u5143\u8BFB\u53D6\u8F74\u7F16\u53F7 Axis \u7684\u8F74\u9519\u8BEF\u4EE3\u7801\uFF0C\u5B58\u50A8\u5230 Dst \u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u8F74\u9519\u8BEF\u4EE3\u7801 #100\uFF0B(Axis-1)\u00D7100 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF U_PosWriteSelectSpecialFunc \u5199\u5165\u7279\u6B8A\u529F\u80FD\u9009\u62E9 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 U_PosWriteSelectSpecialFunc \u5199\u5165\u7279\u6B8A\u529F\u80FD\u9009\u62E9 FUN \u00A0 U_PosWriteSelectSpecialFunc(Unit, Axis, In); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7 Axis IN UINT 0 \u8F74\u7F16\u53F7 In IN UINT 0 \u5199\u5165\u7684\u7279\u6B8A\u529F\u80FD\u7F16\u53F7 \u652F\u6301\u7684\u5355\u5143 KV-XH16ML/XH04ML\u3001KV-XH64EC/XH32EC/XH16EC\u3001KV-SH04PL \u52A8\u4F5C\u8BF4\u660E \u5C06\u7528 In \u6307\u5B9A\u7684\u503C\uFF0C\u5199\u5165\u7B2C Unit \u4E2A\u5355\u5143\u7684\u8F74\u7F16\u53F7 Axis \u7684\u7279\u6B8A\u529F\u80FD\u9009\u62E9\u7F16\u53F7\u4E2D\u3002 \u81EA\u53D8\u91CF \u5185\u5BB9 \u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 In \u7279\u6B8A\u529F\u80FD\u9009\u62E9 #2111\uFF0B(Axis-1)\u00D7100 (KV-XH16ML/XH04ML/XH16EC) #10111\uFF0B(Axis-1)\u00D7100 (KV-XH64EC/XH32EC) #611\u002B(Axis-1)\u00D7100 (KV-SH04PL) \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u4E0D\u5B58\u5728 \u2022 \u7528 Unit \u6307\u5B9A\u7684\u5355\u5143\u662F\u4E0D\u652F\u6301\u7684\u5355\u5143 \u2022 \u6307\u5B9A\u4E86 Axis \u4E2D\u6CA1\u6709\u7684\u8F74\u7F16\u53F7 \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF"},{"link":"./03_31_FBFUN_UnitTypeDetamination.html","title":"\u5355\u5143\u7C7B\u578B\u5224\u5B9A","body":"\u5355\u5143\u7C7B\u578B\u5224\u5B9A FUN/FB \u540D\u79F0 \u6982\u8FF0 IS_*** \u5355\u5143\u7C7B\u578B\u5224\u5B9A \u786E\u8BA4\u5355\u5143\u7C7B\u578B\u3002 IS_*** \u5355\u5143\u7C7B\u578B\u5224\u5B9A \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 IS_*** \u5355\u5143\u7C7B\u578B\u5224\u5B9A FUN \u00A0 Result := IS_***(Unit); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA EN IN BOOL - \u4F7F\u80FD\u8F93\u5165 ENO OUT BOOL - \u4F7F\u80FD\u8F93\u51FA Unit IN UINT 0 \u5355\u5143\u7F16\u53F7(0\uFF5E48) Result RETURN BOOL - \u7ED3\u679C\u901A\u77E5 \u52A8\u4F5C\u8BF4\u660E \u786E\u8BA4\u7B2C Unit \u4E2A\u5355\u5143\u7684\u5355\u5143\u7C7B\u578B\u3002 \u5728\u201C***\u201D\u4E2D\u8BB0\u8FF0\u5355\u5143\u540D\u79F0\u3002 \u4F8B\uFF1A\u5224\u5B9A\u662F\u5426\u662FKV-XLE02\u65F6\uFF0C\u8BB0\u8FF0\u4E3A\u201CIS_XLE02\u201D \u4E0E\u6307\u4EE4\u652F\u6301\u7684\u5355\u5143\u7C7B\u578B\u4E00\u81F4\u65F6\uFF0C\u5728 Result \u4E2D\u5B58\u50A8TRUE\uFF1B\u4E0D\u4E00\u81F4\u6216\u672A\u8FDE\u63A5\u65F6\uFF0C\u5728 Result \u4E2D\u5B58\u50A8FALSE\u3002 \u6267\u884C\u65F6\u7684\u9519\u8BEF\u6761\u4EF6 \u2022 \u5BF9 Unit \u6307\u5B9A\u4E86\u6BD448\u5927\u7684\u503C \u00A0 \u4E0A\u8FF0\u4EE5\u5916\u6761\u4EF6\u4EE5\u53CA\u53D1\u751F\u9519\u8BEF\u65F6\u7684\u52A8\u4F5C\uFF0C\u8BF7\u53C2\u9605\u4E0B\u8FF0\u8BF4\u660E\u3002 \u8FD0\u7B97\u9519\u8BEF \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u7A0B\u5E8F\u8D44\u4EA7\u5316"},{"link":"./03_32_FBFUN_Motion.html","title":"\u8FD0\u52A8","body":"\u8FD0\u52A8 \u672C\u90E8\u5206\u8BF4\u660E\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u4E2D\u4F7F\u7528\u7684\u6307\u4EE4\u7684\u901A\u7528\u89C4\u683C\u4EE5\u53CA\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u3002 \u2022 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u5217\u8868 \u2022 \u901A\u7528\u81EA\u53D8\u91CF \u2022 \u7F13\u51B2 \u2022 TransitionMode \u2022 \u5207\u6362\u63A7\u5236\u6A21\u5F0F \u2022 \u540C\u65F6\u6267\u884C\u591A\u4E2A\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 \u2022 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684\u6CE8\u610F\u4E8B\u9879 \u00A0 KV-X500\u4E0D\u80FD\u4F7F\u7528\u8FD0\u52A8\u63A7\u5236\u547D\u4EE4\u3002 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u5217\u8868 \u4E0B\u9762\u662FKV-X500/X300\u7684\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u4E2D\u4F7F\u7528\u7684\u6307\u4EE4\u7684\u5217\u8868\u3002\u6307\u4EE4\u5206\u4E3A2\u79CD\uFF0C\u4E00\u79CD\u662FPLCopen \u00AE \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5757\uFF0C\u53E6\u4E00\u79CD\u662F\u57FA\u6069\u58EB\u72EC\u6709\u7684\u529F\u80FD\u5757\u3002 \u00A0 \u4EC0\u4E48\u662FPLCopen PLCopen\u662F\u603B\u90E8\u4F4D\u4E8E\u6B27\u6D32\u7684IEC61131-3\uFF08PLC\u7F16\u7A0B\u8BED\u8A00\u7684\u56FD\u9645\u6807\u51C6\uFF09\u7684\u63A8\u5E7F\u56E2\u4F53\uFF0C\u662F\u5728\u5168\u4E16\u754C\u62E5\u6709\u652F\u90E8\u7684\u4F1A\u5458\u7EC4\u7EC7\u3002 FUN/FB \u540D\u79F0 \u6982\u8FF0 PLCopen MC_OperationEnable \u52A8\u4F5C\u4F7F\u80FD \u4F7F\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5904\u4E8E\u53EF\u8FD0\u884C\u72B6\u6001\u3002 - MC_ImmediateStopAll \u7ACB\u5373\u505C\u6B62\u6240\u6709\u8F74 \u7ACB\u5373\u5F3A\u5236\u505C\u6B62\u6240\u6709\u8F74\u3002 - MC_SaveParameter \u53C2\u6570\u4FDD\u5B58 \u5C06\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u53C2\u6570\u4FDD\u5B58\u5230\u95EA\u5B58ROM\u4E2D\u3002 - MC_UpdateSyncContactParameter \u540C\u6B65\u63A5\u70B9\u8F93\u51FA\u53C2\u6570\u66F4\u6539 \u5C06\u540C\u6B65\u63A5\u70B9\u8F93\u51FA\u53C2\u6570\u7684\u66F4\u6539\u5E94\u7528\u5230\u52A8\u4F5C\u4E2D\u3002 - MC_SetSyncExternalReference \u8BBE\u5B9A\u540C\u6B65\u63A7\u5236\u5916\u90E8\u53C2\u7167\u6307\u4EE4\u503C \u8BBE\u5B9A\u540C\u6B65\u63A7\u5236\u5916\u90E8\u53C2\u7167\u6307\u4EE4\u503C\u3002 - MC_RefreshMotionVariable \u66F4\u65B0\u8FD0\u52A8\u7CFB\u7EDF\u53D8\u91CF \u5C06\u4ECE\u0022_MC_\u0022\u5F00\u59CB\u7684\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u76F8\u5173\u7CFB\u7EDF\u53D8\u91CF\u7684\u503C\u66F4\u65B0\u4E3A\u6700\u65B0\u503C\u3002 - MC_CamRead \u51F8\u8F6E\u6570\u636E\u8BFB\u53D6 \u8BFB\u53D6\u51F8\u8F6E\u6570\u636E\u3002 - MC_CamWrite \u51F8\u8F6E\u6570\u636E\u5199\u5165 \u5199\u5165\u51F8\u8F6E\u6570\u636E\u3002 - MC_CamGenerate \u51F8\u8F6E\u6570\u636E\u81EA\u52A8\u751F\u6210 \u6839\u636E\u533A\u95F4\u8BBE\u5B9A\u7684\u4FE1\u606F\u751F\u6210\u51F8\u8F6E\u6570\u636E\u4E32\u3002 - MC_ClearMaxCycleTime \u6E05\u9664\u5904\u7406\u65F6\u95F4\u6700\u5927\u503C \u6E05\u9664\u8FD0\u52A8\u63A7\u5236\u529F\u80FD/EtherCAT\u5904\u7406\u65F6\u95F4\u7684\u6700\u5927\u503C - MC_Power \u4F3A\u670DON \u53D1\u51FA\u4F3A\u670DON\u8BF7\u6C42\u3002 \u25CB MC_Reset \u6E05\u9664\u8F74\u9519\u8BEF/\u9A71\u52A8\u5668\u62A5\u8B66 \u6E05\u9664\u8F74\u9519\u8BEF/\u9A71\u52A8\u5668\u62A5\u8B66\u3002 \u25CB MC_Home \u539F\u70B9\u590D\u5F52 \u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 \u25CB MC_Stop \u51CF\u901F\u505C\u6B62 \u6267\u884C\u51CF\u901F\u505C\u6B62\u3002 \u25CB MC_ImmediateStop \u7ACB\u5373\u505C\u6B62 \u7ACB\u5373\u505C\u6B62\u5904\u7406\u3002 - MC_Jog JOG \u6267\u884CJOG\u8FD0\u8F6C\u3002 \u25CB MC_SetPosition \u66F4\u6539\u5F53\u524D\u5750\u6807 \u66F4\u6539\u5F53\u524D\u5750\u6807\u3002 \u25CB MC_SetOverride \u91CD\u5199 \u6309\u6307\u5B9A\u7684\u6BD4\u4F8B\u66F4\u6539\u6307\u4EE4\u901F\u5EA6\u3002 \u25CB MC_MoveAbsolute \u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u6267\u884C\u5B9A\u4F4D\u63A7\u5236\uFF0C\u79FB\u81F3\u6307\u5B9A\u7684\u7EDD\u5BF9\u5750\u6807\u3002 \u25CB MC_MoveRelative \u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u6267\u884C\u5B9A\u4F4D\u63A7\u5236\uFF0C\u79FB\u81F3\u6307\u5B9A\u7684\u76F8\u5BF9\u5750\u6807\u3002 \u25CB MC_MoveVelocity \u901F\u5EA6\u63A7\u5236\uFF08CSP\uFF09 \u5728\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u4E0B\u8FDB\u884C\u6A21\u62DF\u901F\u5EA6\u63A7\u5236\u3002 \u25CB MC_TorqueControl \u8F6C\u77E9\u63A7\u5236 \u5728\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u4E0B\u8FDB\u884C\u8F6C\u77E9\u63A7\u5236\u3002 \u25CB MC_VelocityControl \u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09 \u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u4E0B\u8FDB\u884C\u901F\u5EA6\u63A7\u5236\u3002 - MC_InternalStopSensor \u5B9A\u4F4D\u505C\u6B62\u4F20\u611F\u5668\u8BF7\u6C42 \u4ECE\u7A0B\u5E8F\u8F93\u5165\u505C\u6B62\u4F20\u611F\u5668\u6307\u4EE4\u3002 - MC_MaskStopSensor \u505C\u6B62\u4F20\u611F\u5668\u68C0\u6D4B\u53BB\u80FD \u5C4F\u853D\u505C\u6B62\u4F20\u611F\u5668\u7684\u68C0\u6D4B\u3002 - MC_InternalHomeSensor \u5B9A\u4F4D\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 \u4ECE\u7A0B\u5E8F\u8F93\u5165\u539F\u70B9\u4F20\u611F\u5668\u6307\u4EE4\u3002 - MC_SetTorqueLimit \u8F6C\u77E9\u9650\u5236\u503C\u66F4\u6539 \u8BBE\u5B9A\u8F6C\u77E9\u9650\u5236\u503C\u3002 - MC_SetVelocityFeedforward \u901F\u5EA6\u524D\u9988\u503C\u66F4\u6539 \u8BBE\u5B9A\u901F\u5EA6\u524D\u9988\u3002 - MC_SetTorqueFeedforward \u8F6C\u77E9\u524D\u9988\u503C\u66F4\u6539 \u8BBE\u5B9A\u8F6C\u77E9\u524D\u9988\u3002 - MC_MoveToBasePosition \u57FA\u51C6\u4F4D\u7F6E\u79FB\u52A8 \u79FB\u52A8\u5230\u57FA\u672C\u4F4D\u7F6E\u3002 - MC_FastMoveToHome \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 \u5411\u673A\u68B0\u5750\u6807\u7684\u539F\u70B9\u79FB\u52A8\u3002 - MC_MoveToPoint \u5B9A\u4F4D\u63A7\u5236(\u70B9\u53C2\u6570) \u6839\u636E\u6307\u5B9A\u7684\u70B9\u53C2\u6570\u7684\u8BBE\u5B9A\uFF0C\u6267\u884C\u5B9A\u4F4D\u63A7\u5236\u3002 - MC_ChangeTargetPosition \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539 \u5728\u8FD0\u884C\u4E2D\u66F4\u6539\u76EE\u6807\u5750\u6807\u3002 - MC_ChangeTargetGroupPositions \u63D2\u8865\u8FD0\u884C\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539 \u5728\u63D2\u8865\u8FD0\u884C\u7684\u8FD0\u884C\u4E2D\u66F4\u6539\u76EE\u6807\u5750\u6807\u3002 - MC_ChangeTargetVelocity \u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 \u5728\u8FD0\u884C\u4E2D\u66F4\u6539\u901F\u5EA6\u3002 - MC_ResumePositioning \u91CD\u65B0\u5F00\u59CB\u5B9A\u4F4D\u8FD0\u8F6C \u91CD\u65B0\u5F00\u59CB\u7528\u51CF\u901F\u505C\u6B62\u6307\u4EE4\u505C\u6B62\u7684\u70B9\u8FD0\u8F6C\u3002 - MC_MoveToNextPoint \u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u70B9\u5B9A\u4F4D \u51CF\u901F\u505C\u6B62\u6B63\u5728\u6267\u884C\u7684\u70B9\u8FD0\u8F6C\uFF0C\u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u4E2A\u70B9\u8FD0\u8F6C\u3002 - MC_SuspendNextPositioning \u4E2D\u65AD\u5B9A\u4F4D\u8FDE\u7EED\u8FD0\u8F6C \u4E2D\u65AD\u4E0B\u4E00\u4E2A\u70B9\u7684\u8FDE\u7EED\u70B9\u8FD0\u8F6C\u3002 - MC_StopAtTargetPosition \u5B9A\u4F4D\u6307\u5B9A\u4F4D\u7F6E\u505C\u6B62 \u5728\u6307\u5B9A\u7684\u4F4D\u7F6E\u505C\u6B62\u3002 - MC_MCodeOff \u5B9A\u4F4DM\u4EE3\u7801OFF\u6307\u4EE4 \u5173\u95EDM\u4EE3\u7801\u7684\u8F93\u51FA\u3002 - MC_ReleaseStandby \u89E3\u9664\u5B9A\u4F4D\u5F85\u673A \u89E3\u9664\u4E0B\u4E00\u4E2A\u70B9\u8FD0\u8F6C\u7684\u5F85\u673A\u72B6\u6001\u3002 - MC_Teach \u793A\u6559 \u5C06\u5F53\u524D\u7684\u6307\u4EE4\u5750\u6807\u8BBE\u5B9A\u4E3A\u70B9\u53C2\u6570\u7684\u201C\u76EE\u6807\u5750\u6807\u201D\u6216\u201C\u5706\u5F27\u5750\u6807/\u534A\u5F84\u201D\u3002 - MC_AbsolutePosFollowUpControl \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 \u8DDF\u8E2A\u6307\u5B9A\u7684\u7EDD\u5BF9\u4F4D\u7F6E\uFF0C\u5E76\u6267\u884C\u5B9E\u65BD\u5B9A\u4F4D\u8FD0\u8F6C\u7684\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u3002 - MC_SyncTypeFollowUpControl \u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u8DDF\u8E2A\u63A7\u5236\u5F00\u59CB\u65F6\u6307\u4EE4\u503C\u4E0E\u5F53\u524D\u6307\u4EE4\u503C\u7684\u5DEE\u503C\uFF0C\u5E76\u6267\u884C\u5B9E\u65BD\u5B9A\u4F4D\u8FD0\u8F6C\u7684\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u3002 - MC_SyncControl \u540C\u6B65\u63A7\u5236 \u6839\u636E\u540C\u6B65\u53C2\u6570\u6267\u884C\u540C\u6B65\u63A7\u5236\u3002 - MC_MainClutch \u4E3B\u79BB\u5408\u5668\u63A7\u5236 \u63A7\u5236\u540C\u6B65\u63A7\u5236\u7684\u4E3B\u79BB\u5408\u5668\u3002 - MC_AuxClutch \u8F85\u52A9\u79BB\u5408\u5668\u63A7\u5236 \u63A7\u5236\u540C\u6B65\u63A7\u5236\u7684\u8F85\u52A9\u79BB\u5408\u5668\u3002 - MC_SwitchCam \u540C\u6B65\u51F8\u8F6E\u5207\u6362 \u5207\u6362\u540C\u6B65\u63A7\u5236\u7684\u51F8\u8F6E\u6570\u636E\u3002 - MC_TorqueLimitClutch \u540C\u6B65\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u63A7\u5236 \u63A7\u5236\u540C\u6B65\u63A7\u5236\u7684\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u3002 - MC_StopSimMechanicalSync \u505C\u6B62\u540C\u6B65\u4EFF\u771F\u673A\u68B0\u540C\u6B65 \u505C\u6B62\u540C\u6B65\u63A7\u5236\u7684\u4EFF\u771F\u673A\u68B0\u540C\u6B65\u3002 - MC_MainAxisPhasing \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F \u6267\u884C\u540C\u6B65\u63A7\u5236\u7684\u4E3B\u8F74\u76F8\u4F4D\u8865\u507F\u3002 - MC_AuxAxisPhasing \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F \u6267\u884C\u540C\u6B65\u63A7\u5236\u7684\u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F\u3002 - MC_GroupStop \u51CF\u901F\u505C\u6B62(\u8F74\u7FA4\u7EC4) \u51CF\u901F\u505C\u6B62\u6307\u5B9A\u8F74\u7FA4\u7EC4\u7684\u8F74\u3002 \u25CB MC_MoveLinearAbsolute \u76F4\u7EBF\u63D2\u8865\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u6267\u884C\u591A\u4E2A\u8F74\u7684\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u76F4\u7EBF\u63D2\u8865\uFF09\u3002 \u25CB MC_MoveLinearRelative \u76F4\u7EBF\u63D2\u8865\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u6267\u884C\u591A\u4E2A\u8F74\u7684\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u76F4\u7EBF\u63D2\u8865\uFF09\u3002 \u25CB MC_MoveCircularAbsolute \u5706\u5F27\u63D2\u8865\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u6267\u884C\u591A\u4E2A\u8F74\u7684\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u5706\u5F27\u63D2\u8865\uFF09\u3002 \u25CB MC_MoveCircularRelative \u5706\u5F27\u63D2\u8865\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u6267\u884C\u591A\u4E2A\u8F74\u7684\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u5706\u5F27\u63D2\u8865\uFF09\u3002 \u25CB \u901A\u7528\u81EA\u53D8\u91CF \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u5206\u4E3A\u81EA\u53D8\u91CF\u4E2D\u5E26\u6709 Execute \u7684\u6307\u4EE4\u548C\u5E26\u6709 Enable \u7684\u6307\u4EE4\u3002\u8FD9\u4E9B\u6307\u4EE4\u5206\u522B\u5E26\u6709\u901A\u7528\u81EA\u53D8\u91CF\uFF0C\u800C\u8FD9\u4E9B\u901A\u7528\u81EA\u53D8\u91CF\u5728\u5404\u6307\u4EE4\u7684\u8BF4\u660E\u4E2D\u4E0D\u518D\u8BB0\u8F7D\u3002\u4F46\u662F\uFF0C\u6709\u4E9B\u6307\u4EE4\u4E0D\u5E26\u6709\u67D0\u4E9B\u901A\u7528\u81EA\u53D8\u91CF\u3002\u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u5404\u6307\u4EE4\u7684\u8BF4\u660E\u3002 \u258C Execute\u578B\u7684\u901A\u7528\u81EA\u53D8\u91CF Execute \u578B\u7684\u6307\u4EE4\u5E26\u6709\u4E0B\u8FF0\u901A\u7528\u81EA\u53D8\u91CF\u3002 \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u5185\u5BB9 Axis IN _MC_AXIS_REF - \u6307\u5B9A\u5BF9\u8C61\u8F74\u7684\u8F74\u53D8\u91CF\uFF08_MC_Axis\uFF09\u3002 AxisGroup IN _MC_AXIS_GROUP_REF - \u6307\u5B9A\u5BF9\u8C61\u8F74\u7FA4\u7EC4\u7684\u8F74\u7FA4\u7EC4\u53D8\u91CF\uFF08_MC_AxisGroup\uFF09\u3002 Execute IN BOOL - \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u3002\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u540E\uFF0C\u5373\u4F7F\u8BBE\u5B9ATRUE\u2192FALSE\uFF0C\u4ECD\u4F1A\u7EE7\u7EED\u6267\u884C\u6307\u4EE4\u3002 Busy OUT BOOL - \u5728\u6307\u4EE4\u7684\u6267\u884C\u4E2D\u53D8\u4E3ATRUE\u3002\u5728 Execute \u53D8\u4E3ATRUE\u7684\u540C\u65F6\uFF0C Busy \u4E5F\u53D8\u4E3ATRUE\u3002 Done \u3001 CommandAborted \u6216 Error \u53D8\u4E3ATRUE\u65F6\uFF0C Busy \u4F1A\u53D8\u4E3AFALSE\u3002 Active OUT BOOL - \u5728\u5F00\u59CB\u6267\u884C\u8BF7\u6C42\u7684\u52A8\u4F5C\u65F6\u53D8\u4E3ATRUE\u3002 Done \u3001 CommandAborted \u6216 Error \u53D8\u4E3ATRUE\u65F6\uFF0C Active \u4F1A\u53D8\u4E3AFALSE\u3002 CommandAborted OUT BOOL - \u7531\u4E8E\u6267\u884C\u5176\u4ED6\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7B49\u539F\u56E0\uFF0C\u5BFC\u81F4\u529F\u80FD\u4E2D\u65AD\u65F6\u4F1A\u53D8\u4E3ATRUE\u3002\u5728 Execute \u53D8\u4E3AFALSE\u4E4B\u524D\u4FDD\u6301TRUE\u3002 \u5982\u679C\u5728\u6B63\u5E38\u7ED3\u675F\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u662FFALSE\uFF0C\u5219 CommandAborted \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 Done OUT BOOL - \u6307\u4EE4\u6B63\u5E38\u7ED3\u675F\u65F6\uFF0C\u53D8\u4E3ATRUE\u3002\u6B63\u5E38\u7ED3\u675F\u540E\uFF0C\u5728 Execute \u53D8\u4E3AFALSE\u4E4B\u524D\u4FDD\u6301TRUE\u3002 \u5982\u679C\u5728\u6B63\u5E38\u7ED3\u675F\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u662FFALSE\uFF0C\u5219 Done \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 Error OUT BOOL - \u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u65F6\uFF0C\u53D8\u4E3ATRUE\u3002\u5F02\u5E38\u7ED3\u675F\u540E\uFF0C\u5728 Execute \u53D8\u4E3AFALSE\u4E4B\u524D\u4FDD\u6301TRUE\u3002 \u5982\u679C\u5728\u5F02\u5E38\u7ED3\u675F\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u662FFALSE\uFF0C\u5219 Error \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 ErrorID OUT UINT - \u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\uFF0C\u8868\u793A\u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u7684\u539F\u56E0\u3002\u6267\u884C\u6307\u4EE4\u65F6\uFF0C\u5B58\u50A80\uFF0C\u5728\u5F02\u5E38\u7ED3\u675F\u65F6\u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\u3002 \u5728\u6B63\u5E38\u7ED3\u675F\u65F6\u5B58\u50A80\u3002 \u00A0 _MC_AXIS_REF\u578B\u53D8\u91CF\u548C_MC_AXIS_GROUP_REF\u578B\u53D8\u91CF\u53EF\u5C06\u8F74\u540D\u6216\u8F74\u7EC4\u540D\u63CF\u8FF0\u4E3A\u53D8\u91CF\u3002 \u4F8B\uFF1A\u8F741\u7684\u8F74\u540D\u662F\u201CServo\u201D\u65F6 \u201C_MC_Axis[1]\u201D\u548C\u201CServo\u201D\u662F\u76F8\u540C\u53D8\u91CF\u3002 Execute\u578B\u7684\u901A\u7528\u81EA\u53D8\u91CF \u00A0 (1) Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5982\u679C\u5728\u6B64\u65F6 Error \u662FTRUE\uFF0C\u5219\u4F1A\u53D8\u4E3AFALSE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A80\u3002 (2) \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u6240\u8BF7\u6C42\u7684\u52A8\u4F5C\u65F6\uFF0C Active \u4F1A\u53D8\u4E3ATRUE\uFF08 Active \u4E0D\u4E00\u5B9A\u4E0E Busy \u540C\u65F6\u53D8\u4E3ATRUE\uFF09\u3002 (3) \u6307\u4EE4\u8BF7\u6C42\u7684\u52A8\u4F5C\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u548C Active \u53D8\u4E3AFALSE\u3002 (4) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002\u5982\u679C\u5728\u6307\u4EE4\u8BF7\u6C42\u7684\u52A8\u4F5C\u5B8C\u6210\u4E4B\u524D\u5C06 Execute \u7F6E\u4E8EFALSE\uFF0C\u5219 Done \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 (5) \u53D1\u751F\u5F02\u5E38\u65F6\uFF0C Error \u53D8\u4E3ATRUE\uFF0C Busy \u548C Active \u53D8\u4E3AFALSE\u3002\u53E6\u5916\uFF0C\u8868\u793A\u5F02\u5E38\u5185\u5BB9\u7684\u9519\u8BEF\u4EE3\u7801\u88AB\u5B58\u50A8\u5728 ErrorID \u4E2D\u3002 (6) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Error \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002\u5728\u63A5\u4E0B\u6765 Execute \u53D8\u4E3ATRUE\u4E4B\u524D\uFF0C ErrorID \u4F1A\u4FDD\u6301\u503C\u4E0D\u53D8\u3002\u5982\u679C\u5728\u53D1\u751F\u5F02\u5E38\u4E4B\u524D\u5C06 Execute \u7F6E\u4E8EFALSE\uFF0C\u5219 Error \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 \u258C Enable\u578B\u7684\u901A\u7528\u81EA\u53D8\u91CF Enable \u578B\u7684\u6307\u4EE4\u5E26\u6709\u4E0B\u8FF0\u901A\u7528\u81EA\u53D8\u91CF\u3002 \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u5185\u5BB9 Axis IN _MC_AXIS_REF - \u6307\u5B9A\u5BF9\u8C61\u8F74\u7684\u8F74\u53D8\u91CF\uFF08_MC_Axis\uFF09\u3002 AxisGroup IN _MC_AXIS_GROUP_REF - \u6307\u5B9A\u5BF9\u8C61\u8F74\u7FA4\u7EC4\u7684\u8F74\u7FA4\u7EC4\u53D8\u91CF\uFF08_MC_AxisGroup\uFF09\u3002 Enable IN BOOL - \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\u3002\u4EC5\u5728TRUE\u72B6\u6001\u4E0B\u6267\u884C\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u3002 Busy OUT BOOL - \u5728\u6307\u4EE4\u7684\u6267\u884C\u4E2D\u53D8\u4E3ATRUE\u3002\u5728 Execute \u53D8\u4E3ATRUE\u7684\u540C\u65F6\uFF0C Busy \u4E5F\u53D8\u4E3ATRUE\u3002 Execute \u53D8\u4E3AFALSE\u65F6\uFF0C Busy \u4E5F\u53D8\u4E3AFALSE\u3002 Status OUT BOOL - \u5728\u6267\u884C\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u6240\u8BF7\u6C42\u7684\u52A8\u4F5C\u671F\u95F4\u53D8\u4E3ATRUE\u3002 Error OUT BOOL - \u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u65F6\uFF0C\u53D8\u4E3ATRUE\u3002\u5F02\u5E38\u7ED3\u675F\u540E\uFF0C\u5728 Execute \u53D8\u4E3AFALSE\u4E4B\u524D\u4FDD\u6301TRUE\u3002 \u4F46\u662F\uFF0C\u5982\u679C\u5728\u5F02\u5E38\u7ED3\u675F\u7684\u65F6\u95F4\u70B9\u4E0A Execute \u662FFALSE\uFF0C\u5219 Error \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 ErrorID OUT UINT - \u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\uFF0C\u8868\u793A\u6307\u4EE4\u5F02\u5E38\u7ED3\u675F\u7684\u539F\u56E0\u3002\u6267\u884C\u6307\u4EE4\u65F6\uFF0C\u5B58\u50A80\uFF0C\u5728\u5F02\u5E38\u7ED3\u675F\u65F6\u5B58\u50A8\u9519\u8BEF\u4EE3\u7801\u3002 \u5728\u6B63\u5E38\u7ED3\u675F\u65F6\u5B58\u50A80\u3002 \u00A0 _MC_AXIS_REF\u578B\u53D8\u91CF\u548C_MC_AXIS_GROUP_REF\u578B\u53D8\u91CF\u53EF\u5C06\u8F74\u540D\u6216\u8F74\u7EC4\u540D\u63CF\u8FF0\u4E3A\u53D8\u91CF\u3002 \u4F8B\uFF1A\u8F741\u7684\u8F74\u540D\u662F\u201CServo\u201D\u65F6 \u201C_MC_Axis[1]\u201D\u548C\u201CServo\u201D\u662F\u76F8\u540C\u53D8\u91CF\u3002 Enable\u578B\u7684\u901A\u7528\u81EA\u53D8\u91CF \u00A0 (1) Enable \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u6267\u884C\u6307\u4EE4\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5728 ErrorID \u4E2D\u5B58\u50A80\u3002 (2) \u5F00\u59CB\u6267\u884C\u6307\u4EE4\u6240\u8BF7\u6C42\u7684\u52A8\u4F5C\u65F6\uFF0C Status \u4F1A\u53D8\u4E3ATRUE\uFF08 Status \u4E0D\u4E00\u5B9A\u4E0E Busy \u540C\u65F6\u53D8\u4E3ATRUE\uFF09\u3002 (3) Enable \u53D8\u4E3AFALSE\u65F6\uFF0C Busy \u4E5F\u53D8\u4E3AFALSE\u3002\u53E6\u5916\uFF0C\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5411\u5BF9\u8C61\u8F74\uFF08\u8F74\u7FA4\u7EC4\uFF09\u53D1\u51FA\u505C\u6B62\u52A8\u4F5C\u7684\u8BF7\u6C42\u3002 (4) \u5BF9\u8C61\u8F74\uFF08\u8F74\u7FA4\u7EC4\uFF09\u7684\u52A8\u4F5C\u505C\u6B62\u65F6\uFF0C Status \u4F1A\u53D8\u4E3AFALSE\uFF08\u5C06 Enable \u7F6E\u4E8EFALSE\uFF0C Status \u4E0D\u4E00\u5B9A\u4F1A\u540C\u65F6\u4E5F\u53D8\u4E3AFALSE\uFF09\u3002 (5) \u53D1\u751F\u5F02\u5E38\u65F6\uFF0C Error \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002\u53E6\u5916\uFF0C\u8868\u793A\u5F02\u5E38\u5185\u5BB9\u7684\u9519\u8BEF\u4EE3\u7801\u88AB\u5B58\u50A8\u5728 ErrorID \u4E2D\u3002 (6) Enable \u8BBE\u4E3AFALSE\u65F6\uFF0C Error \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002\u5728\u63A5\u4E0B\u6765 Enable \u53D8\u4E3ATRUE\u4E4B\u524D\uFF0C ErrorID \u4F1A\u4FDD\u6301\u503C\u4E0D\u53D8\u3002\u5982\u679C\u5728\u53D1\u751F\u5F02\u5E38\u4E4B\u524D\u5C06 Execute \u7F6E\u4E8EFALSE\uFF0C\u5219 Error \u4EC5\u57281\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002 \u7F13\u51B2 \u5728\u901A\u8FC7\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u6267\u884C\u52A8\u4F5C\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u6267\u884C\u5176\u4ED6\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u79F0\u4E3A\u7F13\u51B2\u3002\u5E26\u6709\u81EA\u53D8\u91CF BufferMode \u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\uFF0C\u53EF\u4EE5\u6307\u5B9A\u5148\u6267\u884C\u7684\u6307\u4EE4\u7684\u8F74\u63A7\u5236\u548C\u540E\u6267\u884C\u7684\u6307\u4EE4\u7684\u8F74\u63A7\u5236\u7684\u4F18\u5148\u5EA6\u3002 BufferMode \u5BF9\u540E\u6267\u884C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u8FDB\u884C\u6307\u5B9A\u3002 \u5BF9 BufferMode \u6307\u5B9A\u7684\u53C2\u6570\u548C\u52A8\u4F5C\u5982\u4E0B\u3002 \u8BBE\u5B9A\u503C \u6A21\u5F0F \u7CFB\u7EDF\u53D8\u91CF \u52A8\u4F5C 0 Aborting _MC_BM_Aborting \u4E2D\u65AD\u5148\u6267\u884C\u7684\u8F74\u63A7\u5236\uFF0C\u901A\u8FC7\u540E\u6267\u884C\u7684\u6307\u4EE4\u8FDB\u884C\u8F74\u63A7\u5236\u3002 1 Buffered _MC_BM_Buffered \u7B49\u5F85\u5148\u6267\u884C\u7684\u8F74\u63A7\u5236\u5B8C\u6210\u540E\uFF0C\u901A\u8FC7\u540E\u6267\u884C\u7684\u6307\u4EE4\u8FDB\u884C\u8F74\u63A7\u5236\u3002 2 BlendingLow _MC_BM_BlendingLow \u8FDE\u7EED\u6267\u884C2\u4E2A\u6307\u4EE4\u7684\u8F74\u63A7\u5236\u3002\u63092\u4E2A\u6307\u4EE4\u4E2D\u66F4\u6162\u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\u3002 3 BlendingPrevious _MC_BM_BlendingPrevious \u8FDE\u7EED\u6267\u884C2\u4E2A\u6307\u4EE4\u7684\u8F74\u63A7\u5236\u3002\u6309\u5148\u6267\u884C\u7684\u6307\u4EE4\u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\u3002 4 BlendingNext _MC_BM_BlendingNext \u8FDE\u7EED\u6267\u884C2\u4E2A\u6307\u4EE4\u7684\u8F74\u63A7\u5236\u3002\u6309\u540E\u6267\u884C\u7684\u6307\u4EE4\u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\u3002 5 BlendingHigh _MC_BM_BlendingHigh \u8FDE\u7EED\u6267\u884C2\u4E2A\u6307\u4EE4\u7684\u8F74\u63A7\u5236\u3002\u63092\u4E2A\u6307\u4EE4\u4E2D\u66F4\u5FEB\u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\u3002 \u00A0 \u5982\u679C\u672A\u6307\u5B9A BufferMode \uFF0C\u5219\u4F1A\u5728Aborting\u6A21\u5F0F\u4E0B\u52A8\u4F5C\u3002 \u258C \u5404BufferMode\u7684\u65F6\u5E8F\u56FE \u5728\u5404 BufferMode \u4E2D\u6267\u884C2\u4E2A\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u65F6\u7684\u65F6\u5E8F\u56FE\u5982\u4E0B\u3002 \u2022 FB_0\uFF1A\u5148\u6267\u884C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 \u2022 FB_1\uFF1A\u540E\u6267\u884C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 Aborting \u00A0 (1) FB_0\u7684 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5F00\u59CB\u6267\u884C\u8BF7\u6C42\u7684\u8F74\u63A7\u5236\u65F6\uFF0C Active \u53D8\u4E3ATRUE\u3002 (2) FB_1\u7684 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u4E2D\u65ADFB_0\u7684\u8F74\u63A7\u5236\uFF0C\u5F00\u59CBFB_1\u7684\u8F74\u63A7\u5236\u3002FB_0\u7684 Busy \u548C Active \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002FB_1\u7684 Busy \u548C Active \u53D8\u4E3ATRUE\u3002 (3) FB_1\u7684\u8F74\u63A7\u5236\u5B8C\u6210\u540E\uFF0CFB_1\u7684 Done \u53D8\u4E3ATRUE\uFF0C Busy \u548C Active \u53D8\u4E3AFALSE\u3002 (4) FB_0\u7684 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) FB_1\u7684 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Buffered \u00A0 (1) FB_0\u7684 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5F00\u59CB\u6267\u884C\u8BF7\u6C42\u7684\u8F74\u63A7\u5236\u65F6\uFF0C Active \u53D8\u4E3ATRUE\u3002 (2) FB_1\u7684 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u5728FB_0\u7684\u8F74\u63A7\u5236\u5B8C\u6210\u4E4B\u524D\uFF0C\u4E0D\u4F1A\u5F00\u59CBFB_1\u7684\u8F74\u63A7\u5236\uFF0C\u6240\u4EE5\u6B64\u65F6FB_1\u7684 Active \u4ECD\u662FFALSE\u3002 (3) FB_0\u7684\u8F74\u63A7\u5236\u5B8C\u6210\u540E\uFF0CFB_0\u7684 Done \u53D8\u4E3ATRUE\uFF0C Busy \u548C Active \u53D8\u4E3AFALSE\u3002\u6B64\u65F6\uFF0C\u5F00\u59CB\u6267\u884CFB_1\u7684\u8F74\u63A7\u5236\uFF0CFB_1\u7684 Active \u53D8\u4E3ATRUE\u3002 (4) FB_1\u7684\u8F74\u63A7\u5236\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u548C Active \u53D8\u4E3AFALSE\u3002 (5) FB_0\u548CFB_1\u7684 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C\u5404FB\u7684 Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Blending BufferMode \u8BBE\u4E3ABlending\u65F6\uFF0C\u5982\u679C\u5728FB_0\u7684\u8F74\u63A7\u5236\u4E2D\u6267\u884CFB_1\uFF0C\u5219\u4F1A\u5728FB_0\u7684\u8F74\u63A7\u5236\u5B8C\u6210\u540E\u518D\u5F00\u59CBFB_1\u7684\u8F74\u63A7\u5236\u3002\u56E0\u6B64\uFF0C\u65F6\u5E8F\u56FE\u4E0E\u8BBE\u4E3ABuffered\u65F6\u76F8\u540C\u3002 \u4F46\u662F\uFF0C\u8BBE\u4E3ABuffered\u65F6\uFF0C\u8F74\u4F1A\u5728FB_0\u7684\u8F74\u63A7\u5236\u548CFB_1\u7684\u8F74\u63A7\u5236\u5207\u6362\u65F6\uFF0C\u51CF\u901F\u81F3\u8D77\u52A8\u901F\u5EA6\uFF0C\u800C\u8BBE\u4E3ABlending\u65F6\uFF0C\u8F74\u5728\u5207\u6362\u65F6\u5E76\u4E0D\u505C\u6B62\uFF0C\u800C\u662F\u6309\u6307\u5B9A\u7684\u901F\u5EA6\u8FDE\u63A5\u3002 \u53E6\u5916\uFF0C\u5207\u6362\u65F6\u7684\u52A0\u51CF\u901F\u5EA6\u5206\u522B\u662F\uFF1A\u5207\u6362\u524D\u4F7F\u7528\u5148\u6267\u884C\u7684FB\u7684\u52A0\u51CF\u901F\u5EA6\uFF0C\u5207\u6362\u540E\u4F7F\u7528\u540E\u6267\u884C\u7684FB\u7684\u52A0\u51CF\u901F\u5EA6\u3002 BlendingLow \u6309FB_0\u548CFB_1\u4E4B\u4E2D\u66F4\u6162\u7684\u901F\u5EA6\u8FDE\u63A5\u5904\u7406\u3002 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1C FB_1\u7684\u901F\u5EA6 (1)FB_0\u7684\u901F\u5EA6\u66F4\u6162\u65F6\uFF0C\u4F1A\u4FDD\u6301FB_0\u7684\u901F\u5EA6\u5230\u8FBEFB_0\u7684\u76EE\u6807\u5750\u6807\uFF0C\u5728\u5207\u6362\u540E\u52A0\u901F\u81F3FB_1\u7684\u901F\u5EA6\u3002 \u00A0 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1E FB_1\u7684\u901F\u5EA6 (2)FB_1\u7684\u901F\u5EA6\u66F4\u6162\u65F6\uFF0C\u4E3A\u4E86\u80FD\u5728\u5207\u6362\u65F6\u53D8\u4E3AFB_1\u7684\u901F\u5EA6\uFF0C\u4F1A\u5728\u5230\u8FBEFB_0\u7684\u76EE\u6807\u5750\u6807\u4E4B\u524D\u5F00\u59CB\u51CF\u901F\u3002 \u00A0 BlendingPrevious \u6309\u7167\u5148\u6267\u884C\u7684FB_0\u7684\u901F\u5EA6\u8FDE\u63A5\uFF0C\u5207\u6362\u540E\u8FDB\u884C\u52A0\u51CF\u901F\u4EE5\u8FBE\u5230FB_1\u7684\u901F\u5EA6\u3002 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1C FB_1\u7684\u901F\u5EA6 \u00A0 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1E FB_1\u7684\u901F\u5EA6 \u00A0 BlendingNext \u6309\u540E\u6267\u884C\u7684FB_1\u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\u3002\u4E3A\u4E86\u80FD\u5728\u5207\u6362\u65F6\u53D8\u4E3AFB_1\u7684\u901F\u5EA6\uFF0C\u4F1A\u5728\u5230\u8FBEFB_0\u7684\u76EE\u6807\u5750\u6807\u4E4B\u524D\u8FDB\u884C\u52A0\u51CF\u901F\u3002 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1C FB_1\u7684\u901F\u5EA6 \u00A0 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1E FB_1\u7684\u901F\u5EA6 \u00A0 BlendingHigh \u6309FB_0\u548CFB_1\u4E4B\u4E2D\u66F4\u5FEB\u7684\u901F\u5EA6\u8FDE\u63A5\u5904\u7406\u3002 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1C FB_1\u7684\u901F\u5EA6 (1)FB_1\u7684\u901F\u5EA6\u66F4\u5FEB\u65F6\uFF0C\u4E3A\u4E86\u80FD\u5728\u5207\u6362\u65F6\u53D8\u4E3AFB_1\u7684\u901F\u5EA6\uFF0C\u4F1A\u5728\u5230\u8FBEFB_0\u7684\u76EE\u6807\u5750\u6807\u4E4B\u524D\u5F00\u59CB\u52A0\u901F\u3002 \u00A0 \u2012 FB_0\u7684\u901F\u5EA6 \uFF1E FB_1\u7684\u901F\u5EA6 (2)FB_0\u7684\u901F\u5EA6\u66F4\u5FEB\u65F6\uFF0C\u4F1A\u4FDD\u6301FB_0\u7684\u901F\u5EA6\u5230\u8FBEFB_0\u7684\u76EE\u6807\u5750\u6807\uFF0C\u5728\u5207\u6362\u540E\u51CF\u901F\u81F3FB_1\u7684\u901F\u5EA6\u3002 \u00A0 \u258C \u7F13\u51B2\u7684\u6CE8\u610F\u4E8B\u9879 \u2022 \u7F13\u51B2\u6267\u884C\u4E2D\u7684\u6307\u4EE4\u65F6\uFF0C\u53EA\u80FD\u7F13\u51B21\u4E2A\u6307\u4EE4\u3002\u5982\u679C\u7F13\u51B2\u7B2C2\u4E2A\u6307\u4EE4\uFF0C\u7B2C2\u4E2A\u6307\u4EE4\u4F1A\u5728\u6267\u884C\u65F6\u53D8\u4E3A\u9519\u8BEF\uFF0C\u65E0\u6CD5\u6267\u884C\u3002\u4F46\u662F\uFF0C\u5982\u679C\u7B2C2\u4E2A\u7F13\u51B2\u7684\u6307\u4EE4\u7684 BufferMode \u662FAborting\uFF0C\u5219\u4F1A\u4E22\u5F03\u6267\u884C\u4E2D\u7684\u6307\u4EE4\u548C\u7B2C1\u4E2A\u7F13\u51B2\u7684\u6307\u4EE4\uFF0C\u6267\u884C\u8BE5\u6307\u4EE4\u3002 \u2022 \u79FB\u52A8\u8DDD\u79BB\u4E3A0\u7684\u6307\u4EE4\u4E5F\u4F5C\u4E3A1\u4E2A\u7F13\u51B2\u8FDB\u884C\u8BA1\u6570\u3002 \u2022 \u5207\u6362\u65F6\u7684\u52A0\u51CF\u901F\u5EA6\u5206\u522B\u662F\uFF1A\u5207\u6362\u524D\u4F7F\u7528\u5148\u6267\u884C\u7684FB\u7684\u52A0\u51CF\u901F\u5EA6\uFF0C\u5207\u6362\u540E\u4F7F\u7528\u540E\u6267\u884C\u7684FB\u7684\u52A0\u51CF\u901F\u5EA6\u3002\u56E0\u6B64\uFF0C\u6839\u636E\u7F13\u51B2\u7B2C2\u4E2A\u6307\u4EE4\u7684\u65F6\u673A\uFF0C\u6709\u65F6\u4F1A\u51FA\u73B0\u4E0D\u6309Blending\u6307\u5B9A\u7684\u8FDE\u63A5\u901F\u5EA6\u6267\u884C\u5207\u6362\u7684\u73B0\u8C61\u3002 \u2022 \u5982\u679C\u67D0\u4E2A\u6307\u4EE4\u6307\u5B9A\u7684\u8F74\u7FA4\u7EC4\u7684\u8F74\u6784\u6210\u4E0E\u6267\u884C\u4E2D\u7684\u6307\u4EE4\u4E0D\u540C\uFF0C\u5219\u65E0\u6CD5\u7F13\u51B2\u8BE5\u6307\u4EE4\u3002 \u2022 \u5728\u63D2\u8865\u8FD0\u884C\u4E2D\u901A\u8FC7Aborting\u7F13\u51B2\u63D2\u8865\u8FD0\u884C\u7684\u6307\u4EE4\u65F6\uFF0C\u6839\u636E\u524D\u540E\u6307\u4EE4\u7684\u7EC4\u5408\uFF0C\u53EF\u5426\u6267\u884C\u7F13\u51B2\u5982\u4E0B\u6240\u793A\u3002 \u6307\u4EE4\u7EC4\u5408 Aborting\u53EF\u5426\u8FD0\u884C \u76F4\u7EBF\u63D2\u8865\u2192\u76F4\u7EBF\u63D2\u8865 \u25CB \u76F4\u7EBF\u63D2\u8865\u2192\u5706\u5F27\u63D2\u8865 \u00D7 \u5706\u5F27\u63D2\u8865\u2192\u76F4\u7EBF\u63D2\u8865 \u00D7 \u5706\u5F27\u63D2\u8865\u2192\u5706\u5F27\u63D2\u8865 \u00D7 \u00A0 \u5982\u679C\u662FAborting\u4E0D\u80FD\u8FD0\u884C\u7684\u7EC4\u5408\uFF0C\u5219\u540E\u76F4\u7EBF\u7684\u6307\u4EE4\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002\u5148\u542F\u52A8\u7684\u529F\u80FD\u5757\u4F1A\u7EE7\u7EED\u8FD0\u884C\u3002 TransitionMode TransitionMode \u662F\u5728\u8FDE\u7EED\u6267\u884C\u63D2\u8865\u8FD0\u884C\u65F6\uFF0C\u6307\u5B9A\u8FD0\u884C\u8F68\u8FF9\u8FDE\u63A5\u65B9\u6CD5\u7684\u53C2\u6570\u3002 \u53EF\u5728\u76F4\u7EBF\u63D2\u8865\uFF08MC_MoveLinearAbsolute/MC_MoveLinearRelative\uFF09\u548C \u5706\u5F27\u63D2\u8865\uFF08MC_MoveCircularAbsolute/MC_MoveCircularRelative\uFF09\u4E2D\u4F7F\u7528\u3002 TransitionMode \u5BF9\u540E\u6267\u884C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u8FDB\u884C\u6307\u5B9A\u3002 \u5BF9 TransitionMode \u6307\u5B9A\u7684\u53C2\u6570\u548C\u52A8\u4F5C\u5982\u4E0B\u3002 \u8BBE\u5B9A\u503C \u6A21\u5F0F \u7CFB\u7EDF\u53D8\u91CF \u52A8\u4F5C 0 TMNone _MC_TM_None \u76F4\u63A5\u8FDE\u63A52\u4E2A\u8F68\u8FF9\u3002 10 TMCornerRadius _MC_TM_CornerRadius \u57282\u4E2A\u8F68\u8FF9\u4E4B\u95F4\u63D2\u5165\u8F85\u52A9\u5706\u5F27\u3002 \u8F85\u52A9\u5706\u5F27\u7684\u534A\u5F84\u5E94\u901A\u8FC7IN\u81EA\u53D8\u91CF TransitionParameter \uFF0C\u5728[0\uFF5E2147483647]\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u7684\u8303\u56F4\u5185\u8FDB\u884C\u6307\u5B9A\u3002 \u00A0 \u5982\u679C\u672A\u6307\u5B9A TransitionMode \uFF0C\u5219\u4F1A\u5728TMNone\u6A21\u5F0F\u4E0B\u52A8\u4F5C\u3002 TransitionMode \u4E0E BufferMode \u7EC4\u5408\u4F7F\u7528\u3002 \u53EF\u5BF9\u5404 BufferMode \u6307\u5B9A\u7684 TransitionMode \u5982\u4E0B\u3002 TransitionMode BufferMode Aborting Buffered BlendingLow BlendingPrevious BlendingNext BlendingHigh TMNone \u25CB \u25CB \u25CB *1 \u25CB *1 \u25CB *1 \u25CB *1 TMCornerRadius \u00D7 \u00D7 \u25CB \u25CB \u25CB \u25CB *1: \u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4F46\u4F1A\u53D8\u4E3A\u4E0EBuffered\u76F8\u540C\u7684\u52A8\u4F5C\u3002 \u258C \u5404TransitionMode\u7684\u8F68\u8FF9 \u5728\u5404 TransitionMode \u4E2D\u6267\u884C2\u4E2A\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u65F6\u7684\u8F68\u8FF9\u5982\u4E0B\u3002 \u2022 FB_0\uFF1A\u5148\u6267\u884C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 \u2022 FB_1\uFF1A\u540E\u6267\u884C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 TMNone \u76F4\u7EBF\u63D2\u8865\u2192\u76F4\u7EBF\u63D2\u8865 \u2012 Aborting \u5728\u6267\u884CFB_1\u7684\u65F6\u95F4\u70B9\u4E0A\u4E2D\u65AD\u5411FB_0\u7684\u76EE\u6807\u5750\u6807\u79FB\u52A8\uFF0C\u6539\u4E3A\u79FB\u5411FB_1\u7684\u76EE\u6807\u5750\u6807\u3002 \u00A0 \u2012 Aborting\u4EE5\u5916 \u5373\u4F7F\u6267\u884CFB_1\uFF0C\u4E5F\u4F1A\u7EE7\u7EED\u79FB\u52A8\u5230FB_0\u7684\u76EE\u6807\u5750\u6807\uFF0C\u7136\u540E\u518D\u79FB\u5411FB_1\u7684\u76EE\u6807\u5750\u6807\u3002 \u00A0 \u00A0 \u5706\u5F27\u63D2\u8865\u2192\u5706\u5F27\u63D2\u8865\uFF08Aborting\u4E0D\u80FD\u6267\u884C\uFF09 \u5373\u4F7F\u6267\u884CFB_1\uFF0C\u4E5F\u4F1A\u7EE7\u7EED\u79FB\u52A8\u5230FB_0\u7684\u7EC8\u70B9\uFF0C\u7136\u540E\u518D\u79FB\u5411FB_1\u7684\u7EC8\u70B9\u3002 \u00A0 TMCornerRadius \u76F4\u7EBF\u63D2\u8865\u2192\u76F4\u7EBF\u63D2\u8865\uFF08Aborting/Buffered\u4E0D\u80FD\u6267\u884C\uFF09 \u5373\u4F7F\u6267\u884CFB_1\uFF0C\u4E5F\u4F1A\u7EE7\u7EED\u79FB\u52A8\u5230FB_0\u7684\u76EE\u6807\u5750\u6807\u9644\u8FD1\u3002\u63A5\u8FD1\u76EE\u6807\u5750\u6807\u65F6\uFF0C\u4F1A\u6309\u7167 TransitionParameter \u7684\u8BBE\u5B9A\uFF0C\u5728\u7ED8\u5236\u8F85\u52A9\u5706\u5F27\u7684\u540C\u65F6\u5411FB_1\u7684\u76EE\u6807\u5750\u6807\u79FB\u52A8\u3002 \u00A0 \u5706\u5F27\u63D2\u8865\u2192\u5706\u5F27\u63D2\u8865\uFF08Aborting/Buffered\u4E0D\u80FD\u6267\u884C\uFF09 \u5373\u4F7F\u6267\u884CFB_1\uFF0C\u4E5F\u4F1A\u7EE7\u7EED\u79FB\u52A8\u5230FB_0\u7684\u7EC8\u70B9\u9644\u8FD1\u3002\u63A5\u8FD1\u7EC8\u70B9\u65F6\uFF0C\u4F1A\u6309\u7167 TransitionParameter \u7684\u8BBE\u5B9A\uFF0C\u5728\u7ED8\u5236\u8F85\u52A9\u5706\u5F27\u7684\u540C\u65F6\u5411FB_1\u7684\u7EC8\u70B9\u79FB\u52A8\u3002 \u00A0 \u00A0 \u5728\u8F85\u52A9\u5706\u5F27\u7684\u533A\u95F4\u4E2D\uFF0C\u6309Blending\u6307\u5B9A\u7684\u8FDE\u63A5\u901F\u5EA6\u8FD0\u8F6C\u3002 \u00A0 \u2022 \u5728\u8F85\u52A9\u5706\u5F27\u7684\u533A\u95F4\u4E2D\uFF0CFB_0\u7684 Active \u53D8\u4E3AFALSE\uFF0CFB_1\u7684 Active \u53D8\u4E3ATRUE\u3002 \u2022 \u5982\u679C\u7F13\u51B2FB_1\u7684\u65F6\u673A\u4E0EFB_0\u7684\u76EE\u6807\u5750\u6807\u8FC7\u4E8E\u63A5\u8FD1\uFF0C\u5219\u65E0\u6CD5\u521B\u5EFA\u8F85\u52A9\u5706\u5F27\u3002\u6B64\u65F6\uFF0CFB_1\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u00A0 \u5207\u6362\u63A7\u5236\u6A21\u5F0F \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u652F\u6301\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3001\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u548C\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u3002\u8FD9\u4E9B\u63A7\u5236\u6A21\u5F0F\u53EF\u6839\u636E\u8F74\u7684\u72B6\u6001\u81EA\u52A8\u5207\u6362\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u3002 \u258C \u4F3A\u670D\u3001\u6B65\u8FDB\u7535\u673A\u3001\u865A\u62DF\u8F74 \u00A0 \u258C \u53D8\u9891\u5668 \u53D8\u9891\u5668\u59CB\u7EC8\u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08VL\uFF09\u4E0B\u4F7F\u7528\u3002\u4E0D\u80FD\u5207\u6362\u4E3A\u5176\u4ED6\u63A7\u5236\u6A21\u5F0F\u3002 \u540C\u65F6\u6267\u884C\u591A\u4E2A\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 \u80FD\u5426\u540C\u65F6\u6267\u884C\u591A\u4E2A\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\uFF0C\u53D6\u51B3\u4E8E\u540C\u65F6\u6267\u884C\u7684\u6307\u4EE4\u7684\u7EC4\u5408\u3002 \u8BF4\u660E \u25CB\uFF1A\u53EF\u63A7\u5236 \uFF0D \uFF1A\u5373\u4F7F\u6267\u884C\u4E5F\u4E0D\u8FDB\u884C\u4EFB\u4F55\u5904\u7406 \u00D7\uFF1A\u4E0D\u53EF\u63A7\u5236\u3002\u5982\u679C\u6267\u884C\uFF0C\u5219\u4F1A\u5728 Error \u53D8\u4E3ATRUE\u540E\u7ED3\u675F \u00A0 \u00A0 *1: \u5982\u679CMC_CamWrite\u3001MC_CamGenerate\u7684\u6539\u5199\u5BF9\u8C61\u51F8\u8F6E\u662FMC_SyncControl\u5E76\u6B63\u5728\u4F7F\u7528\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u65E0\u6CD5\u6267\u884C\u3002 *2: \u53EA\u6709\u5728\u63D2\u8865\u8FD0\u884C\u6240\u4F7F\u7528\u7684\u8F74\u7FA4\u7EC4\u7684\u914D\u7F6E\u8F74\u76F8\u540C\u7684\u60C5\u51B5\u4E0B\uFF0C\u624D\u53EF\u4EE5\u6267\u884C\u3002\u53E6\u5916\uFF0C\u6839\u636E\u7EC4\u5408\u7684\u63D2\u8865\u8FD0\u884C\u7684\u5185\u5BB9\uFF0C\u53EF\u6307\u5B9A\u7684 BufferMode \u53D7\u5230\u9650\u5236\uFF08\u2192 \u300C\u7F13\u51B2\u7684\u6CE8\u610F\u4E8B\u9879\u300D \uFF09\u3002 *3: \u53EA\u6709\u5728\u72EC\u7ACB\u8FD0\u884C\u7684\u60C5\u51B5\u4E0B\u624D\u53EF\u6267\u884C\u3002\u5728\u63D2\u8865\u8FD0\u884C\u65F6\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u65E0\u6CD5\u6267\u884C\u3002 *4: \u53EA\u6709\u5728MC_MoveToPoint\u7684\u8FD0\u884C\u4E2D\uFF0C\u4F7F\u7528MC_Stop\u6267\u884C\u51CF\u901F\u505C\u6B62\u5E76\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\uFF08 Resumable \u662FTRUE\uFF09\u7684\u60C5\u51B5\u4E0B\u624D\u53EF\u6267\u884C\u3002\u5176\u4ED6\u60C5\u51B5\u90FD\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u65E0\u6CD5\u6267\u884C\u3002 *5: \u65E0\u8BBA BufferMode \u7684\u6307\u5B9A\u5982\u4F55\uFF0C\u90FD\u4F1A\u4F5C\u4E3AAborting\u6267\u884C\u5904\u7406\u3002 *6: \u53EA\u6709\u5728\u72EC\u7ACB\u8FD0\u884C\u7684\u60C5\u51B5\u4E0B\u624D\u53EF\u6267\u884C\u3002\u5728\u63D2\u8865\u8FD0\u884C\u65F6\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u65E0\u6CD5\u6267\u884C\u3002 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684\u6CE8\u610F\u4E8B\u9879 \u672C\u90E8\u5206\u8BF4\u660E\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684\u6CE8\u610F\u4E8B\u9879\u3002 \u258C \u540C\u65F6\u6267\u884C\u4E0D\u540C\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 \u540C\u65F6\u6267\u884C\u4E0D\u540C\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u65F6\uFF0C\u5176\u7ED3\u679C\u4F1A\u56E0\u540C\u65F6\u6267\u884C\u7684\u6307\u4EE4\u7EC4\u5408\u800C\u6709\u6240\u4E0D\u540C\u3002 \u540C\u65F6\u6267\u884C\u591A\u4E2A\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4 \u258C \u6267\u884C\u4EE5Enable\u4E3A\u81EA\u53D8\u91CF\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684\u5176\u4ED6\u5B9E\u4F8B \u8BF7\u4E0D\u8981\u5728\u5176\u4ED6\u5B9E\u4F8B\u4E2D\u8BB0\u8FF0\u5BF9 Axis \u6307\u5B9A\u4E86\u76F8\u540C\u8F74\u7684\u540C\u4E00\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u3002\u5BF9\u7535\u673A\u53D1\u51FA\u7684\u6307\u4EE4\u4E0E\u626B\u63CF\u662F\u5F02\u6B65\u6267\u884C\u7684\uFF0C\u6240\u4EE5\u54EA\u4E2A\u5B9E\u4F8B\u7684\u6307\u4EE4\u4F1A\u88AB\u6267\u884C\u662F\u4E0D\u786E\u5B9A\u7684\u3002\u4E3A\u4E86\u907F\u514D\u5F15\u53D1\u975E\u9884\u671F\u7684\u52A8\u4F5C\uFF0C\u5BF9\u5728 Axis \u4E2D\u6307\u5B9A\u7684\u8F74\uFF0C\u8BF7\u52A1\u5FC5\u53EA\u6267\u884C1\u4E2A\u5B9E\u4F8B\u3002 \u4F8B\uFF09\u6267\u884C\u6307\u5B9A\u4E86\u76F8\u540C\u8F74\uFF08_MC_Axis[#1]\uFF09\u7684\u5176\u4ED6\u5B9E\u4F8B \u00A0 \u6B64\u65F6\uFF0C\u901A\u8FC7MC_Power1\u8FD8\u662FMC_Power2\u6765\u6267\u884C\u6307\u4EE4\u662F\u4E0D\u786E\u5B9A\u7684\u3002\u56E0\u6B64\uFF0C\u53EF\u80FD\u51FA\u73B0\u53CD\u590D\u6267\u884C\u4F3A\u670DON\u548C\u4F3A\u670DOFF\u7684\u52A8\u4F5C\u3002 \u258C \u6267\u884C\u4EE5Execute\u4E3A\u81EA\u53D8\u91CF\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684\u5176\u4ED6\u5B9E\u4F8B \u5982\u679C\u662F\u4E0D\u4EE5 BufferMode \u4F5C\u4E3A\u81EA\u53D8\u91CF\u7684\u6307\u4EE4\uFF0C\u90A3\u4E48\u5728\u5176\u4ED6\u5B9E\u4F8B\u4E2D\u6267\u884C\u5BF9 Axis \u6307\u5B9A\u4E86\u76F8\u540C\u8F74\u7684\u540C\u4E00\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u65F6\uFF0C\u540E\u6267\u884C\u7684\u5B9E\u4F8B\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u4F8B\uFF09\u6267\u884C\u6307\u5B9A\u4E86\u76F8\u540C\u8F74\uFF08_MC_Axis[#1]\uFF09\u7684\u5176\u4ED6\u5B9E\u4F8B \u00A0 2\u4E2A\u5B9E\u4F8B\u7684\u6267\u884C\u6761\u4EF6\u5728\u540C\u4E00\u626B\u63CF\u5185\u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u540E\u6267\u884C\u7684MC_Reset2\u7684 Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u4E0D\u6267\u884C\u6307\u4EE4\u3002 \u00A0 \u5982\u679C\u662F\u4EE5 BufferMode \u4F5C\u4E3A\u81EA\u53D8\u91CF\u7684\u6307\u4EE4\uFF0C\u5219\u53EF\u6839\u636E BufferMode \u7684\u5185\u5BB9\uFF0C\u5728\u5176\u4ED6\u5B9E\u4F8B\u4E2D\u6267\u884C\u5BF9 Axis \u6307\u5B9A\u4E86\u76F8\u540C\u8F74\u7684\u540C\u4E00\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\uFF08\u2192 \u300C\u7F13\u51B2\u300D \uFF09\u3002 \u258C \u91CD\u542F\u5B9E\u4F8B \u5373\u4F7F\u8BA9\u6267\u884C\u4E2D\uFF08 Busy \u662FTRUE\uFF09\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684 Execute \u53D1\u751FTRUE\u2192FALSE\u2192TRUE\u53D8\u5316\uFF0C\u4E5F\u4E0D\u4F1A\u5E94\u7528\u65B0\u7684\u53C2\u6570\u3002\u56E0\u6B64\uFF0C\u5982\u9700\u5728\u8F74\u7684\u52A8\u4F5C\u72B6\u6001\u4E0B\u66F4\u6539\u76EE\u6807\u5750\u6807\u6216\u8FD0\u8F6C\u901F\u5EA6\uFF0C\u8BF7\u5728Aborting\u4E2D\u6267\u884C\u5176\u4ED6\u5B9E\u4F8B\u3002 \u00A0 \u901A\u8FC7MC_MoveToPoint\u6267\u884C\u5B9A\u4F4D\u65F6\uFF0C\u5E94\u4F7F\u7528MC_ChangeTargetPosition/MC_ChangeTargetVelocity\u3002 \u258C \u505C\u6B62\u7C7B\u6307\u4EE4\u548C\u8F74\u63A7\u5236 \u7528\u6765\u505C\u6B62\u8F74\u7684\u4E0B\u8FF0\u6307\u4EE4\u79F0\u4E3A\u505C\u6B62\u7C7B\u6307\u4EE4\u3002 \u2022 MC_Stop\uFF1A\u51CF\u901F\u505C\u6B62 \u2022 MC_GroupStop\uFF1A\u51CF\u901F\u505C\u6B62\uFF08\u8F74\u7FA4\u7EC4\uFF09 \u2022 MC_ImmediateStop\uFF1A\u7ACB\u5373\u505C\u6B62 \u2022 MC_ImmediateStopAll\uFF1A\u7ACB\u5373\u505C\u6B62\u6240\u6709\u8F74 \u5728\u4EFB\u610F\u4E00\u4E2A Execute \u662FTRUE\u7684\u671F\u95F4\u5185\uFF0C\u7528 Axis \u6307\u5B9A\u7684\u8F74\u4E0D\u80FD\u6267\u884C\u65B0\u7684\u8F74\u63A7\u5236\u3002\u6267\u884C\u8F74\u63A7\u5236\u65F6\uFF0C\u8BF7\u5148\u786E\u8BA4\u8FD9\u4E9B\u6307\u4EE4\u7684 Execute \u5DF2\u5168\u90E8\u53D8\u4E3AFALSE\u3002 \u00A0 \u53E6\u5916\uFF0C\u6267\u884C\u63D2\u8865\u8FD0\u884C\u65F6\uFF0C\u5BF9\u4E8E\u6784\u6210\u8F74\u7FA4\u7EC4\u7684\u6240\u6709\u8F74\uFF0C\u505C\u6B62\u7C7B\u6307\u4EE4\u7684 Execute \u5FC5\u987B\u662FFALSE\u3002 \u00A0 \u90E8\u5206Execute\u578B\u6307\u4EE4\u5728Execute\u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C\u4E0D\u4F1A\u505C\u6B62\u3002\u8BF7\u4F7F\u7528\u505C\u6B62\u7C7B\u6307\u4EE4\u6765\u505C\u6B62\u8FD0\u884C\u3002 \u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u901A\u7528\u4E8B\u9879 \u672C\u90E8\u5206\u8BF4\u660E\u5404\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u7684\u901A\u7528\u4E8B\u9879\u3002\u8FD9\u4E9B\u901A\u7528\u4E8B\u9879\u5728\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u4E2D\u4E0D\u518D\u8BB0\u8F7D\u3002 \u258C \u6700\u5927\u8F74\u6570 CPU\u5355\u5143\u7684\u578B\u53F7\u4E0D\u540C\uFF0C\u53EF\u6307\u5B9A\u7684\u8F74\u7F16\u53F7\uFF08\u53EF\u63A7\u5236\u7684\u8F74\u6570\uFF09\u4E5F\u4E0D\u540C\u3002\u5728\u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u4E2D\uFF0C\u5C06\u53EF\u6307\u5B9A\u7684\u8F74\u7F16\u53F7\u8BB0\u8FF0\u4E3AMA\u3002\u5404CPU\u5355\u5143\u7684MA\uFF0C\u8BF7\u53C2\u9605\u300A\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B\u3002 \u258C \u5750\u6807\u5355\u4F4D \u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u4E2D\u8BB0\u8F7D\u7684\u201Cu\u201D\u7B26\u53F7\uFF0C\u8868\u793A\u5728KV STUDIO\u7684\u8F74\u63A7\u5236\u8BBE\u5B9A\u4E2D\u8BBE\u5B9A\u7684\u5750\u6807\u5355\u4F4D\u3002 \u4F8B\uFF09\uFF1A\u5750\u6807\u5355\u4F4D\u6307\u5B9A\u4E3A\u201Cmm\u201D\u65F6 \u8BF7\u5C06\u52A8\u4F5C\u8BF4\u660E\u4E2D\u8BB0\u8F7D\u7684[u/s]\u66FF\u6362\u4E3A[mm/s]\u3002 \u258C \u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 \u5404\u6307\u4EE4\u7684\u52A8\u4F5C\u8BF4\u660E\u4E2D\u8BB0\u8F7D\u7684\u3001\u53EF\u6307\u5B9A\u7684\u503C\u7684\u8303\u56F4\uFF0C\u662F\u4E0E\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u7684\u4E58\u79EF\u3002 \u4F8B\uFF09\uFF1A\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u6307\u5B9A\u4E3A\u201C0.001\u201D\u65F6 \u8BF7\u5C06\u52A8\u4F5C\u8BF4\u660E\u4E2D\u8BB0\u8F7D\u7684\u201C1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u201D\u7684\u8303\u56F4\u66FF\u6362\u4E3A\u201C0.001\uFF5E2000000.000\u201D\u3002 \u901A\u7528\u63A7\u5236FB MC_OperationEnable \u52A8\u4F5C\u5141\u8BB8 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_OperationEnable \u52A8\u4F5C\u5141\u8BB8 FB \u00A0 MC_OperationEnable_instance(Enable,\u00A0Status,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u52A8\u4F5C\u5C31\u7EEA Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u4F7F\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5904\u4E8E\u53EF\u8FD0\u884C\u72B6\u6001\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u4F7F\u7528\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u65F6\uFF0C\u5FC5\u987B\u4F7F\u5176\u5904\u4E8E\u53EF\u8FD0\u884C\u72B6\u6001\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u52A8\u4F5C\u5141\u8BB8\u548C\u4F3A\u670D\u5F00\u542F \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A \u52A8\u4F5C\u5141\u8BB8\u548C\u4F3A\u670D\u5F00\u542F ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_ImmediateStopAll \u7ACB\u5373\u505C\u6B62\u6240\u6709\u8F74 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ImmediateStopAll \u7ACB\u5373\u505C\u6B62\u6240\u6709\u8F74 FB \u00A0 MC_ImmediateStopAll_instance(Execute,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u7ACB\u5373\u505C\u6B62\u6240\u6709\u8F74\u3002 \u5404\u4E2A\u8F74\u7684\u7ACB\u5373\u505C\u6B62\uFF0C\u5E94\u4F7F\u7528 MC_ImmediateStop \u3002 \u00A0 \u5982\u679C\u5728MC_TorqueControl\u3001MC_VelocityControl\u7B49\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u4EE5\u5916\u7684\u63A7\u5236\u6A21\u5F0F\u4E2D\u6267\u884C\u4E86MC_ImmediateStopAll\uFF0C\u5219\u4F1A\u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u4E0B\u5C06\u6307\u4EE4\u901F\u5EA6\u964D\u4E3A0\u5E76\u505C\u6B62\u8F74\u3002\u4E4B\u540E\uFF0C\u5728\u8F74\u7684\u5F53\u524D\u901F\u5EA6\u4F4E\u4E8E\u201C\u5207\u6362\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\u65F6\u7684\u901F\u5EA6\u9608\u503C\u201D\u65F6\uFF0C\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u8FD0\u52A8\u901A\u7528\u8BBE\u5B9A\u7684\u201C\u5F3A\u5236\u505C\u6B62\u9519\u8BEF\u8BBE\u5B9A\u201D\u662F\u201C\u8BBE\u4E3A\u9519\u8BEF\u201D\u65F6\uFF0C\u5982\u679C\u6267\u884C\u672C\u6307\u4EE4\uFF0C\u5219\u5404\u8F74\u4F1A\u53D8\u4E3A\u201C30047 \u5F3A\u5236\u505C\u6B62\u9519\u8BEF\u201D\u3002 MC_SaveParameter \u53C2\u6570\u4FDD\u5B58 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SaveParameter \u53C2\u6570\u4FDD\u5B58 FB \u00A0 MC_SaveParameter_instance(Execute,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5C06\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u53C2\u6570\u4FDD\u5B58\u5230\u95EA\u5B58ROM\u4E2D\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_UpdateSyncContactParameter \u540C\u6B65\u63A5\u70B9\u8F93\u51FA\u53C2\u6570\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_UpdateSyncContactParameter \u540C\u6B65\u63A5\u70B9\u8F93\u51FA\u53C2\u6570\u66F4\u6539 FB \u00A0 MC_UpdateSyncContactParameter_instance(Execute,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5C06\u7CFB\u7EDF\u53D8\u91CF_MC_SyncContactOutputCfg\u7684\u5185\u5BB9\u5E94\u7528\u5230\u52A8\u4F5C\u4E2D\u3002 \u00A0 \u6267\u884CMC_UpdateSyncContactParameter\u65F6\uFF0C\u4E0D\u4F1A\u5C06\u53C2\u6570\u4FDD\u5B58\u5230\u95EA\u5B58ROM\u4E2D\u3002 \u5982\u9700\u4FDD\u5B58\uFF0C\u5E94\u6267\u884C MC_SaveParameter \u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_SetSyncExternalReference \u8BBE\u5B9A\u540C\u6B65\u63A7\u5236\u5916\u90E8\u53C2\u7167\u6307\u4EE4\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SetSyncExternalReference \u8BBE\u5B9A\u540C\u6B65\u63A7\u5236\u5916\u90E8\u53C2\u7167\u6307\u4EE4\u503C FB \u00A0 MC_SetSyncExternalReference_instance(Enable,\u00A0RefNo,\u00A0CmdValue,\u00A0Enabled,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u6709\u6548 RefNo IN UINT 0 \u5916\u90E8\u53C2\u7167\u7F16\u53F7\uFF080\uFF5E47\uFF09 CmdValue IN DINT 0 \u5916\u90E8\u53C2\u7167\u6307\u4EE4\u503C\uFF08-2147483648\uFF5E2147483647\uFF09 Enabled OUT BOOL - \u6307\u4EE4\u503C\u5E94\u7528\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u53D8\u4E3ATRUE\u7684\u671F\u95F4\uFF0C\u5411\u7528 RefNo \u6307\u5B9A\u7684\u5916\u90E8\u53C2\u7167\u5B58\u50A8 CmdValue \u7684\u503C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_RefreshMotionVariable \u66F4\u65B0\u8FD0\u52A8\u7CFB\u7EDF\u53D8\u91CF \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_RefreshMotionVariable \u66F4\u65B0\u8FD0\u52A8\u7CFB\u7EDF\u53D8\u91CF FB \u00A0 MC_RefreshMotionVariable_instance(Enable,\u00A0Target,\u00A0Status,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u6709\u6548 Target IN UINT 0 \u66F4\u65B0\u5BF9\u8C61\uFF080\uFF5EMA\uFF09 Status OUT BOOL - \u66F4\u65B0\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u53D8\u4E3ATRUE\u7684\u671F\u95F4\uFF0C\u6301\u7EED\u5C06_MC_Common\u548C_MC_Axis[Target]\u7684\u503C\u66F4\u65B0\u4E3A\u6700\u65B0\u503C\u3002 \u5BF9 Target \u6307\u5B9A\u4E860\u65F6\uFF0C\u4F1A\u5C06_MC_Common\u7684\u503C\u66F4\u65B0\u4E3A\u6700\u65B0\u503C\u3002 \u00A0 Target \u4E2D\u6307\u5B9A\u4E860\uFF5EMA\u4EE5\u5916\u7684\u7F16\u53F7\u65F6\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 \u57280\uFF5EMA\u7684\u8303\u56F4\u5185\uFF0C\u5373\u4F7F\u5BF9 Target \u6307\u5B9A\u4E86\u8BBE\u5B9A\u4E0A\u4E0D\u5B58\u5728\u7684\u8F74\uFF0C\u4E5F\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 \u4F8B\uFF09\u6CA1\u6709\u8F747\u65F6\uFF0C\u7528 Target =7\u6267\u884C\u4E86MC_RefreshMotionVariable\u65F6 _MC_Axis[7]\u7684\u503C\u4F1A\u88AB\u66F4\u65B0\uFF0C\u4F46\u66F4\u65B0\u503C\u4E0D\u786E\u5B9A\u3002MC_RefreshMotionVariable\u4E0D\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 MC_CamRead \u51F8\u8F6E\u6570\u636E\u8BFB\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_CamRead \u51F8\u8F6E\u6570\u636E\u8BFB\u53D6 FB \u00A0 MC_CamRead_instance(Execute,\u00A0CamNo,\u00A0ReadData,\u00A0Resolution,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 CamNo IN UINT 0 \u51F8\u8F6E\u7F16\u53F7\uFF081\uFF5E256\uFF09 ReadData IN-OUT ARRAY [*] OF LREAL - \u8BFB\u53D6\u6570\u636E Resolution OUT UDINT - \u5206\u8FA8\u7387 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u8BFB\u53D6 CamNo \u4E2D\u6307\u5B9A\u7684\u7F16\u53F7\u7684\u51F8\u8F6E\u6570\u636E\uFF0C\u5B58\u50A8\u5230 ReadData \u4E2D\u3002 \u7528 CamNo \u6307\u5B9A\u7684\u51F8\u8F6E\u7684\u5206\u8FA8\u7387\u662Fn\u65F6\uFF0C\u5728 ReadData \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u5982\u4E0B\u3002 \u5B58\u50A8\u7684\u51F8\u8F6E\u6570\u636E \u5B58\u50A8\u4F4D\u7F6E \u51F8\u8F6E\u6570\u636E\u4E321 ReadData[0] \u51F8\u8F6E\u6570\u636E\u4E322 ReadData[1] : : \u51F8\u8F6E\u6570\u636E\u4E32n ReadData[n-1] Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_CamWrite \u51F8\u8F6E\u6570\u636E\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_CamWrite \u51F8\u8F6E\u6570\u636E\u5199\u5165 FB \u00A0 MC_CamWrite_instance(Execute,\u00A0CamNo,\u00A0WriteData,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 CamNo IN UINT 0 \u51F8\u8F6E\u7F16\u53F7\uFF081\uFF5E256\uFF09 WriteData IN ARRAY [*] OF LREAL - \u5199\u5165\u6570\u636E Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5C06 WriteData \u4E2D\u6307\u5B9A\u7684\u4E0B\u8FF0\u51F8\u8F6E\u6570\u636E\u5B58\u50A8\u5230 CamNo \u6240\u6307\u5B9A\u7F16\u53F7\u7684\u51F8\u8F6E\u6570\u636E\u4E2D\u3002 \u7528 CamNo \u6307\u5B9A\u7684\u51F8\u8F6E\u7684\u5206\u8FA8\u7387\u662Fn\u65F6\uFF0C\u8BF7\u5728 WriteData \u4E2D\u5982\u4E0B\u5B58\u50A8\u6570\u636E\u3002 \u5B58\u50A8\u7684\u51F8\u8F6E\u6570\u636E \u5B58\u50A8\u6E90 \u51F8\u8F6E\u6570\u636E\u4E321 WriteData[0] \u51F8\u8F6E\u6570\u636E\u4E322 WriteData[1] : : \u51F8\u8F6E\u6570\u636E\u4E32n WriteData[n-1] Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 MC_CamWrite\u4E0D\u80FD\u66F4\u6539\u51F8\u8F6E\u7684\u5206\u8FA8\u7387\u3002 MC_CamGenerate \u51F8\u8F6E\u6570\u636E\u81EA\u52A8\u751F\u6210 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_CamGenerate \u51F8\u8F6E\u6570\u636E\u81EA\u52A8\u751F\u6210 FB \u00A0 MC_CamGenerate_instance(Execute,\u00A0CamNo,\u00A0ReadOperation,\u00A0SectionNum,\u00A0SectionInfo,\u00A0Resolution,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 CamNo IN UINT 0 \u51F8\u8F6E\u7F16\u53F7\uFF081\uFF5E256\uFF09 ReadOperation IN BOOL FALSE \u8BFB\u53D6\u52A8\u4F5C SectionNum IN-OUT UINT 0 \u533A\u95F4\u6570\uFF081\uFF5E200\uFF09 SectionInfo IN-OUT ARRAY [*] OF _MC_CAM_SECTION - \u533A\u95F4\u4FE1\u606F Resolution OUT UDINT - \u5206\u8FA8\u7387 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u751F\u6210\u51F8\u8F6E\u6570\u636E\u6216\u8BFB\u53D6\u51F8\u8F6E\u7684\u4FE1\u606F\u3002 \u2022 ReadOperation \u662FTRUE\u65F6 \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u8BFB\u53D6\u7528 CamNo \u6307\u5B9A\u7684\u51F8\u8F6E\u7684\u4FE1\u606F\uFF0C\u5728 SectionNum \u4E2D\u5B58\u50A8\u533A\u95F4\u6570\uFF0C\u5728 SectionInfo \u4E2D\u5B58\u50A8\u533A\u95F4\u4FE1\u606F\uFF0C\u5728 Resolution \u4E2D\u5B58\u50A8\u5206\u8FA8\u7387\u3002 \u2022 ReadOperation \u662FFALSE\u65F6 \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u4ECE SectionInfo \u4E2D\u8BFB\u53D6 SectionNum \u6240\u6307\u5B9A\u533A\u95F4\u6570\u7684\u4FE1\u606F\uFF0C\u66F4\u65B0 CamNo \u6240\u6307\u5B9A\u51F8\u8F6E\u7684\u4FE1\u606F\uFF0C\u751F\u6210\u51F8\u8F6E\u6570\u636E\u3002 \u00A0 _MC_CAM_SELECTION\u7684\u6570\u636E\u7C7B\u578B\u5982\u4E0B\u3002 \u53D8\u91CF\u540D \u00A0 \u5185\u5BB9 \u6570\u636E\u7C7B\u578B \u00A0 \u6210\u5458\u540D \uFF08\u7528\u6237\u6307\u5B9A\uFF09 \u00A0 ARRAY[*] OF _MC_CAM_SECTION Phase \u76F8\u4F4D UDINT Curve \u51F8\u8F6E\u66F2\u7EBF UINT Displacement \u4F4D\u79FB LREAL StartVel *1 \u5F00\u59CB\u901F\u5EA6V0 INT EndVel *2 \u7ED3\u675F\u901F\u5EA6V1 INT StartAcc * 3 \u5F00\u59CB\u52A0\u901F\u5EA6A0 INT EndAcc * 4 \u7ED3\u675F\u52A0\u901F\u5EA6A1 INT *1: \u4EC5\u5728\u5BF9\u51F8\u8F6E\u66F2\u7EBF\u6307\u5B9A\u4E86\u4E09\u6B21\u66F2\u7EBF\u3001\u4E94\u6B21\u66F2\u7EBF\u65F6\u6709\u6548\u3002 *2: \u4EC5\u5728\u5BF9\u51F8\u8F6E\u66F2\u7EBF\u6307\u5B9A\u4E86\u4E09\u6B21\u66F2\u7EBF\u3001\u4E94\u6B21\u66F2\u7EBF\u3001\u81EA\u7531\u66F2\u7EBF\uFF08\u4E94\u6B21\u6837\u6761\u3001\u901F\u5EA6\u6307\u5B9A\uFF09\u3001\u81EA\u7531\u66F2\u7EBF\uFF08\u4E94\u6B21\u6837\u6761\u3001\u901F\u5EA6\u3001\u52A0\u901F\u5EA6\u6307\u5B9A\uFF09\u65F6\u6709\u6548\u3002 *3: \u4EC5\u5728\u5BF9\u51F8\u8F6E\u66F2\u7EBF\u6307\u5B9A\u4E86\u4E94\u6B21\u66F2\u7EBF\u65F6\u6709\u6548\u3002 *4: \u4EC5\u5728\u5BF9\u51F8\u8F6E\u66F2\u7EBF\u6307\u5B9A\u4E86\u4E94\u6B21\u66F2\u7EBF\u3001\u81EA\u7531\u66F2\u7EBF\uFF08\u4E94\u6B21\u6837\u6761\u3001\u901F\u5EA6\u3001\u52A0\u901F\u5EA6\u6307\u5B9A\uFF09\u65F6\u6709\u6548\u3002 \u00A0 \u5728\u8BBE\u5B9A\u5206\u8FA8\u7387\u662F2048\u3001\u533A\u95F4\u662F\u5982\u4E0B\u6240\u793A\u76843\u4E2A\u7B49\u901F\uFF08\u7F16\u53F70\uFF09\u7684\u51F8\u8F6E\u66F2\u7EBF\u65F6\uFF0C\u5E94\u5982\u4E0B\u8FDB\u884C\u8BBE\u5B9A\u3002 \u00A0 \u53D8\u91CF\u540D \u00A0 \u8BBE\u5B9A\u503C \u5185\u5BB9 \u6210\u5458\u540D SectionInfo[0] \u00A0 \u533A\u95F40 \u00A0 Phase 500 \u76F8\u4F4D \u00A0 Curve 0\uFF08\u7B49\u901F\u5EA6\uFF09 \u51F8\u8F6E\u66F2\u7EBF \u00A0 Displacement 20,0 \u4F4D\u79FB SectionInfo[1] \u00A0 \u533A\u95F41 \u00A0 Phase 2000 \u76F8\u4F4D \u00A0 Curve 0\uFF08\u7B49\u901F\u5EA6\uFF09 \u51F8\u8F6E\u66F2\u7EBF \u00A0 Displacement 100,0 \u4F4D\u79FB SectionInfo[2] \u00A0 \u533A\u95F42 \u00A0 Phase 2048 \u76F8\u4F4D \u00A0 Curve 0\uFF08\u7B49\u901F\u5EA6\uFF09 \u51F8\u8F6E\u66F2\u7EBF \u00A0 Displacement 0,0 \u4F4D\u79FB \u00A0 \u76F8\u4F4D\u5E94\u8BBE\u5B9A\u8BE5\u533A\u95F4\u7ED3\u675F\u4F4D\u7F6E\u7684\u76F8\u4F4D\u3002 \u7528Curve\u6307\u5B9A\u7684\u51F8\u8F6E\u66F2\u7EBF\u5982\u4E0B\u3002 0: \u7B49\u901F\u5EA6 8: \u5355\u505C\u7559\u6446\u7EBF m=1 16: \u65E0\u505C\u7559\u53D8\u5F62\u7B49\u901F\u5EA6 1: \u7B49\u52A0\u901F\u5EA6 9: \u5355\u505C\u7559\u6446\u7EBF m=2/3 17: NC2 \u66F2\u7EBF 2: \u7B80\u8C10 10: \u5355\u505C\u7559\u53D8\u5F62\u68AF\u5F62 m=1 18: \u975E\u5BF9\u79F0\u6446\u7EBF 3: \u6446\u7EBF 11: \u5355\u505C\u7559\u53D8\u5F62\u68AF\u5F62 m=2/3 19: \u975E\u5BF9\u79F0\u53D8\u5F62\u68AF\u5F62 4: \u53D8\u5F62\u68AF\u5F62 12: \u5355\u505C\u7559\u53D8\u5F62\u68AF\u5F62 Ferguson 20: \u4E09\u6B21\u66F2\u7EBF 5: \u53D8\u5F62\u6B63\u5F26 13: \u5355\u505C\u7559\u53D8\u5F62\u6B63\u5F26 21: \u4E94\u6B21\u66F2\u7EBF 6: \u53D8\u5F62\u7B49\u901F\u5EA6 14: \u5355\u505C\u7559Trapezoid\u66F2\u7EBF 22: \u81EA\u7531\u66F2\u7EBF\uFF08\u4E94\u6B21\u6837\u6761\uFF09 7: Trapezoid\u66F2\u7EBF 15: \u65E0\u505C\u7559\u53D8\u5F62\u68AF\u5F62 23: \u81EA\u7531\u66F2\u7EBF\uFF08\u4E94\u6B21\u6837\u6761\u3001\u901F\u5EA6\u6307\u5B9A\uFF09 \u00A0 \u00A0 24: \u81EA\u7531\u66F2\u7EBF\uFF08\u4E94\u6B21\u6837\u6761\u3001\u901F\u5EA6\u3001\u52A0\u901F\u5EA6\u6307\u5B9A\uFF09 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 MC_ClearMaxCycleTime \u6E05\u9664\u5904\u7406\u65F6\u95F4\u6700\u5927\u503C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ClearMaxCycleTime \u6E05\u9664\u5904\u7406\u65F6\u95F4\u6700\u5927\u503C FB \u00A0 MC_ClearMaxCycleTime_instance(Enable,\u00A0Status,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u6E05\u9664\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5C06_MC_Common.Performance.MaxCycleTime/_MC_Common.Performance.MaxLoadFactor\u6E05\u9664\u4E3A0\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u8F74\u63A7\u5236FB MC_Power \u4F3A\u670DON \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_Power \u4F3A\u670DON FB \u00A0 MC_Power_instance(Axis,\u00A0Enable,\u00A0Status,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u4F3A\u670D\u5C31\u7EEA Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u53D8\u4E3ATRUE\u65F6\uFF0C\u8BF7\u6C42\u4F3A\u670DON\u3002 \u5728 Enable \u53D8\u4E3AFALSE\u65F6\uFF0C\u89E3\u9664\u4F3A\u670DON\u8BF7\u6C42\u3002 \u8F74\u53D8\u4E3A\u4F3A\u670D\u5C31\u7EEA\u72B6\u6001\uFF08\u72B6\u6001\u5B57\u7684bit2\uFF08operation enabled\uFF09\u662FTRUE\uFF09\u65F6\uFF0C Status \u53D8\u4E3ATRUE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 \u5982\u679C\u662F\u865A\u62DF\u8F74\uFF0C\u5219\u5373\u4F7F Enable \u53D8\u4E3AFALSE\uFF0C Status \u4E5F\u4F1A\u59CB\u7EC8\u4FDD\u6301TRUE\u3002 \u2022 \u8BF7\u52A1\u5FC5\u5C06MC_Power\u8BBE\u4E3A\uFF0C\u5BF91\u4E2A\u8F74\u53EA\u914D\u7F6E1\u4E2A\u5B9E\u4F8B\u3002\u5982\u679C\u914D\u7F6E\u591A\u4E2A\u5B9E\u4F8B\uFF0C\u5219\u53EF\u80FD\u53D1\u751F\u4F3A\u670D\u53CD\u590DON/OFF\u7B49\u975E\u9884\u671F\u7684\u52A8\u4F5C\u3002 \u2022 \u5373\u4F7F\u53D1\u751F\u8F74\u9519\u8BEF\uFF0C\u4F46\u6839\u636E\u9519\u8BEF\u7684\u5185\u5BB9\uFF0C\u53EF\u80FD\u51FA\u73B0MC_Power\u7684 Error \u4E0D\u53D8\u4E3ATRUE\uFF0C\u4EC5 Status \u53D8\u4E3AFALSE\u7684\u73B0\u8C61\u3002\u6B64\u65F6\uFF0C\u4F1A\u53D8\u4E3A\u6301\u7EED\u8BF7\u6C42\u4F3A\u670DON\u7684\u72B6\u6001\u3002\u8BF7\u6839\u636E ErrorID \u7684\u5185\u5BB9\uFF0C\u91C7\u53D6\u5C06 Enable \u7F6E\u4E8EFALSE\u7B49\u89E3\u51B3\u63AA\u65BD\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u52A8\u4F5C\u5141\u8BB8\u548C\u4F3A\u670D\u5F00\u542F \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A \u52A8\u4F5C\u5141\u8BB8\u548C\u4F3A\u670D\u5F00\u542F ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_Reset \u6E05\u9664\u8F74\u9519\u8BEF\uFF0F\u9A71\u52A8\u5668\u62A5\u8B66 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_Reset \u6E05\u9664\u8F74\u9519\u8BEF\uFF0F\u9A71\u52A8\u5668\u62A5\u8B66 FB \u00A0 MC_Reset_instance(Axis,\u00A0Execute,\u00A0Done,\u00A0Busy,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u6E05\u9664\u8F74\u9519\u8BEF\u3002 \u5982\u679C\u8F74\u5904\u4E8E\u9A71\u52A8\u5668\u62A5\u8B66\u4E2D\uFF0C\u5219\u4F1A\u5728\u8BF7\u6C42\u6E05\u9664\u9A71\u52A8\u5668\u62A5\u8B66\u4E4B\u540E\uFF0C\u6E05\u9664\u8F74\u9519\u8BEF\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u6E05\u9664\u9519\u8BEF \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A \u6E05\u9664\u9519\u8BEF ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_Home \u539F\u70B9\u590D\u5F52 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_Home \u539F\u70B9\u590D\u5F52 FB \u00A0 MC_Home_instance(Axis,\u00A0Execute,\u00A0Position, Done,\u00A0Busy,\u00A0CommandAborted,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Position IN LREAL 0,0 \u539F\u70B9\u5750\u6807 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 \u539F\u70B9\u590D\u5F52\u5B8C\u6210\u540E\uFF0C\u5C06 Position \u7684\u503C\u8BBE\u4E3A\u5F53\u524D\u5750\u6807\u3002 \u539F\u70B9\u590D\u5F52\u7684\u65B9\u6CD5\u4EE5\u53CA\u901F\u5EA6\u3001\u52A0\u901F\u5EA6\u3001\u51CF\u901F\u5EA6\u3001\u722C\u884C\u901F\u5EA6\u3001\u52A0\u51CF\u901F\u66F2\u7EBF\u7B49\u9879\u76EE\u53D6\u51B3\u4E8E\u8F74\u63A7\u5236\u8BBE\u5B9A\u3002 \u00A0 \u52A8\u4F5C\u4E2D\u7684\u539F\u70B9\u590D\u5F52\u901F\u5EA6\u53EF\u901A\u8FC7 MC_ChangeTargetVelocity \u8FDB\u884C\u6682\u65F6\u66F4\u6539\uFF08\u4E0D\u80FD\u66F4\u6539\u722C\u884C\u901F\u5EA6\uFF09\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u539F\u70B9\u590D\u5F52 \u68AF\u5F62\u56FE\uFF1A \u539F\u70B9\u590D\u5F52/\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 \u68AF\u5F62\u56FE\uFF1A \u539F\u70B9\u590D\u5F52/\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8 \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A \u539F\u70B9\u590D\u5F52 ST\uFF1A \u539F\u70B9\u590D\u5F52/\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 ST\uFF1A \u539F\u70B9\u590D\u5F52/\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8 ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_Stop \u51CF\u901F\u505C\u6B62 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_Stop \u51CF\u901F\u505C\u6B62 FB \u00A0 MC_Stop_instance(Axis,\u00A0Execute,\u00A0Deceleration,\u00A0Jerk,\u00A0Done,\u00A0Busy,\u00A0CommandAborted,\u00A0Error,\u00A0ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387[%] 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387\uFF09 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u8BA9\u8F74\u51CF\u901F\u505C\u6B62\u3002 \u00A0 (1) \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u51CF\u901F\u505C\u6B62\u8F74\u3002 Busy \u53D8\u4E3ATRUE\uFF0C\u8FDB\u5165\u8F74\u4E0D\u53EF\u63A7\u5236\u72B6\u6001\u3002 (2) \u6307\u4EE4\u901F\u5EA6\u53D8\u4E3A0\u65F6\uFF0C Busy \u53D8\u4E3AFALSE\uFF0C Done \u53D8\u4E3ATRUE\u3002 (3) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u53D8\u4E3AFALSE\uFF0C\u8FDB\u5165\u8F74\u53EF\u63A7\u5236\u72B6\u6001\u3002 (4) \u5982\u679C\u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\u6307\u4EE4\u901F\u5EA6\u5DF2\u7ECF\u662F0\uFF0C\u5219 Done \u4F1A\u53D8\u4E3ATRUE\uFF0C\u8FDB\u5165\u8F74\u4E0D\u53EF\u63A7\u5236\u72B6\u6001\u3002 Busy \u4E0D\u4F1A\u53D8\u4E3ATRUE\u3002 (5) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u53D8\u4E3AFALSE\uFF0C\u8FDB\u5165\u8F74\u53EF\u63A7\u5236\u72B6\u6001\u3002 \u00A0 \u5728\u8F74\u4E0D\u53EF\u63A7\u5236\u72B6\u6001\u4E0B\uFF0C\u9664\u4E86\u53EF\u901A\u8FC7MC_ImmediateStopAll\u3001MC_ImmediateStop\u6267\u884C\u7ACB\u5373\u505C\u6B62\u4E4B\u5916\uFF0C\u4E0D\u80FD\u6267\u884C\u5176\u4ED6\u8F74\u63A7\u5236\u529F\u80FD\u3002 \u00A0 \u5B9A\u4F4D\u4E2D\u7684\u51CF\u901F\u505C\u6B62\u4F1A\u56E0\u6307\u5B9A\u7684\u51CF\u901F\u5EA6\u548C\u5230\u76EE\u6807\u5750\u6807\u7684\u5269\u4F59\u8DDD\u79BB\u800C\u6267\u884C\u4E0D\u540C\u7684\u52A8\u4F5C\u3002 \u2022 \u6700\u7EC8\u51CF\u901F\u4E2D \u65E0\u8BBA\u6307\u5B9A\u7684\u51CF\u901F\u5EA6\u548C\u8DC3\u5EA6\u5982\u4F55\uFF0C\u90FD\u4F1A\u6309\u539F\u6765\u7684\u51CF\u901F\u66F2\u7EBF\u51CF\u901F\u3002 MC_Stop\u5728\u51CF\u901F\u5B8C\u6210\u65F6\u6B63\u5E38\u7ED3\u675F\uFF08 Error \u548C CommandAborted \u4E0D\u53D8\u4E3ATRUE\uFF09\u3002 \u00A0 \u2022 \u5176\u4ED6\u60C5\u51B5\u4E0B MC_Stop\u542F\u52A8\u540E\uFF0C\u6309\u6307\u5B9A\u7684\u51CF\u901F\u5EA6\u5F00\u59CB\u51CF\u901F\u3002 \u5982\u679C\u8D85\u51FA\u5728MC_Stop\u4E4B\u524D\u542F\u52A8\u7684\u5B9A\u4F4D\u63A7\u5236\u7684\u76EE\u6807\u5750\u6807\uFF0C\u5219\u4F1A\u5728\u5230\u8FBE\u76EE\u6807\u5750\u6807\u65F6\u7ACB\u5373\u505C\u6B62\u3002 \u00A0 \u5982\u679C\u6709\u7F13\u51B2\u7684FB\uFF0C\u5219\u5373\u4F7F\u5230\u8FBE\u4E86\u7B2C1\u4E2AFB\u7684\u76EE\u6807\u5750\u6807\uFF0C\u4E5F\u4E0D\u4F1A\u7ACB\u5373\u505C\u6B62\u3002 \u4F1A\u5728\u5230\u8FBE\u7B2C2\u4E2AFB\u7684\u76EE\u6807\u5750\u6807\u65F6\u7ACB\u5373\u505C\u6B62\u3002 \u00A0 \u00A0 \u2022 \u542F\u52A8MC_Stop\u540E\uFF0C\u5BF9\u8BE5\u8F74\u7F13\u51B2\u7684\u6307\u4EE4\u4F1A\u88AB\u4E22\u5F03\uFF0C\u5E76\u4E2D\u65AD\u5904\u7406\uFF08\u88AB\u4E22\u5F03\u7684\u6307\u4EE4\u7684 CommandAborted \u53D8\u4E3ATRUE\uFF09\u3002 \u2022 \u4E0B\u8FF0\u60C5\u51B5\u4E0B\u4E0D\u80FD\u6267\u884CMC_Stop\u3002\u5982\u679C\u6267\u884C\uFF0C\u5219\u4F1A\u4F7F Error \u53D8\u4E3ATRUE\u3002 \u2012 \u6B63\u5728\u5BF9\u540C\u4E00\u8F74\u6267\u884C\u5176\u4ED6MC_Stop \u2012 \u6B63\u5728\u5BF9\u540C\u4E00\u8F74\u6267\u884CMC_ImmediateStop \u2012 \u6B63\u5728\u5BF9\u540C\u4E00\u8F74\u6267\u884CMC_ImmediateStopAll \u2022 \u5982\u679C\u5728MC_TorqueControl\u3001MC_VelocityControl\u7B49\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u4EE5\u5916\u7684\u63A7\u5236\u6A21\u5F0F\u4E2D\u6267\u884C\u4E86MC_Stop\uFF0C\u5219\u4F1A\u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u4E0B\u5C06\u6307\u4EE4\u901F\u5EA6\u964D\u4E3A0\u5E76\u505C\u6B62\u8F74\u3002\u4E4B\u540E\uFF0C\u5728\u8F74\u7684\u5F53\u524D\u901F\u5EA6\u4F4E\u4E8E\u201C\u5207\u6362\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\u65F6\u7684\u901F\u5EA6\u9608\u503C\u201D\u65F6\uFF0C\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002\u6B64\u65F6\uFF0C\u4E0D\u4F7F\u7528 Deceleration \u548C Jerk \u3002 \u2022 \u8BF7\u5728\u6307\u5B9A Deceleration \u65F6\uFF0C\u786E\u4FDD\u51CF\u901F\u65F6\u95F4\u4E0D\u4F1A\u8D85\u8FC7131\u79D2\u3002\u5982\u679C\u8D85\u8FC7\uFF0C\u5219\u4F1A\u4F7F Error \u53D8\u4E3ATRUE\u3002 \u2022 \u8BF7\u5728\u6307\u5B9A Deceleration \u65F6\uFF0C\u786E\u4FDD\u5230\u5F00\u59CB\u51CF\u901F\u7684\u79FB\u52A8\u8DDD\u79BB\u4E0D\u4F1A\u8D85\u8FC74,294,967,296\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6[u]\u3002\u5982\u679C\u8D85\u8FC7\uFF0C\u5219\u4F1A\u4F7F Error \u53D8\u4E3ATRUE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_ImmediateStop \u7ACB\u5373\u505C\u6B62 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ImmediateStop \u7ACB\u5373\u505C\u6B62 FB \u00A0 MC_ImmediateStop_instance(Axis, Execute, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u7ACB\u5373\u505C\u6B62\u7528 Axis \u6307\u5B9A\u7684\u8F74\u3002 \u7ACB\u5373\u505C\u6B62\u8FC7\u7A0B\u4E2D\uFF0C\u4E0D\u80FD\u6267\u884C\u5176\u4ED6\u8F74\u63A7\u5236\u529F\u80FD\u3002 \u7ACB\u5373\u505C\u6B62\u540E\uFF0C\u5C06 Execute \u7F6E\u4E8EFALSE\uFF0C\u53EF\u6267\u884C\u8F74\u63A7\u5236\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 \u542F\u52A8MC_ImmediateStop\u540E\uFF0C\u5BF9\u8BE5\u8F74\u7F13\u51B2\u7684\u6307\u4EE4\u4F1A\u88AB\u4E22\u5F03\uFF0C\u5E76\u4E2D\u65AD\u5904\u7406\uFF08\u88AB\u4E22\u5F03\u7684\u6307\u4EE4\u7684 CommandAborted \u53D8\u4E3ATRUE\uFF09\u3002 \u2022 \u5982\u679C\u5728MC_TorqueControl\u3001MC_VelocityControl\u7B49\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u4EE5\u5916\u7684\u63A7\u5236\u6A21\u5F0F\u4E2D\u6267\u884C\u4E86MC_ImmediateStop\uFF0C\u5219\u4F1A\u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u4E0B\u5C06\u6307\u4EE4\u901F\u5EA6\u964D\u4E3A0\u5E76\u505C\u6B62\u8F74\u3002\u4E4B\u540E\uFF0C\u5728\u8F74\u7684\u5F53\u524D\u901F\u5EA6\u4F4E\u4E8E\u201C\u5207\u6362\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\u65F6\u7684\u901F\u5EA6\u9608\u503C\u201D\u65F6\uFF0C\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002 \u2022 \u6267\u884C\u672C\u6307\u4EE4\uFF0C\u4E0D\u4F1A\u53D1\u751F\u8F74\u9519\u8BEF\u201C30047 \u5F3A\u5236\u505C\u6B62\u9519\u8BEF\u201D\u3002 MC_Jog JOG \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_Jog JOG FB \u00A0 MC_Jog_instance(Axis, JogForward, JogBackward, Fast, Velocity, VelocityFast, InchingMovement, Acceleration, Deceleration, Jerk, Done, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 JogForward IN BOOL - JOG\u6B63\u65B9\u5411 JogBackward IN BOOL FALSE JOG\u8D1F\u65B9\u5411 Fast IN BOOL FALSE \u9AD8\u901FJOG Velocity IN LREAL 0,0 \u8D77\u52A8\u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 VelocityFast IN LREAL 0,0 \u9AD8\u901F\u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 InchingMovement IN LREAL 0,0 \u5BF8\u52A8\u79FB\u52A8\u91CF[u] 0\uFF1A\u5BF9\u5E94\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u7684\u6700\u5C0F\u79FB\u52A8\u91CF 1\uFF5E2147483647\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 JogForward \u6216 JogBackward \u662FTRUE\u7684\u671F\u95F4\uFF0C\u6267\u884C\u6B63\u65B9\u5411\u6216\u8D1F\u65B9\u5411\u7684JOG\u8FD0\u8F6C\u3002 JogForward \u6216 JogBackward \u53D8\u4E3ATRUE\u65F6\uFF0C\u53EA\u79FB\u52A8\u7528 InchingMovement \u6307\u5B9A\u7684\u79FB\u52A8\u91CF\u3002\u4E4B\u540E\uFF0C\u5982\u679CTRUE\u72B6\u6001\u6301\u7EED200ms\u4EE5\u4E0A\uFF0C\u5219\u4F1A\u6309JOG\u542F\u52A8\u901F\u5EA6\u6267\u884CJOG\u8FD0\u8F6C\u3002 TRUE\u72B6\u6001\u4E0D\u8DB3200ms\u65F6\uFF0C\u5219\u53EA\u79FB\u52A8\u7528 InchingMovement \u6307\u5B9A\u7684\u79FB\u52A8\u91CF\uFF08\u5BF8\u52A8\u8FD0\u8F6C\uFF09\u3002\u4F46\u662F\uFF0C\u5982\u679C Fast \u662FTRUE\uFF0C\u5219\u4E0D\u4F1A\u7B49\u5F85\u7ECF\u8FC7200ms\uFF0C\u800C\u662F\u6309 VelocityFast \u6267\u884CJOG\u8FD0\u8F6C\u3002 \u00A0 \u00A0 \u52A8\u4F5C\u4E2D\u7684JOG\u901F\u5EA6\u53EF\u901A\u8FC7 MC_ChangeTargetVelocity \u8FDB\u884C\u66F4\u6539\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 JogForward \u548C JogBackward \u90FD\u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4F18\u5148\u5904\u7406\u5148\u53D8\u4E3ATRUE\u7684\u6307\u4EE4\u3002\u5728\u540C\u4E00\u626B\u63CF\u5185\u540C\u65F6\u5C06 JogForward \u548C JogBackward \u90FD\u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4F18\u5148\u5904\u7406 JogForward \u3002 \u2022 \u5982\u679C\u5728JOG\u8FD0\u8F6C\u7ED3\u675F\u65F6\u7684\u51CF\u901F\u8FC7\u7A0B\u4E2D\u5C06 JogForward \u6216 JogBackward \u8BBE\u4E3ATRUE\uFF0C\u5219\u4F1A\u53D1\u751F\u8F74\u63A7\u5236\u4E2D\u8B66\u544A\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A JOG \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A JOG ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_SetPosition \u66F4\u6539\u5F53\u524D\u5750\u6807 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SetPosition \u66F4\u6539\u5F53\u524D\u5750\u6807 FB \u00A0 MC_SetPosition_instance(Axis, Execute, Position, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Position IN LREAL 0,0 \u5750\u6807[u] Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5C06\u5F53\u524D\u5750\u6807\u66F4\u6539\u4E3A Position \u7684\u503C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 [\u5750\u6807\u6A21\u5F0F]\u662F[\u65CB\u8F6C]\u65F6\uFF0C\u66F4\u6539\u4E3A0\uFF5E[\u5750\u6807\u5468\u671F]\u8303\u56F4\u5185\u7684\u503C\u3002 \u4F8B\uFF09\u5750\u6807\u5468\u671F\u662F360.00deg\u3001 Position \u662F540.00\u65F6\uFF0C\u4F1A\u5C06\u5F53\u524D\u5750\u6807\u66F4\u6539\u4E3A180.00deg\u3002 MC_SetOverride \u91CD\u5199 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SetOverride \u91CD\u5199 FB \u00A0 MC_SetOverride_instance(Axis, Enable, VelFactor, Enabled, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 VelFactor IN LREAL 1.00 \u901F\u5EA6\u500D\u7387\uFF080.00\uFF5E3.00\uFF09 Enabled OUT BOOL - \u500D\u7387\u503C\u66F4\u65B0\u4E2D Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u6301\u7EED\u7528 VelFactor \u7684\u503C\u66F4\u65B0\u500D\u7387\u503C\u3002 \u901F\u5EA6\u500D\u7387\u7684\u503C\u6309\u7167\u5C060.001\u4F4D\u56DB\u820D\u4E94\u5165\u540E\u7684\u503C\u5904\u7406\u3002 \u4F8B\uFF09 VelFactor  \uFF1D0.6666\u65F6\uFF0C\u4F1A\u4F5C\u4E3A0.67\uFF0867%\uFF09\u8FDB\u884C\u5904\u7406\u3002 \u00A0 \u5C06 Enable \u7F6E\u4E8EFALSE\u65F6\uFF0C\u4F1A\u505C\u6B62\u66F4\u65B0\u3002 \u6B64\u65F6\uFF0C\u500D\u7387\u503C\u4FDD\u6301\u4E3A\u5F53\u524D\u7684 VelFactor \u7684\u503C\u3002\u4E0D\u4F1A\u81EA\u52A8\u8FD4\u56DE1.00\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_MoveAbsolute \u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveAbsolute \u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 FB \u00A0 MC_MoveAbsolute_instance(Axis, Execute, Position, Velocity, Acceleration, Deceleration, Jerk, Direction, BufferMode, Done, Busy, Active, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Position IN LREAL 0,0 \u76EE\u6807\u5750\u6807[u] -2147483648\uFF5E2147483647\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 Direction IN UINT 0 \u65CB\u8F6C\u65B9\u5411 0\uFF1A\u6B63\u65B9\u5411\uFF08_MC_Dir_Positive\uFF09 1\uFF1A\u62E9\u8FD1\uFF08_MC_Dir_Shortest\uFF09 2\uFF1A\u8D1F\u65B9\u5411\uFF08_MC_Dir_Negative\uFF09 BufferMode IN UINT 0 \u7F13\u51B2\u6A21\u5F0F\uFF080\uFF5E5\uFF09 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6267\u884C\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236\uFF0C\u79FB\u81F3\u7528 Position \u6307\u5B9A\u7684\u4F4D\u7F6E\u3002 \u00A0 (1) Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u5F00\u59CB\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u5230 Position \u3002\u4F7F\u7528 Acceleration \u8FDB\u884C\u52A0\u901F\u3002 (2) \u8FD0\u8F6C\u901F\u5EA6\u8FBE\u5230 Velocity \u65F6\uFF0C\u4EE5 Velocity \u7684\u901F\u5EA6\u8FDB\u884C\u8FD0\u8F6C\u3002 (3) \u5728\u63A5\u8FD1 Position \u5904\u6839\u636E Deceleration \u51CF\u901F\u3002 (4) \u5230\u8FBE Position \u540E\u505C\u6B62\uFF0C Done \u53D8\u4E3ATRUE\u3002 (5) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 \u00A0 \uFF3B\u5750\u6807\u6A21\u5F0F\uFF3D\u662F\uFF3B\u65CB\u8F6C\uFF3D\u65F6\uFF0C\u4F1A\u5B9A\u4F4D\u52300\uFF5E\uFF3B\u5750\u6807\u5468\u671F\uFF3D\u8303\u56F4\u5185\u7684\u4F4D\u7F6E\u3002 \u4F8B\uFF09\u5750\u6807\u5468\u671F\u662F360.00deg\u3001 Position \u662F540.00\u65F6\uFF0C\u4F1A\u5B9A\u4F4D\u5230180.00deg\u7684\u4F4D\u7F6E\u4E0A\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8FDE\u7EED\u5B9A\u4F4D \u68AF\u5F62\u56FE\uFF1A \u8FDE\u7EED\u5B9A\u4F4D\uFF08\u7F13\u51B2\u6A21\u5F0F\uFF09 \u68AF\u5F62\u56FE\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A \u8FDE\u7EED\u5B9A\u4F4D ST\uFF1A \u8FDE\u7EED\u5B9A\u4F4D\uFF08\u7F13\u51B2\u6A21\u5F0F\uFF09 ST\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_MoveRelative \u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveRelative \u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 FB \u00A0 MC_MoveRelative_instance(Axis, Execute, Distance, Velocity, Acceleration, Deceleration, Jerk, BufferMode, Done, Busy, Active, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Distance IN LREAL 0,0 \u79FB\u52A8\u8DDD\u79BB[u] -2147483648\uFF5E2147483647\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 BufferMode IN UINT 0 \u7F13\u51B2\u6A21\u5F0F\uFF080\uFF5E5\uFF09 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6309 Distance \u6307\u5B9A\u7684\u8DDD\u79BB\uFF0C\u6267\u884C\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236\u3002 \u00A0 (1) Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u5F00\u59CB\u6309 Distance \u6307\u5B9A\u7684\u8DDD\u79BB\u6267\u884C\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u3002\u4F7F\u7528 Acceleration \u8FDB\u884C\u52A0\u901F\u3002 (2) \u8FD0\u8F6C\u901F\u5EA6\u8FBE\u5230 Velocity \u65F6\uFF0C\u4EE5 Velocity \u7684\u901F\u5EA6\u8FDB\u884C\u8FD0\u8F6C\u3002 (3) \u79FB\u52A8\u8DDD\u79BB\u63A5\u8FD1 Distance \u65F6\uFF0C\u6839\u636E Deceleration \u51CF\u901F\u3002 (4) \u79FB\u52A8\u8DDD\u79BB\u5230\u8FBE Distance \u540E\u505C\u6B62\uFF0C Done \u53D8\u4E3ATRUE\u3002 (5) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8FDE\u7EED\u5B9A\u4F4D \u68AF\u5F62\u56FE\uFF1A \u8FDE\u7EED\u5B9A\u4F4D\uFF08\u7F13\u51B2\u6A21\u5F0F\uFF09 \u68AF\u5F62\u56FE\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 \u68AF\u5F62\u56FE\uFF1A \u5355\u8F74\u63A7\u5236 ST\uFF1A \u8FDE\u7EED\u5B9A\u4F4D ST\uFF1A \u8FDE\u7EED\u5B9A\u4F4D\uFF08\u7F13\u51B2\u6A21\u5F0F\uFF09 ST\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 ST\uFF1A \u5355\u8F74\u63A7\u5236 MC_MoveVelocity \u901F\u5EA6\u63A7\u5236\uFF08CSP\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveVelocity \u901F\u5EA6\u63A7\u5236\uFF08CSP\uFF09 FB \u00A0 MC_MoveVelocity_instance(Axis, Execute, Velocity, Acceleration, Deceleration, Jerk, Direction, InVelocity, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 Direction IN UINT 0 \u65CB\u8F6C\u65B9\u5411 0\uFF1A\u6B63\u65B9\u5411 \uFF08_MC_Dir_Positive\uFF09 2\uFF1A\u8D1F\u65B9\u5411 \uFF08_MC_Dir_Negative\uFF09 InVelocity OUT BOOL - \u6307\u4EE4\u901F\u5EA6\u5230\u8FBE Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u4E0B\u5F00\u59CB\u6A21\u62DF\u901F\u5EA6\u63A7\u5236\u3002 \u6267\u884CMC_Stop\u3001MC_ImmediateStop\u3001MC_ImmediateStopAll\uFF0C\u6216\u8F93\u5165\u505C\u6B62\u4F20\u611F\u5668\u4FE1\u53F7\u53EF\u7ED3\u675F\u63A7\u5236\u3002 \u00A0 \u5982\u9700\u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u4E0B\u8FDB\u884C\u901F\u5EA6\u63A7\u5236\uFF0C\u8BF7\u4F7F\u7528 MC_VelocityControl \u3002 \u00A0 \u4F7F\u7528MC_Stop\u7ED3\u675F\u63A7\u5236\u65F6\u7684\u793A\u4F8B\u3002 (1) \uFF08MC_MoveVelocity\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\u3002\u4F7F\u7528 Acceleration \u8FDB\u884C\u52A0\u901F\u3002 (2) \uFF08MC_MoveVelocity\uFF09\u8FD0\u8F6C\u901F\u5EA6\u8FBE\u5230 Velocity \u65F6\uFF0C InVelocity \u53D8\u4E3ATRUE\u3002 (3) \uFF08MC_Stop\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u7ED3\u675F\u901F\u5EA6\u63A7\u5236\u5E76\u5F00\u59CB\u51CF\u901F\u505C\u6B62\u3002 \uFF08MC_MoveVelocity\uFF09 In V elocity \u548C Busy \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \u00A0\u00A0\u00A0 \uFF08MC_MoveVelocity\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) \uFF08MC_Stop\uFF09\u51CF\u901F\u505C\u6B62\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (6) \uFF08MC_Stop\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 InVelocity \u4F1A\u6839\u636EMC_SetOverride\u800C\u6539\u53D8\u901F\u5EA6\uFF0C\u4F46\u4E0D\u4F1A\u53D8\u4E3AFALSE\u3002 \u2022 \u5728\u52A8\u4F5C\u65F6\u66F4\u6539 Velocity \u7684\u503C\uFF0C\u4E0D\u4F1A\u5728\u52A8\u4F5C\u4E2D\u5E94\u7528\u3002\u66F4\u6539\u901F\u5EA6\u65F6\uFF0C\u53EF\u4F7F\u7528MC_SetOverride\uFF0C\u6216\u8005\u5148\u505C\u6B62\uFF0C\u7136\u540E\u518D\u6B21\u542F\u52A8MC_MoveVelocity\u3002 \u2022 \u5728MC_MoveVelocity\u7684\u6267\u884C\u4E2D\uFF0C\u4E0D\u80FD\u5728Aborting\u6A21\u5F0F\u4E0B\u6267\u884C\u5176\u4ED6\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u3002 MC_TorqueControl \u8F6C\u77E9\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_TorqueControl \u8F6C\u77E9\u63A7\u5236 FB \u00A0 MC_TorqueControl_instance(Axis, Execute, Torque, Velocity, InTorque, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Torque IN LREAL 0,0 \u8F6C\u77E9\u6307\u4EE4\u503C[%] -21474836.48\uFF5E21474836.47 Velocity IN LREAL -1,0 \u901F\u5EA6\u9650\u5236\u503C \u2022 \u7EBF\u6027\u7535\u673A -1.000\uFF1A\u4E0D\u9650\u5236\u901F\u5EA6 0.000\uFF5E4294967.294 [mm/s] \u2022 \u65CB\u8F6C\u7535\u673A -1.00\uFF1A\u4E0D\u9650\u5236\u901F\u5EA6 0.00\uFF5E42949672.94 [rpm] InTorque OUT BOOL - \u6307\u4EE4\u8F6C\u77E9\u5230\u8FBE Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u4E0B\u8FDB\u884C\u8F6C\u77E9\u63A7\u5236\u3002 Execute \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C\u4E0D\u4F1A\u505C\u6B62\u8F6C\u77E9\u63A7\u5236\u3002\u8BF7\u4F7F\u7528MC_Stop\u7684\u51CF\u901F\u505C\u6B62\u6765\u505C\u6B62\u8F6C\u77E9\u63A7\u5236\u3002 \u00A0 (1) \uFF08MC_TorqueControl\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u5207\u6362\u4E3A\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\u3002\u540C\u65F6\uFF0C\u7528 Torque \u7684\u503C\u8F93\u51FA\u6307\u4EE4\u8F6C\u77E9\uFF0C InTorque \u53D8\u4E3ATRUE\u3002 (2) \uFF08MC_TorqueControl\uFF09 Velocity \u662F-1\u4EE5\u5916\u7684\u503C\u65F6\uFF0C\u7528 Velocity \u6267\u884C\u901F\u5EA6\u9650\u5236\u3002 (3) \uFF08MC_Stop\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5207\u6362\u4E3A\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u5E76\u8F93\u51FA\u6307\u4EE4\u901F\u5EA60\u3002 \uFF08MC_TorqueControl\uFF09 InTorque \u548C Busy \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \uFF08MC_TorqueControl\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) \uFF08MC_TorqueControl\uFF09\u5F53\u524D\u901F\u5EA6\u4F4E\u4E8E\u201C\u5207\u6362\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\u65F6\u7684\u901F\u5EA6\u9608\u503C\u201D\u65F6\uFF0C\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002\u51CF\u901F\u505C\u6B62\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (6) \uFF08MC_Stop\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u5728MC_TorqueControl\u7684\u6267\u884C\u4E2D\u8BBE\u5B9A\u4E86\u4F3A\u670DOFF\u65F6\uFF0C InTorque \u4ECD\u4F1A\u4FDD\u6301TRUE\u3002\u5728\u8BE5\u72B6\u6001\u4E0B\u518D\u6B21\u8BBE\u5B9A\u4F3A\u670DON\uFF0C\u5219\u4F1A\u81EA\u52A8\u91CD\u65B0\u5F00\u59CB\u8F6C\u77E9\u63A7\u5236\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u901F\u5EA6\u63A7\u5236/\u8F6C\u77E9\u63A7\u5236 ST\uFF1A \u901F\u5EA6\u63A7\u5236/\u8F6C\u77E9\u63A7\u5236 MC_VelocityControl \u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_VelocityControl \u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09 FB \u00A0 MC_VelocityControl_instance(Axis, Execute, Velocity, Torque, InVelocity, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Velocity IN LREAL 0,0 \u901F\u5EA6\u6307\u4EE4\u503C \u2022 \u7EBF\u6027\u7535\u673A -2147483.648\uFF5E2147483.647 [mm/s] \u2022 \u65CB\u8F6C\u7535\u673A -21474836.48\uFF5E21474836.47[rpm] Torque IN LREAL -1,0 \u8F6C\u77E9\u9650\u5236\u503C[%] -1.00\uFF1A\u4E0D\u9650\u5236\u8F6C\u77E9 0.00\uFF5E42949672.94 InVelocity OUT BOOL - \u6307\u4EE4\u901F\u5EA6\u5230\u8FBE Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u4E0B\u8FDB\u884C\u901F\u5EA6\u63A7\u5236\u3002 Execute \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C\u4E0D\u4F1A\u505C\u6B62\u901F\u5EA6\u63A7\u5236\u3002\u8BF7\u4F7F\u7528MC_Stop\u7684\u51CF\u901F\u505C\u6B62\u6765\u505C\u6B62\u901F\u5EA6\u63A7\u5236\u3002 \u00A0 (1) \uFF08MC_VelocityControl\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u5207\u6362\u4E3A\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\u3002\u540C\u65F6\uFF0C\u7528 Velocity \u7684\u503C\u8F93\u51FA\u6307\u4EE4\u901F\u5EA6\uFF0C InVelocity \u53D8\u4E3ATRUE\u3002 (2) \uFF08MC_VelocityControl\uFF09 Torque \u662F-1\u4EE5\u5916\u7684\u503C\u65F6\uFF0C\u7528 Torque \u6267\u884C\u8F6C\u77E9\u9650\u5236\u3002 (3) \uFF08MC_Stop\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u8F93\u51FA\u6307\u4EE4\u901F\u5EA60\u3002 \uFF08MC_VelocityControl\uFF09 InVelocity \u548C Busy \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \uFF08MC_VelocityControl\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) \uFF08MC_TorqueControl\uFF09\u5F53\u524D\u901F\u5EA6\u4F4E\u4E8E\u201C\u5207\u6362\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\u65F6\u7684\u901F\u5EA6\u9608\u503C\u201D\u65F6\uFF0C\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002\u51CF\u901F\u505C\u6B62\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (6) \uFF08MC_Stop\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u5728MC_VelocityControl\u7684\u6267\u884C\u4E2D\u8BBE\u5B9A\u4E86\u4F3A\u670DOFF\u65F6\uFF0C InVelocity \u4ECD\u4F1A\u4FDD\u6301TRUE\u3002\u5728\u8BE5\u72B6\u6001\u4E0B\u518D\u6B21\u8BBE\u5B9A\u4F3A\u670DON\uFF0C\u5219\u4F1A\u81EA\u52A8\u91CD\u65B0\u5F00\u59CB\u901F\u5EA6\u63A7\u5236\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u901F\u5EA6\u63A7\u5236/\u8F6C\u77E9\u63A7\u5236 ST\uFF1A \u901F\u5EA6\u63A7\u5236/\u8F6C\u77E9\u63A7\u5236 MC_InternalStopSensor \u5B9A\u4F4D\u505C\u6B62\u4F20\u611F\u5668\u8BF7\u6C42 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_InternalStopSensor \u5B9A\u4F4D\u505C\u6B62\u4F20\u611F\u5668\u8BF7\u6C42 FB \u00A0 MC_InternalStopSensor_instance(Axis, Enable, Status, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u72B6\u6001 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u4EE3\u66FF\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u505C\u6B62\u4F20\u611F\u5668\uFF0C\u8F93\u5165\u505C\u6B62\u4F20\u611F\u5668\u4FE1\u53F7\u3002 \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u505C\u6B62\u4F20\u611F\u5668\u662F\u6839\u636E\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u505C\u6B62\u4F20\u611F\u5668\u548CMC_InternalStopSensor\u7684\u903B\u8F91\u6216\u52A8\u4F5C\u7684\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_MaskStopSensor \u505C\u6B62\u4F20\u611F\u5668\u68C0\u6D4B\u53BB\u80FD \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MaskStopSensor \u505C\u6B62\u4F20\u611F\u5668\u68C0\u6D4B\u53BB\u80FD FB \u00A0 MC_MaskStopSensor_instance(Axis, Enable, Status, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u5C4F\u853D\u4E2D Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5C4F\u853D\u68C0\u6D4B\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u505C\u6B62\u4F20\u611F\u5668\u4FE1\u53F7\u3002 \u4E0D\u4F1A\u5C4F\u853DMC_InternalStopSensor\u7684\u505C\u6B62\u4F20\u611F\u5668\u4FE1\u53F7\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_InternalHomeSensor \u5B9A\u4F4D\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_InternalHomeSensor \u5B9A\u4F4D\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 FB \u00A0 MC_InternalHomeSensor_instance(Axis, Enable, Status, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u72B6\u6001 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u4EE3\u66FF\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u539F\u70B9\u4F20\u611F\u5668\uFF0C\u8F93\u5165\u539F\u70B9\u4F20\u611F\u5668\u4FE1\u53F7\u3002 \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u539F\u70B9\u4F20\u611F\u5668\u662F\u6839\u636E\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u539F\u70B9\u4F20\u611F\u5668\u548CMC_InternalHomeSensor\u7684\u903B\u8F91\u6216\u52A8\u4F5C\u7684\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u539F\u70B9\u590D\u5F52/\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 ST\uFF1A \u539F\u70B9\u590D\u5F52/\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 MC_SetTorqueLimit \u8F6C\u77E9\u9650\u5236\u503C\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SetTorqueLimit \u8F6C\u77E9\u9650\u5236\u503C\u66F4\u6539 FB \u00A0 MC_SetTorqueLimit_instance(Axis, Enable, Torque, Enbaled, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Torque IN LREAL -1,0 \u8F6C\u77E9\u9650\u5236\u503C[%] -1.00\uFF1A\u65E0\u8F6C\u77E9\u9650\u5236 0.00\uFF5E42949672.94 Enabled OUT BOOL - \u8F6C\u77E9\u9650\u5236\u503C\u66F4\u65B0\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u4F7F\u7528 Torque \u6240\u6307\u5B9A\u7684\u503C\u6301\u7EED\u66F4\u65B0\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\u4E0B\u7684\u8F6C\u77E9\u9650\u5236\u503C\u3002 \u5C06 Enable \u7F6E\u4E8EFALSE\uFF0C\u8F6C\u77E9\u9650\u5236\u503C\u4E0D\u4F1A\u53D8\u4E3A0\uFF0C\u4ECD\u4F1A\u7EE7\u7EED\u4FDD\u6301\u4E4B\u524D\u7684 Torque \u7684\u503C\u3002\u56E0\u6B64\uFF0C\u5982\u9700\u89E3\u9664\u8F6C\u77E9\u9650\u5236\uFF0C\u5E94\u5728 Torque \u4E2D\u6307\u5B9A-1\u3002 \u00A0 \u4E0D\u80FD\u4F7F\u7528MC_SetTorqueLimit\u6765\u63A7\u5236\u901F\u5EA6\u63A7\u5236\uFF08MC_VelocityControl\uFF09\u7684\u8F6C\u77E9\u9650\u5236\u3002 \u8BF7\u4F7F\u7528 MC_VelocityControl \u7684 Torque \u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 MC_SetVelocityFeedforward \u901F\u5EA6\u524D\u9988\u503C\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SetVelocityFeedforward \u901F\u5EA6\u524D\u9988\u503C\u66F4\u6539 FB \u00A0 MC_SetVelocityFeedforward_instance(Axis, Enable, VelFF, Enabled, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 VelFF IN LREAL 0,0 \u901F\u5EA6\u524D\u9988\u6307\u4EE4\u503C[mm/s]/ [rpm] \u7EBF\u6027\u7535\u673A\uFF1A-2147483.648\uFF5E2147483.647[mm/s] \u5176\u4ED6\u60C5\u51B5\u4E0B\uFF1A-21474836.48\uFF5E21474836.47[rpm] Enabled OUT BOOL - \u524D\u9988\u503C\u66F4\u65B0\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u6301\u7EED\u7528 VelFF \u6240\u6307\u5B9A\u7684\u503C\u66F4\u65B0\u901F\u5EA6\u524D\u9988\u7684\u503C\u3002 \u5C06 Enable \u7F6E\u4E8EFALSE\uFF0C\u524D\u9988\u503C\u4E0D\u4F1A\u53D8\u4E3A0\uFF0C\u4ECD\u4F1A\u7EE7\u7EED\u4FDD\u6301\u4E4B\u524D\u7684 VelFF \u7684\u503C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 MC_SetTorqueFeedforward \u8F6C\u77E9\u524D\u9988\u503C\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SetTorqueFeedforwardd \u8F6C\u77E9\u524D\u9988\u503C\u66F4\u6539 FB \u00A0 MC_SetTorqueFeedforward_instance(Axis, Enable, TrqFF, Enabled, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 TrqFF IN LREAL 0,0 \u8F6C\u77E9\u524D\u9988\u6307\u4EE4\u503C[%] Enabled OUT BOOL - \u524D\u9988\u503C\u66F4\u65B0\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u6301\u7EED\u7528 TrqFF \u6240\u6307\u5B9A\u7684\u503C\u66F4\u65B0\u8F6C\u77E9\u524D\u9988\u7684\u503C\u3002 \u5C06 Enable \u7F6E\u4E8EFALSE\uFF0C\u524D\u9988\u503C\u4E0D\u4F1A\u53D8\u4E3A0\uFF0C\u4ECD\u4F1A\u7EE7\u7EED\u4FDD\u6301\u4E4B\u524D\u7684 TrqFF \u7684\u503C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 MC_MoveToBasePosition \u57FA\u51C6\u4F4D\u7F6E\u79FB\u52A8 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveToBasePosition \u57FA\u51C6\u4F4D\u7F6E\u79FB\u52A8 FB \u00A0 MC_MoveToBasePosition_instance(Axis, Execute, Done, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u5411\u5728\u8F74\u63A7\u5236\u8BBE\u5B9A\u4E2D\u8BBE\u5B9A\u7684\u201C\u57FA\u672C\u4F4D\u7F6E\u201D\u79FB\u52A8\u3002 \u00A0 \u52A8\u4F5C\u4E2D\u7684\u539F\u70B9\u590D\u5F52\u901F\u5EA6\u53EF\u901A\u8FC7 MC_ChangeTargetVelocity \u8FDB\u884C\u66F4\u6539\uFF08\u4E0D\u80FD\u66F4\u6539\u722C\u884C\u901F\u5EA6\uFF09\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u539F\u70B9\u590D\u5F52/\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8 ST\uFF1A \u539F\u70B9\u590D\u5F52/\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8 MC_FastMoveToHome \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_FastMoveToHome \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 FB \u00A0 MC_FastMoveToHome_instance(Axis, Execute, Done, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u5411\u673A\u68B0\u5750\u6807\u7CFB\u7684\u539F\u70B9\u5750\u6807\u79FB\u52A8\u3002 \u00A0 \u52A8\u4F5C\u4E2D\u7684\u539F\u70B9\u590D\u5F52\u901F\u5EA6\u53EF\u901A\u8FC7 MC_ChangeTargetVelocity \u8FDB\u884C\u66F4\u6539\uFF08\u4E0D\u80FD\u66F4\u6539\u722C\u884C\u901F\u5EA6\uFF09\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 ST\uFF1A \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 MC_MoveToPoint \u5B9A\u4F4D\u63A7\u5236(\u70B9\u53C2\u6570) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveToPoint \u5B9A\u4F4D\u63A7\u5236(\u70B9\u53C2\u6570) FB \u00A0 MC_MoveToPoint_instance(Axis, Execute, PointNo, EnablePointTrqLim, Done, Busy, Active, CommandAborted, Resumable, Standby, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 PointNo IN UINT 0 \u70B9\u7F16\u53F7\uFF081\uFF5E50\uFF09 EnablePointTrqLim IN BOOL FALSE \u70B9\u53C2\u6570\u8F6C\u77E9\u9650\u5236\u6709\u6548 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Resumable OUT BOOL - \u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C Standby OUT BOOL - \u5F85\u673A Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u6839\u636E\u6307\u5B9A\u70B9\u7684\u70B9\u53C2\u6570\u5F00\u59CB\u5B9A\u4F4D\u63A7\u5236\u3002 \u00A0 (1) Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u6839\u636E PointNo \u7684\u70B9\u53C2\u6570\u5F00\u59CB\u70B9\u8FD0\u8F6C\u3002 (2) \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u8F74\u63A7\u5236\u65F6\uFF0C Active \u53D8\u4E3ATRUE\u3002 (3) \u70B9\u8FD0\u8F6C\u5B8C\u6210\u540E\uFF0C Busy \u548C Active \u53D8\u4E3AFALSE\uFF0C Done \u53D8\u4E3ATRUE\u3002 (4) Execute \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C Done \u53D8\u4E3AFALSE\u3002 \u00A0 \u5728 EnablePointTrqLim \u662FTRUE\u7684\u671F\u95F4\uFF0C\u7528\u70B9\u53C2\u6570\u8BBE\u5B9A\u7684\u8F6C\u77E9\u9650\u5236\u503C\u4E3A\u6709\u6548\u3002 \u00A0 MC_MoveToPoint\u4E0E\u5176\u4ED6\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u6216\u70B9\u53C2\u6570\u8BBE\u5B9A\u7EC4\u5408\uFF0C\u6267\u884C\u51CF\u901F\u505C\u6B62\u2192\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u3001\u89E3\u9664\u5F85\u673A\u7B49\u52A8\u4F5C\u3002 \u00A0 (1) \u5982\u679C\u5728\u8F74\u63A7\u5236\u4E2D\u7528MC_Stop\u6267\u884C\u51CF\u901F\u505C\u6B62\uFF0C\u5219 Active \u4F1A\u53D8\u4E3AFALSE\uFF0C Resumable \uFF08\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF09\u4F1A\u53D8\u4E3ATRUE\u3002\u5982\u679C\u5728\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u7684\u72B6\u6001\u4E0B\u6267\u884CMC_ResumePositioning\uFF0C\u5219\u4F1A\u91CD\u65B0\u5F00\u59CB\u70B9\u8FD0\u8F6C\u3002 (2) \u70B9\u53C2\u6570\u7684[\u8FDE\u7EED\u6A21\u5F0F]\u8BBE\u4E3A[\u5F85\u673A]\uFF0C\u5E76\u4E14[\u4E0B\u4E00\u70B9\u7F16\u53F7]\u8BBE\u4E3A0\u4EE5\u5916\u7684\u503C\u65F6\uFF0C\u5728\u5230\u8FBE\u76EE\u6807\u5750\u6807\u540E\uFF0C Active \u4F1A\u53D8\u4E3AFALSE\uFF0C Standby \uFF08\u5F85\u673A\u4E2D\uFF09\u4F1A\u53D8\u4E3ATRUE\u3002\u5982\u679C\u5728\u5F85\u673A\u4E2D\u6267\u884CMC_ReleaseStandby\uFF0C\u5219\u4F1A\u6267\u884C\u7528[\u4E0B\u4E00\u70B9\u7F16\u53F7]\u6307\u5B9A\u7684\u70B9\u8FD0\u8F6C\u3002 (3) \u5728\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u6216\u5F85\u673A\u4E2D\uFF0C\u4F7F\u7528\u5176\u4ED6\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u6267\u884C\u8F74\u63A7\u5236\u3002\u6B64\u65F6\uFF0CMC_MoveToPoint\u7684 CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \u5982\u679C\u5728\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u6216\u5F85\u673A\u4E2D\uFF0C\u518D\u6B21\u8BA9MC_MoveToPoint\u7684 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\uFF0C\u5219\u4F1A\u7528\u65B0\u7684\u503C\u6267\u884C\u8F74\u63A7\u5236\u3002\u6B64\u65F6\uFF0C\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u72B6\u6001\u548C\u5F85\u673A\u72B6\u6001\u4F1A\u88AB\u6E05\u9664\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u5B9A\u4F4D\u548C\u51CF\u901F\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF08\u70B9\u53C2\u6570\uFF09 \u68AF\u5F62\u56FE\uFF1A \u8FDE\u7EED\u8FD0\u884C\u7684\u5F85\u673A\u4E0E\u89E3\u9664\uFF08\u70B9\u53C2\u6570\uFF09 \u68AF\u5F62\u56FE\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 ST\uFF1A \u5B9A\u4F4D\u548C\u51CF\u901F\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF08\u70B9\u53C2\u6570\uFF09 ST\uFF1A \u8FDE\u7EED\u8FD0\u884C\u7684\u5F85\u673A\u4E0E\u89E3\u9664\uFF08\u70B9\u53C2\u6570\uFF09 ST\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 MC_ChangeTargetPosition \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ChangeTargetPosition \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539 FB \u00A0 MC_ChangeTargetPosition_instance(Axis, Execute, Position, Velocity, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Position IN LREAL 0,0 \u76EE\u6807\u5750\u6807[u] Velocity IN LREAL -1,0 \u901F\u5EA6[u/s] -1.0\uFF1A\u4E0D\u66F4\u6539 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u5B9A\u4F4D\u63A7\u5236\u4E2D\u66F4\u6539\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u3002 \u53EA\u6709\u5728 Axis \u901A\u8FC7MC_MoveToPoint\u6267\u884C\u5B9A\u4F4D\u63A7\u5236\u65F6\uFF0C\u624D\u53EF\u8FDB\u884C\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\u3002\u5728\u4F7F\u7528MC_MoveAbsolute\u7B49\u5176\u4ED6\u6307\u4EE4\u6267\u884C\u5B9A\u4F4D\u63A7\u5236\u65F6\uFF0C\u4E0D\u80FD\u4F7F\u7528MC_ChangeTargetPosition\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u5982\u679C Axis \u6240\u6307\u5B9A\u7684\u8F74\u6B63\u5728\u63D2\u8865\u8FD0\u884C\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\u3002\u5982\u9700\u5BF9\u6B63\u5728\u63D2\u8865\u8FD0\u884C\u7684\u8F74\u66F4\u6539\u76EE\u6807\u5750\u6807\uFF0C\u8BF7\u4F7F\u7528 MC_ChangeTargetGroupPositions \u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 ST\uFF1A \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 MC_ChangeTargetGroupPositions \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u63D2\u8865\u8FD0\u884C\uFF09 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ChangeTargetGroupPositions \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\uFF08\u63D2\u8865\u8FD0\u884C\uFF09 FB \u00A0 MC_ChangeTargetGroupPositions_instance(Axis, Execute, Position, Velocity, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Position IN ARRAY [*] OF LREAL - \u76EE\u6807\u5750\u6807[u] Velocity IN LREAL -1,0 \u901F\u5EA6[u/s] -1.0\uFF1A\u4E0D\u66F4\u6539 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u5B9A\u4F4D\u63A7\u5236\u4E2D\u66F4\u6539\u63D2\u8865\u8FD0\u884C\u7684\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u3002 \u53EA\u6709\u5728 Axis \u901A\u8FC7MC_MoveToPoint\u6267\u884C\u5B9A\u4F4D\u63A7\u5236\u65F6\uFF0C\u624D\u53EF\u8FDB\u884C\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\u3002\u5728\u4F7F\u7528MC_MoveAbsolute\u7B49\u5176\u4ED6\u6307\u4EE4\u6267\u884C\u5B9A\u4F4D\u63A7\u5236\u65F6\uFF0C\u4E0D\u80FD\u4F7F\u7528MC_ChangeTargetGroupPositions\u3002 \u00A0 \u5BF9 Axis \u6307\u5B9A\u63D2\u8865\u4E3B\u8F74\u3002 \u00A0 Position \u662F\u5BF9\u63D2\u8865\u8FD0\u884C\u7684\u914D\u7F6E\u8F74\uFF0C\u6309\u7167\u8F74\u7F16\u53F7\u4ECE\u5C0F\u5230\u5927\u7684\u987A\u5E8F\uFF0C\u4ECE\u5F00\u5934\u8981\u7D20\u5F00\u59CB\u8BBE\u5B9A\u5404\u8F74\u7684\u76EE\u6807\u5750\u6807\u3002 \u00A0 MC_ChangeTargetGroupPositions\u5728 Axis \u6240\u6307\u5B9A\u7684\u8F74\u72EC\u7ACB\u8FD0\u884C\u65F6\u4E5F\u53EF\u4EE5\u4F7F\u7528\u3002\u6B64\u65F6\uFF0C\u4F1A\u53EA\u4F7F\u7528 Position \u7684\u5F00\u5934\u8981\u7D20\uFF0C\u5176\u52A8\u4F5C\u4E0E MC_ChangeTargetPosition \u76F8\u540C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u6570\u7EC4\u8981\u7D20\u6570\u4F4E\u4E8E\u63D2\u8865\u8FD0\u884C\u7684\u8F74\u6570\u65F6\uFF0C\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 MC_ChangeTargetVelocity \u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ChangeTargetVelocity \u5B9A\u4F4D\u901F\u5EA6\u66F4\u6539 FB \u00A0 MC_ChangeTargetVelocity_instance(Axis, Execute, Velocity, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 0\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u5B9A\u4F4D\u63A7\u5236\u4E2D\u66F4\u6539\u5B9A\u4F4D\u901F\u5EA6\u3002 \u53EF\u5728\u4E0B\u8FF0\u5B9A\u4F4D\u63A7\u5236\u4E2D\u66F4\u6539\u5B9A\u4F4D\u901F\u5EA6\u3002 \u6307\u4EE4 \u5185\u5BB9 MC_MoveToPoint \u70B9\u8FD0\u8F6C MC_Jog JOG\u8FD0\u8F6C MC_AbsolutePosFollowUpControl \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 MC_Home \u539F\u70B9\u590D\u5F52 MC_FastMoveToHome \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 MC_MoveTo Base Position \u57FA\u51C6\u4F4D\u7F6E\u79FB\u52A8 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_ResumePositioning \u91CD\u65B0\u5F00\u59CB\u5B9A\u4F4D\u8FD0\u8F6C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ResumePositioning \u91CD\u65B0\u5F00\u59CB\u5B9A\u4F4D\u8FD0\u8F6C FB \u00A0 MC_ResumePositioning_instance(Axis, Execute, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u91CD\u65B0\u5F00\u59CB\u56E0MC_Stop\u800C\u51CF\u901F\u505C\u6B62\u7684\u3001\u901A\u8FC7MC_MoveToPoint\u6267\u884C\u7684\u5B9A\u4F4D\u63A7\u5236\u3002 \u7528MC_Stop\u51CF\u901F\u505C\u6B62MC_MoveAbsolute\u7B49\u5176\u4ED6\u5B9A\u4F4D\u63A7\u5236\u65F6\uFF0C\u4E0D\u80FD\u91CD\u65B0\u5F00\u59CB\u8FD0\u8F6C\u3002 \u53E6\u5916\uFF0C\u5728\u7528MC_Stop\u51CF\u901F\u505C\u6B62\u7528MC_MoveToPoint\u6267\u884C\u7684\u5B9A\u4F4D\u63A7\u5236\u4E4B\u540E\uFF0C\u6267\u884C\u4E86\u66F4\u6539\u5F53\u524D\u5750\u6807\u6216\u5176\u4ED6\u8F74\u63A7\u5236\u65F6\uFF0C\u4E5F\u4E0D\u80FD\u91CD\u65B0\u5F00\u59CB\u8FD0\u8F6C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u5B9A\u4F4D\u548C\u51CF\u901F\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF08\u70B9\u53C2\u6570\uFF09 ST\uFF1A \u5B9A\u4F4D\u548C\u51CF\u901F\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF08\u70B9\u53C2\u6570\uFF09 MC_MoveToNextPoint \u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u70B9\u5B9A\u4F4D \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveToNextPoint \u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u70B9\u5B9A\u4F4D FB \u00A0 MC_MoveToNextPoint_instance(Axis, Execute, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u51CF\u901F\u505C\u6B62\u6B63\u5728\u8FD0\u884C\u7684\u70B9\u8FD0\u8F6C\uFF0C\u5F00\u59CB\u4E0B\u4E00\u4E2A\u70B9\u8FD0\u8F6C\u3002 \u5982\u679C\u662F\u63D2\u8865\u8FD0\u884C\uFF0C\u5219\u5E94\u5BF9 Axis \u6307\u5B9A\u63D2\u8865\u4E3B\u8F74\u3002 \u00A0 \u901A\u8FC7MC_MoveToNextPoint\u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u4E2A\u70B9\uFF0C\u53EA\u80FD\u5728MC_MoveToPoint\u7684\u5B9A\u4F4D\u63A7\u5236\u4E2D\u4F7F\u7528\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_SuspendNextPositioning \u4E2D\u65AD\u5B9A\u4F4D\u8FDE\u7EED\u8FD0\u8F6C \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SuspendNextPositioning \u4E2D\u65AD\u5B9A\u4F4D\u8FDE\u7EED\u8FD0\u8F6C FB \u00A0 MC_SuspendNextPositioning_instance(Axis, Execute, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u5F53\u524D\u7684\u70B9\u8FD0\u8F6C\u5B8C\u6210\u52A8\u4F5C\u65F6\u7ED3\u675F\u70B9\u8FD0\u8F6C\uFF0C\u4E0D\u6267\u884C\u4E0B\u4E00\u4E2A\u70B9\u8FD0\u8F6C\u3002 \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u8FDE\u7EED\u5B9A\u4F4D\u7684\u4E2D\u65AD\u5904\u7406\u65F6\uFF0C Done \u4F1A\u53D8\u4E3ATRUE\u3002\u56E0\u6B64\uFF0C\u5728\u6267\u884C\u4E86\u4E2D\u65AD\u7684\u70B9\u7684\u8FD0\u8F6C\u5B8C\u6210\u4E4B\u524D\uFF0C Done \u53D8\u4E3ATRUE\u3002 \u00A0 \u901A\u8FC7MC_SuspendNextPositioning\u4E2D\u65AD\u70B9\u8FD0\u8F6C\uFF0C\u53EA\u80FD\u5728MC_MoveToPoint\u7684\u5B9A\u4F4D\u63A7\u5236\u4E2D\u4F7F\u7528\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_StopAtTargetPosition \u5B9A\u4F4D\u6307\u5B9A\u4F4D\u7F6E\u505C\u6B62 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_StopAtTargetPosition \u5B9A\u4F4D\u6307\u5B9A\u4F4D\u7F6E\u505C\u6B62 FB \u00A0 MC_StopAtTargetPosition_instance(Axis, Execute, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u901A\u8FC7\u201C\u4F4D\u7F6E\u578B\u901F\u5EA6\u3001\u5BF8\u52A8\u201D\u6267\u884C\u7684\u5B9A\u4F4D\u63A7\u5236\u4E2D\uFF0C\u5728\u7528\u70B9\u53C2\u6570\u7684\u76EE\u6807\u5750\u6807\u6307\u5B9A\u7684\u4F4D\u7F6E\u4E0A\u505C\u6B62\u8F74\u3002 \u4F7F\u7528MC_StopAtTargetPosition\u6267\u884C\u505C\u6B62\u5904\u7406\u5FC5\u987B\u6EE1\u8DB3\u4E0B\u8FF0\u6761\u4EF6\u3002 \u2022 \u6B63\u5728\u6267\u884CMC_MoveToPoint\u7684\u70B9\u8FD0\u8F6C \u2022 \u8FD0\u8F6C\u4E2D\u7684\u70B9\u53C2\u6570\u7684\u52A8\u4F5C\u6A21\u5F0F\u662F\u201C\u4F4D\u7F6E\u578B\u901F\u5EA6\u3001\u5BF8\u52A8\u201D \u2022 \u8F74\u63A7\u5236\u8BBE\u5B9A\u7684[\u5750\u6807\u6A21\u5F0F]\u662F[\u65CB\u8F6C] \u00A0 \u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u505C\u6B62\u5904\u7406\u65F6\uFF0C Done \u4F1A\u53D8\u4E3ATRUE\u3002\u56E0\u6B64\uFF0C\u5728\u8F74\u505C\u6B62\u4E4B\u524D\uFF0C Done \u53D8\u4E3ATRUE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_MCodeOff \u5B9A\u4F4DM\u4EE3\u7801OFF\u6307\u4EE4 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MCodeOff \u5B9A\u4F4DM\u4EE3\u7801OFF\u6307\u4EE4 FB \u00A0 MC_MCodeOff_instance(Axis, Enable, Status, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - OFF\u6307\u4EE4\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5173\u95EDMC_MoveToPoint\u7684M\u4EE3\u7801\u8F93\u51FA\u3002 \u00A0 \u8F93\u51FA\u4E2D\u7684M\u4EE3\u7801\uFF0C\u53EF\u4EE5\u7528_MC_Axis[N].Status.MCode\u6765\u83B7\u53D6\u3002 \u53E6\u5916\uFF0C\u8FD8\u53EF\u4EE5\u7528_MC_Axis[N].StatusBit.MCodeStatus\u6765\u786E\u8BA4MCode\u7684\u8F93\u51FA\u4E2D\u72B6\u6001\u3002 \u00A0 \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u4E0D\u53E6\u884C\u6267\u884CM\u4EE3\u7801\u8F93\u51FA\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u5982\u679C Enable \u8BBE\u4E3ATRUE\u7684\u65F6\u95F4\u6BD4\u8FD0\u52A8\u63A7\u5236\u5468\u671F\u77ED\uFF0C\u5219\u53EF\u80FD\u65E0\u6CD5\u5904\u7406M\u4EE3\u7801OFF\u6307\u4EE4\u3002\u56E0\u6B64\uFF0C\u8BF7\u5728\u786E\u8BA4_MC_Axis[n].StatusBit.MCodeStauts\u5DF2\u53D8\u4E3AFALSE\u4E4B\u540E\uFF0C\u5C06 Enable \u8BBE\u4E3AFALSE\u3002 MC_ReleaseStandby \u89E3\u9664\u5B9A\u4F4D\u5F85\u673A \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_ReleaseStandby \u89E3\u9664\u5B9A\u4F4D\u5F85\u673A FB \u00A0 MC_ReleaseStandby_instance(Axis, Enable, Status, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u5F85\u673A\u89E3\u9664\u4E2D Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5728\u901A\u8FC7MC_MoveToPoint\u6267\u884C\u7684\u5B9A\u4F4D\u4E2D\uFF0C\u89E3\u9664\u5C06\u201C\u8FDE\u7EED\u6A21\u5F0F\u201D\u8BBE\u4E3A\u201C\u5F85\u673A\u201D\u65F6\u7684\u4E0B\u8FF0\u70B9\u8FD0\u8F6C\u7684\u5F85\u673A\u72B6\u6001\u3002\u89E3\u9664\u4E86\u5F85\u673A\u72B6\u6001\u7684\u8F74\uFF0C\u4F1A\u6267\u884C\u4E0B\u4E00\u70B9\u7F16\u53F7\u4E2D\u8BBE\u5B9A\u7684\u70B9\u8FD0\u8F6C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u8FDE\u7EED\u8FD0\u884C\u7684\u5F85\u673A\u4E0E\u89E3\u9664\uFF08\u70B9\u53C2\u6570\uFF09 ST\uFF1A \u8FDE\u7EED\u8FD0\u884C\u7684\u5F85\u673A\u4E0E\u89E3\u9664\uFF08\u70B9\u53C2\u6570\uFF09 MC_Teach \u793A\u6559 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_Teach \u793A\u6559 FB \u00A0 MC_Teach_instance(Axis, Execute, Arc, PointNo, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Arc IN BOOL FALSE \u5706\u5F27\u63D2\u8865\u793A\u6559 PointNo IN UINT 0 \u70B9\u7F16\u53F7\uFF081\uFF5E50\uFF09 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5BF9 PointNo \u6240\u6307\u5B9A\u7684\u70B9\u7684\u70B9\u53C2\u6570\u8BBE\u5B9A\u6307\u4EE4\u5750\u6807\u7684\u503C\u3002 \u5982\u679C Arc \u662FFALSE\uFF0C\u5219\u5C06\u6307\u4EE4\u5750\u6807\u8BBE\u4E3A\u201C\u76EE\u6807\u5750\u6807\u201D\u3002 \u5982\u679C Arc \u662FTRUE\uFF0C\u5219\u5C06\u6307\u4EE4\u5750\u6807\u8BBE\u4E3A\u201C\u5706\u5F27\u5750\u6807/\u534A\u5F84\u201D\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u793A\u6559\u7684\u201C\u76EE\u6807\u5750\u6807\u201D\u6216\u201C\u5706\u5F27\u5750\u6807/\u534A\u5F84\u201D\u4E0D\u4F1A\u5199\u5165\u95EA\u5B58ROM\u4E2D\u3002\u5982\u9700\u5728\u65AD\u7535\u540E\u4ECD\u4FDD\u6301\u53C2\u6570\uFF0C\u8BF7\u6267\u884C MC_SaveParameter \uFF0C\u5411\u95EA\u5B58ROM\u5199\u5165\u6570\u636E\u3002 MC_AbsolutePosFollowUpControl \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_AbsolutePosFollowUpControl \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 FB \u00A0 MC_AbsolutePosFollowUpControl_instance(Axis, Execute, Position, Velocity, Acceleration, Deceleration, Jerk, InControl, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 Position IN LREAL 0,0 \u6307\u4EE4\u503C Velocity IN LREAL 0,0 \u8FD0\u8F6C\u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 InControl OUT BOOL - \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u4E2D Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u3002 \u4F7F Execute \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\uFF0C\u4E0D\u4F1A\u505C\u6B62\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u3002\u8BF7\u6267\u884CMC_Stop\u3001MC_ImmediateStop\u3001MC_ImmediateStopAll\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u6307\u4EE4\uFF0C\u505C\u6B62\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u3002 \u00A0 \u5982\u679C\u542F\u52A8\u65F6\u5904\u4E8E\u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09\u6216\u8F6C\u77E9\u63A7\u5236\uFF08CST\uFF09\u6A21\u5F0F\uFF0C\u8BF7\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\uFF08CSP\uFF09\u6A21\u5F0F\u540E\u518D\u6267\u884C\u63A7\u5236\u3002 \u6B64\u65F6\u7684\u8F74\u52A8\u4F5C\u53EF\u80FD\u51FA\u73B0\u6025\u5267\u53D8\u5316\uFF0C\u6240\u4EE5\u8BF7\u4ED4\u7EC6\u6CE8\u610F\u6307\u4EE4\u5904\u7406\u3002 \u00A0 \u52A8\u4F5C\u4E2D\u7684\u901F\u5EA6\u53EF\u901A\u8FC7 MC_ChangeTargetVelocity \u8FDB\u884C\u66F4\u6539\u3002 \u00A0 \u4F7F\u7528MC_Stop\u7ED3\u675F\u63A7\u5236\u65F6\u7684\u793A\u4F8B\u3002 (1) \uFF08MC_AbsolutePosFollowUpControl\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u8BF7\u6C42\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u3002 (2) \uFF08MC_AbsolutePosFollowUpControl\uFF09\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u65F6\uFF0C InControl \u53D8\u4E3ATRUE\u3002\u5728\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u4E2D\uFF0C\u59CB\u7EC8\u8DDF\u8E2A Position \u7684\u4F4D\u7F6E\u8FDB\u884C\u79FB\u52A8\u3002 (3) \uFF08MC_Stop\uFF09\u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u7ED3\u675F\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u5E76\u5F00\u59CB\u51CF\u901F\u505C\u6B62\u3002 \uFF08MC_AbsolutePosFollowUpControl\uFF09 InControl \u548C Busy \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \uFF08MC_AbsolutePosFollowUpControl\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) \u00A0\u00A0\u00A0 \uFF08MC_Stop\uFF09\u51CF\u901F\u505C\u6B62\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (6) \uFF08MC_Stop\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u5728\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u4E2D\u66F4\u6539 Velocity \u7684\u503C\uFF0C\u4E0D\u4F1A\u66F4\u6539\u8FD0\u8F6C\u901F\u5EA6\u3002\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u4E2D\u7684\u8FD0\u8F6C\u901F\u5EA6\u53EF\u901A\u8FC7 MC_ChangeTargetVelocity \u8FDB\u884C\u66F4\u6539\u3002 MC_SyncTypeFollowUpControl \u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SyncTypeFollowUpControl \u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 FB \u00A0 MC_SyncTypeFollowUpControl_instance(Axis, Execute, CmdValue, GearRatioNum, GearRatioDenom, Filter, InControl, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 CmdValue IN LREAL 0,0 \u6307\u4EE4\u503C GearRatioNum IN DINT 1 \u53EF\u53D8\u9F7F\u8F6E\u5206\u5B50 -2000000000\uFF5E2000000000 GearRatioDenom IN DINT 1 \u53EF\u53D8\u9F7F\u8F6E\u5206\u6BCD 1\uFF5E2000000000 Filter IN UINT 0 \u8F93\u51FA\u6EE4\u6CE2\u5668[ms] \u63A7\u5236\u5468\u671F\uFF1A\u8BBE\u5B9A\u503C 125 \u03BCs \uFF1A0\uFF5E1250[ms] 250 \u03BCs \uFF1A0\uFF5E2500[ms] 500 \u03BCs \uFF5E\uFF1A0\uFF5E5000[ms] InControl OUT BOOL - \u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u4E2D Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5F00\u59CB\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u3002 \u4F7F Execute \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\uFF0C\u4E0D\u4F1A\u505C\u6B62\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u3002\u8BF7\u6267\u884CMC_Stop\u3001MC_ImmediateStop\u3001MC_ImmediateStopAll\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u6307\u4EE4\uFF0C\u505C\u6B62\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u3002 \u00A0 \u5982\u679C\u542F\u52A8\u65F6\u5904\u4E8E\u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09\u6216\u8F6C\u77E9\u63A7\u5236\uFF08CST\uFF09\u6A21\u5F0F\uFF0C\u8BF7\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\uFF08CSP\uFF09\u6A21\u5F0F\u540E\u518D\u6267\u884C\u63A7\u5236\u3002 \u6B64\u65F6\u7684\u8F74\u52A8\u4F5C\u53EF\u80FD\u51FA\u73B0\u6025\u5267\u53D8\u5316\uFF0C\u6240\u4EE5\u8BF7\u4ED4\u7EC6\u6CE8\u610F\u6307\u4EE4\u5904\u7406\u3002 \u00A0 \u6307\u4EE4\u503C\u548C\u6307\u4EE4\u5750\u6807\u7684\u5173\u7CFB\u5982\u4E0B\uFF08\u0394\u8868\u793A\u4E0E\u63A7\u5236\u5F00\u59CB\u65F6\u76F8\u6BD4\u7684\u5DEE\u503C\uFF09\u3002 \u0394\u6307\u4EE4\u5750\u6807[u]\uFF1D\uFF08\u53EF\u53D8\u9F7F\u8F6E\u6BD4\u5206\u5B50 / \u53EF\u53D8\u9F7F\u8F6E\u6BD4\u5206\u6BCD\uFF09\u00D7\u0394\u6307\u4EE4\u503C \u5982\u679C\u4F7F\u7528\u8F93\u51FA\u6EE4\u6CE2\u5668\uFF0C\u5219\u6307\u4EE4\u5750\u6807\u4F1A\u53D8\u4E3A\u6307\u4EE4\u503C\u7684\u8F93\u51FA\u6EE4\u6CE2\u5668\u5728\u65F6\u95F4\u4E0A\u7684\u5E73\u5747\u503C\u3002 \u00A0 \u6307\u4EE4\u503C\u5728-2147483648\uFF5E2147483647\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u7684\u8303\u56F4\u5185\u5FAA\u73AF\uFF0C\u5373\u4F7F\u53D1\u751F\u6EA2\u51FA\uFF0C\u4E5F\u4F1A\u9002\u5F53\u8BA1\u7B97\u5DEE\u503C\u3002 \u4F8B\uFF09\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u662F0.01\u65F6 \u6307\u4EE4\u503C\u53D1\u751F 21474836.40 \u2192 -21474836.40 \u7684\u53D8\u5316\u65F6\uFF0C\u4F1A\u88AB\u89C6\u4E3A \u002B0.16 \u7684\u6307\u4EE4\uFF08\u4E0D\u662F-42949672.80\u7684\u6307\u4EE4\uFF09\u3002 \u00A0 \u4F7F\u7528MC_Stop\u7ED3\u675F\u63A7\u5236\u65F6\u7684\u793A\u4F8B\u3002 (1) \uFF08MC_SyncTypeFollowUpControl\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u8BF7\u6C42\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u3002 (2) \uFF08MC_SyncTypeFollowUpControl\uFF09\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u65F6\uFF0C InControl \u53D8\u4E3ATRUE\u3002\u5728\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u4E2D\uFF0C\u8DDF\u8E2A\u4E0E\u63A7\u5236\u5F00\u59CB\u65F6\u7684\u6307\u4EE4\u503C\u76F8\u6BD4\u7684\u5DEE\u503C\u8FDB\u884C\u79FB\u52A8\u3002 (3) \uFF08MC_Stop\uFF09\u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u7ED3\u675F\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236\u5E76\u5F00\u59CB\u51CF\u901F\u505C\u6B62\u3002 \uFF08MC_SyncTypeFollowUpControl\uFF09 InControl \u548C Busy \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \uFF08MC_SyncTypeFollowUpControl\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) \uFF08MC_Stop\uFF09\u51CF\u901F\u505C\u6B62\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (6) \uFF08MC_Stop\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 MC_SyncControl \u540C\u6B65\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SyncControl \u540C\u6B65\u63A7\u5236 FB \u00A0 MC_SyncControl_instance(Axis, Execute, InControl, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 InControl OUT BOOL - \u540C\u6B65\u63A7\u5236\u4E2D Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u3002 \u4F7F Execute \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\uFF0C\u4E0D\u4F1A\u505C\u6B62\u540C\u6B65\u63A7\u5236\u3002\u8BF7\u6267\u884CMC_Stop\u3001MC_ImmediateStop\u3001MC_ImmediateStopAll\u4E2D\u7684\u4EFB\u610F\u4E00\u4E2A\u6307\u4EE4\uFF0C\u505C\u6B62\u540C\u6B65\u63A7\u5236\u3002 \u00A0 \u4F7F\u7528MC_Stop\u7ED3\u675F\u63A7\u5236\u65F6\u7684\u793A\u4F8B\u3002 (1) \uFF08MC_SyncControl\uFF09 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C Busy \u53D8\u4E3ATRUE\uFF0C\u8BF7\u6C42\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u3002 (2) \uFF08MC_SyncControl\uFF09\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u65F6\uFF0C InControl \u53D8\u4E3ATRUE\u3002 (3) \uFF08MC_Stop\uFF09\u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u7ED3\u675F\u540C\u6B65\u63A7\u5236\u5E76\u5F00\u59CB\u51CF\u901F\u505C\u6B62\u3002 \uFF08MC_SyncControl\uFF09 InControl \u548C Busy \u53D8\u4E3AFALSE\uFF0C CommandAborted \u53D8\u4E3ATRUE\u3002 (4) \uFF08MC_SyncControl\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C CommandAborted \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 (5) \uFF08MC_Stop\uFF09\u51CF\u901F\u505C\u6B62\u5B8C\u6210\u540E\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (6) \uFF08MC_Stop\uFF09 Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 \u00A0 \u89E3\u9664\u540C\u6B65\u63A7\u5236\u65F6\uFF0C\u5982\u679C\u5C06\u4E3B\u79BB\u5408\u5668\u3001\u8F85\u52A9\u79BB\u5408\u5668\u7684\u79BB\u5408\u5668OFF\u8FDE\u63A5\u65B9\u6CD5\u8BBE\u4E3A\uFF3B\u6ED1\u52A8\uFF3D\uFF0C\u5219\u4F1A\u6839\u636E\u79BB\u5408\u5668OFF\u6ED1\u52A8\u91CF\u548C\u79BB\u5408\u5668OFF\u6ED1\u52A8\u65F6\u95F4\u7684\u8BBE\u5B9A\u8FDB\u884C\u5207\u65AD\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u540C\u6B65\u63A7\u5236 \u68AF\u5F62\u56FE\uFF1A \u79BB\u5408\u5668 ST\uFF1A \u540C\u6B65\u63A7\u5236 ST\uFF1A \u79BB\u5408\u5668 MC_MainClutch \u4E3B\u79BB\u5408\u5668\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MainClutch \u4E3B\u79BB\u5408\u5668\u63A7\u5236 FB \u00A0 MC_MainClutch_instance(Axis, Enable, Level, ReqOn, ReqOff, DisableOn, DisableOff, Enabled, ClutchStatus, Engaged, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Level IN BOOL FALSE \u79BB\u5408\u5668\u63A7\u5236 ReqOn IN BOOL FALSE \u79BB\u5408\u5668ON\u8BF7\u6C42 ReqOff IN BOOL FALSE \u79BB\u5408\u5668OFF\u8BF7\u6C42 DisableOn IN BOOL FALSE \u79BB\u5408\u5668ON\u7981\u6B62 DisableOff IN BOOL FALSE \u79BB\u5408\u5668OFF\u7981\u6B62 Enabled OUT BOOL - \u6307\u4EE4\u4E2D ClutchStatus OUT BOOL - \u79BB\u5408\u5668\u8FDE\u63A5\u4E2D Engaged OUT BOOL - \u79BB\u5408\u5668\u76F4\u63A5\u8FDE\u63A5 Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u63A7\u5236\u4E3B\u79BB\u5408\u5668\u7684\u8FDE\u63A5\u72B6\u6001\u3002 [\u4E3B\u79BB\u5408\u5668\u3000\u79BB\u5408\u5668ON\u6761\u4EF6]\u662F[\u79BB\u5408\u5668\u63A7\u5236\u7EE7\u7535\u5668(\u7535\u5E73)]\u65F6 \u00A0 (1) \u5728 Level \u662FTRUE\u7684\u671F\u95F4\uFF0C\u8FDE\u63A5\u4E3B\u79BB\u5408\u5668\uFF0C ClutchStatus / Engaged \u53D8\u4E3ATRUE\u3002 (2) Level \u53D8\u4E3AFALSE\u65F6\uFF0C\u65AD\u5F00\u4E3B\u79BB\u5408\u5668\uFF0C ClutchStatus / Engaged \u53D8\u4E3AFALSE\u3002 \u00A0 \u5982\u679C\u8BBE\u5B9A\u4E86\u6ED1\u52A8\u65F6\u95F4\uFF0C\u5219\u4E0E ClutchStatus \u76F8\u6BD4\uFF0C Engaged \u4F1A\u5728\u5EF6\u8FDF\u6ED1\u52A8\u65F6\u95F4\u540E\u52A8\u4F5C\u3002 [\u4E3B\u79BB\u5408\u5668\u3000\u79BB\u5408\u5668ON\u6761\u4EF6]\u662F[\u79BB\u5408\u5668\u63A7\u5236\u7EE7\u7535\u5668(\u8FB9\u6CBF)]\u65F6 \u00A0 (1) DisableOn \u662FTRUE\u65F6\uFF0C\u5373\u4F7F\u8BA9 ReqOn \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\uFF0C\u4E5F\u4E0D\u4F1A\u8FDE\u63A5\u4E3B\u79BB\u5408\u5668\u3002 (2) DisableOn \u662FFALSE\u65F6\uFF0C\u8BA9 ReqOn \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\uFF0C\u4F1A\u8FDE\u63A5\u4E3B\u79BB\u5408\u5668\uFF0C ClutchStatus / Engaged \u53D8\u4E3ATRUE\u3002 (3) DisableOff \u662FTRUE\u65F6\uFF0C\u5373\u4F7F\u8BA9 ReqOff \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\uFF0C\u4E5F\u4E0D\u4F1A\u65AD\u5F00\u4E3B\u79BB\u5408\u5668\u3002 (4) DisableOff \u662FFALSE\u65F6\uFF0C\u8BA9 ReqOff \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\uFF0C\u4F1A\u65AD\u5F00\u4E3B\u79BB\u5408\u5668\uFF0C ClutchStatus / Engaged \u53D8\u4E3AFALSE\u3002 \u00A0 \u5982\u679C\u8BBE\u5B9A\u4E86\u6ED1\u52A8\u65F6\u95F4\uFF0C\u5219\u4E0E ClutchStatus \u76F8\u6BD4\uFF0C Engaged \u4F1A\u5728\u5EF6\u8FDF\u6ED1\u52A8\u65F6\u95F4\u540E\u52A8\u4F5C\u3002 \u00A0 \u4F7F\u7528\u4E0B\u8FF0\u65B9\u6CD5\u8BBE\u5B9A\u4E3B\u79BB\u5408\u5668ON\u6761\u4EF6\u7B49\u540C\u6B65\u53C2\u6570\u3002 \u2022 \u7528KV STUDIO\u7684\u540C\u6B65\u53C2\u6570\u8BBE\u5B9A \u2022 \u7528\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam[N]\u8BBE\u5B9A \u00A0 Enable \u53D8\u4E3AFALSE\u65F6\uFF0C\u65E0\u8BBA\u79BB\u5408\u5668\u7684\u8FDE\u63A5\u72B6\u6001\u5982\u4F55\uFF0C ClutchStatus \u548C Engaged \u90FD\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u79BB\u5408\u5668 ST\uFF1A \u79BB\u5408\u5668 MC_AuxClutch \u8F85\u52A9\u79BB\u5408\u5668\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_AuxClutch \u8F85\u52A9\u79BB\u5408\u5668\u63A7\u5236 FB \u00A0 MC_AuxClutch_instance(Axis, Enable, Level, ReqOn, ReqOff, DisableOn, DisableOff, Enabled, ClutchStatus, Engaged, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Level IN BOOL FALSE \u79BB\u5408\u5668\u63A7\u5236 ReqOn IN BOOL FALSE \u79BB\u5408\u5668ON\u8BF7\u6C42 ReqOff IN BOOL FALSE \u79BB\u5408\u5668OFF\u8BF7\u6C42 DisableOn IN BOOL FALSE \u79BB\u5408\u5668ON\u7981\u6B62 DisableOff IN BOOL FALSE \u79BB\u5408\u5668 OFF \u7981\u6B62 Enabled OUT BOOL - \u6307\u4EE4\u4E2D ClutchStatus OUT BOOL - \u79BB\u5408\u5668\u8FDE\u63A5\u4E2D Engaged OUT BOOL - \u79BB\u5408\u5668\u76F4\u63A5\u8FDE\u63A5 Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u63A7\u5236\u8F85\u52A9\u79BB\u5408\u5668\u7684\u8FDE\u63A5\u72B6\u6001\u3002 \u5404\u81EA\u53D8\u91CF\u7684\u52A8\u4F5C\u4E0E MC_MainClutch \u76F8\u540C\u3002 \u00A0 \u4F7F\u7528\u4E0B\u8FF0\u65B9\u6CD5\u8BBE\u5B9A\u8F85\u52A9\u79BB\u5408\u5668ON\u6761\u4EF6\u7B49\u540C\u6B65\u53C2\u6570\u3002 \u2022 \u7528KV STUDIO\u7684\u540C\u6B65\u53C2\u6570\u8BBE\u5B9A \u2022 \u7528\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam[N]\u8BBE\u5B9A \u00A0 Enable \u53D8\u4E3AFALSE\u65F6\uFF0C\u65E0\u8BBA\u79BB\u5408\u5668\u7684\u8FDE\u63A5\u72B6\u6001\u5982\u4F55\uFF0C ClutchStatus \u548C Engaged \u90FD\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u79BB\u5408\u5668 ST\uFF1A \u79BB\u5408\u5668 MC_SwitchCam \u540C\u6B65\u51F8\u8F6E\u5207\u6362 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_SwitchCam \u540C\u6B65\u51F8\u8F6E\u5207\u6362 FB \u00A0 MC_SwitchCam_instance(Axis, Execute, CamNo, SwitchPos, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 CamNo IN UINT 0 \u51F8\u8F6E\u7F16\u53F7 SwitchPos IN UDINT 0 \u5207\u6362\u4F4D\u7F6E Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u540C\u6B65\u63A7\u5236\u4E2D\u6267\u884C\u540C\u6B65\u51F8\u8F6E\u5207\u6362\u3002 \u00A0 (1) \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u8BF7\u6C42\u51F8\u8F6E\u7684\u5207\u6362\u3002 (2) \u5728\u5230\u8FBE SwitchPos \u6240\u6307\u5B9A\u7684\u63A7\u5236\u70B9\u65F6\uFF0C\u5207\u6362\u4E3A\u7528 CamNo \u6307\u5B9A\u7684\u7F16\u53F7\u7684\u51F8\u8F6E\u6570\u636E\u3002\u6B64\u65F6\uFF0C Done \u53D8\u4E3ATRUE\uFF0C Busy \u53D8\u4E3AFALSE\u3002 (3) Execute \u8BBE\u4E3AFALSE\u65F6\uFF0C Done \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u540C\u6B65\u63A7\u5236 ST\uFF1A \u540C\u6B65\u63A7\u5236 MC_TorqueLimitClutch \u540C\u6B65\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_TorqueLimitClutch \u540C\u6B65\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u63A7\u5236 FB \u00A0 MC_TorqueLimitClutch_instance(Axis, Enable, Reengage, JogForward, JogBackward, Enabled, Reengaged, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Reengage IN BOOL FALSE \u91CD\u65B0\u8FDE\u63A5\u8BF7\u6C42 JogForward IN BOOL FALSE \u540C\u6B65\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668JOG\u6B63\u65B9\u5411 JogBackward IN BOOL FALSE \u540C\u6B65\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668JOG\u8D1F\u65B9\u5411 Enabled OUT BOOL - \u6307\u4EE4\u4E2D Reengaged OUT BOOL - \u91CD\u65B0\u8FDE\u63A5\u5B8C\u6210 Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u63A7\u5236\u540C\u6B65\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u3002 \u00A0 (1) \u53CD\u9988\u8F6C\u77E9\u8D85\u8FC7\u4EFF\u771F\u673A\u68B0\u540C\u6B65\u52A8\u4F5C\u505C\u6B62\u8F6C\u77E9\u65F6\uFF0C\u6216\u8005\u7528 MC_StopSimMechanicalSync \u505C\u6B62\u4EFF\u771F\u673A\u68B0\u540C\u6B65\u65F6\uFF0C\u4F1A\u65AD\u5F00\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u3002 (2) \u4F7F\u7528 JogForward / JogBackward \u8BA9\u4ECE\u8F74\u8FDB\u884CJOG\u8FD0\u8F6C\uFF0C\u6D88\u9664\u8FC7\u8F7D\u539F\u56E0\u3002 (3) Reengage \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u7B49\u5F85\u8F93\u5165\u8F74\u76F8\u4F4D\u4E0E\u8F93\u51FA\u8F74\u76F8\u4F4D\u53D8\u4E3A\u4E00\u81F4\u3002 (4) \u4F7F\u7528 JogForward / JogBackward \u8BA9\u4ECE\u8F74\u8FDB\u884CJOG\u8FD0\u8F6C\u3002\u5728 Reengage \u662FTRUE\u7684\u72B6\u6001\u4E0B\uFF0C\u8F93\u5165\u8F74\u76F8\u4F4D\u4E0E\u8F93\u51FA\u8F74\u76F8\u4F4D\u4E00\u81F4\u65F6\uFF0C\u4F1A\u81EA\u52A8\u8FDE\u63A5\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u3002\u8FDE\u63A5\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u4E4B\u540E\uFF0C JogForward / JogBackward \u7684JOG\u8FD0\u8F6C\u4F1A\u53D8\u4E3A\u65E0\u6548\u3002 (5) Reengage \u8BBE\u4E3AFALSE\u65F6\uFF0C Reengaged \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 \u00A0 \u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u65AD\u5F00\u65F6\uFF0C\u7CFB\u7EDF\u53D8\u91CF_MC_Axis[N].Statusbit.TrqLimitClutchOff\u53D8\u4E3ATRUE\u3002 \u00A0 \u53EA\u6709\u5728\uFF3B\u4EFF\u771F\u673A\u68B0\u540C\u6B65\u505C\u6B62\u65B9\u6CD5\uFF3D\u8BBE\u4E3A\uFF3B\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668OFF\uFF3D\u65F6\uFF0C\u624D\u53EF\u4EE5\u901A\u8FC7MC_StopSimMechanicalSync\u65AD\u5F00\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u3002 \u4E0A\u8FF0\u662F\uFF3B\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u8FDE\u63A5\u65B9\u6CD5\uFF3D\u8BBE\u4E3A\uFF3B\u76F4\u63A5\uFF3D\u65F6\u7684\u5904\u7406\u3002\uFF3B\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u8FDE\u63A5\u65B9\u6CD5\uFF3D\u8BBE\u4E3A\uFF3B\u6ED1\u52A8\uFF3D\u65F6\uFF0C\u4F1A\u5982\u4E0B\u9010\u6E10\u8FDE\u63A5\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\uFF0C\u8F93\u51FA\u8F74\u5728\u5EF6\u8FDF1\u4E2A\u5468\u671F\u540E\u53D8\u4E3A\u4E00\u81F4\uFF0C\u5B8C\u6210\u8FDE\u63A5\u3002 \u00A0 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_StopSimMechanicalSync \u505C\u6B62\u540C\u6B65\u4EFF\u771F\u673A\u68B0\u540C\u6B65 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_StopSimMechanicalSync \u505C\u6B62\u540C\u6B65\u4EFF\u771F\u673A\u68B0\u540C\u6B65 FB \u00A0 MC_StopSimMechanicalSync_instance(Axis, Enable, Status, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 Status OUT BOOL - \u505C\u6B62\u8BF7\u6C42\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u6309\u7167\u540C\u6B65\u53C2\u6570\u7684\u201C\u4EFF\u771F\u673A\u68B0\u540C\u6B65\u505C\u6B62\u65B9\u6CD5\u201D\u6301\u7EED\u505C\u6B62\u4EFF\u771F\u673A\u68B0\u540C\u6B65\u3002 \u4EFF\u771F\u673A\u68B0\u540C\u6B65\u505C\u6B62\u65B9\u6CD5\u53D8\u4E3A\u201C\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668OFF\u201D\u65F6\uFF0C\u65AD\u5F00\u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u3002 \u5982\u9700\u91CD\u65B0\u8FDE\u63A5\uFF0C\u5E94\u4F7F\u7528 MC_TorqueLimitClutch \u3002 \u00A0 \u5373\u4F7F\u5728\u4E0D\u662F\u540C\u6B65\u63A7\u5236\u4E2D\u72B6\u6001\u7B49\u5FFD\u7565\u8BF7\u6C42\u7684\u60C5\u51B5\u4E0B\uFF0C Error \u4E5F\u4E0D\u4F1A\u53D8\u4E3ATRUE\uFF0C\u800C\u662F Status \u53D8\u4E3ATRUE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_MainAxisPhasing \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MainAxisPhasing \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F FB \u00A0 MC_MainAxisPhasing_instance(Axis, Enable, CmdValue, Enabled, Changing, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 CmdValue IN LREAL 0,0 \u76F8\u4F4D\u8865\u507F\u91CF\u6307\u4EE4\u503C -2000000000\uFF5E2000000000\u00D7\u8F93\u5165\u8F74\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Enabled OUT BOOL - \u6307\u4EE4\u4E2D Changing OUT BOOL - \u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5C06 CmdValue \u7684\u503C\u5E94\u7528\u5230\u4E3B\u8F74\u76F8\u4F4D\u8865\u507F\u91CF\u6307\u4EE4\u503C\u4E2D\u3002 \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F\u91CF\u7684\u5F53\u524D\u503C\u53EF\u7528_MC_Axis[N].SyncStatus.MainAxisPhaseCompensation\u6765\u786E\u8BA4\u3002 [\u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u65B9\u5F0F]\u8BBE\u4E3A[\u76F4\u63A5]\u65F6 \u00A0 \u7ACB\u5373\u5E94\u7528 CmdValue \u7684\u503C\u3002 Changing \u59CB\u7EC8\u662FFALSE\u3002 [\u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u65B9\u5F0F]\u8BBE\u4E3A[\u76F4\u7EBF]\u65F6 \u00A0 * : \u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u65F6\u95F4 \u00A0 \u6309\u7167\u5728\u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u65F6\u95F4\u4E2D\u6307\u5B9A\u7684\u65F6\u95F4\uFF0C\u5E94\u7528 CmdValue \u7684\u503C\u3002 \u5373\u4F7F\u662F\u5728\u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u4E2D\uFF0C\u5C06 Enable \u7F6E\u4E8EFALSE\u65F6\uFF0C Changing \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 MC_AuxAxisPhasing \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_AuxAxisPhasing \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F FB \u00A0 MC_AuxAxisPhasing_instance(Axis, Enable, CmdValue, Enabled, Changing, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Axis IN _MC_AXIS_REF - \u8F74 Enable IN BOOL - \u6709\u6548 CmdValue IN LREAL 0,0 \u76F8\u4F4D\u8865\u507F\u91CF\u6307\u4EE4\u503C -2000000000\uFF5E2000000000\u00D7\u8F93\u5165\u8F74\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Enabled OUT BOOL - \u6307\u4EE4\u4E2D Changing OUT BOOL - \u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Enable \u662FTRUE\u7684\u671F\u95F4\uFF0C\u5C06 CmdValue \u7684\u503C\u5E94\u7528\u5230\u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F\u91CF\u6307\u4EE4\u503C\u4E2D\u3002 \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F\u91CF\u7684\u5F53\u524D\u503C\u53EF\u7528_MC_Axis[N].SyncStatus.AuxAxisPhaseCompensation\u6765\u786E\u8BA4\u3002 \u5373\u4F7F\u662F\u5728\u76F8\u4F4D\u8865\u507F\u91CF\u66F4\u6539\u4E2D\uFF0C\u5C06 Enable \u7F6E\u4E8EFALSE\u65F6\uFF0C Changing \u4E5F\u4F1A\u53D8\u4E3AFALSE\u3002 \u00A0 \u5404\u81EA\u53D8\u91CF\u7684\u52A8\u4F5C\u4E0E MC_MainAxisPhasing \u76F8\u540C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u8F74\u7FA4\u7EC4\u63A7\u5236FB MC_GroupStop \u51CF\u901F\u505C\u6B62(\u8F74\u7FA4\u7EC4) \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_GroupStop \u51CF\u901F\u505C\u6B62(\u8F74\u7FA4\u7EC4) FB \u00A0 MC_GroupStop_instance(AxisGroup, Execute, Deceleration, Jerk, Done, Busy, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA AxisGroup IN _MC_AXIS_GROUP_REF - \u8F74\u7FA4\u7EC4 Execute IN BOOL - \u6267\u884C Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5728\u63D2\u8865\u8FD0\u884C\u4E2D\u51CF\u901F\u505C\u6B62\u7528 AxisGroup \u6307\u5B9A\u7684\u8F74\u7FA4\u7EC4\u3002 \u5728\u51CF\u901F\u505C\u6B62\u4E2D\uFF0C\u9664\u4E86\u53EF\u901A\u8FC7MC_ImmediateStop,MC_ImmediateStopAll\u6267\u884C\u7ACB\u5373\u505C\u6B62\u4E4B\u5916\uFF0C\u4E0D\u80FD\u6267\u884C\u5176\u4ED6\u8F74\u63A7\u5236\u529F\u80FD\u3002 \u51CF\u901F\u505C\u6B62\u540E\uFF0C\u5728\u5C06MC_GroupStop\u7684 Execute \u8BBE\u4E3AFALSE\u4E4B\u524D\uFF0C\u4E0D\u80FD\u5BF9\u76F8\u5173\u8F74\u7FA4\u7EC4\u6267\u884C\u8F74\u63A7\u5236\u529F\u80FD\u3002 \u00A0 \u5404\u81EA\u53D8\u91CF\u7684\u52A8\u4F5C\u4E0E MC_Stop \u76F8\u540C\u3002 \u00A0 \u51CF\u901F\u505C\u6B62\u540E\uFF0C\u5373\u4F7FMC_GroupStop\u7684 Execute \u5904\u4E8ETRUE\u72B6\u6001\uFF0C\u4E5F\u53EF\u4EE5\u5BF9\u76F8\u5173\u8F74\u7FA4\u7EC4\u7684\u914D\u7F6E\u8F741\u4EE5\u5916\u7684\u8F74\u6267\u884C\u8F74\u63A7\u5236\u529F\u80FD\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 MC_MoveLinearAbsolute \u76F4\u7EBF\u63D2\u8865\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveLinearAbsolute \u76F4\u7EBF\u63D2\u8865\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 FB \u00A0 MC_MoveLinearAbsolute_instance(AxisGroup, Execute, Position, Velocity, Acceleration, Deceleration, Jerk, BufferMode, TransitionMode, TransitionParameter, Done, Busy, Active, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA AxisGroup IN _MC_AXIS_GROUP_REF - \u8F74\u7FA4\u7EC4 Execute IN BOOL - \u6267\u884C Position IN ARRAY [*] OF LREAL - \u76EE\u6807\u5750\u6807[u] Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 BufferMode IN UINT 0 \u7F13\u51B2\u6A21\u5F0F\uFF080\uFF5E5\uFF09 TransitionMode IN UINT 0 \u8FC7\u6E21\u6A21\u5F0F 0\uFF1ATMNone 10: TMCornerRadius TransitionParameter IN LREAL 0.0 \u8FC7\u6E21\u53C2\u6570 \u8F85\u52A9\u5706\u5F27\u534A\u5F84[u] \u4EC5\u5728\u8FC7\u6E21\u6A21\u5F0F\u662FTMCornerRadius\u65F6\u4F7F\u7528\u3002 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5BF9\u7528 AxisGroup \u6307\u5B9A\u7684\u8F74\u6267\u884C\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u76F4\u7EBF\u63D2\u8865\uFF09\u3002 \u00A0 \u5728 Potision \u4E2D\u6307\u5B9A AxisGroup \u7684\u914D\u7F6E\u8F74\u7684\u76EE\u6807\u5750\u6807\u3002 \u4F8B\uFF09 AxisGroup \u7684\u914D\u7F6E\u8F74\uFF1A\u8F743\u548C\u8F744 \u8F743\u7684\u76EE\u6807\u5750\u6807\uFF1D100.0 mm \u8F744\u7684\u76EE\u6807\u5750\u6807\uFF1D50.0 mm \u00A0\u65F6 Position[0]=100.0 Position[1]=50.0 Position[2]\u53CA\u4EE5\u540E\u7684\u6570\u503C\u88AB\u5FFD\u7565\u3002 \u00A0 \u5404\u81EA\u53D8\u91CF\u7684\u52A8\u4F5C\u4E0E MC_MoveAbsolute \u76F8\u540C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 \u5982\u679C\u7F13\u51B2\u4E86\u6307\u5B9A\u4E0D\u540C\u914D\u7F6E\u8F74\u7684\u8F74\u7FA4\u7EC4\u7684\u6307\u4EE4\uFF0C\u5219\u7F13\u51B2\u7684\u6307\u4EE4\u7684 Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u5728 AxisGroup \u7684\u914D\u7F6E\u8F74\u6240\u5305\u542B\u7684\u8F74\u4E2D\uFF0C\u5982\u679C\u56E0MC_Stop\u7B49\u6307\u4EE4\u800C\u5904\u4E8E\u505C\u6B62\u72B6\u6001\u7684\u8F741\u4E2A\u4E5F\u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u5F00\u59CB\u8F74\u63A7\u5236\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u76F4\u7EBF\u63D2\u8865 ST\uFF1A \u76F4\u7EBF\u63D2\u8865 MC_MoveLinearRelative \u76F4\u7EBF\u63D2\u8865\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveLinearRelative \u76F4\u7EBF\u63D2\u8865\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 FB \u00A0 MC_MoveLinearRelative_instance(AxisGroup, Execute, Distance, Velocity, Acceleration, Deceleration, Jerk, BufferMode, TransitionMode, TransitionParameter, Done, Busy, Active, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA AxisGroup IN _MC_AXIS_GROUP_REF - \u8F74\u7FA4\u7EC4 Execute IN BOOL - \u6267\u884C Distance IN ARRAY [*] OF LREAL - \u79FB\u52A8\u8DDD\u79BB[u] Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 BufferMode IN UINT 0 \u7F13\u51B2\u6A21\u5F0F\uFF080\uFF5E5\uFF09 TransitionMode IN UINT 0 \u8FC7\u6E21\u6A21\u5F0F 0: TMNone 10: TMCornerRadius TransitionParameter IN LREAL 0.0 \u8FC7\u6E21\u53C2\u6570 \u8F85\u52A9\u5706\u5F27\u534A\u5F84[u] \u4EC5\u5728\u8FC7\u6E21\u6A21\u5F0F\u662FTMCornerRadius\u65F6\u4F7F\u7528\u3002 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5BF9\u7528 AxisGroup \u6307\u5B9A\u7684\u8F74\u6267\u884C\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u76F4\u7EBF\u63D2\u8865\uFF09\u3002 \u00A0 \u5728 Distance \u4E2D\u6307\u5B9A AxisGroup \u7684\u914D\u7F6E\u8F74\u7684\u79FB\u52A8\u8DDD\u79BB\u3002 \u4F8B\uFF09 AxisGroup \u7684\u914D\u7F6E\u8F74\uFF1A\u8F743\u548C\u8F744 \u8F743\u7684\u79FB\u52A8\u8DDD\u79BB\uFF1D100.0 mm \u8F744\u7684\u79FB\u52A8\u8DDD\u79BB\uFF1D50.0 mm \u00A0\u65F6 Distace [0]=100.0 Distace [1]=50.0 Distace [2]\u53CA\u4EE5\u540E\u7684\u6570\u503C\u88AB\u5FFD\u7565\u3002 \u00A0 \u5404\u81EA\u53D8\u91CF\u7684\u52A8\u4F5C\u4E0E MC_MoveRelative \u76F8\u540C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 \u5982\u679C\u7F13\u51B2\u4E86\u6307\u5B9A\u4E0D\u540C\u914D\u7F6E\u8F74\u7684\u8F74\u7FA4\u7EC4\u7684\u6307\u4EE4\uFF0C\u5219\u7F13\u51B2\u7684\u6307\u4EE4\u7684 Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u5728 AxisGroup \u7684\u914D\u7F6E\u8F74\u6240\u5305\u542B\u7684\u8F74\u4E2D\uFF0C\u5982\u679C\u56E0MC_Stop\u7B49\u6307\u4EE4\u800C\u5904\u4E8E\u505C\u6B62\u72B6\u6001\u7684\u8F741\u4E2A\u4E5F\u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u5F00\u59CB\u8F74\u63A7\u5236\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u76F4\u7EBF\u63D2\u8865 ST\uFF1A \u76F4\u7EBF\u63D2\u8865 MC_MoveCircularAbsolute \u5706\u5F27\u63D2\u8865\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveCircularAbsolute \u5706\u5F27\u63D2\u8865\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 FB \u00A0 MC_MoveCircularAbsolute_instance(AxisGroup, Execute, CircMode, AuxPoint, EndPoint, PathChoice, Velocity, Acceleration, Deceleration, Jerk, BufferMode, TransitionMode, TransitionParameter, Done, Busy, Active, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA AxisGroup IN _MC_AXIS_GROUP_REF - \u8F74\u7FA4\u7EC4 Execute IN BOOL - \u6267\u884C CircMode IN UINT 0 \u5706\u5F27\u6307\u5B9A\u683C\u5F0F 0\uFF1ABORDER\uFF08\u901A\u8FC7\u70B9\uFF09 1\uFF1ACENTER\uFF08\u4E2D\u5FC3\u5750\u6807\uFF09 2\uFF1ARADIUS\uFF08\u534A\u5F84\uFF09 AuxPoint IN ARRAY [*] OF LREAL - \u8F85\u52A9\u70B9[u] EndPoint IN ARRAY [*] OF LREAL - \u7EC8\u70B9[u] PathChoice IN UINT 0 \u5706\u5F27\u8F6C\u5411 0\uFF1ACW\uFF08\u987A\u65F6\u9488\uFF09 1\uFF1ACCW\uFF08\u9006\u65F6\u9488\uFF09 Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 BufferMode IN UINT 0 \u7F13\u51B2\u6A21\u5F0F\uFF080\uFF5E5\uFF09 TransitionMode IN UINT 0 \u8FC7\u6E21\u6A21\u5F0F 0\uFF1ATMNone 10\uFF1ATMCornerRadius TransitionParameter IN LREAL 0.0 \u8FC7\u6E21\u53C2\u6570 \u8F85\u52A9\u5706\u5F27\u534A\u5F84[u] \u4EC5\u5728\u8FC7\u6E21\u6A21\u5F0F\u662FTMCornerRadius\u65F6\u4F7F\u7528\u3002 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5BF9\u7528 AxisGroup \u6307\u5B9A\u7684\u8F74\u6267\u884C\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u5706\u5F27\u63D2\u8865\uFF09\u3002 \u5728 AxisGroup \u4E2D\u6307\u5B9A\u914D\u7F6E\u8F74\u4E3A2\u8F74\u7684\u8F74\u7FA4\u7EC4\u3002\u5982\u679C\u6307\u5B9A\u4E862\u8F74\u4EE5\u5916\u7684\u8F74\u7FA4\u7EC4\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\u3002 \u5706\u5F27\u63D2\u8865\u662F\u5728\u8F74\u7FA4\u7EC4\u7684\u914D\u7F6E\u8F74\u4E2D\uFF0C\u5C06\u8F74\u7F16\u53F7\u5C0F\u7684\u8F74\u4F5C\u4E3AX\u8F74\uFF0C\u5C06\u8F74\u7F16\u53F7\u5927\u7684\u8F74\u4F5C\u4E3AY\u8F74\uFF0C\u5728\u7531\u8BE52\u8F74\u6784\u6210\u7684XY\u5E73\u9762\u4E0A\u52A8\u4F5C\u3002 \u00A0 \u5706\u5F27\u7528 CircMode \u6307\u5B9A\u3002 CircMode\u662FBORDER\u65F6 \u6267\u884C\u8F74\u63A7\u5236\uFF0C\u4F7F\u8F68\u8FF9\u6210\u4E3A\u901A\u8FC7 AuxPoint \u7684\u5706\u5F27\u3002\u4E0D\u4F7F\u7528 PathChoice \u3002 \u00A0 CircMode\u662FCENTER\u65F6 \u6267\u884C\u8F74\u63A7\u5236\uFF0C\u4F7F\u8F68\u8FF9\u6210\u4E3A\u4EE5 AuxPoint \u4E3A\u4E2D\u5FC3\u7684\u5706\u5F27\u3002\u7528 PathChoice \u6307\u5B9A\u5706\u5F27\u7684\u8F6C\u5411\u3002 \u00A0 \u5982\u679C\u4ECE\u8D77\u70B9\u548C\u4ECE\u7EC8\u70B9\u5230 AuxPoint \u7684\u8DDD\u79BB\uFF08\u534A\u5F84\uFF09\u4E0D\u540C\uFF0C\u5219\u4F1A\u4EE52\u4E2A\u8DDD\u79BB\u7684\u5E73\u5747\u503C\u4E3A\u534A\u5F84\u8BA1\u7B97\u4E2D\u5FC3\u70B9\u3002\u6B64\u65F6\uFF0C\u5C06\u8DDD\u79BB AuxPoint \u66F4\u8FD1\u76841\u70B9\u4F5C\u4E3A\u4E2D\u5FC3\u70B9\u3002 \u00A0 CircMode\u662FRADIUS\u65F6 \u6267\u884C\u8F74\u63A7\u5236\uFF0C\u4F7F\u8F68\u8FF9\u6210\u4E3A AuxPoint \u6240\u6307\u5B9A\u7684\u534A\u5F84\u7684\u5706\u5F27\u3002\u7528 AuxPoint \u7684\u5F00\u5934\u8981\u7D20\u6307\u5B9A\u534A\u5F84\u3002\u7528 PathChoice \u6307\u5B9A\u5706\u5F27\u7684\u8F6C\u5411\u3002 \u5982\u679C\u534A\u5F84\u5C0F\u4E8E\u8D77\u70B9\u5230\u7EC8\u70B9\u8DDD\u79BB\u76841/2\uFF0C\u5219\u4F1A\u53D1\u751F\u5706\u5F27\u521B\u5EFA\u9519\u8BEF\u3002 \u00A0 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u00A0 \u2022 \u5982\u679C\u7F13\u51B2\u4E86\u6307\u5B9A\u4E0D\u540C\u914D\u7F6E\u8F74\u7684\u8F74\u7FA4\u7EC4\u7684\u6307\u4EE4\uFF0C\u5219\u7F13\u51B2\u7684\u6307\u4EE4\u7684 Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u4E0D\u6267\u884C\u5904\u7406\u3002 \u2022 \u5728 AxisGroup \u7684\u914D\u7F6E\u8F74\u6240\u5305\u542B\u7684\u8F74\u4E2D\uFF0C\u5982\u679C\u56E0MC_Stop\u7B49\u6307\u4EE4\u800C\u5904\u4E8E\u505C\u6B62\u72B6\u6001\u7684\u8F741\u4E2A\u4E5F\u4E0D\u5B58\u5728\uFF0C\u5219\u4F1A\u53D1\u751F\u9519\u8BEF\uFF0C\u4E0D\u5F00\u59CB\u8F74\u63A7\u5236\u3002 \u2022 \u76F4\u7EBF\u63D2\u8865\u2192\u5706\u5F27\u63D2\u8865\u3001\u5706\u5F27\u63D2\u8865\u2192\u76F4\u7EBF\u63D2\u8865\u3001\u5706\u5F27\u63D2\u8865\u2192\u5706\u5F27\u63D2\u8865\u7684\u7EC4\u5408\uFF0C\u4E0D\u80FD\u5728Aborting\u6A21\u5F0F\u4E0B\u7F13\u51B2\uFF08\u2192 \u300C\u7F13\u51B2\u300D \uFF09\u3002 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u5706\u5F27\u63D2\u8865 ST\uFF1A \u5706\u5F27\u63D2\u8865 MC_MoveCircularRelative \u5706\u5F27\u63D2\u8865\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 MC_MoveCircularRelative \u5706\u5F27\u63D2\u8865\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u63A7\u5236 FB \u00A0 MC_MoveCircularRelative_instance(AxisGroup, Execute, CircMode, AuxPoint, EndPoint, PathChoice, Velocity, Acceleration, Deceleration, Jerk, BufferMode, TransitionMode, TransitionParameter, Done, Busy, Active, CommandAborted, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA AxisGroup IN _MC_AXIS_GROUP_REF - \u8F74\u7FA4\u7EC4 Execute IN BOOL - \u6267\u884C CircMode IN UINT 0 \u5706\u5F27\u6307\u5B9A\u683C\u5F0F 0: BORDER\u3000\uFF08\u901A\u8FC7\u70B9\uFF09 1: CENTER\u3000\uFF08\u4E2D\u5FC3\u5750\u6807\uFF09 2: RADIUS\u3000\uFF08\u534A\u5F84\uFF09 AuxPoint IN ARRAY [*] OF LREAL - \u8F85\u52A9\u70B9[u] EndPoint IN ARRAY [*] OF LREAL - \u7EC8\u70B9[u] PathChoice IN UINT 0 \u5706\u5F27\u8F6C\u5411 0: CW\u3000\uFF08\u987A\u65F6\u9488\uFF09 1: CCW\u3000\uFF08\u9006\u65F6\u9488\uFF09 Velocity IN LREAL 0,0 \u901F\u5EA6[u/s] 1\uFF5E2000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Acceleration IN LREAL 0,0 \u52A0\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u52A0\u901F 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Deceleration IN LREAL 0,0 \u51CF\u901F\u5EA6[u/s 2 ] 0\u30012000000000\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\uFF1A\u7ACB\u5373\u505C\u6B62 1\uFF5E1999999999\u00D7\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6 Jerk IN UINT 0 SIN\u659C\u7387 0\uFF1A\u76F4\u7EBF 1\uFF5E100\uFF1ASIN\uFF08SIN\u659C\u7387[%]\uFF09 BufferMode IN UINT 0 \u7F13\u51B2\u6A21\u5F0F\uFF080\uFF5E5\uFF09 TransitionMode IN UINT 0 \u8FC7\u6E21\u6A21\u5F0F 0: TMNone 10: TMCornerRadius TransitionParameter IN LREAL 0.0 \u8FC7\u6E21\u53C2\u6570 \u8F85\u52A9\u5706\u5F27\u534A\u5F84[u] \u4EC5\u5728\u8FC7\u6E21\u6A21\u5F0F\u662FTMCornerRadius\u65F6\u4F7F\u7528\u3002 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Active OUT BOOL - \u63A7\u5236\u4E2D CommandAborted OUT BOOL - \u4E2D\u65AD Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5728 Execute \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C\u5BF9\u7528 AxisGroup \u6307\u5B9A\u7684\u8F74\u6267\u884C\u76F8\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\uFF08\u5706\u5F27\u63D2\u8865\uFF09\u3002 \u5404\u81EA\u53D8\u91CF\u7684\u8BF4\u660E\u4E0E MC_MoveCircularAbsolute \u76F8\u540C\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u539F\u56E0\u7684\u9519\u8BEF\u4EE3\u7801\u3002 \u9519\u8BEF\u4EE3\u7801 \u793A\u4F8B\u7A0B\u5E8F \u68AF\u5F62\u56FE\uFF1A \u5706\u5F27\u63D2\u8865 ST\uFF1A \u5706\u5F27\u63D2\u8865 \u9519\u8BEF\u4EE3\u7801 \u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u5185\u5BB9\u7684\u9519\u8BEF\u4EE3\u7801\u3002 ErrorID \u4E2D\u5B58\u50A8\u7684\u9519\u8BEF\u4EE3\u7801\u5982\u4E0B\u3002 \u9519\u8BEF\u4EE3\u7801 \u9519\u8BEF\u5185\u5BB9 \u8BE6\u7EC6 0 \u65E0\u9519\u8BEF \u6CA1\u6709\u9519\u8BEF\u6216\u8B66\u544A\u3002 30006 \u7CFB\u7EDF\u8BBE\u5B9A(\u8FD0\u52A8\u901A\u7528\u8BBE\u5B9A)\u9519\u8BEF \u7CFB\u7EDF\u8BBE\u5B9A(\u8FD0\u52A8\u901A\u7528\u8BBE\u5B9A)\u8D85\u51FA\u8303\u56F4\u3002 30015 \u63A7\u5236\u5468\u671F\u8D85\u51FA\u9519\u8BEF(\u4E00\u822C) \u53D1\u751F\u4E86\u63A7\u5236\u5468\u671F\u8D85\u51FA\u9519\u8BEF(\u4E00\u822C)\u3002\u8BF7\u589E\u5927\u63A7\u5236\u5468\u671F\uFF0C\u6216\u8005\u4FEE\u6539\u4F7F\u7528\u6761\u4EF6\u3002 30016 \u63A7\u5236\u5468\u671F\u8D85\u51FA\u9519\u8BEF \u53D1\u751F\u4E86\u63A7\u5236\u5468\u671F\u8D85\u51FA\u9519\u8BEF\u3002\u8BF7\u589E\u5927\u63A7\u5236\u5468\u671F\uFF0C\u6216\u8005\u4FEE\u6539\u4F7F\u7528\u6761\u4EF6\u3002 30017 \u53C2\u6570\u8BFB\u53D6\u9519\u8BEF \u8BFB\u53D6\u53C2\u6570\u53D1\u751F\u5F02\u5E38\u3002\u53C2\u6570\u53EF\u80FD\u5DF2\u88AB\u521D\u59CB\u5316\u3002 30020 \u5468\u8FB9\u5904\u7406\u65F6\u95F4\u4E0D\u8DB3\u9519\u8BEF \u5468\u8FB9\u5904\u7406\u7684\u65F6\u95F4\u4E0D\u8DB3\u3002\u8BF7\u589E\u5927\u63A7\u5236\u5468\u671F\uFF0C\u6216\u8005\u4FEE\u6539\u4F7F\u7528\u6761\u4EF6\u3002 30028 \u5355\u5143\u95F4\u540C\u6B65\u5468\u671F\u9519\u8BEF \u8BF7\u628A\u5355\u5143\u95F4\u540C\u6B65\u5468\u671F\u8BBE\u4E3A\u63A7\u5236\u5468\u671F\u7684\u6574\u6570\u500D\u3002 30047 \u5F3A\u5236\u505C\u6B62\u9519\u8BEF \u5DF2\u6267\u884C\u5F3A\u5236\u505C\u6B62\u3002 30100 \u95EA\u5B58\u8BFB\u53D6\u9519\u8BEF \u95EA\u5B58\u8BFB\u53D6\u65F6\u53D1\u751F\u5F02\u5E38\u3002\u53EF\u80FD\u662F\u4EE5\u4E0B\u539F\u56E0\u6240\u81F4\u3002 \u2022 \u95EA\u5B58\u4E2D\u7684\u6570\u636E\u7834\u635F \u2022 \u5B58\u50A8\u4E86\u5F53\u524D\u7CFB\u7EDF\u7A0B\u5E8F\u7248\u672C\u4E0D\u652F\u6301\u7684\u53C2\u6570 \u8BF7\u91CD\u65B0\u4F20\u8F93\u53C2\u6570\u3002 \u9891\u53D1\u65F6\uFF0C\u8BF7\u4E0E\u672C\u516C\u53F8\u6700\u8FD1\u9500\u552E\u4EE3\u8868\u5904\u8054\u7CFB\u3002 30101 \u95EA\u5B58\u5199\u5165\u6B21\u6570\u9519\u8BEF Flash ROM\u5199\u5165\u53D1\u751F\u4E86\u5F02\u5E38\u3002 30\u5206\u949F\u5185\u7684\u5199\u5165\u6B21\u6570\u8D85\u8FC7\u4E86100\u6B21\u3002 30102 \u95EA\u5B58\u5199\u5165\u7D2F\u79EF\u9519\u8BEF Flash ROM\u5199\u5165\u53D1\u751F\u4E86\u5F02\u5E38\u3002 \u7D2F\u79EF\u5199\u5165\u6B21\u6570\u8D85\u8FC7\u4E8620000\u6B21\u3002 30160 \u53C2\u6570\u8D85\u8303\u56F4\u9519\u8BEF(\u63A5\u70B9\u8F93\u51FA\u8BBE\u5B9A) \u63A5\u70B9\u8F93\u51FA\u7684\u53C2\u6570\u6709\u5F02\u5E38\u3002 \u8BF7\u786E\u4FDD\u5904\u4E8E\u8BBE\u5B9A\u8303\u56F4\u5185\u3002 30161 \u63A5\u70B9\u8F93\u51FA\u53C2\u6570\u66F4\u6539 \u52A8\u4F5C\u5141\u8BB8\u65F6\u9519\u8BEF \u7531\u4E8E\u6B63\u5728\u6267\u884C\u52A8\u4F5C\u4F7F\u80FD\u5904\u7406\uFF0C\u56E0\u6B64\u63A5\u70B9\u8F93\u51FA\u53C2\u6570\u66F4\u6539\u5931\u8D25\u3002 30162 \u5916\u90E8\u53C2\u7167 \u5355\u5143\u95F4\u540C\u6B65\u505C\u6B62\u4E2D\u9519\u8BEF \u5BF9\u5916\u90E8\u53C2\u7167\u6307\u5B9A\u4E86DM\uFF0C\u4F46\u662F\u5355\u5143\u95F4\u540C\u6B65\u5DF2\u7ECF\u505C\u6B62\u3002 30163 \u5916\u90E8\u53C2\u7167 \u8F6F\u5143\u4EF6\u672A\u6CE8\u518C\u9519\u8BEF \u5BF9\u5916\u90E8\u53C2\u7167\u6307\u5B9A\u4E86DM\uFF0C\u4F46\u662F\u6307\u5B9A\u7684\u8F6F\u5143\u4EF6\u6CA1\u6709\u767B\u5F55\u3002 30164 \u5916\u90E8\u53C2\u7167 \u5176\u4ED6\u9519\u8BEF \u5916\u90E8\u53C2\u7167\u521D\u59CB\u5316\u5931\u8D25\u3002 30200 \u63A7\u5236\u5F00\u59CB \u63D2\u8865\u4ECE\u8F74 \u8F74\u63A7\u5236\u4E2D\u9519\u8BEF \u7531\u4E8E\u63D2\u8865\u4ECE\u8F74\u5DF2\u5904\u4E8E\u8F74\u63A7\u5236\u72B6\u6001\uFF0C\u56E0\u6B64\u65E0\u6CD5\u542F\u52A8\u3002 30201 \u5176\u4ED6\u8F74\u9519\u8BEF \u5176\u4ED6\u8F74\u51FA\u9519\u3002 \u8BF7\u68C0\u67E5\u5176\u4ED6\u8F74\u7684\u9519\u8BEF\u539F\u56E0\u3002 30202 \u6B63\u65B9\u5411\u8F6F\u9650\u4F4D\u9519\u8BEF \u68C0\u6D4B\u5230\u6B63\u65B9\u5411\u8F6F\u9650\u4F4D\u3002 30203 \u8D1F\u65B9\u5411\u8F6F\u9650\u4F4D\u9519\u8BEF \u68C0\u6D4B\u5230\u8D1F\u65B9\u5411\u8F6F\u9650\u4F4D\u3002 30204 \u6B63\u65B9\u5411\u9650\u4F4D\u9519\u8BEF \u68C0\u6D4B\u5230\u6B63\u65B9\u5411\u9650\u4F4D\u8F93\u5165\u3002 30205 \u8D1F\u65B9\u5411\u9650\u4F4D\u9519\u8BEF \u68C0\u6D4B\u5230\u8D1F\u65B9\u5411\u9650\u4F4D\u8F93\u5165\u3002 30206 \u6B63\u65B9\u5411\u9650\u4F4D\u9519\u8BEF(\u8D1F\u65B9\u5411\u79FB\u52A8) \u8D1F\u65B9\u5411\u79FB\u52A8\u4E2D\u68C0\u6D4B\u5230\u6B63\u65B9\u5411\u9650\u4F4D\u8F93\u5165\u3002 30207 \u8D1F\u65B9\u5411\u9650\u4F4D\u9519\u8BEF(\u6B63\u65B9\u5411\u79FB\u52A8) \u6B63\u65B9\u5411\u79FB\u52A8\u4E2D\u68C0\u6D4B\u5230\u8D1F\u65B9\u5411\u9650\u4F4D\u8F93\u5165\u3002 30209 \u4F3A\u670D\u7ED3\u675F\u6821\u9A8C \u8D85\u65F6\u9519\u8BEF \u4F3A\u670D\u7ED3\u675F\u6821\u9A8C\u8D85\u65F6\u3002 30212 \u4F3A\u670D\u5C31\u7EEA\u68C0\u67E5\u9519\u8BEF \u65E0\u6CD5\u68C0\u6D4B\u51FA\u4F3A\u670D\u5C31\u7EEA\u3002\u8BF7\u786E\u8BA4\u914D\u7EBF\u548C\u8FDE\u63A5\u8BBE\u5907\u662F\u5426\u5904\u4E8E\u4F3A\u670D\u5C31\u7EEA\u72B6\u6001\u3002 30221 \u79FB\u52A8\u91CF\u8D85\u51FA\u9650\u5236\u9519\u8BEF \u6BCF\u4E2A\u63A7\u5236\u5468\u671F\u7684\u79FB\u52A8\u91CF\u8D85\u51FA\u9650\u5236\u3002 \u8BF7\u8C03\u4F4E\u79FB\u52A8\u901F\u5EA6\u3002 30222 \u80CC\u9699\u8865\u507F\u8109\u51B2\u6570\u9519\u8BEF \u80CC\u9699\u8865\u507F\u8109\u51B2\u6570\u8D85\u8FC7\u4E8665535PLS\u6216\u52A8\u4F5C\u4E2D\u53CD\u9988\u4F4D\u7F6E\u8303\u56F4\u7684\u4E00\u534A\u3002 \u8BF7\u8FDB\u884C\u8BBE\u5B9A\u4F7F\u5176\u8FDB\u5165\u8303\u56F4\u5185\u3002 30223 EtherCAT\u8BBE\u5B9A\u9519\u8BEF EtherCAT\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002\u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u53C2\u6570\u3002 30224 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u52A0\u51CF\u901F\u9009\u62E9 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u9009\u62E9\u52A0/\u51CF\u901F\u8BBE\u5B9A/\u5176\u5B83)\u7684\u503C\u8D85\u8FC7\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u5728\u89C4\u5B9A\u7684\u8303\u56F4\u5185\u3002 30225 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u6700\u9AD8\u8FD0\u8F6C\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u6700\u9AD8\u8FD0\u8F6C\u901F\u5EA6)\u7684\u503C\u8D85\u8FC7\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u5728\u89C4\u5B9A\u7684\u8303\u56F4\u5185\u3002 30226 \u8F74\u8BBE\u5B9A\u9519\u8BEF \u7CFB\u7EDF\u8BBE\u5B9A(\u8F74\u63A7\u5236\u901A\u7528\u8BBE\u5B9A)\u8D85\u8FC7\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u5728\u89C4\u5B9A\u7684\u8303\u56F4\u5185\u3002 30227 \u7535\u673A\u8F6C\u5411\u66F4\u6539\u9519\u8BEF \u4F3A\u670D\u5F00\u542F\u65F6\uFF0C\u65E0\u6CD5\u66F4\u6539\u7535\u673A\u65CB\u8F6C\u65B9\u5411\u3002 30242 \u5706\u5F27\u521B\u5EFA\u9519\u8BEF \u65E0\u6CD5\u5236\u4F5C\u5706\u5F27\u3002 30243 \u52A0\u51CF\u901F\u65F6\u95F4\u9650\u5236\u9519\u8BEF \u52A0\u901F\u65F6\u95F4\u6216\u51CF\u901F\u65F6\u95F4\u8D85\u8FC7\u4E86\u9650\u5236\u3002 \u8BF7\u4EE5\u4E0D\u8D85\u51FA\u9650\u5236\u7684\u53C2\u6570\u8FD0\u8F6C\u3002 30244 1\u70B9\u8FD0\u8F6C\u65F6\u95F4\u9650\u5236\u9519\u8BEF 1\u70B9\u7684\u8FD0\u8F6C\u65F6\u95F4\u8D85\u8FC7\u4E86\u9650\u5236\u3002 \u8BF7\u4EE5\u4E0D\u8D85\u51FA\u9650\u5236\u7684\u53C2\u6570\u8FD0\u8F6C\u3002 30245 \u76EE\u6807\u5750\u6807\u9650\u5236/\u52A0\u51CF\u901F\u8DDD\u79BB\u9650\u5236\u9519\u8BEF \u8D85\u8FC7\u4E86\u76EE\u6807\u5750\u6807\u7684\u9650\u5236\u6216\u8D85\u8FC7\u4E86\u52A0\u901F\u8DDD\u79BB/\u51CF\u901F\u8DDD\u79BB\u7684\u9650\u5236\u3002 \u8BF7\u4EE5\u4E0D\u8D85\u51FA\u9650\u5236\u7684\u53C2\u6570\u8FD0\u8F6C\u3002 30254 \u5706\u5F27\u63D2\u8865\u534A\u5F84\u8BEF\u5DEE\u9650\u5236\u9519\u8BEF \u5706\u5F27\u63D2\u8865\u7684\u534A\u5F84\u8BEF\u5DEE\u8D85\u8FC7\u4E86\u9650\u5236\u3002 \u8BF7\u4EE5\u4E0D\u8D85\u51FA\u9650\u5236\u7684\u53C2\u6570\u8FD0\u8F6C\u3002 30255 \u8F85\u52A9\u5706\u5F27\u521B\u5EFA\u9519\u8BEF \u65E0\u6CD5\u5236\u4F5C\u8F85\u52A9\u5706\u5F27\u3002 30259 \u4E2D\u5FC3\u70B9\u8865\u507F\u9519\u8BEF \u539F\u4E2D\u5FC3\u70B9\u4E0E\u91CD\u65B0\u8BA1\u7B97\u4E2D\u5FC3\u70B9\u7684\u8DDD\u79BB\u8D85\u8FC7\u4E86\u534A\u5F84\u76841%\u3002 \u8BF7\u6307\u5B9A\u6070\u5F53\u7684\u53C2\u6570\u3002 30260 \u53C2\u6570\u9519\u8BEF(\u5750\u6807\u8F6C\u6362\u6BD4\u7387) \u8BF7\u5C06\u5750\u6807\u8F6C\u6362\u5206\u5B50\u548C\u5750\u6807\u8F6C\u6362\u5206\u6BCD\u7684\u6BD4\u7387\u8BBE\u5B9A\u5728 1/524288\uFF5E524288 \u8303\u56F4\u5185\u3002 30261 \u53C2\u6570\u9519\u8BEF(\u8F6F\u9650\u4F4D) \u8BF7\u8BBE\u5B9A\u4E3A\u8F6F\u9650\u4F4D\u6B63\u4FA7\u5750\u6807\uFF1E\u8F6F\u9650\u4F4D\u8D1F\u4FA7\u5750\u6807\u3002 30265 \u5F00\u59CB\u4E0B\u4E00\u70B9\u8FD0\u7B97\u9519\u8BEF \u6267\u884C\u4E0B\u4E00\u70B9\u5931\u8D25\u3002 30267 PDO\u901A\u4FE1\u9519\u8BEF \u4E0D\u80FD\u8FDB\u884CPDO\u901A\u4FE1\u3002\u8BF7\u786E\u8BA4\u914D\u7EBF\u3001\u8FDE\u63A5\u8BBE\u5907\u662F\u5426\u5904\u4E8EPDO\u52A0\u5165\u72B6\u6001\u3002 30268 \u8F74\u540D\u79F0\u4E0D\u4E00\u81F4\u9519\u8BEF \u7A0B\u5E8F\u548C\u8FD0\u52A8\u8BBE\u5B9A\u4E2D\u8F74\u540D\u79F0\u4FE1\u606F\u4E0D\u540C\u3002\u8BF7\u518D\u6B21\u4F20\u8F93\u7A0B\u5E8F\u548C\u8FD0\u52A8\u8BBE\u5B9A\u3002 30300 \u63A7\u5236\u5F00\u59CB \u6307\u5B9A\u70B9\u7F16\u53F7\u9519\u8BEF \u5B9A\u4F4D\u63A7\u5236\u5F00\u59CB\u3001\u96F6\u542F\u52A8\u5F85\u673A\u8BF7\u6C42\u3001\u7F13\u5B58\u767B\u5F55/\u6E05\u9664\u65F6\u6307\u5B9A\u7684\u70B9\u7F16\u53F7\u8D85\u8FC7\u4E86\u8303\u56F4\u3002\u8BF7\u6307\u5B9A\u5408\u9002\u7684\u70B9\u7F16\u53F7\u3002 30303 \u63A7\u5236\u5F00\u59CB \u4ECE\u8F74 \u63A7\u5236\u5F00\u59CB\u8BF7\u6C42\u9519\u8BEF \u7531\u4E8E\u5BF9\u63D2\u8865\u4ECE\u8F74\u6267\u884C\u5B9A\u4F4D\u63A7\u5236\u5F00\u59CB\u8BF7\u6C42\uFF0C\u6240\u4EE5\u65E0\u6CD5\u542F\u52A8\u3002 \u8BF7\u542F\u52A8\u4E3B\u8F74\u3002 30304 \u63A7\u5236\u5F00\u59CB \u63D2\u8865\u8F74\u6784\u6210\u9519\u8BEF \u8F74\u7FA4\u7EC4\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u2022 \u8BF7\u786E\u8BA4\u914D\u7F6E\u8F74\u662F\u5426\u542B\u6709\u5BF9\u8C61\u8F74\uFF0C\u6216\u8005\u662F\u5426\u542B\u6709\u4E0D\u6B63\u786E\u7684\u503C\u3001\u91CD\u590D\u503C\u3002 \u2022 \u8BF7\u786E\u8BA4\u8F74\u7FA4\u7EC4\u7F16\u53F7\u662F\u5426\u4E3A\u4E0D\u6B63\u786E\u7684\u503C\u3002 \u2022 \u8BF7\u786E\u8BA4\u8FDE\u7EED\u8FD0\u8F6C\u4E2D\u8F74\u7FA4\u7EC4\u7F16\u53F7\u3001\u914D\u7F6E\u8F74\u662F\u5426\u53D1\u751F\u4E86\u53D8\u5316\u3002 30305 \u5F00\u59CB/\u8FDE\u7EED \u79FB\u52A8\u8DDD\u79BB0\u8FDE\u7EED\u9519\u8BEF \u7531\u4E8E\u79FB\u52A8\u8DDD\u79BB0\u7684\u70B9\u67092\u4E2A\u4EE5\u4E0A\u8FDE\u7EED\u5728\u4E00\u8D77\uFF0C\u56E0\u6B64\u65E0\u6CD5\u6267\u884C\u8FD0\u8F6C\u5F00\u59CB/\u4E0B\u4E00\u70B9\u7684\u8FD0\u7B97\u3002 \u8BF7\u5C06\u79FB\u52A8\u8DDD\u79BB\u8BBE\u5B9A\u4E3A1\u4EE5\u4E0A\u3002 30306 \u5F00\u59CB/\u8FDE\u7EED \u901F\u5EA6\u63A7\u5236\u540E\u7EDD\u5BF9\u5750\u6807\u9519\u8BEF \u8BD5\u56FE\u5728\u4F4D\u7F6E\u578B\u901F\u5EA6\u63A7\u5236\u7684\u70B9\u540E\u8FDB\u884C\u7EDD\u5BF9\u5750\u6807\u6307\u5B9A\u7684\u70B9\u8FD0\u8F6C\u3002 30323 \u793A\u6559 \u63D2\u8865\u4ECE\u8F74 \u8BF7\u6C42\u9519\u8BEF \u5BF9\u63D2\u8865\u4ECE\u8F74\u8FDB\u884C\u4E86\u793A\u6559\u3002 30324 \u793A\u6559 \u8D85\u8303\u56F4\u70B9\u9519\u8BEF \u793A\u6559\u7684\u70B9\u7F16\u53F7\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u8303\u56F4\u5185\u7684\u503C\u3002 30325 \u793A\u6559 \u63D2\u8865\u8F74\u6784\u6210\u9519\u8BEF \u8F74\u7FA4\u7EC4\u4E2D\u672A\u542B\u6709\u5BF9\u8C61\u8F74\uFF0C\u6216\u8005\u542B\u6709\u4E0D\u6B63\u786E\u7684\u8F74\u3001\u91CD\u590D\u8F74\u3002 \u8BF7\u786E\u8BA4\u8F74\u7FA4\u7EC4\u8BBE\u5B9A\u3002 30326 \u793A\u6559 \u5706\u5F27\u63D2\u8865\u9519\u8BEF \u65E0\u6CD5\u8FDB\u884C\u5706\u5F27\u63D2\u8865\u793A\u6559\u7684\u70B9\u3002 30362 \u70B9\u53C2\u6570\u9519\u8BEF \u52A8\u4F5C\u6A21\u5F0F \u70B9\u53C2\u6570(\u63D2\u8865\u52A8\u4F5C\u7B49)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30363 \u70B9\u53C2\u6570\u9519\u8BEF \u8FDE\u7EED\u6A21\u5F0F \u70B9\u53C2\u6570(\u8FDE\u7EED\u6A21\u5F0F(\u8FD4\u56DE))\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30364 \u70B9\u53C2\u6570\u9519\u8BEF \u4E0B\u4E00\u70B9 \u70B9\u53C2\u6570(\u4E0B\u4E00\u70B9\u7F16\u53F7)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30365 \u70B9\u53C2\u6570\u9519\u8BEF M\u4EE3\u7801 \u70B9\u53C2\u6570(M\u4EE3\u7801\u7F16\u53F7)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30366 \u53C2\u6570\u9519\u8BEF \u76EE\u6807\u5750\u6807 \u53C2\u6570(\u76EE\u6807\u5750\u6807)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30369 \u70B9\u53C2\u6570\u9519\u8BEF \u6682\u505C \u70B9\u53C2\u6570(\u6682\u505C\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30370 \u70B9\u53C2\u6570\u9519\u8BEF \u8F85\u52A9\u5706\u5F27 \u70B9\u53C2\u6570(\u8F85\u52A9\u5706\u5F27\u534A\u5F84)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30371 \u70B9\u53C2\u6570\u9519\u8BEF \u505C\u6B62\u4F20\u611F\u5668 \u70B9\u53C2\u6570(\u505C\u6B62\u4F20\u611F\u5668\u8F93\u5165\u540E\u79FB\u52A8\u91CF/\u5706\u5F27\u5750\u6807)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30372 \u70B9\u53C2\u6570\u9519\u8BEF \u63D2\u8865\u5BF9\u8C61\u8F74 \u70B9\u53C2\u6570(\u63D2\u8865\u5BF9\u8C61\u8F74)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30373 \u70B9\u53C2\u6570\u9519\u8BEF \u63D2\u8865\u76F4\u7EBF\u8F74 \u70B9\u53C2\u6570(\u63D2\u8865\u76F4\u7EBF\u8F74(\u87BA\u65CB\u65F6))\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30374 \u53C2\u6570\u9519\u8BEF \u901F\u5EA6 \u53C2\u6570(\u901F\u5EA6)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30375 \u53C2\u6570\u9519\u8BEF \u52A0\u901F\u5EA6 \u53C2\u6570(\u52A0\u901F\u5EA6/\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30376 \u53C2\u6570\u9519\u8BEF \u51CF\u901F\u5EA6 \u53C2\u6570(\u51CF\u901F\u5EA6/\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30377 \u70B9\u53C2\u6570\u9519\u8BEF \u8F6C\u77E9\u9650\u5236 \u70B9\u53C2\u6570(\u8F6C\u77E9\u9650\u5236\u503C)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30379 \u70B9\u53C2\u6570\u9519\u8BEF \u8F6C\u6570 \u70B9\u53C2\u6570(\u8F6C\u6570)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30382 \u70B9\u53C2\u6570\u9519\u8BEF \u9884\u7559\u533A\u57DF1 \u70B9\u53C2\u6570(\u9884\u7559\u533A\u57DF1)\u7684\u503C\u4E0D\u4E3A0\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30383 \u70B9\u53C2\u6570\u9519\u8BEF \u9884\u7559\u533A\u57DF2 \u70B9\u53C2\u6570(\u9884\u7559\u533A\u57DF2)\u7684\u503C\u4E0D\u4E3A0\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30390 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u505C\u6B62\u4F20\u611F\u5668\u52A8\u4F5C\u8BBE\u5B9A \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u505C\u6B62\u4F20\u611F\u5668\u8FD0\u884C\u8BBE\u5B9A)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30391 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6C\u8D77\u52A8\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u8FD0\u8F6C\u8D77\u52A8\u901F\u5EA6)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30393 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6C\u52A0\u901F \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u8FD0\u8F6C\u52A0\u901F\u5EA6/\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30394 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6C\u51CF\u901F \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u8FD0\u8F6C\u51CF\u901F\u5EA6/\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30395 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6CSIN\u659C\u7387 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u8FD0\u8F6C\u52A0\u901FSIN\u659C\u7387/\u8FD0\u8F6C\u51CF\u901FSIN\u659C\u7387)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30396 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6C\u66F2\u7EBF \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u8FD0\u8F6C\u52A0\u901F\u66F2\u7EBF/\u8FD0\u8F6C\u51CF\u901F\u66F2\u7EBF)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30399 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG\u52A0\u901F \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(JOG\u52A0\u901F\u5EA6/\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30400 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG\u51CF\u901F \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(JOG\u51CF\u901F\u5EA6/\u65F6\u95F4)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30401 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG\u8D77\u52A8\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(JOG\u8D77\u52A8\u901F\u5EA6)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30402 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG\u9AD8\u901F\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(JOG\u9AD8\u901F\u901F\u5EA6)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30403 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG\u5BF8\u52A8 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\uFF08JOG\u5BF8\u52A8\u79FB\u52A8\u91CF)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30404 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG SIN\u659C\u7387 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(JOG\u52A0\u901F SIN\u659C\u7387/JOG\u51CF\u901F SIN\u659C\u7387)\u7684\u503C\u5728\u8303\u56F4\u4E4B\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30405 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A\u9519\u8BEF JOG\u66F2\u7EBF \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(JOG\u52A0\u901F\u66F2\u7EBF/JOG\u51CF\u901F\u66F2\u7EBF)\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30436 EtherCAT \u8282\u70B9\u8BBE\u5907\u53D1\u751F\u62A5\u8B66\u9519\u8BEF EtherCAT\u8282\u70B9\u8BBE\u5907\u53D1\u751F\u4E86\u62A5\u8B66\u3002 \u8BF7\u89E3\u51B3\u8282\u70B9\u8BBE\u5907\u62A5\u8B66\u539F\u56E0\u3002 30501 \u539F\u70B9\u590D\u5F52 \u9650\u4F4D\u5F00\u5173\u9519\u8BEF \u6B63\u65B9\u5411\u79FB\u52A8\u4E2D\u8D1F\u65B9\u5411LSW\u88AB\u6253\u5F00\u3002 30502 \u539F\u70B9\u590D\u5F52 \u9650\u4F4D\u5F00\u5173\u9519\u8BEF \u8D1F\u65B9\u5411\u79FB\u52A8\u4E2D\u6B63\u65B9\u5411LSW\u88AB\u6253\u5F00\u3002 30503 \u539F\u70B9\u590D\u5F52 \u9650\u4F4D\u5F00\u5173\u9519\u8BEF \u6B63\u65B9\u5411\u79FB\u52A8\u4E2D\u6B63\u65B9\u5411LSW\u88AB\u6253\u5F00\u3002 30504 \u539F\u70B9\u590D\u5F52 \u9650\u4F4D\u5F00\u5173\u9519\u8BEF \u8D1F\u65B9\u5411\u79FB\u52A8\u4E2D\u8D1F\u65B9\u5411LSW\u88AB\u6253\u5F00\u3002 30505 \u539F\u70B9\u590D\u5F52\u65B9\u6CD5\u8BBE\u5B9A\u9519\u8BEF \u539F\u70B9\u590D\u5F52\u65B9\u6CD5\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30509 \u539F\u70B9\u590D\u5F52\u65B9\u5411\u9519\u8BEF \u539F\u70B9\u590D\u5F52\u65B9\u5411\u4E0D\u6B63\u786E\u3002\u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30510 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002\u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30511 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u52A0/\u51CF\u901FSIN\u659C\u7387 \u539F\u70B9\u590D\u5F52SIN\u52A0/\u51CF\u901F\u659C\u7387\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30512 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u8D77\u52A8\u901F\u5EA6 \u539F\u70B9\u590D\u5F52\u8D77\u52A8\u901F\u5EA6\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30513 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u722C\u884C\u901F\u5EA6 \u539F\u70B9\u590D\u5F52\u722C\u884C\u901F\u5EA6\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30514 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6C\u901F\u5EA6 \u539F\u70B9\u590D\u5F52\u8FD0\u8F6C\u901F\u5EA6\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30515 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u52A0\u901F\u5EA6 \u539F\u70B9\u590D\u5F52\u52A0\u901F\u5EA6\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30516 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u51CF\u901F\u5EA6 \u539F\u70B9\u590D\u5F52\u51CF\u901F\u5EA6\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30517 \u539F\u70B9\u5750\u6807\u8BBE\u5B9A\u9519\u8BEF \u539F\u70B9\u5750\u6807\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30518 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u57FA\u672C\u4F4D\u7F6E \u57FA\u672C\u4F4D\u7F6E\u5750\u6807\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30519 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF DOG ON\u540E\u79FB\u52A8\u91CF DOG ON\u540E\u79FB\u52A8\u91CF\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30520 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u539F\u70B9\u590D\u5F52\u65B9\u6CD5 \u539F\u70B9\u590D\u5F52\u65B9\u6CD5\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30521 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u6682\u505C\u65F6\u95F4 \u539F\u70B9\u590D\u5F52\u6682\u505C\u65F6\u95F4\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30522 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u63A5\u89E6\u8F6C\u77E9 \u63A5\u89E6\u529B\u77E9\u65F6\u95F4\u7684\u503C\u5728\u8303\u56F4\u4EE5\u5916\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30523 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u63A5\u89E6\u9608\u503C \u6309\u538B\u626D\u77E9\u9608\u503C\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30525 \u539F\u70B9\u590D\u5F52\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u52A8\u529F\u80FD\u6620\u5C04 \u539F\u70B9\u590D\u5F52\u6240\u9700\u7684\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u5206\u914D\u4E0D\u8DB3\u3002 \u8BF7\u786E\u8BA4\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u3002 30526 DOG\u5F0F\u5BF8\u52A8\u52A8\u4F5C\u9519\u8BEF DOG\u5F0F\u5BF8\u52A8\u52A8\u4F5C\u65F6\uFF0C\u5728\u79FB\u52A8DOG ON\u79FB\u52A8\u91CF\u4E4B\u540EOFF\u3002 \u6216\u8005\u901A\u8FC7DOG ON\u540E\u7684\u51CF\u901F\u79FB\u52A8\u91CF\u6765\u7F29\u77EDDOG ON\u79FB\u52A8\u91CF\u3002 30527 DOG\u5F0FZ\u76F8\u52A8\u4F5C\u9519\u8BEF \u9F7F\u5957\u5F0FZ\u76F8\u8FD0\u884C\u65F6\uFF0C\u5728\u8FBE\u5230\u722C\u884C\u901F\u5EA6\u4E4B\u524D\u5173\u95ED\u4E86\u9F7F\u5957\u3002 \u6216\u8005\uFF0C\u7531\u4E8E\u5916\u90E8\u539F\u56E0\u5BFC\u81F4\u4ECE\u722C\u884C\u901F\u5EA6\u5230\u505C\u6B62\u65F6\uFF0C\u5173\u95ED\u4E86\u9F7F\u5957\u3002 30529 \u539F\u70B9\u4F20\u611F\u5668AndZ\u76F8\u52A8\u4F5C\u9519\u8BEF \u539F\u70B9\u4F20\u611F\u5668AndZ\u76F8\u8FD0\u884C\u8FD0\u884C\u65F6\uFF0C\u5728\u722C\u884C\u901F\u5EA6\u65F6\u5173\u95ED\u4E86\u539F\u70B9\u4F20\u611F\u5668\u3002 30530 \u539F\u70B9\u590D\u5F52\u9519\u8BEF \u56E0\u5916\u90E8\u6761\u4EF6\u800C\u5B9A\u4F4D\u5931\u8D25\u3002 30532 \u539F\u70B9\u590D\u5F52\u9519\u8BEF \u64CD\u4F5C\u6A21\u5F0F \u8282\u70B9\u8BBE\u5907\u7684\u64CD\u4F5C\u6A21\u5F0F\u66F4\u6539\u5931\u8D25\u3002 \u539F\u70B9\u590D\u5F52\u65B9\u6CD5\u4E3ADOG\u5F0F\uFF08\u63A5\u89E6\uFF09\u65F6\uFF0C\u8BF7\u4F7F\u7528\u652F\u6301csv\u6A21\u5F0F\u7684\u8282\u70B9\u3002 30550 \u540C\u6B65\u8F93\u5165\u8F74\u8F93\u51FA\u8F74\u5FAA\u73AF\u9519\u8BEF \u540C\u6B65\u53C2\u6570 \u8F93\u5165\u8F74\uFF0D\u8F93\u51FA\u8F74\u5F62\u6210\u4E86\u5FAA\u73AF\u7684\u5173\u7CFB\u3002 \u8BF7\u52FF\u8BBE\u5B9A\u6210\u73AF\u8DEF\u3002 30553 \u540C\u6B65\u4E3B\u8F74\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8D85\u8FC7\u4E86\u4E3B\u8F74\u7684\u901F\u5EA6\u3002 30556 \u540C\u6B65\u4ECE\u8F74\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u4ECE\u8F74\u7684\u901F\u5EA6\u8D85\u8FC7\u4E86\u6700\u9AD8\u8FD0\u8F6C\u901F\u5EA6\u3002 30557 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u5750\u6807\u8F6C\u6362 \u540C\u6B65\u53C2\u6570\u7684\u5750\u6807\u8F6C\u6362\u8BBE\u5B9A\u4E0E\u8F93\u5165\u8F74\u7684\u5355\u4F4D\u3001\u5C0F\u6570\u70B9\u4EE5\u4E0B\u8FD0\u7B97\u7CBE\u5EA6\u4E0D\u4E00\u81F4\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30558 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u57FA\u672C\u8BBE\u5B9A \u540C\u6B65\u53C2\u6570(\u57FA\u672C\u8BBE\u5B9A)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u786E\u8BA4\u662F\u5426\u521B\u5EFA\u4E86\u540C\u6B65\u53C2\u6570\u3002 30559 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u521D\u59CB\u5316\u8BBE\u5B9A \u540C\u6B65\u53C2\u6570(\u521D\u59CB\u5316\u8BBE\u5B9A)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30560 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u4E3B\u8F741 \u540C\u6B65\u53C2\u6570(\u4E3B\u8F741)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30561 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u4E3B\u8F742 \u540C\u6B65\u53C2\u6570(\u4E3B\u8F742)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30562 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u8F85\u52A9\u8F74 \u540C\u6B65\u53C2\u6570(\u8F85\u52A9\u8F74)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30563 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F \u540C\u6B65\u53C2\u6570(\u4E3B\u8F74\u76F8\u4F4D\u8865\u507F)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30564 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F \u540C\u6B65\u53C2\u6570(\u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30565 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u6B65\u8FDB\u89D2\u8865\u507F \u540C\u6B65\u53C2\u6570(\u6B65\u8FDB\u89D2\u8865\u507F)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30566 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u53EF\u53D8\u9F7F\u8F6E \u540C\u6B65\u53C2\u6570(\u53EF\u53D8\u9F7F\u8F6E)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30567 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u4E3B\u79BB\u5408\u5668 \u540C\u6B65\u53C2\u6570(\u4E3B\u79BB\u5408\u5668)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30568 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u8F85\u52A9\u79BB\u5408\u5668 \u540C\u6B65\u53C2\u6570(\u8F85\u52A9\u79BB\u5408\u5668)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30569 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u51F8\u8F6E \u540C\u6B65\u53C2\u6570(\u51F8\u8F6E)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30570 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u4EFF\u771F\u673A\u68B0 \u540C\u6B65\u53C2\u6570(\u4EFF\u771F\u673A\u68B0\u540C\u6B65)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30571 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u8F93\u51FA\u6EE4\u6CE2\u5668 \u540C\u6B65\u53C2\u6570(\u8F93\u51FA\u6EE4\u6CE2\u5668)\u7684\u8BBE\u5B9A\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u5408\u9002\u7684\u6570\u503C\u3002 30572 \u540C\u6B65\u53C2\u6570\u9519\u8BEF \u5916\u90E8\u53C2\u7167\u8BBE\u5B9A \u5916\u90E8\u53C2\u7167\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30573 \u4EFF\u771F\u673A\u68B0\u540C\u6B65\u4ECE\u8F74\u8F6C\u77E9\u9650\u5236\u9519\u8BEF\u3002 \u4EFF\u771F\u673A\u68B0\u540C\u6B65\u529F\u80FD\u4E2D\uFF0C\u8F6C\u77E9\u9650\u5236\u4F5C\u7528\u4E8E\u8F85\u52A9\u8F74\u3002 30574 \u540C\u6B65\u63A7\u5236 \u6B63\u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u9519\u8BEF \u7531\u4E8E\u6B63\u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\uFF0C\u65E0\u6CD5\u542F\u52A8\u540C\u6B65\u63A7\u5236\u3002\u8BF7\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u540E\u518D\u6B21\u6267\u884C\u3002 30592 \u540C\u6B65\u8F93\u5165\u8F74\u53CD\u8F6C\u6EA2\u51FA\u9519\u8BEF \u4E3B\u8F741 \u9006\u5411\u79FB\u52A8\u7684\u7D2F\u79EF\u503C\u8D85\u8FC7\u4E86\u9650\u5236\u503C\u3002\u8BF7\u5728\u9006\u5411\u79FB\u52A8\u91CF\u7684\u7D2F\u79EF\u503C\u4E0D\u8D85\u8FC71073741824\u7684\u8303\u56F4\u5185\u4F7F\u7528\u3002 30593 \u540C\u6B65\u8F93\u5165\u8F74\u53CD\u8F6C\u6EA2\u51FA\u9519\u8BEF \u4E3B\u8F742 \u9006\u5411\u79FB\u52A8\u7684\u7D2F\u79EF\u503C\u8D85\u8FC7\u4E86\u9650\u5236\u503C\u3002\u8BF7\u5728\u9006\u5411\u79FB\u52A8\u91CF\u7684\u7D2F\u79EF\u503C\u4E0D\u8D85\u8FC71073741824\u7684\u8303\u56F4\u5185\u4F7F\u7528\u3002 30594 \u540C\u6B65\u8F93\u5165\u8F74\u53CD\u8F6C\u6EA2\u51FA\u9519\u8BEF \u8F85\u52A9 \u9006\u5411\u79FB\u52A8\u7684\u7D2F\u79EF\u503C\u8D85\u8FC7\u4E86\u9650\u5236\u503C\u3002\u8BF7\u5728\u9006\u5411\u79FB\u52A8\u91CF\u7684\u7D2F\u79EF\u503C\u4E0D\u8D85\u8FC71073741824\u7684\u8303\u56F4\u5185\u4F7F\u7528\u3002 30609 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u4E3B\u8F741\u8F93\u5165(\u5750\u6807) \u4E3B\u8F741\u8F93\u5165(\u5750\u6807\u53D8\u6362\u540E)\u8D85\u901F\u3002 30610 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u4E3B\u8F742\u8F93\u5165(\u5750\u6807) \u4E3B\u8F742\u8F93\u5165(\u5750\u6807\u53D8\u6362\u540E)\u8D85\u901F\u3002 30611 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F85\u52A9\u8F93\u5165(\u5750\u6807) \u8F85\u52A9\u8F74\u8F93\u5165(\u5750\u6807\u53D8\u6362\u540E)\u8D85\u901F\u3002 30612 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F93\u5165\u90E8\u5DEE\u52A8\u9F7F\u8F6E \u8F93\u5165\u90E8\u5DEE\u52A8\u9F7F\u8F6E\u8F93\u51FA\u8D85\u901F\u3002 30613 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F93\u51FA\u90E8\u5DEE\u52A8\u9F7F\u8F6E \u8F93\u51FA\u90E8\u5DEE\u52A8\u9F7F\u8F6E\u8F93\u51FA\u8D85\u901F\u3002 30614 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F\u8F93\u51FA \u4E3B\u8F74\u76F8\u4F4D\u8865\u507F\u8F93\u51FA\u8D85\u901F\u3002 30615 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F \u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F\u8F93\u51FA\u8D85\u901F\u3002 30616 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u53EF\u53D8\u9F7F\u8F6E\u8F93\u51FA \u53EF\u53D8\u9F7F\u8F6E\u8F93\u51FA\u8D85\u901F\u3002 30617 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u4E3B\u79BB\u5408\u5668\u8F93\u51FA \u4E3B\u79BB\u5408\u5668\u8F93\u51FA\u8D85\u901F\u3002 30618 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F85\u52A9\u79BB\u5408\u5668\u8F93\u51FA \u8F85\u52A9\u79BB\u5408\u5668\u8F93\u51FA\u8D85\u901F\u3002 30619 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F6C\u77E9\u79BB\u5408\u5668 \u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668\u8F93\u51FA\u8D85\u901F\u3002 30620 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u6B65\u8FDB\u89D2\u8865\u507F\u5668\u8F93\u51FA \u6B65\u8FDB\u89D2\u8865\u507F\u5668\u8F93\u51FA\u8D85\u901F\u3002 30621 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u51F8\u8F6E\u8F93\u51FA \u51F8\u8F6E\u8F93\u51FA\u8D85\u901F\u3002 30622 \u540C\u6B65\u901F\u5EA6\u8D85\u8FC7\u9519\u8BEF \u8F93\u51FA\u6EE4\u6CE2\u5668\u8F93\u51FA \u8F93\u51FA\u6EE4\u6CE2\u5668\u8F93\u51FA\u8D85\u901F\u3002 30650 \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u8FD0\u8F6C\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 \u8FD0\u884C\u901F\u5EA6)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30651 \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u52A0\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 \u52A0\u901F\u7387)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30652 \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u51CF\u901F\u5EA6 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236 \u51CF\u901F\u7387)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30660 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u9F7F\u8F6E\u5206\u5B50 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u53EF\u53D8\u4F20\u52A8\u5206\u5B50)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30661 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u9F7F\u8F6E\u5206\u6BCD \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u53EF\u53D8\u4F20\u52A8\u5206\u6BCD)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30662 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u8F93\u51FA\u6EE4\u6CE2\u5668 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u8F93\u51FA\u8FC7\u6EE4)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u4E3A\u9002\u5F53\u7684\u503C\u3002 30663 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u8D85\u8FC7\u53EF\u53D8\u9F7F\u8F6E\u8F93\u51FA\u901F\u5EA6 \u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u8D85\u8FC7\u4E86\u53EF\u53D8\u4F20\u52A8\u8F93\u51FA\u7684\u901F\u5EA6\u3002 \u8BF7\u964D\u4F4E\u53EF\u53D8\u4F20\u52A8\u7684\u6BD4\u7387\u3002 30664 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u9884\u7559\u533A\u57DF \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u9884\u7559)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A0\u3002 30665 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u9519\u8BEF \u8D85\u8FC7\u6700\u5927\u8FD0\u8F6C\u901F\u5EA6 \u8FD0\u884C\u901F\u5EA6\u8D85\u8FC7\u4E86\u8FD0\u884C\u6700\u9AD8\u901F\u5EA6\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30666 \u901F\u5EA6\u63A7\u5236\u9519\u8BEF \u901F\u5EA6\u6307\u4EE4 \u901F\u5EA6\u63A7\u5236(\u901F\u5EA6\u6307\u4EE4)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30667 \u901F\u5EA6\u63A7\u5236\u9519\u8BEF \u8F6C\u77E9FF \u901F\u5EA6\u63A7\u5236(\u8F6C\u77E9\u524D\u9988)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30668 \u8F6C\u77E9\u63A7\u5236\u9519\u8BEF \u8F6C\u77E9\u6307\u4EE4 \u8F6C\u77E9\u63A7\u5236(\u8F6C\u77E9\u6307\u4EE4)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30669 \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u9519\u8BEF \u6307\u4EE4\u503C \u7EDD\u5BF9\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236(\u6307\u4EE4\u503C)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30670 \u540C\u6B65\u578B\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236\u9519\u8BEF \u6307\u4EE4\u503C \u540C\u6B65\u578B\u4F4D\u7F6E\u8DDF\u8E2A\u63A7\u5236(\u6307\u4EE4\u503C)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30800 \u52A8\u4F5C\u5C31\u7EEA\u8B66\u544A \u672A\u5904\u4E8E\u52A8\u4F5C\u5C31\u7EEA\u72B6\u6001\uFF0C\u6240\u4EE5\u65E0\u6CD5\u6267\u884C\u5904\u7406\u3002 \u8BF7\u4F7F\u5176\u5904\u4E8E\u52A8\u4F5C\u5C31\u7EEA\u72B6\u6001\u3002 30801 \u8F74\u7F16\u53F7\u8B66\u544A \u6307\u5B9A\u4E86\u4E0D\u5B58\u5728\u7684\u8F74\u7F16\u53F7\u3002 \u8BF7\u6307\u5B9A\u4E3A\u5DF2\u6709\u7684\u8F74\u7F16\u53F7\u3002 30803 \u5F3A\u5236\u505C\u6B62\u8B66\u544A \u7531\u4E8E\u5F3A\u5236\u505C\u6B62\u4E2D\uFF0C\u65E0\u6CD5\u5F00\u59CB\u8F74\u63A7\u5236\u529F\u80FD\u3002 \u8BF7\u89E3\u9664\u5F3A\u5236\u505C\u6B62\u3002 30804 \u95EA\u5B58\u5199\u5165\u8B66\u544A Flash ROM\u5199\u5165\u53D1\u751F\u4E86\u5F02\u5E38\u3002 \u53EF\u80FD\u662F\u7531\u4E8E\u6B63\u5728\u6267\u884C\u6536\u53D1PC\u8BBE\u5B9A\u3001\u5B58\u50A8\u5361\u52A0\u8F7D\u7B49\u51B2\u7A81\u5904\u7406\u3002 30805 \u5355\u5143\u95F4\u540C\u6B65\u5237\u65B0\u8B66\u544A \u63A7\u5236\u5468\u671F\u5904\u7406\u65F6\u95F4\u8D85\u8FC7\u4E86\u63A7\u5236\u5468\u671F\u768480%\uFF0C\u6240\u4EE5\u5355\u5143\u95F4\u540C\u6B65\u5237\u65B0\u53EF\u80FD\u5DF2\u7ECF\u5931\u8D25\u3002\u8BF7\u4FEE\u6539\u4F7F\u7528\u6761\u4EF6\u3002 30830 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u51F8\u8F6E\u7F16\u53F7 \u8D85\u8303\u56F4\u8B66\u544A \u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u4E2D\uFF0C\u5BF9\u51F8\u8F6E\u6570\u636E\u66F4\u6539\u7F16\u53F7\u6307\u5B9A\u4E86\u8303\u56F4\u5916\u7684\u503C\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30831 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u8BFB\u5199\u63A7\u5236\u70B9\u7F16\u53F7 \u8D85\u8303\u56F4 \u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u4E2D\uFF0C\u5BF9\u51F8\u8F6E\u6570\u636E\u8BFB\u5199\u63A7\u5236\u70B9\u7F16\u53F7\u6307\u5B9A\u4E86\u8D85\u51FA\u51F8\u8F6E\u5206\u8FA8\u7387\u7684\u503C\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30832 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u51F8\u8F6E\u6570\u636E\u4E32 \u8D85\u8303\u56F4 \u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u4E2D\uFF0C\u5BF9\u51F8\u8F6E\u6570\u636E\u5217\u6307\u5B9A\u4E86\u8303\u56F4\u5916\u7684\u503C\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30834 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u53D1\u751F\u8BBF\u95EE\u51B2\u7A81\u8B66\u544A \u51F8\u8F6E\u6570\u636E\u66F4\u6539\u5904\u7406\u4E0EKV STUDIO\u7684\u8BBF\u95EE\u5904\u7406\u53D1\u751F\u51B2\u7A81\u3002 30835 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u65E0\u51F8\u8F6E\u6570\u636E\u8B66\u544A \u4E3B\u673A\u4E2D\u6CA1\u6709\u51F8\u8F6E\u6570\u636E\uFF0C\u6240\u4EE5\u51F8\u8F6E\u6570\u636E\u66F4\u6539\u5904\u7406\u5931\u8D25\u3002 \u8BF7\u6307\u5B9A\u5DF2\u6709\u7684\u51F8\u8F6E\u6570\u636E\u7F16\u53F7\u3002 30837 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u5BF9\u8C61\u51F8\u8F6E\u4F7F\u7528\u4E2D\u8B66\u544A \u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u4E2D\uFF0C\u60F3\u8981\u66F4\u6539\u7684\u51F8\u8F6E\u6570\u636E\u6B63\u7528\u4E8E\u540C\u6B65\u63A7\u5236\u3002 30838 \u66F4\u6539\u51F8\u8F6E\u6570\u636E \u5206\u8FA8\u7387\u9519\u8BEF\u8B66\u544A \u5728\u66F4\u6539\u51F8\u8F6E\u6570\u636E\u4E2D\uFF0C\u5206\u8FA8\u7387\u4E0E\u5728\u8BFB\u5199\u4E2D\u6307\u5B9A\u7684\u6570\u636E\u5927\u5C0F\u4E0D\u4E00\u81F4\u3002 30840 \u51F8\u8F6E\u81EA\u52A8\u751F\u6210 \u533A\u95F4\u8BBE\u5B9A\u9519\u8BEF \u51F8\u8F6E\u81EA\u52A8\u751F\u6210\u65F6\uFF0C\u533A\u95F4\u8BBE\u5B9A\u4FE1\u606F\u7684\u8BBE\u5B9A\u503C\u6216\u8BBE\u5B9A\u503C\u7684\u7EC4\u5408\u6709\u8BEF\u3002 30841 \u51F8\u8F6E\u81EA\u52A8\u751F\u6210 \u5F00\u59CB\u63A7\u5236\u70B9\u7F16\u53F7\u9519\u8BEF \u51F8\u8F6E\u81EA\u52A8\u751F\u6210\u65F6\uFF0C\u5F00\u59CB\u63A7\u5236\u70B9\u7F16\u53F7\u4E3A0\u4EE5\u5916\u7684\u503C\u3002 30842 \u51F8\u8F6E\u81EA\u52A8\u751F\u6210 \u4F4D\u79FB\u9519\u8BEF \u5728\u51F8\u8F6E\u81EA\u52A8\u751F\u6210\u4E2D\uFF0C\u4F4D\u79FB\u503C\u5728\u8303\u56F4\u5916\u3002 30843 \u51F8\u8F6E\u81EA\u52A8\u751F\u6210 \u8FD0\u7B97\u9519\u8BEF \u81EA\u52A8\u751F\u6210\u51F8\u8F6E\u65F6\u53D1\u751F\u8FD0\u7B97\u9519\u8BEF\u3002\u8BF7\u8C03\u6574\u53C2\u6570\u3002 30860 \u8F74\u63A7\u5236\u4E2D\u8B66\u544A \u8981\u542F\u52A8\u7684\u8F74\u5904\u4E8E\u8F74\u63A7\u5236\u4E2D\u72B6\u6001\u3002 \u8BF7\u5728\u975E\u8F74\u63A7\u5236\u4E2D\u72B6\u6001\u4E0B\u6267\u884C\u542F\u52A8\u3002 30861 \u8F74\u9519\u8BEF\u4E2D\u8B66\u544A \u5904\u4E8E\u8F74\u9519\u8BEF\u4E2D\u72B6\u6001\uFF0C\u6240\u4EE5\u65E0\u6CD5\u542F\u52A8\u3002 \u8BF7\u89E3\u9664\u8F74\u9519\u8BEF\uFF0C\u7136\u540E\u542F\u52A8\u3002 30862 \u6A21\u5F0F\u5F02\u5E38\u8B66\u544A \u65E0\u6CD5\u5728\u5F53\u524D\u7684\u63A7\u5236\u6A21\u5F0F\u6216\u8FD0\u884C\u6A21\u5F0F\u4E2D\u6267\u884C\u3002 \u8BF7\u5207\u6362\u4E3A\u9002\u5F53\u7684\u6A21\u5F0F\u3002 30864 \u6307\u5B9A\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u8B66\u544A \u5728\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u65F6\uFF0C\u6307\u5B9A\u4E86\u4E0D\u6B63\u786E\u6216\u4E0D\u53EF\u66F4\u6539\u7684\u63A7\u5236\u6A21\u5F0F\u3002 \u8BF7\u786E\u8BA4\u662F\u5426\u6307\u5B9A\u4E86\u6070\u5F53\u7684\u63A7\u5236\u6A21\u5F0F\uFF0C\u53E6\u5916\uFF0CPDO\u6620\u5C04\u3001\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u8BBE\u5B9A\u662F\u5426\u6070\u5F53\uFF0C\u4EE5\u53CA\u8282\u70B9\u662F\u5426\u652F\u6301\u5404\u64CD\u4F5C\u6A21\u5F0F\u3002 30865 \u63A7\u5236\u6A21\u5F0F\u5207\u6362\u4E2D\u8B66\u544A \u5728\u5207\u6362\u63A7\u5236\u6A21\u5F0F\u65F6\uFF0C\u8BD5\u56FE\u542F\u52A8\u8F74\u63A7\u5236\u529F\u80FD\u3002 30866 \u975E\u8F74\u63A7\u5236\u4E2D\u8B66\u544A \u5728\u975E\u8F74\u63A7\u5236\u4E2D\u72B6\u6001\u4E0B\u65E0\u6CD5\u6267\u884C\u3002\u8BF7\u5728\u8F74\u63A7\u5236\u4E2D\u72B6\u6001\u4E0B\u6267\u884C\u3002 30867 \u63D2\u8865\u8FD0\u884C\u4E2D\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u8B66\u544A \u8BD5\u56FE\u5728\u63D2\u8865\u8FD0\u884C\u4E2D\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u3002 30868 \u539F\u70B9\u590D\u5F52\u4E2D\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u8B66\u544A \u8BD5\u56FE\u5728\u539F\u70B9\u590D\u5F52\u4E2D\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u3002 30870 \u66F4\u6539\u901F\u5EA6\u5931\u8D25\u8B66\u544A \u5728\u65E0\u6CD5\u6267\u884C\u7684\u65F6\u673A\u4E0A\u63A5\u6536\u4E86\u66F4\u6539\u901F\u5EA6\u8BF7\u6C42\u3002 30871 \u66F4\u6539\u901F\u5EA6\u8BBE\u5B9A\u8B66\u544A \u66F4\u6539\u901F\u5EA6\u65F6\u6307\u5B9A\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30872 \u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u51B2\u7A81\u8B66\u544A \u7531\u4E8E\u6765\u81EA\u8BD5\u8FD0\u8F6C\u7684\u63A7\u5236\u4E0E\u6765\u81EA\u7A0B\u5E8F\u7684\u63A7\u5236\u51B2\u7A81\uFF0C\u66F4\u6539\u63A7\u5236\u6A21\u5F0F\u5931\u8D25\u3002 30875 \u7279\u6B8A\u529F\u80FD\u9009\u62E9\u8B66\u544A \u9009\u62E9\u7279\u6B8A\u529F\u80FD\u65F6\u6307\u5B9A\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30876 \u7279\u6B8A\u529F\u80FD\u72B6\u6001\u8B66\u544A \u5E76\u975E\u7279\u6B8A\u529F\u80FD\u6267\u884C\u4E2D\u72B6\u6001\uFF0C\u6240\u4EE5\u65E0\u6CD5\u89E3\u9664\u3002 30902 \u505C\u6B62\u4F20\u611F\u5668 \u8DDD\u79BB\u4E0D\u8DB3\u8B66\u544A \u6307\u5B9A\u7684\u505C\u6B62\u4F20\u611F\u5668\u8F93\u5165\u540E\u79FB\u52A8\u91CF\u8FC7\u77ED\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30903 \u505C\u6B62\u4F20\u611F\u5668 \u76EE\u6807\u503C\u9650\u4F4D\u8B66\u544A \u8D85\u8FC7\u4E86\u901A\u8FC7\u505C\u6B62\u4F20\u611F\u5668\u8F93\u5165\u5BF9\u76EE\u6807\u5750\u6807\u6307\u5B9A\u7684\u79FB\u52A8\u91CF\uFF0C\u6240\u4EE5\u4F18\u5148\u6267\u884C\u76EE\u6807\u5750\u6807\u3002 30904 \u5B9A\u4F4D\u901F\u5EA6\u500D\u7387\u8BBE\u5B9A\u503C\u8D85\u8303\u56F4 \u5B9A\u4F4D\u901F\u5EA6\u500D\u7387\u7684\u8BBE\u5B9A\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u6307\u5B9A\u9002\u5F53\u7684\u503C\u3002 30905 \u505C\u6B62\u4F20\u611F\u5668 \u51CF\u901F\u8DDD\u79BB\u4E0D\u8DB3\u8B66\u544A \u4F18\u5148\u6267\u884C\u51CF\u901F\u81F3\u542F\u52A8\u901F\u5EA6\uFF0C\u8D85\u8FC7\u4E86\u505C\u6B62\u4F20\u611F\u5668\u8F93\u5165\u540E\u79FB\u52A8\u91CF\u3002 30906 \u8FD0\u8F6C\u8D77\u52A8\u901F\u5EA6\u8D85\u8FC7\u8BBE\u5B9A\u503C\u4E0A\u9650\u8B66\u544A \u8FD0\u884C\u542F\u52A8\u901F\u5EA6\u8D85\u8FC7\u4E86\u8FD0\u884C\u6700\u9AD8\u901F\u5EA6\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30907 \u8FD0\u8F6C\u901F\u5EA6\u8D85\u8FC7\u8BBE\u5B9A\u503C\u4E0A\u9650\u8B66\u544A \u8FD0\u884C\u901F\u5EA6\u8D85\u8FC7\u4E86\u8FD0\u884C\u6700\u9AD8\u901F\u5EA6\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30908 \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\u5931\u8D25\u8B66\u544A \u5728\u65E0\u6CD5\u66F4\u6539\u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u7684\u65F6\u673A\u4E0A\u63A5\u6536\u4E86\u8BF7\u6C42\u3002 30910 \u6307\u5B9A\u89D2\u505C\u6B62\u5931\u8D25\u8B66\u544A \u672A\u5904\u4E8E\u5B9A\u4F4D\u63A7\u5236\u72B6\u6001\uFF0C\u6240\u4EE5\u4E0D\u80FD\u6267\u884C\u6307\u5B9A\u89D2\u505C\u6B62\u3002 \u8BF7\u5728\u5B9A\u4F4D\u63A7\u5236\u72B6\u6001\u4E0B\u6267\u884C\u3002 30911 \u6307\u5B9A\u89D2\u505C\u6B62\u8BBE\u5B9A\u5F02\u5E38\u8B66\u544A \u8BE5\u53C2\u6570\u4E0D\u80FD\u6267\u884C\u6307\u5B9A\u89D2\u505C\u6B62\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u53C2\u6570\u3002 30912 \u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u5931\u8D25\u8B66\u544A \u5E76\u975E\u7B49\u5F85\u8FD0\u884C\u91CD\u65B0\u5F00\u59CB\u7684\u72B6\u6001\uFF0C\u6240\u4EE5\u65E0\u6CD5\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u3002 \u8BF7\u5728\u7B49\u5F85\u8FD0\u884C\u91CD\u65B0\u5F00\u59CB\u7684\u72B6\u6001\u4E0B\u6267\u884C\u3002 30914 \u5B9A\u4F4D\u505C\u6B62\u5904\u7406\u4E2D\u8B66\u544A \u5904\u4E8E\u5B9A\u4F4D\u6307\u5B9A\u89D2\u505C\u6B62/\u505C\u6B62\u4F20\u611F\u5668\u6267\u884C\u4E2D\u72B6\u6001\uFF0C\u6240\u4EE5\u4E0D\u80FD\u6267\u884C\u5B9A\u4F4D\u6307\u5B9A\u89D2\u505C\u6B62/\u505C\u6B62\u4F20\u611F\u5668/\u76EE\u6807\u5750\u6807\u66F4\u6539\u3002 30915 \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\u5931\u8D25\u8B66\u544A \u5B9A\u4F4D\u76EE\u6807\u5750\u6807\u66F4\u6539\u5931\u8D25\u3002 \u2022 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u53C2\u6570\u3002 \u2022 MC_ChangeTargetPosition\u4E0D\u80FD\u7528\u4E8E\u63D2\u8865\u8FD0\u8F6C\u4E2D\u7684\u8F74\u3002 \u2022 \u8BF7\u786E\u8BA4MC_ChangeTargetGroupPositions\u7684 Position \u7684\u8981\u7D20\u6570\u91CF\u662F\u5426\u5927\u4E8E\u7B49\u4E8E\u63D2\u8865\u8F74\u3002 30916 \u5B9A\u4F4D\u5F53\u524D\u5750\u6807\u66F4\u6539\u8BBE\u5B9A\u8B66\u544A \u4E0D\u80FD\u66F4\u6539\u5B9A\u4F4D\u5F53\u524D\u5750\u6807\u7684\u53C2\u6570\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u53C2\u6570\u3002 30917 \u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u70B9\u5931\u8D25\u8B66\u544A \u5728\u65E0\u6CD5\u5F3A\u5236\u6267\u884C\u4E0B\u4E00\u70B9\u7684\u65F6\u673A\u4E0A\u63A5\u6536\u4E86\u8BF7\u6C42\u3002 30920 \u539F\u70B9\u590D\u5F52\u4E2D\u7ACB\u5373\u505C\u6B62\u8B66\u544A \u539F\u70B9\u590D\u5F52\u4E2D\u6267\u884C\u4E86\u7ACB\u5373\u505C\u6B62\u3002 30921 \u539F\u70B9\u590D\u5F52\u4E2D\u51CF\u901F\u505C\u6B62\u8B66\u544A \u539F\u70B9\u590D\u5F52\u4E2D\u6267\u884C\u4E86\u51CF\u901F\u505C\u6B62\u3002 30930 \u89E3\u9664\u540C\u6B65\u8B66\u544A \u6CA1\u6709\u5904\u4E8E\u540C\u6B65\u63A7\u5236\u4E2D\u72B6\u6001\uFF0C\u6240\u4EE5\u65E0\u6CD5\u89E3\u9664\u540C\u6B65\u3002 \u8BF7\u5728\u540C\u6B65\u63A7\u5236\u4E2D\u72B6\u6001\u4E0B\u6267\u884C\u3002 30931 \u4EFF\u771F\u673A\u68B0\u540C\u6B65 \u8F6C\u77E9\u9650\u5236\u79BB\u5408\u5668OFF \u7531\u4E8E\u6A21\u62DF\u673A\u68B0\u540C\u6B65\u529F\u80FD\uFF0C\u5BFC\u81F4\u626D\u77E9\u9650\u5236\u79BB\u5408\u5668\u5173\u95ED\u3002 30932 \u540C\u6B65\u51F8\u8F6E\u5207\u6362\u8B66\u544A \u65E0\u6CD5\u6267\u884C\u51F8\u8F6E\u5207\u6362\u3002 \u2022 \u8BF7\u786E\u8BA4\u51F8\u8F6E\u7F16\u53F7\u3001\u5207\u6362\u4F4D\u7F6E\u662F\u5426\u6B63\u786E\u3002 \u2022 \u8BF7\u786E\u8BA4\u5207\u6362\u524D\u548C\u5207\u6362\u540E\u7684\u51F8\u8F6E\u5206\u8FA8\u7387\u662F\u5426\u4E00\u81F4\u3002 \u2022 \u8BF7\u786E\u8BA4\u662F\u5426\u4E0E\u5728\u7EBF\u51F8\u8F6E\u7F16\u8F91\u529F\u80FD\u51B2\u7A81\u3002 \u2022 \u8BF7\u5199\u5165\u51F8\u8F6E\u6570\u636E\uFF0C\u68C0\u67E5\u548C\u51F8\u8F6E\u81EA\u52A8\u751F\u6210\u529F\u80FD\u662F\u5426\u6709\u51B2\u7A81\u3002 30933 \u4EFF\u771F\u673A\u68B0\u540C\u6B65 \u8F93\u5165\u8F74\u505C\u6B62\u8B66\u544A \u7531\u4E8E\u6A21\u62DF\u673A\u68B0\u540C\u6B65\u529F\u80FD\uFF0C\u5BFC\u81F4\u8F93\u5165\u8F74\u505C\u6B62\u3002 30935 \u5916\u90E8\u53C2\u7167 \u8D85\u51FA\u8303\u56F4\u8B66\u544A \u5916\u90E8\u53C2\u7167\u7684\u8F93\u5165\u503C\u8D85\u51FA\u4E86\u73AF\u5F62\u8BA1\u6570\u5668\u7684\u8BBE\u5B9A\u8303\u56F4\u3002 30941 \u540C\u6B65\u4E3B\u8F74\u76F8\u4F4D\u8865\u507F \u8BBE\u5B9A\u8B66\u544A \u540C\u6B65\u4E3B\u8F74\u76F8\u4F4D\u6821\u6B63\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30942 \u540C\u6B65\u8F85\u52A9\u8F74\u76F8\u4F4D\u8865\u507F \u8BBE\u5B9A\u8B66\u544A \u540C\u6B65\u8F85\u52A9\u8F74\u76F8\u4F4D\u6821\u6B63\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30943 \u540C\u6B65\u6B65\u8FDB\u89D2\u8865\u507F \u8BBE\u5B9A\u8B66\u544A \u540C\u6B65\u8D85\u524D\u89D2\u6821\u6B63\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30944 \u540C\u6B65\u53EF\u53D8\u9F7F\u8F6E \u8BBE\u5B9A\u8B66\u544A \u540C\u6B65\u53EF\u53D8\u4F20\u52A8\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30945 \u540C\u6B65\u4E3B\u79BB\u5408\u5668 \u8BBE\u5B9A\u8B66\u544A \u540C\u6B65\u4E3B\u79BB\u5408\u5668\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30946 \u540C\u6B65\u8F85\u52A9\u79BB\u5408\u5668 \u8BBE\u5B9A\u8B66\u544A \u540C\u6B65\u8F85\u52A9\u79BB\u5408\u5668\u7684\u8BBE\u5B9A\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u9002\u5F53\u7684\u503C\u3002 30958 EtherCAT \u8282\u70B9\u8BBE\u5907\u53D1\u751F\u8B66\u544A EtherCAT\u8282\u70B9\u8BBE\u5907\u53D1\u751F\u4E86\u8B66\u544A\u3002 \u8BF7\u89E3\u51B3\u8282\u70B9\u8BBE\u5907\u8B66\u544A\u539F\u56E0\u3002 30970 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u8B66\u544A \u9F7F\u8F6E\u5206\u5B50 \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u53EF\u53D8\u4F20\u52A8\u5206\u5B50)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30971 \u540C\u6B65\u578B\u8DDF\u8E2A\u8BBE\u5B9A\u8B66\u544A \u9F7F\u8F6E\u5206\u6BCD \u4F4D\u7F6E\u63A7\u5236\u901A\u7528\u8BBE\u5B9A(\u540C\u6B65\u578B\u8DDF\u8E2A\u63A7\u5236 \u53EF\u53D8\u4F20\u52A8\u5206\u6BCD)\u7684\u503C\u8D85\u51FA\u4E86\u8303\u56F4\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30973 \u4F4D\u7F6E\u63A7\u5236\u8B66\u544A \u8F6C\u77E9\u9650\u5236 \u4F4D\u7F6E\u63A7\u5236(\u8F6C\u77E9\u9650\u5236)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30974 \u4F4D\u7F6E\u63A7\u5236\u8B66\u544A \u901F\u5EA6FF \u4F4D\u7F6E\u63A7\u5236(\u901F\u5EA6\u524D\u9988)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30975 \u4F4D\u7F6E\u63A7\u5236\u8B66\u544A \u8F6C\u77E9FF \u4F4D\u7F6E\u63A7\u5236(\u8F6C\u77E9\u524D\u9988)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30976 \u901F\u5EA6\u63A7\u5236\u8B66\u544A \u8F6C\u77E9\u9650\u5236 \u901F\u5EA6\u63A7\u5236(\u8F6C\u77E9\u9650\u5236)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 30977 \u8F6C\u77E9\u63A7\u5236\u8B66\u544A \u901F\u5EA6\u9650\u5236 \u8F6C\u77E9\u63A7\u5236(\u901F\u5EA6\u9650\u5236)\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31000 \u53C2\u6570\u9519\u8BEF Axis/AxisGroup Axis / AxisGroup \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31001 \u53C2\u6570\u9519\u8BEF Target Target \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31002 \u53C2\u6570\u9519\u8BEF BufferMode BufferMode \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31003 \u53C2\u6570\u9519\u8BEF Direction Direction \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31004 \u53C2\u6570\u9519\u8BEF TransitionMode TransitionMode \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31005 \u53C2\u6570\u9519\u8BEF CircMode CircMode \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31006 \u53C2\u6570\u9519\u8BEF PathChoice PathChoice \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31007 \u53C2\u6570\u9519\u8BEF RefNo RefNo \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31008 \u53C2\u6570\u9519\u8BEF \u6570\u636E\u8981\u7D20\u6570\u91CF\u4E0D\u8DB3 \u6307\u5B9A\u4E86\u8981\u7D20\u6570\u91CF\u5C11\u4E8E\u914D\u7F6E\u8F74\u6570\u91CF\u7684\u6570\u636E\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u8981\u7D20\u6570\u91CF\u7684\u6570\u636E\u3002 31009 \u53C2\u6570\u9519\u8BEF \u6570\u636E\u8981\u7D20\u6570\u91CF\u9519\u8BEF ReadData \uFF0F WriteData \u7684\u8981\u7D20\u6570\u91CF\u9519\u8BEF\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u8981\u7D20\u6570\u91CF\u7684\u6570\u636E\u3002 31010 \u53C2\u6570\u9519\u8BEF SectionInfo SectionInfo \u7684\u8981\u7D20\u6570\u91CF\u4E0D\u6B63\u786E\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u8981\u7D20\u6570\u91CF\u7684\u6570\u636E\u3002 31011 \u6307\u4EE4\u65B9\u6CD5\u5F02\u5E38 \u4E0D\u80FD\u5728\u6307\u4EE4\u65B9\u6CD5\u201C\u7EE7\u7535\u5668\u201D\u4E2D\u6267\u884C\u7684\u529F\u80FD\u5757\u3002 31012 \u53C2\u6570\u9519\u8BEF \u6A21\u5F0F\u7EC4\u5408 \u6307\u5B9A\u4E86\u4E0D\u80FD\u6307\u5B9A\u7684 BufferMode \u548C TransitionMode \u7684\u7EC4\u5408\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31013 \u53C2\u6570\u9519\u8BEF Velocity Velocity \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31014 \u53C2\u6570\u9519\u8BEF Acceleration Acceleration \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31015 \u53C2\u6570\u9519\u8BEF Deceleration Deceleration \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31016 \u53C2\u6570\u9519\u8BEF Jerk Jerk \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31017 \u53C2\u6570\u9519\u8BEF VelocityFast VelocityFast \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31018 \u53C2\u6570\u9519\u8BEF InchingMovement InchingMovement \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31019 \u53C2\u6570\u9519\u8BEF TransitionParameter TransitionParameter \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31030 \u4E0D\u53EF\u6267\u884C \u5176\u4ED6\u5B9E\u4F8B\u6267\u884C\u4E2D \u5176\u4ED6\u5B9E\u4F8B\u5DF2\u5728\u6267\u884C\u3002 31032 \u4E0D\u53EF\u6267\u884C \u505C\u6B62\u4E2D \u7531\u4E8E\u505C\u6B62\u4E2D\uFF0C\u65E0\u6CD5\u6267\u884C\u8F74\u63A7\u5236\u529F\u80FD\u3002 31033 \u4E0D\u53EF\u6267\u884C \u540C\u65F6\u6267\u884C\u5B9E\u4F8B\u6570\u91CF\u4E0A\u9650 \u53EF\u540C\u65F6\u6267\u884C\u7684\u5B9E\u4F8B\u6570\u91CF\u8D85\u8FC7\u4E0A\u9650\u3002 31034 \u4E0D\u53EF\u6267\u884C \u4E0D\u53EF\u4E2D\u65ADMC_MoveCirc BufferMode \u53EF\u5728Aborting\u4E2D\u7F13\u51B2\u7684\u4EC5\u9650\u540C\u4E3A\u76F4\u7EBF\u63D2\u8865\u7684\u7EC4\u5408\u3002 31035 \u4E0D\u53EF\u6267\u884C \u4E0D\u53EF\u63D2\u5165\u8F85\u52A9\u5706\u5F27 \u7531\u4E8E\u5DF2\u8FC7\u8F85\u52A9\u5706\u5F27\u7684\u5F00\u59CB\u70B9\uFF0C\u6240\u4EE5\u672A\u80FD\u63D2\u5165\u8F85\u52A9\u5706\u5F27\u3002 31036 \u4E0D\u53EF\u6267\u884C \u914D\u7F6E\u8F74\u6570\u91CF\u9519\u8BEF \u672A\u6210\u4E3A\u53EF\u63D2\u8865\u8FD0\u8F6C\u7684\u914D\u7F6E\u8F74\u3002 \u76F4\u7EBF\u63D2\u8865\u8BF7\u4F7F\u5176\u4E3A2\u8F74\u4EE5\u4E0A\u914D\u7F6E\uFF0C\u5706\u5F27\u63D2\u8865\u8BF7\u4F7F\u5176\u4E3A2\u8F74\u914D\u7F6E\u3002 31037 \u4E0D\u53EF\u6267\u884C \u8D85\u8FC7\u505C\u6B62\u6307\u4EE4\u6267\u884C\u6570\u91CF\u4E0A\u9650 \u8D85\u8FC7\u4E86\u505C\u6B62\u6307\u4EE4\u7684\u6267\u884C\u6570\u7684\u4E0A\u9650\u3002 \u8BF7\u4F7F\u540C\u65F6\u6267\u884C\u7684\u505C\u6B62\u6307\u4EE4\u6570\u91CF\u5C0F\u4E8E\u7B49\u4E8E\u4E0A\u9650\u3002 31038 \u4E0D\u53EF\u6267\u884C \u8F74\u6784\u6210/\u8F74\u7FA4\u7EC4\u4E0D\u4E00\u81F4 \u7531\u4E8E\u52A8\u4F5C\u4E2D\u7684\u8FD0\u8F6C\u548C\u8F74\u6784\u6210\u6216\u8F74\u7FA4\u7EC4\u4E0D\u540C\uFF0C\u6240\u4EE5\u65E0\u6CD5\u6267\u884C\u6307\u4EE4\u3002 31040 \u6267\u884C\u9519\u8BEF \u52A8\u4F5C\u5141\u8BB8\u9519\u8BEF \u65E0\u6CD5\u5904\u4E8E\u52A8\u4F5C\u5C31\u7EEA\u72B6\u6001\u3002 31060 \u53C2\u6570\u9519\u8BEF AuxPoint AuxPoint \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31061 \u53C2\u6570\u9519\u8BEF EndPoint EndPoint \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31062 \u53C2\u6570\u9519\u8BEF Position Position \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31063 \u53C2\u6570\u9519\u8BEF Distance Distance \u7684\u503C\u5728\u8303\u56F4\u5916\u3002 \u8BF7\u8BBE\u5B9A\u6070\u5F53\u7684\u503C\u3002 31064 \u53C2\u6570\u9519\u8BEF \u51CF\u901F\u505C\u6B62\u51CF\u901F\u5EA6 \u5728\u51CF\u901F\u505C\u6B62\u4E2D\u6307\u5B9A\u7684\u51CF\u901F\u5EA6\u76F8\u5BF9\u4E8E\u8FD0\u8F6C\u901F\u5EA6\u8FC7\u5C0F\uFF0C\u6240\u4EE5\u6309\u7167\u5728\u8FD0\u8F6C\u5F00\u59CB\u65F6\u6307\u5B9A\u7684\u51CF\u901F\u5EA6\u6267\u884C\u51CF\u901F\u505C\u6B62\u3002"},{"link":"./03_33_FBFUN_EtherCAT.html","title":"EtherCAT","body":"EtherCAT FUN/FB \u540D\u79F0 \u6982\u8FF0 EC_CoE_SDORead CoE SDO\u8BFB\u53D6 \u8BFB\u53D6\u6307\u5B9A\u7684\u5BF9\u8C61\u3002 EC_CoE_SDOWrite CoE SDO\u5199\u5165 \u5199\u5165\u6307\u5B9A\u7684\u5BF9\u8C61\u3002 EC_CoE_PDOStop CoE PDO\u901A\u4FE1\u505C\u6B62 \u505C\u6B62\u4E0E\u6307\u5B9A\u7684\u8282\u70B9\u5730\u5740\u53CA\u5176\u4E0B\u6E38\u7684\u8282\u70B9\u7684PDO\u901A\u4FE1\u3002 EC_CoE_PDORestart CoE PDO\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB \u91CD\u65B0\u5F00\u59CB\u4E0E\u6307\u5B9A\u7684\u8282\u70B9\u5730\u5740\u53CA\u5176\u4E0B\u6E38\u7684\u8282\u70B9\u7684PDO\u901A\u4FE1\u3002 \u00A0 KV-X500\u4E0D\u80FD\u4F7F\u7528EtherCAT\u547D\u4EE4\u3002 \u901A\u7528\u4E8B\u9879 \u4E0B\u8FF0\u5185\u5BB9\u662FEtherCAT\u901A\u4FE1FB\u7684\u901A\u7528\u5185\u5BB9\uFF0C\u5728\u5404\u6307\u4EE4\u7684\u8BF4\u660E\u4E2D\u4E0D\u518D\u8BB0\u8F7D\u3002 \u2022 \u5728CPU\u5355\u5143\u4E0D\u53EF\u8FD0\u884C\u7684\u72B6\u6001\u4E0B\u4F7F\u7528EtherCAT\u901A\u4FE1\u7528FB\uFF0C\u4F1A\u4F7F Error \u53D8\u4E3ATRUE\u3002\u5982\u9700\u4F7F\u7528EtherCAT\u901A\u4FE1FB\uFF0C\u8BF7\u5148\u901A\u8FC7MC_OperationEnable\u6216\u8FD0\u884C\u4F7F\u80FD\u7EE7\u7535\u5668\uFF0C\u5C06CPU\u5355\u5143\u7F6E\u4E8E\u53EF\u8FD0\u884C\u72B6\u6001\u3002 \u2022 \u4ECE\u5C06 Execute \u7F6E\u4E8ETRUE\u5F00\u59CB\u5230\u6267\u884C\u5B8C\u6210\u4E3A\u6B62\uFF0C\u9700\u8981\u8FDB\u884C\u591A\u6B21\u626B\u63CF\u3002\u56E0\u6B64\uFF0C\u4ECE\u5C06 Execute \u7F6E\u4E8ETRUE\u5F00\u59CB\u5230 Done \u6216 Error \u53D8\u4E3ATRUE\u4E3A\u6B62\uFF0C\u8BF7\u4E0D\u8981\u66F4\u6539\u5404\u81EA\u53D8\u91CF\u7684\u503C\u3002 \u4F46\u662F\uFF0C\u53D1\u751F\u67D0\u4E9B\u79CD\u7C7B\u7684\u9519\u8BEF\u65F6\uFF0C\u53EF\u80FD\u4F1A\u5728\u5C06 Execute \u7F6E\u4E8ETRUE\u4E4B\u540E\u53D8\u4E3A Error \u3002\u6B64\u65F6\u7684 Busy \u4ECD\u662FFALSE\u3002 \u2022 ASCII\u5B57\u7B26\u4E32\u7B49\u5B57\u8282\u5355\u4F4D\u7684\u6570\u636E\u662F\u4ECE\u4F4E\u4F4D\u5B57\u8282\u5F00\u59CB\u6309\u987A\u5E8F\u5B58\u50A8\u7684\u3002\u63A5\u6536\u5230\u0027AB\u0027\u5B57\u7B26\u4E32\u65F6\uFF0C\u4F1A\u5B58\u50A8\u4E3A\u0027BA\u0027\u3002\u53D1\u9001\u65F6\u987A\u5E8F\u76F8\u53CD\u3002 \u2022 \u4E0D\u80FD\u5728\u521D\u59CB\u5316\u6A21\u5757\u5185\u4F7F\u7528\u3002 \u6700\u5927\u8FDE\u63A5\u8282\u70B9\u6570 \u5404CPU\u5355\u5143\u7684\u6700\u5927\u8FDE\u63A5\u8282\u70B9\u6570\uFF0C\u8BF7\u53C2\u9605\u300AEtherCAT\u901A\u4FE1\u529F\u80FD \u7528\u6237\u624B\u518C\u300B\u3002 \u9519\u8BEF\u4EE3\u7801 EtherCAT\u901A\u4FE1FB\u53D1\u751F\u9519\u8BEF\u65F6\uFF0C Error \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u5728 ErrorID \u4E2D\u5B58\u50A8\u5BF9\u5E94\u9519\u8BEF\u5185\u5BB9\u7684\u9519\u8BEF\u4EE3\u7801\u3002 ErrorID \u4E2D\u5B58\u50A8\u7684\u9519\u8BEF\u4EE3\u7801\u5982\u4E0B\u3002 \u9519\u8BEF\u4EE3\u7801 \u9519\u8BEF\u5185\u5BB9 \u8BE6\u7EC6 0 \u65E0\u9519\u8BEF \u6CA1\u6709\u53D1\u751F\u9519\u8BEF\u3002 40006 EtherCAT PDO\u5BF9\u8C61\u9519\u8BEF \u672A\u80FD\u6B63\u786E\u8BFB\u53D6\u8BBE\u5B9A\u7684\u5BF9\u8C61\u3002 \u8BF7\u786E\u8BA4\u662F\u5426\u5728\u8F74\u8BBE\u5B9A\u7684\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u63A7\u5236\u5B57\u4E2D\uFF0C\u8BBE\u5B9A\u4E86Controlword\u5BF9\u8C61\u3002 \u53E6\u5916\uFF0C\u5982\u679C\u662F\u591A\u8F74\u8BBE\u5907\uFF0C\u8BF7\u786E\u8BA4\u5BF9\u8C61\u7D22\u5F15\u7684\u504F\u79FB\u91CF\u5728\u6BCF\u4E2A\u8F74\u4E0A\u7684\u79FB\u4F4D\u662F\u5426\u6B63\u786E\u3002 40008 EtherCAT LINK\u5173\u95ED EtherCAT\u901A\u4FE1\u7684\u94FE\u63A5\u5DF2\u65AD\u5F00\u3002 \u8BF7\u786E\u8BA4\u7EBF\u7F06\u7684\u8FDE\u63A5\u60C5\u51B5\u3002* \u53EF\u901A\u8FC7LINK/ACT\u7684LED\u786E\u8BA4\u8FDE\u63A5\u72B6\u6001\u3002 40009 EtherCAT\u8FDE\u63A5\u5931\u8D25 \u4E0EEtherCAT\u8282\u70B9\u8BBE\u5907\u7684\u8FDE\u63A5\u5931\u8D25\u3002 \u8BF7\u53C2\u8003\u8282\u70B9\u8BBE\u5907\u7684\u624B\u518C\uFF0C\u786E\u8BA4\u662F\u5426\u652F\u6301\u8282\u70B9\u8BBE\u5907\u7684EtherCAT\u8BBE\u5B9A\uFF08\u8282\u70B9\u8BE6\u7EC6\u8BBE\u5B9A\uFF09\u3001\u901A\u4FE1\u5468\u671F\u7B49\u3002 \u53EF\u80FD\u9519\u8BEF\u8FDE\u63A5\u4E86\u4E0D\u652F\u6301EtherCAT\u7684\u8BBE\u5907\u3002\u8BF7\u786E\u8BA4\u8FDE\u63A5\u8BBE\u5907\u3002 40010 EtherCAT\u901A\u4FE1\u9519\u8BEF \u5728EtherCAT\u4E3B\u7AD9\u53D1\u751F\u4E86\u6307\u5B9A\u6B21\u6570\u4EE5\u4E0A\u8FDE\u7EED\u7684\u63A5\u6536\u9519\u8BEF\u3002 \u53EF\u80FD\u662F\u901A\u4FE1\u7EBF\u8DEF\u53D7\u5230\u4E86\u5E72\u6270\u7B49\u3002\u8BF7\u91C7\u53D6\u9632\u5E72\u6270\u5BF9\u7B56\u3002 \u53EF\u80FD\u9519\u8BEF\u8FDE\u63A5\u4E86\u4E0D\u652F\u6301EtherCAT\u7684\u8BBE\u5907\u3002\u8BF7\u786E\u8BA4\u8FDE\u63A5\u8BBE\u5907\u3002 \u901A\u4FE1\u5468\u671F\u8F83\u77ED\u65F6\uFF0C\u53EF\u80FD\u56E0\u4E3A\u8D85\u65F6\u800C\u672A\u80FD\u63A5\u6536\u3002\u8BF7\u4FEE\u6539\u4F7F\u7528\u6761\u4EF6\uFF0C\u4F8B\u5982\u8C03\u5927\u901A\u4FE1\u5468\u671F\uFF0C\u6216\u8005\u7F29\u5C0FPDO\u5927\u5C0F\u7B49\u3002 40011 EtherCAT\u8282\u70B9\u8BBE\u5907\u6821\u9A8C\u4E0D\u4E00\u81F41 EtherCAT\u914D\u7F6E\u8BBE\u5B9A\u4E0E\u5DF2\u8FDE\u63A5\u7684\u8282\u70B9\u8BBE\u5907\u4E0D\u4E00\u81F4\u3002 \u8BF7\u786E\u8BA4\u8BBE\u5B9A\u53CA\u5B9E\u673A\u914D\u7F6E\u3002 \u8282\u70B9\u8BBE\u5907\u7684IN/OUT\u7AEF\u53E3\u7535\u7F06\u8FDE\u63A5\u53EF\u80FD\u53CD\u4E86\uFF0C\u8BF7\u786E\u8BA4\u8FDE\u63A5\u3002 40012 EtherCAT\u8282\u70B9\u8BBE\u5907\u9519\u8BEF\u72B6\u6001\u4FE1\u606F \u8282\u70B9\u8BBE\u5907\u7684EtherCAT\u72B6\u6001\u53D8\u4E3A\u9519\u8BEF\u3002 \u8BF7\u6839\u636E\u9519\u8BEF\u8BE6\u7EC6\u4FE1\u606F\u786E\u8BA4\u72B6\u6001\u4EE3\u7801\uFF0C\u5E76\u5728\u8282\u70B9\u8BBE\u5907\u4E2D\u6D88\u9664\u62A5\u9519\u539F\u56E0\u3002 \u5728\u8BBE\u5B9A\u7684\u901A\u4FE1\u5468\u671F\u6216DC\u7684\u540C\u6B65\u5468\u671F\u4E0E\u8282\u70B9\u89C4\u683C\u4E0D\u4E00\u81F4\u7684\u60C5\u51B5\u4E0B\u4E5F\u4F1A\u53D1\u751F\u3002\u8BF7\u786E\u8BA4\u8282\u70B9\u89C4\u683C\u3002 40013 EtherCAT\u8282\u70B9\u8BBE\u5907\u4E0D\u6B63\u786E\u72B6\u6001 \u8282\u70B9\u8BBE\u5907\u7684EtherCAT\u72B6\u6001\u53D8\u4E3A\u4E86OP\u72B6\u6001\u4EE5\u5916\u7684\u72B6\u6001\u3002 \u8BF7\u5728\u8282\u70B9\u8BBE\u5907\u4E0A\u6D88\u9664\u539F\u56E0\u3002 40014 EtherCAT\u7AEF\u53E3\u9519\u8BEF\u8FDE\u63A5 EtherCAT\u8282\u70B9\u8BBE\u5907\u7684IN/OUT\u7AEF\u53E3\u7535\u7F06\u8FDE\u63A5\u53CD\u4E86\u3002 \u8BF7\u786E\u8BA4\u7535\u7F06\u7684\u8FDE\u63A5\u76EE\u6807\u7AEF\u53E3\u3002 40016 EtherCAT\u8282\u70B9\u8BBE\u5907\u6821\u9A8C\u4E0D\u4E00\u81F42 \u8FDE\u63A5\u4E86EtherCAT\u914D\u7F6E\u8BBE\u5B9A\u4E2D\u6CA1\u6709\u7684\u8282\u70B9\u3002 \u6216\u8005\u53EF\u80FD\u662F\u914D\u7EBF\u9519\u8BEF\u3002 \u8BF7\u786E\u8BA4\u8BBE\u5B9A\u53CA\u5B9E\u673A\u914D\u7F6E\u3002 40017 \u65E0\u63A5\u70B9 \u672A\u627E\u5230EtherCAT\u914D\u7F6E\u8BBE\u5B9A\u4E2D\u6307\u5B9A\u7684\u8282\u70B9\u8BBE\u5907\u3002 40018 EtherCAT\u8282\u70B9\u521D\u59CB\u5316\u65F6\u901A\u4FE1\u9519\u8BEF1 EtherCAT\u7684\u521D\u59CB\u5316\u65F6\u901A\u4FE1\u6307\u4EE4\u53D1\u751F\u4E86\u9519\u8BEF\u3002 PDO\u6620\u5C04\u7684\u8BBE\u5B9A\u53EF\u80FD\u8FDD\u53CD\u4E86\u8282\u70B9\u8BBE\u5907\u7684\u89C4\u683C\u3002\u8BF7\u5728\u8282\u70B9\u8BBE\u5907\u7684\u624B\u518C\u4E2D\u786E\u8BA4\u5BF9\u8C61\u89C4\u683C\u3002 \u6216\u8005\u53EF\u80FD\u662F\u521D\u59CB\u5316\u65F6\u901A\u4FE1\u6307\u4EE4\u8FDD\u53CD\u4E86\u8282\u70B9\u8BBE\u5907\u7684\u5BF9\u8C61\u8BCD\u5178\u89C4\u683C\u3002\u8BF7\u5728\u8282\u70B9\u8BBE\u5907\u7684\u624B\u518C\u4E2D\u786E\u8BA4\u5BF9\u8C61\u8BCD\u5178\u89C4\u683C\u3002 \u6216\u8005\u5728\u8BBE\u5B9A\u7684\u901A\u4FE1\u5468\u671F\u6216DC\u7684\u540C\u6B65\u5468\u671F\u4E0E\u8282\u70B9\u89C4\u683C\u4E0D\u4E00\u81F4\u7684\u60C5\u51B5\u4E0B\u4E5F\u4F1A\u53D1\u751F\u3002\u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u7684\u89C4\u683C\u3002 40019 EtherCAT\u8282\u70B9\u521D\u59CB\u5316\u65F6\u901A\u4FE1\u9519\u8BEF2 EtherCAT\u90AE\u7BB1\u7684\u521D\u59CB\u5316\u6307\u4EE4\u53D1\u751F\u4E86\u8D85\u65F6\u3002 \u53EF\u80FD\u8282\u70B9\u8BBE\u5907\u7684\u90AE\u7BB1\u901A\u4FE1\u89C4\u683C\uFF08\u7F13\u51B2\u5927\u5C0F\u7B49\uFF09\u4E0E\u4E3B\u7AD9\u6216\u8282\u70B9\u7684\u8BBE\u5B9A\u4E0D\u4E00\u81F4\u3002 40020 EtherCAT\u5B89\u88C5\u8BFB\u53D6\u901A\u4FE1\u5931\u8D25 EtherCAT\u8BBE\u7F6E\u65F6\u8BFB\u53D6\u901A\u4FE1\u5931\u8D25\u3002 \u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u64CD\u4F5C\u6A21\u5F0F\u7684\u5BF9\u8C61\u8BCD\u5178\u89C4\u683C\u3002 40021 EtherCAT\u5B89\u88C5\u5199\u5165\u901A\u4FE1\u5931\u8D25 EtherCAT\u8BBE\u7F6E\u65F6\u5199\u5165\u901A\u4FE1\u5931\u8D25\u3002 \u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u64CD\u4F5C\u6A21\u5F0F\u7684\u5BF9\u8C61\u8BCD\u5178\u89C4\u683C\u3002 40023 EtherCAT\u4E3B\u7AD9\u9519\u8BEF EtherCAT\u4E3B\u7AD9\u53D1\u751F\u9519\u8BEF\u3002 \u8BF7\u786E\u8BA4\u5B58\u50A8\u4E8E\u7CFB\u7EDF\u53D8\u91CF\uFF08_EC_Master.MasterErrorCode\uFF09\u7684\u4E3B\u7AD9\u9519\u8BEF\u4FE1\u606F\uFF0C\u6D88\u9664EtherCAT\u4E3B\u7AD9\u9519\u8BEF\u539F\u56E0\u3002 40024 EtherCAT\u5237\u65B0\u505C\u6B62 \u4E0B\u8FF0\u4EFB\u610F\u4E00\u9879\u53D1\u751F\u4E86\u4E0D\u5339\u914D\uFF0C\u6240\u4EE5EtherCAT\u5237\u65B0\u5DF2\u505C\u6B62\u3002 \u2022 \u5168\u5C40\u53D8\u91CF\u7684\u8BBE\u5B9A\u4E0E\u5BF9EtherCAT\u8BBE\u5B9A\u7684PDO\u6620\u5C04\u5206\u914D\u7684\u53D8\u91CF\u8BBE\u5B9A \u2022 \u5355\u5143\u7F16\u8F91\u5668\u7684\u5355\u5143\u95F4\u540C\u6B65\u8BBE\u5B9A\u4E0EEtherCAT\u8BBE\u5B9A\u7684\u5237\u65B0\u65F6\u673A\u8BBE\u5B9A \u8BF7\u4F20\u8F93\u5168\u90E8\u9879\u76EE\u3002 \u6216\u8005\uFF0C\u5982\u679C\u5B58\u5728\u5C06\u5237\u65B0\u65F6\u673A\u8BBE\u5B9A\u8BBE\u4E3A\u5355\u5143\u95F4\u540C\u6B65\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u6267\u884C\u4E86\u5141\u8BB8\u4E2D\u65AD\u3002 40025 EtherCAT\u53D1\u9001\u8D44\u6E90\u67AF\u7AED \u53D1\u9001\u8D44\u6E90\u5DF2\u7528\u5B8C\u3002 \u8BF7\u589E\u5927\u63A7\u5236\u5468\u671F\u3002 41001 EtherCAT SDO\u901A\u4FE1\u53C2\u6570\u8B66\u544A \u6267\u884CEtherCAT SDO\u901A\u4FE1\u65F6\u7684\u4E3B\u7AD9\u53C2\u6570\uFF08Index\u3001SubIndex\u3001\u6570\u636E\u5927\u5C0F\u7B49\uFF09\u5F02\u5E38\u3002 \u8BF7\u68C0\u67E5\u53C2\u6570\u503C\u3002 41002 EtherCAT SDO\u901A\u4FE1\u5BF9\u8C61\u8282\u70B9\u65E0\u6548 EtherCAT SDO\u901A\u4FE1\u7684\u6536\u4EF6\u4EBA\u8282\u70B9\u4E0D\u5B58\u5728\u3002 \u8BF7\u786E\u8BA4\u53C2\u6570\u503C\uFF08\u8F74\u7F16\u53F7\uFF09\u3002 41003 EtherCAT SDO\u901A\u4FE1\u4E0D\u80FD\u6267\u884C\u670D\u52A1 \u5F53\u524D\u72B6\u6001\u4E0B\u65E0\u6CD5\u5728EtherCAT\u4E3B\u7AD9\u6267\u884CSDO\u901A\u4FE1\u3002 \u8BF7\u5728STATUS LED\u7EFF\u706F\u4EAE\u706F\u540E\u6267\u884C\u3002 41004 EtherCAT SDO\u901A\u4FE1\u534F\u8BAE\u8B66\u544A EtherCAT SDO\u901A\u4FE1\u53D1\u751F\u534F\u8BAE\u5F02\u5E38\u3002 \u8BF7\u518D\u6B21\u6267\u884C\u3002 41005 EtherCAT SDO\u901A\u4FE1\u8D85\u65F6 EtherCAT SDO\u901A\u4FE1\u53D1\u751F\u8D85\u65F6\u3002 \u8BF7\u518D\u6B21\u6267\u884C\u3002 41006 EtherCAT SDO\u901A\u4FE1\u6570\u636E\u7C7B\u578B\u8B66\u544A \u5728EtherCAT SDO\u901A\u4FE1\u4E2D\uFF0C\u6570\u636E\u7C7B\u578B\u4E0E\u8282\u70B9\u8BBE\u5907\u7684\u89C4\u683C\u4E0D\u4E00\u81F4\u3002 \u8BF7\u4F7F\u53C2\u6570\u7684\u6570\u636E\u7C7B\u578B\u4E00\u81F4\u3002 41007 EtherCAT SDO\u901A\u4FE1\u5199\u5165\u8BBF\u95EE\u8B66\u544A EtherCAT SDO\u901A\u4FE1\u7684\u5199\u5165\u8BBF\u95EE\u5931\u8D25\u3002 \u53EF\u80FD\u8BBF\u95EE\u4E86\u4E0D\u53EF\u5199\u5165\u7684\u6570\u636E\uFF0C\u6216\u8005\u8D85\u51FA\u4E86\u5199\u5165\u8303\u56F4\u3002 \u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u53C2\u6570\u7684\u8BFB\u5199\u89C4\u683C\u5E76\u66F4\u6B63\u3002 41008 EtherCAT SDO\u901A\u4FE1\u5BF9\u8C61\u8BBF\u95EE\u8B66\u544A EtherCAT SDO\u901A\u4FE1\u4E2D\u5BF9\u8C61\u8BBF\u95EE\u5931\u8D25\u3002 \u5F04\u9519\u4E86\u5BF9\u8C61\u7684\u7F16\u53F7\uFF08Index\u3001SubIndex\uFF09\u6216\u8005\u8D85\u51FA\u4E86\u8BBF\u95EE\u8303\u56F4\u3002 \u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u7684\u53C2\u6570\u7F16\u53F7\u8303\u56F4\u5E76\u66F4\u6B63\u3002 41009 EtherCAT SDO\u901A\u4FE1\u5E94\u7528\u7A0B\u5E8F\u8B66\u544A EtherCAT SDO\u901A\u4FE1\u4E2D\u53D1\u751F\u8282\u70B9\u8BBE\u5907\u7684\u5E94\u7528\u7A0B\u5E8F\u9519\u8BEF\u3002 \u53EF\u80FD\u662F\u8282\u70B9\u8BBE\u5907\u6B63\u5904\u4E8E\u53C2\u6570\u4FDD\u5B58\u4E2D\u7B49\u65E0\u6CD5\u8FDB\u884C\u901A\u4FE1\u7684\u72B6\u6001\u3002\u8BF7\u5728\u4E00\u6BB5\u65F6\u95F4\u4E4B\u540E\u518D\u6267\u884CSDO\u901A\u4FE1\u3002 \u6216\u8005\uFF0C\u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u7684CoE\u89C4\u683C\u3002 41010 EtherCAT SDO\u901A\u4FE1\u5176\u4ED6\u8B66\u544A EtherCAT SDO\u901A\u4FE1\u4E2D\u53D1\u751F\u8282\u70B9\u8BBE\u5907\u9519\u8BEF\u3002 \u8BF7\u786E\u8BA4\u8282\u70B9\u8BBE\u5907\u7684CoE\u89C4\u683C\u5E76\u91C7\u53D6\u5BF9\u7B56\u3002 41021 \u63A5\u70B9\u5730\u5740\u4E0D\u6B63\u786E \u6307\u5B9A\u7684\u8282\u70B9\u5730\u5740\u4E0D\u80FD\u4F7F\u7528\u3002 \u8BF7\u786E\u8BA4\u6307\u5B9A\u7684\u8282\u70B9\u5730\u5740\u80FD\u5426\u5728\u529F\u80FD\u5757\u4E2D\u4F7F\u7528\u3002 41022 \u52A8\u4F5C\u5C31\u7EEA\u8B66\u544A \u672A\u5904\u4E8E\u52A8\u4F5C\u5C31\u7EEA\u72B6\u6001\uFF0C\u6240\u4EE5\u65E0\u6CD5\u6267\u884C\u5904\u7406\u3002 \u8BF7\u4F7F\u5176\u5904\u4E8E\u52A8\u4F5C\u5C31\u7EEA\u72B6\u6001\u3002 41024 EtherCAT\u901A\u4FE1\u72B6\u6001\u8B66\u544A EtherCAT\u901A\u4FE1\u672A\u5F00\u59CB\u3002 \u8BF7\u786E\u8BA4EtherCAT\u914D\u7F6E\u8BBE\u5B9A\u3002 41025 \u81EA\u53D8\u91CF\u6307\u5B9A\u8B66\u544A \u5BF9IN-OUT\u81EA\u53D8\u91CF\u6307\u5B9A\u4E86FUN\u7684IN\u81EA\u53D8\u91CF\u3001OUT\u81EA\u53D8\u91CF\u3001\u5C40\u90E8\u53D8\u91CF\u3002 \u8BF7\u786E\u8BA4\u81EA\u53D8\u91CF\u7684\u6307\u5B9A\u3002 41026 PDO\u53D1\u9001\u6062\u590D\u8B66\u544A \u8FDE\u63A5\u7740\u8282\u70B9\u7684\u6784\u6210\u8BBE\u5B9A\u4E2D\u4E0D\u5B58\u5728\u7684\u8282\u70B9\u3002\u8BF7\u786E\u8BA4\u8BBE\u5B9A\u53CA\u5B9E\u673A\u914D\u7F6E\u3002 \u00A0 EC_CoE_SDORead CoE SDO\u8BFB\u53D6 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EC_CoE_SDORead CoE SDO\u8BFB\u53D6 FB \u00A0 EC_CoE_SDORead_instance(Execute, NodeAdr, ObjectIndex, ObjectSubIndex, CompleteAccess, Timeout, Dst, ByteSize, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 NodeAdr IN UINT 1 \u8282\u70B9\u5730\u5740 ObjectIndex IN UINT 0 \u5BF9\u8C61\u7684Index\u7F16\u53F7 ObjectSubIndex IN UINT 0 \u5BF9\u8C61\u7684SubIndex\u7F16\u53F7 CompleteAccess IN BOOL FALSE \u5B8C\u5168\u8BBF\u95EE FALSE\uFF1A\u4E0D\u6279\u91CF\u6307\u5B9A TRUE\uFF1A\u6279\u91CF\u6307\u5B9A Timeout IN UINT 0 \u8D85\u65F6\u65F6\u95F4[ms] \u6307\u5B9A0\u65F6\u63093000ms\u8FD0\u884C Dst IN-OUT - - \u63A5\u6536\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB ByteSize OUT UINT - \u63A5\u6536\u5B57\u8282\u6570 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u4ECE\u7528 NodeAdr \u6307\u5B9A\u7684\u8282\u70B9\u8BBE\u5907\uFF0C\u8BFB\u53D6\u7528 ObjectIndex \u548C ObjectSubIndex \u6307\u5B9A\u7684\u5BF9\u8C61\u6570\u636E\u3002 CompleteAccess \u5728\u8BBE\u4E3ATRUE\u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6\uFF0C\u4F1A\u6279\u91CF\u8BFB\u53D6\u540C\u4E00 ObjectIndex \u5185\u7684\u6240\u6709\u5BF9\u8C61\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 ObjectIndex \u3001 ObjectSubIndex \u3001 ByteSize \u6307\u5B9A\u4E86\u8282\u70B9\u8BBE\u5907\u4E0D\u652F\u6301\u7684\u53C2\u6570\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41001\uFF09 \u2022 \u7528 NodeAdr \u6307\u5B9A\u7684\u5BF9\u65B9\u8282\u70B9\u4E0D\u5B58\u5728\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41002\uFF09 \u2022 \u5728\u4E0D\u80FD\u8FDB\u884CSDO\u901A\u4FE1\u7684\u72B6\u6001\uFF08STATUS LED\u672A\u53D8\u4E3A\u7EFF\u8272\u4EAE\u706F\u7684\u72B6\u6001\uFF09\u4E0B\u5C06 Execute \u8BBE\u4E3ATRUE\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41003\uFF09 \u2022 SDO\u901A\u4FE1\u53D1\u751F\u4E86\u534F\u8BAE\u5F02\u5E38\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41004\uFF09 \u2022 \u5C06 Execute \u7F6E\u4E8ETRUE\u540E\uFF0C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210SDO\u901A\u4FE1\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41005\uFF09 \u2022 \u6536\u53D1\u6570\u636E\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u8282\u70B9\u8BBE\u5907\u7684\u89C4\u683C\u4E0D\u4E00\u81F4\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41006\uFF09 \u2022 \u5BF9 ObjectIndex \u3001 ObjectSubIndex \u6307\u5B9A\u4E86\u8282\u70B9\u8BBE\u5907\u4E0D\u652F\u6301\u7684\u53C2\u6570\uFF0C\u6216\u8005\u8BFB\u5199\u8303\u56F4\u4E0D\u6B63\u786E\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41008\uFF09 \u2022 \u8282\u70B9\u8BBE\u5907\u53D1\u751F\u4E86\u5E94\u7528\u7A0B\u5E8F\u9519\u8BEF\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41009\uFF09 \u2022 \u8282\u70B9\u8BBE\u5907\u53D1\u751F\u4E86SDO\u901A\u4FE1\u76F8\u5173\u9519\u8BEF\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41010\uFF09 \u00A0 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u4E0E\u5176\u4ED6SDO\u901A\u4FE1\u53D1\u751F\u51B2\u7A81\u65F6\uFF0C\u6267\u884C\u53EF\u80FD\u4F1A\u88AB\u5EF6\u540E\u3002 EC_CoE_SDOWrite CoE SDO\u5199\u5165 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EC_CoE_SDOWrite CoE SDO\u5199\u5165 FB \u00A0 EC_CoE_SDOWrite_instance(Execute, NodeAdr, ObjectIndex, ObjectSubIndex, CompleteAccess, Timeout, ByteSize, Src, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 NodeAdr IN UINT 1 \u8282\u70B9\u5730\u5740 ObjectIndex IN UINT 0 \u5BF9\u8C61\u7684Index\u7F16\u53F7 ObjectSubIndex IN UINT 0 \u5BF9\u8C61\u7684SubIndex\u7F16\u53F7 CompleteAccess IN BOOL FALSE \u5B8C\u5168\u8BBF\u95EE FALSE\uFF1A\u4E0D\u6279\u91CF\u6307\u5B9A TRUE\uFF1A\u6279\u91CF\u6307\u5B9A Timeout IN UINT 0 \u8D85\u65F6\u65F6\u95F4[ms] \u6307\u5B9A0\u65F6\u63093000ms\u8FD0\u884C ByteSize IN UINT 0 \u53D1\u9001\u5B57\u8282\u6570 Src IN - - \u53D1\u9001\u6570\u636E\u5B58\u50A8\u76EE\u6807\u8D77\u59CB Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u5411\u7528 NodeAdr \u6307\u5B9A\u7684\u8282\u70B9\u8BBE\u5907\uFF0C\u5199\u5165\u7528 ObjectIndex \u548C ObjectSubIndex \u6307\u5B9A\u7684\u5BF9\u8C61\u6570\u636E\u3002 CompleteAccess \u5728\u8BBE\u4E3ATRUE\u7684\u72B6\u6001\u4E0B\u6267\u884C\u65F6\uFF0C\u4F1A\u6279\u91CF\u5199\u5165\u53D6\u540C\u4E00 ObjectIndex \u5185\u7684\u6240\u6709\u5BF9\u8C61\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u5BF9 ObjectIndex \u3001 ObjectSubIndex \u3001 ByteSize \u6307\u5B9A\u4E86\u8282\u70B9\u8BBE\u5907\u4E0D\u652F\u6301\u7684\u53C2\u6570\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41001\uFF09 \u2022 \u7528 NodeAdr \u6307\u5B9A\u7684\u5BF9\u65B9\u8282\u70B9\u4E0D\u5B58\u5728\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41002\uFF09 \u2022 \u5728\u4E0D\u80FD\u8FDB\u884CSDO\u901A\u4FE1\u7684\u72B6\u6001\uFF08STATUS LED\u672A\u53D8\u4E3A\u7EFF\u8272\u4EAE\u706F\u7684\u72B6\u6001\uFF09\u4E0B\u5C06 Execute \u8BBE\u4E3ATRUE\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41003\uFF09 \u2022 SDO\u901A\u4FE1\u53D1\u751F\u4E86\u534F\u8BAE\u5F02\u5E38\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41004\uFF09 \u2022 \u5C06 Execute \u7F6E\u4E8ETRUE\u540E\uFF0C\u5728\u7528 Timeout \u6307\u5B9A\u7684\u65F6\u95F4\u5185\u672A\u5B8C\u6210SDO\u901A\u4FE1\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41005\uFF09 \u2022 \u6536\u53D1\u6570\u636E\u7684\u6570\u636E\u7C7B\u578B\u4E0E\u8282\u70B9\u8BBE\u5907\u7684\u89C4\u683C\u4E0D\u4E00\u81F4\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41006\uFF09 \u2022 \u5BF9 ObjectIndex \u3001 ObjectSubIndex \u6307\u5B9A\u4E86\u8282\u70B9\u8BBE\u5907\u4E0D\u652F\u6301\u7684\u53C2\u6570\uFF0C\u6216\u8005\u8BFB\u5199\u8303\u56F4\u4E0D\u6B63\u786E\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41008\uFF09 \u2022 \u8282\u70B9\u8BBE\u5907\u53D1\u751F\u4E86\u5E94\u7528\u7A0B\u5E8F\u9519\u8BEF\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41009\uFF09 \u2022 \u8282\u70B9\u8BBE\u5907\u53D1\u751F\u4E86SDO\u901A\u4FE1\u76F8\u5173\u9519\u8BEF\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41010\uFF09 \u00A0 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u4E0E\u5176\u4ED6SDO\u901A\u4FE1\u53D1\u751F\u51B2\u7A81\u65F6\uFF0C\u6267\u884C\u53EF\u80FD\u4F1A\u88AB\u5EF6\u540E\u3002 EC_CoE_PDOStop CoE PDO\u901A\u4FE1\u505C\u6B62 \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EC_CoE_PDOStop CoE PDO\u901A\u4FE1\u505C\u6B62 FB \u00A0 EC_CoE_PDOStop_instance(Execute, NodeAdr, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 NodeAdr IN UINT 1 \u8282\u70B9\u5730\u5740 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u505C\u6B62\u4E0E\u7528 NodeAdr \u6307\u5B9A\u7684\u8282\u70B9\u8BBE\u5907\u53CA\u5176\u4E0B\u6E38\u8282\u70B9\u8BBE\u5907\u7684PDO\u901A\u4FE1\u3002 \u00A0 \u505C\u6B62\u7684\u901A\u4FE1\u53EF\u7528 EC_CoE_PDORestart \u91CD\u65B0\u5F00\u59CB\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 NodeAdr \u6307\u5B9A\u7684\u8282\u70B9\u5730\u5740\u8D85\u51FA\u8303\u56F4\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41021\uFF09 \u2022 \u5728\u4E0D\u80FD\u8FD0\u884C\u7684\u72B6\u6001\u4E0B\u5C06 Execute \u8BBE\u4E3ATRUE\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41022\uFF09 \u2022 \u5728EtherCAT\u672A\u53D8\u4E3APre-Operational\uFF08\u53EF\u8FDB\u884CSDO\u901A\u4FE1\u7684\u72B6\u6001\uFF09\u7684\u72B6\u6001\u4E0B\u5C06 Execute \u8BBE\u4E3ATRUE\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41024\uFF09 \u00A0 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u901A\u8FC7EC_CoE_PDOStop\u3001EC_CoE_PDORestart\u3001KV STUDIO\u53D1\u6765\u7684PDO\u901A\u4FE1\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u6307\u4EE4\uFF0C\u5982\u679C\u6267\u884C\u4E862\u4E2A\u4EE5\u4E0A\uFF0C\u5219\u4F1A\u7B49\u5F85\u5148\u6267\u884C\u7684\u6307\u4EE4\u7ED3\u675F\u3002 EC_CoE_PDORestart CoE PDO\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB \u540D\u79F0 FUN/FB LD\u63CF\u8FF0 ST\u63CF\u8FF0 EC_CoE_PDORestart CoE PDO\u901A\u4FE1\u91CD\u65B0\u5F00\u59CB FB \u00A0 EC_CoE_PDORestart_instance(Execute, NodeAdr, Done, Busy, Error, ErrorID); \u81EA\u53D8\u91CF \u7C7B\u578B \u6570\u636E\u7C7B\u578B \u9ED8\u8BA4\u503C \u6CE8\u91CA Execute IN BOOL - \u6267\u884C\u8BF7\u6C42 NodeAdr IN UINT 1 \u8282\u70B9\u5730\u5740 Done OUT BOOL - \u5B8C\u6210 Busy OUT BOOL - \u6267\u884C\u4E2D Error OUT BOOL - \u9519\u8BEF ErrorID OUT UINT - \u9519\u8BEF\u4EE3\u7801 \u52A8\u4F5C\u8BF4\u660E \u91CD\u65B0\u5F00\u59CB\u4E0E\u7528 NodeAdr \u6307\u5B9A\u7684\u8282\u70B9\u8BBE\u5907\u53CA\u5176\u4E0B\u6E38\u8282\u70B9\u8BBE\u5907\u7684PDO\u901A\u4FE1\u3002 \u4F7F\u7528 EC_CoE_PDOStop \u53EF\u505C\u6B62\u901A\u4FE1\u3002 Error\u53D8\u4E3ATRUE\u7684\u6761\u4EF6 \u2022 \u7528 NodeAdr \u6307\u5B9A\u7684\u8282\u70B9\u5730\u5740\u8D85\u51FA\u8303\u56F4\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41021\uFF09 \u2022 \u5728\u4E0D\u80FD\u8FD0\u884C\u7684\u72B6\u6001\u4E0B\u5C06 Execute \u8BBE\u4E3ATRUE\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41022\uFF09 \u2022 \u5728EtherCAT\u672A\u53D8\u4E3APre-Operational\uFF08\u53EF\u8FDB\u884CSDO\u901A\u4FE1\u7684\u72B6\u6001\uFF09\u7684\u72B6\u6001\u4E0B\u5C06 Execute \u8BBE\u4E3ATRUE\uFF08\u9519\u8BEF\u4EE3\u7801\uFF1A41024\uFF09 \u00A0 \u9519\u8BEF\u4EE3\u7801 \u00A0 \u901A\u8FC7EC_CoE_PDOStop\u3001EC_CoE_PDORestart\u3001KV STUDIO\u53D1\u6765\u7684PDO\u901A\u4FE1\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u6307\u4EE4\uFF0C\u5982\u679C\u6267\u884C\u4E862\u4E2A\u4EE5\u4E0A\uFF0C\u5219\u4F1A\u7B49\u5F85\u5148\u6267\u884C\u7684\u6307\u4EE4\u7ED3\u675F\u3002"},{"link":"./04_00_ST-1.html","title":"\u7B2C4\u7AE0 ST\u8BED\u6CD5","body":"\u7B2C4\u7AE0 ST\u8BED\u6CD5 \u672C\u7AE0\u8BF4\u660EST\u7684\u8BED\u6CD5\u548C\u6CE8\u610F\u4E8B\u9879\u3002 \u2022 \u8D4B\u503C\u8BED\u53E5 \u2022 \u8FD0\u7B97\u7B26 \u2022 \u63A7\u5236\u8BED\u53E5"},{"link":"./04_00_ST-2.html","title":"\u8D4B\u503C\u8BED\u53E5","body":"\u8D4B\u503C\u8BED\u53E5 \u8D4B\u503C\u8BED\u53E5\u662F\u5DE6\u8FB9\u548C\u53F3\u8FB9\u901A\u8FC7\u7B49\u53F7\uFF08=\uFF09\u8FDE\u63A5\u7684\u8FD0\u7B97\u5F0F\u6784\u6210\u7684\u8BED\u53E5\uFF0C\u5C06\u53F3\u8FB9\u7684\u7ED3\u679C\u6216\u503C\u8D4B\u503C\uFF08\u5B58\u50A8\uFF09\u7ED9\u5DE6\u8FB9\u3002 \u8D4B\u503C\u8BED\u53E5\u7684\u7528\u6CD5 \u5982\u4E0B\u6240\u793A\uFF0C\u5728\u4EE3\u5165\u8BED\u53E5\u7684\u53F3\u8FB9\u53EF\u4EE5\u8BB0\u8FF0\u7684\u5185\u5BB9\uFF08\u8F6F\u5143\u4EF6\u6216\u53D8\u91CF\u3001\u8FD0\u7B97\u5F0F\uFF09\u5305\u62EC\u6570\u503C\u3001\u5B57\u7B26\u4E32\u3001\u4F4D\u7B49\uFF0C\u5206\u522B\u901A\u8FC7\u5E38\u6570\u3001\u7B97\u5F0F\u6216\uFF08\u5E26\u8FD4\u56DE\u503C\u7684\uFF09\u6307\u4EE4\u8FDB\u884C\u8BB0\u8FF0\u3002 \u258C \u6570\u503C\u8D4B\u503C\u8BED\u53E5 \u5C06\u53F3\u8FB9\u7684\u6570\u503C\u5E38\u6570\u6216\u6570\u503C\u8FD0\u7B97\u7684\u7ED3\u679C\u8D4B\u503C\u7ED9\u5DE6\u8FB9\u3002 ST \u7F16\u7A0B uAnalogData := 123; //\u6570\u503C\u5E38\u6570\u7684\u8D4B\u503C uSettingParam := uTemp \u002B 123; //\u6570\u503C\u8FD0\u7B97\u7ED3\u679C\u7684\u8D4B\u503C udCount := BitCount(udData, 1); //\u6307\u4EE4\u5904\u7406\u7ED3\u679C\u7684\u8D4B\u503C \u258C \u5B57\u7B26\u4E32\u8D4B\u503C\u8BED\u53E5 \u5E38\u6570\u6216\u5B57\u7B26\u4E32\u8FD0\u7B97\u7684\u7ED3\u679C\u8D4B\u503C\u7ED9\u5DE6\u8FB9\u3002 ST \u7F16\u7A0B strProductName := \u0027ABCD\u0027; //\u5B57\u7B26\u4E32\u5E38\u6570\u7684\u8D4B\u503C \u00A0 strMsg := \u0027\u5F53\u524D\u0027\u00A0\u002B strCount \u002B \u0027\u4F7F\u7528\u0027; //\u5B57\u7B26\u4E32\u8FDE\u63A5\u7ED3\u679C\u7684\u8D4B\u503C \u258C \u4F4D\u8D4B\u503C\u8BED\u53E5 \u2022 \u5C06\u53F3\u8FB9\u7684\u4F4D\u5E38\u6570\u6216\u4F4D\u8FD0\u7B97\uFF08\u6761\u4EF6\u5F0F\u7684\u8BC4\u4EF7\uFF09\u7684\u7ED3\u679C\u8D4B\u503C\u7ED9\u5DE6\u8FB9\u3002 ST \u7F16\u7A0B bFlag := TRUE; //\u4F4D\u5E38\u6570\uFF08\u5E03\u5C14\u503C\uFF09\u7684\u8D4B\u503C bFlag := bFlag1 OR (bFlag2 AND bFlag3); //\u4F4D\u8FD0\u7B97\u7ED3\u679C\u7684\u8D4B\u503C bFlag := uiValue \u003E 100; //\u6761\u4EF6\u5F0F\u8BC4\u4EF7\u7684\u8D4B\u503C bFlag := bFlag1 = bFlag2; //\u6BD4\u8F83\u7ED3\u679C\u7684\u8D4B\u503C \u2022 \u4F4D\u72B6\u6001\u8FD8\u53EF\u7528 1\u30010 \u00A0\u53CA TRUE\u3001FALSE \u8868\u793A\u3002 ST \u7F16\u7A0B bFlag := 1; \u00A0 \u64CD\u4F5C\u8BF4\u660E bFlag \u00A0 \u7F6E\u4E3A ON\u3002 \u2022 \u4F4D\u6570\u636E\u53EA\u80FD\u8D4B\u503C\u7ED9\u5E03\u5C14\u503C\u3002 bFlag := TRUE; //bFlag\u00A0\u7F6E\u4E8E ON bFlag := FALSE; //bFlag\u00A0\u7F6E\u4E8E OFF \u2022 \u4F4D\u6570\u636E\u4E0D\u80FD\u8D4B\u503C\u7ED9 1\u30010 \u4EE5\u5916\u7684\u5E38\u6570\u53CA\u8D4B\u503C\u7ED9\u6570\u503C\u8FD0\u7B97\u5F0F\u7684\u7ED3\u679C\u3002 \u00D7\uFF1A bFlag := uiValue1 \u002B uiValue2; //\u4E0D\u53EF\u4F7F\u7528\u0022\u002B\u0022 \u2022 \u4F4D\u6570\u636E\u53EF\u4EE5\u8D4B\u503C\u7ED9\u903B\u8F91\u8FD0\u7B97\u5F0F\u7684\u7ED3\u679C\u53CA\u6BD4\u8F83\u8FD0\u7B97\u7684\u7ED3\u679C\uFF08\u7ED3\u679C\u5747\u4E3A\u5E03\u5C14\u503C\uFF09\u3002 \u3007\uFF1A bFlag := bFlag1 AND BitLoad(uiValue, 1); //\u53EF\u4F7F\u7528\u903B\u8F91\u8FD0\u7B97\u7B26 bFlag := bFlag1 = bFlag2; //\u53EF\u4F7F\u7528\u7B49\u53F7\u3001\u4E0D\u7B49\u53F7\uFF08 \u8FD0\u7B97\u7ED3\u679C\u4EC5\u4E3A\u5E03\u5C14\u503C\u7684\u7A0B\u5E8F\uFF09 \u4F7F\u7528\u8D4B\u503C\u8BED\u53E5\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u258C \u53F3\u8FB9\u548C\u5DE6\u8FB9\u7684\u7C7B\u578B\u4E0D\u540C\u65F6 \u2022 \u8D4B\u503C\u8BED\u53E5\u5728\u53F3\u8FB9\u548C\u5DE6\u8FB9\u7684\u7C7B\u578B\u4E0D\u540C\uFF08\u4E0D\u80FD\u8FDB\u884C\u7C7B\u578B\u53D8\u6362\uFF09\u65F6\u4E0D\u6210\u7ACB\u3002 ST \u7F16\u7A0B strCurData := uTemp; //\u51FA\u9519 \u64CD\u4F5C\u8BF4\u660E \u5C06\u53F3\u8FB9\u7684 uTemp\uFF08\u5E38\u6570 \uFF1A16 \u4F4D\u65E0\u7B26\u53F7\uFF09\u8D4B\u503C\u7ED9 strCurData\uFF08\u5B57\u7B26\u4E32\u578B\uFF09\uFF08\u8F6C\u6362\u9519\u8BEF\uFF09 \u2022 \u5373\u4F7F\u7C7B\u578B\u4E0D\u540C\uFF0CUINT/INT/UDINT/DINT/REAL/LREAL\u4E4B\u95F4\uFF08\u8F6F\u5143\u4EF6\u662F\u6307\u540E\u7F00.U/.S/.D/.L/.F/.DF\u4E4B\u95F4\uFF09\u7684\u4E0D\u540C\u7C7B\u578B\u4E5F\u53EF\u4EE5\u8F6C\u6362\uFF08\u6709\u65F6\u4F1A\u53D1\u751F\u7CBE\u5EA6\u4E0B\u964D\uFF09\u3002 ST \u7F16\u7A0B uiValue := udiValue; \u00A0 \u64CD\u4F5C\u8BF4\u660E \u5C06\u53F3\u8FB9\u7684 udiValue(UDINT)\u00A0\u8D4B\u503C\u7ED9 uiValue(UINT)\u3002 \u5728\u8FD9\u79CD\u60C5\u51B5\u4E0B\uFF0C\u4EC5\u8D4B\u503C\u7ED9 udiValue \u7684\u4F4E\u4F4D 16 \u4F4D\u3002 \u258C \u4E0D\u80FD\u8D4B\u503C\u7ED9\u5DE6\u8FB9\u65F6 \u2022 \u4EE5\u4E0B ST \u7531\u4E8E\u5DE6\u8FB9\u7684\u201C3\u201D\u662F\u6570\u503C\uFF0C\u56E0\u6B64\u65E0\u6CD5\u4EE3\u5165\u7ED3\u679C\u6216\u503C\uFF0C\u56E0\u6B64\u4F5C\u4E3A\u8D4B\u503C\u8BED\u53E5\u6765\u8BB2\u662F\u9519\u8BEF\u7684\u3002 ST \u7F16\u7A0B 3 := uiValue; //\u9519\u8BEF\uFF08\u4E0D\u80FD\u8D4B\u503C\u7ED9\u5E38\u6570\uFF09 \u64CD\u4F5C\u8BF4\u660E \u5C06\u53F3\u8FB9\u7684 uiValue(UINT) \u8D4B\u503C\u7ED9 3\uFF08\u5E38\u6570\uFF09\u3002\uFF08\u8F6C\u6362\u9519\u8BEF\uFF09 \u2022 \u7528\u8FD0\u7B97\u5F0F\u548C\u51FD\u6570\u7F16\u7A0B\u5DE6\u8FB9\u65F6\uFF0C\u4F5C\u4E3A\u8D4B\u503C\u8BED\u53E5\u4E0D\u6B63\u786E\uFF0C\u51FA\u73B0\u9519\u8BEF\u3002 ST \u7F16\u7A0B uiValue \u002B 30 := uiValue1; //\u9519\u8BEF\uFF08\u4E0D\u80FD\u8D4B\u503C\u7ED9\u8FD0\u7B97\u5F0F\uFF09 \u64CD\u4F5C\u8BF4\u660E \u5C06\u53F3\u8FB9\u7684 uiValue(UINT) \u8D4B\u503C\u7ED9\u5DE6\u8FB9\u7684\u8FD0\u7B97\u5F0F\u3002\uFF08\u8F6C\u6362\u9519\u8BEF\uFF09"},{"link":"./04_00_ST-3.html","title":"\u8FD0\u7B97\u7B26","body":"\u8FD0\u7B97\u7B26 \u8FD0\u7B97\u7B26\u662F\u5BF9\u6570\u636E\u8FDB\u884C\u5904\u7406\u7684\u7B26\u53F7\uFF0C\u8868\u793A\u5728\u516C\u5F0F\u4E2D\u4F7F\u7528\u7684\u52A0\u6CD5\uFF08\u002B\uFF09\u3001\u4E58\u6CD5\uFF08*\uFF09\u7B49\u3002 \u8FD0\u7B97\u7B26\u4E00\u89C8 \u258C \u8FD0\u7B97\u7B26\u7684\u79CD\u7C7B \u8FD0\u7B97\u7B26\u5305\u62EC\u4E0B\u9762\u6240\u793A\u7684\u201C\u7B97\u672F\u8FD0\u7B97\u7B26\u201D\u3001\u201C\u5B57\u7B26\u4E32\u8FDE\u63A5\u8FD0\u7B97\u7B26\u201D\u3001\u201C\u6BD4\u8F83\u8FD0\u7B97\u7B26\u201D\u3001\u4EE5\u53CA\u201C\u903B\u8F91\u8FD0\u7B97\u7B26\u201D 4 \u79CD\u3002 \u7B97\u672F\u8FD0\u7B97\u7B26 \u7B97\u672F\u8FD0\u7B97\u7B26\u53EF\u8FD4\u56DE 2 \u4E2A\u503C\u7684\u7B97\u672F\u8FD0\u7B97\u7ED3\u679C\u3002 \u7B26\u53F7 \u5904\u7406\u5185\u5BB9 \u7A0B\u5E8F\u793A\u4F8B ** \u6C42\u4E58\u65B9 uiValue1 := uiValue2 ** 2; * \u6C42 2 \u4E2A\u503C\u7684\u79EF\uFF08\u4E58\u6CD5\uFF09 uiValue1 := uiValue2 * 3; / \u6C42 2 \u4E2A\u503C\u7684\u5546\uFF08\u9664\u6CD5\uFF09 uiValue1 := uiValue2 / 4; MOD *1 \u8FDB\u884C 2 \u4E2A\u503C\u7684\u9664\u6CD5\u8FD0\u7B97\uFF0C\u8FD4\u56DE\u5176\u4F59\u6570 uiValue1 := uiValue2 MOD 5; \u002B \u6C42 2 \u4E2A\u503C\u7684\u548C\uFF08\u52A0\u6CD5\uFF09 uiValue1 := uiValue2 \u002B 6; \uFF0D \u6C42 2 \u4E2A\u503C\u7684\u5DEE\uFF08\u51CF\u6CD5\uFF09 uiValue1 := uiValue2 -\u00A07; *1: \u7B26\u53F7\u7684\u524D\u540E\u9700\u8981\u534A\u89D2\u7A7A\u683C\u3002 \u5B57\u7B26\u4E32\u8FDE\u63A5\u8FD0\u7B97\u7B26 \u8FD4\u56DE 2 \u4E2A\u5B57\u7B26\u4E32\u7684\u8FDE\u63A5\u7ED3\u679C\u3002 \u7B26\u53F7 \u5904\u7406\u5185\u5BB9 \u7A0B\u5E8F\u793A\u4F8B \u002B *2 \u8FDE\u63A5 2 \u00A0\u4E2A\u5B57\u7B26\u4E32 strName := \u0027KEY\u0027\u00A0\u002B \u0027ENCE\u0027; *2: \u201C\u002B\u201D\u6839\u636E\u7F16\u7A0B\u5185\u5BB9\uFF0C\u81EA\u52A8\u5224\u65AD\u7B97\u672F\u8FD0\u7B97\u548C\u5B57\u7B26\u4E32\u8FDE\u63A5\u3002 \u6BD4\u8F83\u8FD0\u7B97\u7B26 \u5C06\u8BC4\u4EF7 2 \u4E2A\u503C\u7684\u5927\u5C0F\u5173\u7CFB\u7684\u7ED3\u679C\u4EE5\u5E03\u5C14\u503C\uFF08TRUE \u6216 FALSE\uFF09\u8FD4\u56DE\u3002 \u7B26\u53F7 \u5904\u7406\u5185\u5BB9 \u7A0B\u5E8F\u793A\u4F8B \u003C \u5C0F\u4E8E bFlag := uiValue \u003C 10; \u003C= \u5C0F\u4E8E\u7B49\u4E8E\uFF08\u4EE5\u4E0B\uFF09 bFlag := uiValue \u003C= 20; \u003E \u5927\u4E8E bFlag := uiValue \u003E 30; \u003E= \u5927\u4E8E\u7B49\u4E8E\uFF08\u4EE5\u4E0A\uFF09 bFlag := uiValue \u003E= 40; = \u7B49\u4E8E\uFF08\u7B49\u4EF7\uFF09 bFlag := uiValue = 50; \u003C\u003E \u4E0D\u7B49\u4E8E\uFF08\u4E0D\u7B49\u4EF7\uFF09 bFlag := uiValue \u003C\u003E 60; \u903B\u8F91\u8FD0\u7B97\u7B26 \u5C06 2 \u4E2A\u503C\u7684\u903B\u8F91\u8FD0\u7B97\u7684\u7ED3\u679C\u5728\u4F4D\u5173\u7CFB\u7684\u8FD0\u7B97\u65F6\uFF0C\u4EE5\u5E03\u5C14\u503C\uFF08TRUE \u6216 FALSE\uFF09\u7684\u5F62\u5F0F\uFF0C\u5728\u5B57\u5173\u7CFB\u7684\u8FD0\u7B97\u65F6\uFF0C\u4EE5\u5B57\u503C\u7684\u5F62\u5F0F\u8FD4\u56DE\u3002 \u7B26\u53F7 \u5904\u7406\u5185\u5BB9 \u7A0B\u5E8F\u793A\u4F8B NOT *3 \u6C42\u503C\u7684\u903B\u8F91\u975E\u503C bFlag1 := NOT bFlag2; AND *3 \u0026 \u8BA1\u7B972\u4E2A\u6570\u636E\uFF08\u4F4D\u6570\u636E\u5173\u7CFB\u3001\u5B57\u6570\u636E\u5173\u7CFB\uFF09\u7684\u903B\u8F91\u4E0E bFlag1 := bFlag2 AND bFlag3; bFlag1 := bFlag2 \u0026 bFlag3; OR *3 \u8BA1\u7B972\u4E2A\u6570\u636E\uFF08\u4F4D\u6570\u636E\u5173\u7CFB\u3001\u5B57\u6570\u636E\u5173\u7CFB\uFF09\u7684\u6392\u4ED6\u6027\u903B\u8F91\u6216 bFlag1 := bFlag2 OR bFlag3; XOR *3 \u8BA1\u7B972\u4E2A\u6570\u636E\uFF08\u4F4D\u6570\u636E\u5173\u7CFB\u3001\u5B57\u6570\u636E\u5173\u7CFB\uFF09\u7684\u6392\u4ED6\u6027\u903B\u8F91\u6216 bFlag1 := bFlag2 XOR bFlag3; *3: \u7B26\u53F7\u7684\u524D\u540E\u9700\u8981\u534A\u89D2\u7A7A\u683C\u3002 \u00A0 \u2022 \u8FD0\u7B97\u6570\u636E\uFF08\u8FD0\u7B97\u8981\u7D20\uFF09\u6307\u5B9A\u4F4D\u6570\u636E\u5173\u7CFB\u6216\u5B57\u6570\u636E\u5173\u7CFB\u3002\u4E0D\u80FD\u8FDB\u884C\u4F4D\u6570\u636E\u548C\u5B57\u6570\u636E\u7B49\u7684\u903B\u8F91\u8FD0\u7B97\u3002 \u2022 \u8FD0\u7B97\u6570\u636E\uFF08\u8FD0\u7B97\u8981\u7D20\uFF09\u7684\u7C7B\u578B\u5927\u5C0F\u4E0D\u540C\u65F6\uFF0C\u914D\u5408\u8F83\u5927\u7684\u7C7B\u578B\u6765\u5B9E\u65BD\u8FD0\u7B97\u3002 \u4F8B\uFF09uiValue(UINT) := 10*udiValue(UDINT)\u30FB\u30FB\u30FB\u30FB\u4EE5 UDINT \u8FDB\u884C\u8FD0\u7B97\u3002 \u5173\u4E8E\u4F18\u5148\u987A\u5E8F \u4E0D\u540C\u79CD\u7C7B\u7684\u8FD0\u7B97\u7B26\u5E94\u7528\u5728 1 \u4E2A\u8FD0\u7B97\u5F0F\u4E2D\u65F6\uFF0C\u6309\u7167\u4E0B\u8868\u7684\u4F18\u5148\u987A\u5E8F\u4ECE\u9AD8\u5230\u4F4E\u7684\u987A\u5E8F\u8BC4\u4EF7\u3002 \u4F18\u5148\u987A\u5E8F\u5982\u4E0B\u3002\u4E0A\u4FA7\u7684\u8FD0\u7B97\u7B26\u662F\u4F18\u5148\u5EA6\u9AD8\u7684\u8FD0\u7B97\u7B26\u3002 \u51CF\u53F7\u3001\u903B\u8F91\u975E -, NOT \u4E58\u65B9 ** \u4E58\u6CD5\uFF0C\u9664\u6CD5\uFF0C\u4F59\u6570 *, /, MOD \u52A0\u6CD5\uFF0C\u51CF\u6CD5 \u002B, - \u5C0F\u4E8E\uFF0C\u5927\u4E8E\uFF0C\u4EE5\u4E0B\uFF0C\u4EE5\u4E0A \u003C, \u003E, \u003C=, \u003E= \u7B49\u4E8E\uFF0C\u4E0D\u7B49\u4E8E =, \u003C\u003E \u903B\u8F91 AND, \u0026 \u5F02\u6216 XOR \u903B\u8F91\u6216 OR"},{"link":"./04_00_ST-4.html","title":"\u63A7\u5236\u8BED\u53E5","body":"\u63A7\u5236\u8BED\u53E5 \u63A7\u5236\u8BED\u53E5\u662F\u7528\u6765\u6539\u53D8\u7A0B\u5E8F\u6D41\u7A0B\u7684\uFF0C\u6839\u636E\u6761\u4EF6\u4F7F\u5904\u7406\u6D41\u7A0B\u5206\u652F\uFF0C\u5FAA\u73AF\u6267\u884C\uFF0C\u6539\u53D8\u6267\u884C\u7684\u7B5B\u9009\u548C\u6B21\u6570\u3002 \u63A7\u5236\u8BED\u53E5\u4E00\u89C8 \u63A7\u5236\u8BED\u53E5\u5206\u4E3A\u4EE5\u4E0B\u6240\u793A\u7684\u201C\u6761\u4EF6\u5206\u652F\u8BED\u53E5\u201D\u548C\u201C\u56DE\u5708\u63A7\u5236\u8BED\u53E5\u201D\u3001\u201C\u7A0B\u5F0F\u6267\u884C\u7ED3\u675F\u8BED\u53E5\u201D,\u5171\u4E09\u79CD\u3002 \u258C \u6761\u4EF6\u5206\u652F\u8BED\u53E5 \u6761\u4EF6\u5206\u652F\u8BED\u53E5\u6309\u7167\u6307\u5B9A\u6761\u4EF6\u5BF9\u5904\u7406\u6D41\u7A0B\u8FDB\u884C\u5206\u652F\u3002 \u63A7\u5236\u8BED\u53E5 \u63A7\u5236\u5185\u5BB9 IF \u8BED\u53E5 \uFF081\uFF09 \u6839\u636E\u6761\u4EF6\u5F0F\u6267\u884C\u5904\u7406\u7684\u5206\u652F\u63A7\u5236\u8BED\u53E5 IF \u6761\u4EF6\u5F0FA THEN \u3000\u3000\u5904\u7406\u8BED\u53E5 B; END_IF; \u6761\u4EF6\u5F0F A \u6210\u7ACB\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5 B\u3002 \u6761\u4EF6\u5F0F A \u00A0\u4E0D\u6210\u7ACB\u65F6\uFF0C\u4E0D\u4F5C\u4EFB\u4F55\u5904\u7406\u3002 \uFF082\uFF09\u6839\u636E\u6761\u4EF6\u5F0F\u6267\u884C\u5355\u72EC\u5904\u7406\u76842\u5206\u652F\u63A7\u5236 IF \u6761\u4EF6\u5F0FA THEN \u3000\u3000\u5904\u7406\u8BED\u53E5 B; ELSE \u3000\u3000\u5904\u7406\u8BED\u53E5 C; END_IF; \u6761\u4EF6\u5F0F A \u6210\u7ACB\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5 B\u3002 \u6761\u4EF6\u5F0F A \u4E0D\u6210\u7ACB\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5 C\u3002 \uFF083\uFF09\u6839\u636E\u6761\u4EF6\u503C\u5206\u522B\u8FDB\u884C\u5904\u7406\u7684\u591A\u5206\u652F\u63A7\u5236\u8BED\u53E5 IF \u6761\u4EF6\u5F0FA THEN \u3000\u3000\u5904\u7406\u8BED\u53E5 B; ELSIF \u6761\u4EF6\u5F0FC THEN \u3000\u3000\u5904\u7406\u8BED\u53E5 D; \u3000\u3000 \u30FB \u3000\u3000 \u30FB \u3000\u3000 \u30FB END_IF; \u6761\u4EF6\u5F0F A \u6210\u7ACB\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5 B\u3002 \u6761\u4EF6\u5F0F A \u4E0D\u6210\u7ACB\u800C\u6761\u4EF6\u5F0F C \u6210\u7ACB\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5D\u3002 \u00A0 \u00A0 \u00A0 \u6761\u4EF6\u5F0FA\u3001C\u2026\u2026\u90FD\u4E0D\u6210\u7ACB\u65F6\uFF0C\u4E0D\u4F5C\u4EFB\u4F55\u5904\u7406\u3002 CASE \u8BED\u53E5 \u6839\u636E\u6761\u4EF6\u503C\u9009\u62E9\u5BF9\u5E94\u7684\u5904\u7406\u5E76\u6267\u884C\u7684\u591A\u5206\u652F\u63A7\u5236\u8BED\u53E5 CASE \u6BD4\u8F83\u6E90 OF \u6761\u4EF6\u503CA: \u3000\u3000\u5904\u7406\u8BED\u53E5 B\uFF1B \u6761\u4EF6\u503CC, \u6761\u4EF6\u503CD: \u3000\u3000\u5904\u7406\u8BED\u53E5 E; \u6761\u4EF6\u503CF..\u6761\u4EF6\u503CG: \u3000\u3000\u5904\u7406\u8BED\u53E5 H; \u3000\u3000 \u30FB \u3000\u3000 \u30FB ELSE \u3000\u3000\u5904\u7406\u8BED\u53E5 I; END_CASE; \u00A0 \u5F53\u6BD4\u8F83\u6E90\u548C\u6761\u4EF6\u503C A \u76F8\u7B49\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5 B\u3002 \u6BD4\u8F83\u6E90\u7B49\u4E8E\u6761\u4EF6\u503CC\u6216\u6761\u4EF6\u503CD\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5E\u3002 \u6BD4\u8F83\u6E90\u5927\u4E8E\u7B49\u4E8E\u6761\u4EF6\u503CF\u3001\u5C0F\u4E8E\u6761\u4EF6\u503CG\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5H\u3002 \u00A0 \u00A0 \u6BD4\u8F83\u6E90\u4E0D\u6EE1\u8DB3\u4EFB\u4F55\u6761\u4EF6\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5I\u3002 * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 \u258C \u5FAA\u73AF\u63A7\u5236\u8BED\u53E5 \u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u5728\u6307\u5B9A\u6761\u4EF6\u4E0B\u91CD\u590D\u6267\u884C\u3002 \u63A7\u5236\u8BED\u53E5 \u63A7\u5236\u5185\u5BB9 FOR \u8BED\u53E5 \u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u5FAA\u73AF\u5904\u7406\uFF0C\u76F4\u5230\u6307\u5B9A\u6B21\u6570\u7684\u6761\u4EF6\u5F0F\u6210\u7ACB\u4E3A\u6B62 FOR \u53D8\u91CF := \u521D\u59CB\u503C TO \u6700\u7EC8\u503C BY \u589E\u91CF\u503C DO \u3000\u3000\u5904\u7406\u8BED\u53E5 ; END_FOR; \u5728\u9010\u6B65\u9012\u589E\u53D8\u91CF\u503C\u7684\u540C\u65F6\u5FAA\u73AF\u6267\u884C\u5904\u7406\u8BED\u53E5\u3002 \u5F53\u53D8\u91CF\u503C\u8D85\u8FC7\uFF08\u6216\u4F4E\u4E8E\uFF09\u6700\u7EC8\u503C\u65F6\uFF0C\u7ED3\u675F\u5FAA\u73AF\u3002 WHILE \u8BED\u53E5 \u5728\u6761\u4EF6\u5F0F\u6210\u7ACB\uFF08\u771F\uFF09\u65F6\uFF0C\u5FAA\u73AF\u5904\u7406\u7684\u4E0D\u5B9A\u6B21\u6570\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5 WHILE \u6761\u4EF6\u5F0F DO \u3000\u3000\u5904\u7406\u8BED\u53E5 ; END_WHILE; \u6761\u4EF6\u5F0F\u6210\u7ACB\u65F6 \u5FAA\u73AF\u6267\u884C\u5904\u7406\u8BED\u53E5 REPEAT\u8BED\u53E5 \u5728\u6761\u4EF6\u5F0F\u6210\u7ACB\uFF08\u53D8\u4E3A\u771F\uFF09\u4E4B\u524D\uFF0C\u5FAA\u73AF\u5904\u7406\u7684\u4E0D\u5B9A\u6B21\u6570\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5 REPEAT \u3000\u3000\u5904\u7406\u8BED\u53E5 ; \u3000\u3000UNTIL \u6761\u4EF6\u5F0F END_REPEAT; \u6761\u4EF6\u5F0F\u4E0D\u6210\u7ACB\u65F6 \u5FAA\u73AF\u6267\u884C\u5904\u7406\u8BED\u53E5 EXIT \u8BED\u53E5 \u5728\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u4E2D\uFF0C\u4E0E\u5FAA\u73AF\u6761\u4EF6\u65E0\u5173\uFF0C\u4ECE\u5FAA\u73AF\u63A7\u5236\u4E2D\u9000\u51FA \u003C\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u003E \u3000\u3000\u00B7 \u3000\u3000\u00B7 EXIT; \u3000\u3000\u00B7 \u3000\u3000\u00B7 \u003C\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u003E \u6267\u884C EXIT \u540E \u4E0D\u8BBA\u6761\u4EF6\u5982\u4F55\uFF0C\u7ED3\u675F\u5305\u542B EXIT \u7684\u5FAA\u73AF\u63A7\u5236 CONTINUE\u8BED\u53E5 \u5728\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u4E2D\uFF0C\u8DF3\u8FC7\u5FAA\u73AF\u8FDB\u5165\u4E0B\u4E00\u4E2A\u5FAA\u73AF\u7684\u6267\u884C\u4E2D \u003C\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u003E \u3000\u3000\u00B7 \u3000\u3000\u00B7 CONTINUE; \u3000\u3000\u00B7 \u3000\u3000\u00B7 \u003C\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u003E \u6267\u884CCONTINUE\u65F6\uFF0C\u65E0\u8BBA\u6761\u4EF6\u5982\u4F55\uFF0C\u90FD\u4F1A\u8FD4\u56DE\u5230\u542B\u6709CONTINUE\u7684\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u7684\u5F00\u5934\uFF0C\u5F00\u59CB\u4E0B\u4E00\u4E2A\u5FAA\u73AF\u3002 * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 \u258C \u7A0B\u5E8F\u6267\u884C\u7ED3\u675F\u8BED\u53E5 \u7ED3\u675F\u5DF2\u7F16\u5199\u7684\u7A0B\u5E8F\u7684\u6267\u884C\u3002 \u63A7\u5236\u8BED\u53E5 \u63A7\u5236\u5185\u5BB9 RETURN\u8BED\u53E5 \u7ED3\u675F\u5DF2\u7F16\u5199\u7684\u7A0B\u5E8F\u6267\u884C\u7684\u63A7\u5236\u8BED\u53E5 \u5904\u7406\u8BED\u53E5; RETURN; \u5904\u7406\u8BED\u53E5; \u7ED3\u675F\u5DF2\u7F16\u5199\u7684\u7A0B\u5E8F\uFF08\u6A21\u5757\u3001\u529F\u80FD\u5757\u3001\u529F\u80FD\uFF09\u7684\u6267\u884C\u3002 IF \uFF5E \u8BED\u53E5(\u6761\u4EF6\u5206\u652F 1) IF \u8BED\u53E5\u662F\u6839\u636E 1 \u4E2A\u6761\u4EF6\u5F0F\u5224\u65AD\u662F\u5426\u8FDB\u884C\u5904\u7406\u7684\u3001\u6700\u7B80\u5355\u7684\u6761\u4EF6\u5206\u652F\u8BED\u53E5\u3002 \u258C IF \uFF5E THEN \uFF5E END_IF \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E IF \u003C\u6761\u4EF6\u5F0F\u003E THEN \u3000\u3000\u003C\u5904\u7406\u8BED\u53E51\u003E; END_IF; \u5982\u679C\u6761\u4EF6\u5F0F\u6210\u7ACB\uFF0C \u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 1\u3002 IF \u8BED\u53E5\u7ED3\u675F * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E IF bFlag = TRUE THEN \u3000\u3000uiValue := uiValue \u002B 1; END_IF; \u5982\u679C bFlag \u4E3A ON uiValue \u52A0\u4E0A\u5E38\u6570 1\u3002 \u00A0 \u2022 \u5982\u679C\u6761\u4EF6\u5F0F\u7684\u7ED3\u679C\u4E3A\u6BD4\u7279\u578B\uFF08\u8FD4\u56DE\u5E03\u5C14\u503C\uFF09\u8FD0\u7B97\u5F0F\uFF0C\u5219\u53EF\u4EE5\u5728\u4EFB\u4F55\u8FD0\u7B97\u5F0F\u4E2D\u4F7F\u7528\u3002 \u2022 \u5904\u7406\u8BED\u53E5\u662F\u5728 THEN\uFF5EEND_IF \u4E4B\u95F4\u7F16\u7A0B\u7684\u4E00\u7CFB\u5217\u7684\u5904\u7406\uFF0C\u53EF\u6839\u636E\u9700\u8981\u5728\u591A\u884C\u95F4\u7F16\u7A0B\u3002 \u2022 IF \u8BED\u53E5\u53EF\u4EE5\u5D4C\u5957\uFF0C\u56E0\u6B64\u901A\u8FC7\u5728\u5904\u7406\u8BED\u53E5\u4E2D\u518D\u7F16\u7A0B IF \u8BED\u53E5\uFF0C\u53EF\u901A\u8FC7 AND\uFF08\u4E0E\uFF09\u6761\u4EF6\u8FC7\u6EE4\u7684\u540C\u65F6\u6267\u884C\u591A\u91CD\u5206\u652F\u5904\u7406\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u901A\u8FC7\u6761\u4EF6\u5F0F\u5224\u65AD\u662F\u201CTRUE\u201D\u8FD8\u662F\u201CFALSE\u201D\u3002 (2) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C THEN \u4EE5\u4E0B\u7684\u5904\u7406\u8BED\u53E5 1\uFF0C\u5E76\u8DF3\u5230 END_IF \u3002 (3) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CFALSE\u201D\uFF0C\u5219\u8DF3\u5230END_IF\uFF0C\u4E0D\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C\uFF0C\u5E76\u8DF3\u8F6C\u5230 \u00A0END_IF \u4EE5\u540E\u7684\u5904\u7406\u3002 IF \uFF5E ELSE \u8BED\u53E5(\u6761\u4EF6\u5206\u652F 2) \u8BE5\u8BED\u53E5\u662F\u6307\u901A\u8FC7 1 \u4E2A\u6761\u4EF6\u5F0F\u53EF\u5206\u6210 2 \u79CD\u5904\u7406\u65B9\u6CD5\u7684\u7B80\u5355\u7684\u6761\u4EF6\u5206\u652F\u8BED\u53E5\u3002 \u258C IF \uFF5E THEN \uFF5E ELSE \uFF5E END_IF \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E IF \uFF1C\u6761\u4EF6\u5F0F\uFF1E THEN \u3000\u3000\uFF1C\u5904\u7406\u8BED\u53E51\uFF1E; ELSE \u3000\u3000\uFF1C\u5904\u7406\u8BED\u53E52\uFF1E; END_IF; \u5982\u679C\u6761\u4EF6\u5F0F\u6210\u7ACB\uFF0C \u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 1\u3002 \u5982\u679C\u6761\u4EF6\u5F0F\u4E0D\u6210\u7ACB\uFF0C \u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 2\u3002 IF \u8BED\u53E5\u7ED3\u675F * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E IF bFlag THEN \u3000\u3000uiValue := 50; ELSE \u3000\u3000uiValue := 10; END_IF; \u5982\u679C bFlag \u4E3A ON\uFF0C \u5219\u5E38\u6570 50 \u5B58\u50A8\u5230 uValue\u3002 \u5982\u679C bFlag \u4E3A OFF\uFF0C \u5219\u5E38\u6570 10 \u5B58\u50A8\u5230 uValue\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u901A\u8FC7\u6761\u4EF6\u5F0F\u5224\u65AD\u662F\u201CTRUE\u201D\u8FD8\u662F\u201CFALSE\u201D\u3002 (2) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C THEN \u4EE5\u4E0B\u7684\u5904\u7406\u8BED\u53E5 1\uFF0C\u5E76\u8DF3\u5230 END_IF \uFF08\u4E2D\u95F4\u7684\u8FD0\u7B97\u5F0F\u4E0D\u6267\u884C\uFF09\u3002 (3) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CFALSE\u201D\uFF0C\u5219\u4E0D\u6267\u884C THEN~ELSE \u95F4\u7684\u7A0B\u5E8F\uFF0C\u800C\u6267\u884C ELSE \u4EE5\u4E0B\u7684\u5904\u7406\u8BED\u53E52\u3002 IF \uFF5E ELSIF \uFF5E \u8BED\u53E5(\u6761\u4EF6\u5206\u652F 3) \u5982\u679C\u4E0D\u6EE1\u8DB3\u6700\u521D\u7684\u6761\u4EF6\u5F0F\uFF0C\u5219\u6309\u7167\u4E0B\u4E00\u6761\u4EF6\u5F0F\u91CD\u65B0\u8FDB\u884C\u5224\u5B9A\u3002\u8BE5\u6761\u4EF6\u5206\u652F\u8BED\u53E5\u53EF\u4EE5\u5177\u6709\u591A\u4E2A\u6761\u4EF6\u3002 \u258C IF \uFF5E THEN \uFF5E ELSIF \uFF5E END_IF \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E IF \uFF1C\u6761\u4EF6\u5F0F1\uFF1E THEN \u00A0\uFF1C\u5904\u7406\u8BED\u53E51\uFF1E; ELSIF \uFF1C\u6761\u4EF6\u5F0F2\uFF1E THEN \u00A0\uFF1C\u5904\u7406\u8BED\u53E52\uFF1E; ELSIF \uFF1C\u6761\u4EF6\u5F0F3\uFF1E THEN \u00A0\u2026 ELSE \u00A0\uFF1C\u5904\u7406\u8BED\u53E5n\uFF1E; END_IF; \u5982\u679C\u6761\u4EF6\u5F0F 1 \u6210\u7ACB\uFF0C \u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 1\u3002 \u5982\u679C\u6761\u4EF6\u5F0F 1 \u6210\u7ACB\uFF0C\u6761\u4EF6\u5F0F 2 \u4E0D\u6210\u7ACB\uFF0C \u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 2\u3002 \u5982\u679C\u6761\u4EF6\u5F0F 1\uFF0C2 \u4E0D\u6210\u7ACB\uFF0C\u6761\u4EF6\u5F0F 3 \u6210\u7ACB\uFF0C * 1 \u2026 \u5982\u679C\u6240\u6709\u7684\u6761\u4EF6\u5F0F\u90FD\u4E0D\u6210\u7ACB \u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 n\u3002 IF \u8BED\u53E5\u81F3\u6B64\u7ED3\u675F\u3002 * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 *1: \u53EF\u4EE5\u8BBE\u5B9A\u4EFB\u610F\u6570\u91CF\u7684\u6761\u4EF6\u5F0F\u548C\u5904\u7406\u8BED\u53E5\u3002\u6CA1\u6709\u4E0A\u9650\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E IF bFlag THEN \u3000\u3000uiValue := 1000; ELSIF bFlag1 THEN \u3000\u3000uiValue := 1001; ELSIF bFlag2 THEN \u3000\u3000uiValue := 1002; ELSIF bFlag3 THEN \u3000\u3000uiValue := 1003; ELSIF bFlag4 THEN \u3000\u3000uiValue := 1004; ELSE \u3000\u3000uiValue := 1005; END_IF; \u5982\u679C bFlag \u4E3A ON\uFF08bFlag =ON \u7684\u7701\u7565\u8BB0\u6CD5\uFF09 \u5219 1000 \u5B58\u50A8\u5728 uValue \u4E2D\u3002 \u5982\u679C bFlag \u4E0D\u4E3A ON\uFF0CbFlag 1 \u4E3A ON\uFF0C \u5219 1001 \u5B58\u50A8\u5728 uValue\u4E2D\u3002 \u5982\u679C bFlag\u3001bFlag1 \u4E0D\u4E3A ON\uFF0CbFlag 2 \u4E3A ON\uFF0C \u5219 1002 \u5B58\u50A8\u5728 uValue\u4E2D\u3002 \u5982\u679C bFlag\u3001bFlag1\u3001bFlag2 \u4E0D\u4E3A ON\uFF0CbFlag 3 \u4E3A ON\uFF0C \u5219 1003 \u5B58\u50A8\u5728 uValue\u4E2D\u3002 \u5982\u679C bFlag\u3001bFlag1\u3001bFlag2\u3001bFlag3 \u4E0D\u4E3A ON\uFF0CbFlag 4 \u4E3A ON\uFF0C \u5219 1004 \u5B58\u50A8\u5728 uValue\u4E2D\u3002 \u5982\u679C bFlag \u5747\u4E0D\u4E3A ON\uFF0C \u5219 1005 \u5B58\u50A8\u5728 uValue\u4E2D\u3002 \u00A0 \u2022 \u5982\u679C\u6761\u4EF6\u5F0F\u7684\u7ED3\u679C\u4E3A\u6BD4\u7279\u578B\uFF08\u8FD4\u56DE\u5E03\u5C14\u503C\uFF09\u8FD0\u7B97\u5F0F\uFF0C\u5219\u53EF\u4EE5\u5728\u4EFB\u4F55\u8FD0\u7B97\u5F0F\u4E2D\u4F7F\u7528\u3002 \u2022 \u5904\u7406\u8BED\u53E5\u662F\u5728\u63A7\u5236\u8BED\u53E5\u4E4B\u95F4\u7F16\u7A0B\u7684\u4E00\u7CFB\u5217\u7684\u5904\u7406\uFF0C\u53EF\u6839\u636E\u9700\u8981\u5728\u591A\u884C\u95F4\u7F16\u7A0B\u3002 \u2022 ELSE IF\u8BED\u53E5\u4E0E IF \u8BED\u53E5\u4E0D\u540C\uFF0C\u53EF\u7F16\u7A0B\u591A\u884C\uFF0C\u4F46\u4E0D\u662F\u5D4C\u5957\u7ED3\u6784\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u901A\u8FC7\u6761\u4EF6\u5F0F 1 \u5224\u65AD\u662F\u201CTRUE\u201D\u8FD8\u662F\u201CFALSE\u201D\u3002 (2) \u5982\u679C\u6761\u4EF6\u5F0F 1 \u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C THEN \u4EE5\u4E0B\u7684\u5904\u7406\u8BED\u53E5 1\uFF0C\u5E76\u8DF3\u5230 END_IF\uFF08\u4E2D\u95F4\u7684\u8FD0\u7B97\u5F0F\u4E0D\u6267\u884C\uFF09\u3002 (3) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CFALSE\u201D\uFF0C\u5219\u4EE5\u6761\u4EF6\u5F0F 2 \u5224\u65AD\u201CTRUE\u201D\u6216\u201CFALSE\u201D\u3002 (4) \u5982\u679C\u6761\u4EF6\u5F0F 2 \u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 2\uFF0C\u5E76\u8DF3\u5230 END_IF\uFF08\u4E2D\u95F4\u7684\u8FD0\u7B97\u5F0F\u4E0D\u6267\u884C\uFF09\u3002 (5) \u5982\u679C\u6761\u4EF6\u5F0F 2 \u4E3A\u201CFALSE\u201D\uFF0C\u5219\u4EE5\u6761\u4EF6\u5F0F 3 \u5224\u65AD\u201CTRUE\u201D\u6216\u201CFALSE\u201D\u3002 (6) \u5982\u679C\u6761\u4EF6\u5F0F 3 \u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 3\uFF0C\u5E76\u8DF3\u5230 END_IF\uFF08\u4E2D\u95F4\u7684\u8FD0\u7B97\u5F0F\u4E0D\u6267\u884C\uFF09\u3002 (7) \u5982\u679C\u6761\u4EF6\u5F0F 3 \u4E3A\u201CFALSE\u201D\uFF0C\u5219\u4EE5\u6761\u4EF6\u5F0F 4 \u5224\u65AD\u201CTRUE\u201D\u6216\u201CFALSE\u201D\u3002\u4F9D\u6B21\u7C7B\u63A8\u3002 CASE \uFF5E \u8BED\u53E5(\u591A\u5206\u652F\u63A7\u5236) \u258C CASE \u8BE5\u6761\u4EF6\u5206\u652F\u8BED\u53E5\u53EF\u6839\u636E\u5B58\u50A8\u5728\u53C2\u8003\u5B57\u6570\u636E\u4E2D\u7684\u503C\uFF0C\u9009\u62E9\u5904\u7406\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E CASE \u003C\u5B57\u6570\u636E\u003E OF \u3000\u3000\u003C\u5B9A\u65701\u003E : \u5904\u7406\u8BED\u53E51; \u3000\u3000\u003C\u5B9A\u65702\u003E : \u5904\u7406\u8BED\u53E52; \u3000\u3000\u003C\u5B9A\u65703\u003E,\u003C\u5B9A\u65704\u003E : \u5904\u7406\u8BED\u53E53; \u3000\u3000\u003C\u5B9A\u65705\u003E..\u003C\u5B9A\u65706\u003E : \u5904\u7406\u8BED\u53E54; ELSE \u3000\u3000\u003C\u5904\u7406\u8BED\u53E5n\u003E; END_CASE; \u57FA\u4E8E\u5B57\u6570\u636E\u503C\u7684\u6761\u4EF6\u5206\u652F \u5982\u679C\u5E38\u6570 1 \u548C\u5B57\u6570\u636E\u7684\u503C\u76F8\u7B49\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 1\u3002 \u5982\u679C\u5E38\u6570 2 \u548C\u5B57\u6570\u636E\u7684\u503C\u76F8\u7B49\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 2\u3002 \u5B57\u6570\u636E\u4E0E\u5E38\u65703\u6216\u5E38\u65704\u76F8\u7B49\u65F6\uFF0C\u6267\u884C\u5904\u7406\u8BED\u53E53\u3002 \u5E38\u65705\u2264\u5B57\u6570\u636E\u2264\u5E38\u65706\u65F6\uFF0C\u6267\u884C\u5904\u7406\u8BED\u53E54\u3002 \u5E38\u6570\u548C\u5B57\u6570\u636E\u7684\u503C\u662F\u4E0A\u8FF0\u4EE5\u5916\u60C5\u51B5\u65F6\uFF0C \u6267\u884C\u5904\u7406\u8BED\u53E5n\u3002 CASE \u8BED\u53E5\u7ED3\u675F\u3002 * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E CASE uiCount OF \u3000\u30001 : uiValue := 1000; \u3000\u30002..10 : uiValue := 2000; \u3000\u300011,15,60 : uiValue := 3000; \u3000\u3000101..65535 : uiValue := 4000; ELSE \u3000\u3000uiValue := 5000; END_CASE; \u4EE5 uiCount \u5B58\u50A8\u7684\u503C\u4E3A\u57FA\u51C6\u3002 \u5982\u679C uiCount = 1\uFF0C\u5219 1000 \u5B58\u50A8\u5728 uiValue \u4E2D\u3002 \u5982\u679C uiCount = 2\uFF5E10\uFF0C\u5219 2000 \u5B58\u50A8\u5728 uiValue \u4E2D\u3002 \u5982\u679C uiCount = 11 \u6216 15 \u6216 60\uFF0C\u5219 3000 \u5B58\u50A8\u5728 uiValue \u4E2D\u3002 \u5982\u679CuiCount\u7684\u503C\u4E3A101\u4EE5\u4E0A\u65F6\uFF0C\u52194000\u5B58\u50A8\u5728 uiValue \u4E2D\u3002 \u00A0 \u5982\u679C uiCount \u7684\u503C\u4E3A\u4E0A\u8FF0\u4EE5\u5916\u7684\u503C\uFF0C\u5219 5000 \u5B58\u50A8\u5728 uiValue \u4E2D\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u58F0\u660E\u4F5C\u4E3A\u4EE5\u540E\u6761\u4EF6\u503C\u7684\u5224\u65AD\u57FA\u51C6\u7684\u503C\u3002 (2) \u6BD4\u8F83\u6BD4\u8F83\u6E90\u548C\u6761\u4EF6\u503C 1\uFF0C\u5982\u679C\u201C\u6BD4\u8F83\u6E90 = \u6761\u4EF6\u503C 1\u201D\u6210\u7ACB\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 1\u3002\u6267\u884C\u5904\u7406\u8BED\u53E5 1 \u540E\uFF0C\u8DF3\u5230 END_CASE\u3002 (3) \u5982\u679C\u201C\u6BD4\u8F83\u6E90 = \u6761\u4EF6\u503C 1\u201D\u4E0D\u6210\u7ACB\uFF0C\u5219\u8DF3\u81F3\u4E0B\u4E00\u6761\u4EF6\u503C\u6BD4\u8F83\u3002 (4) \u6BD4\u8F83\u6BD4\u8F83\u6E90\u548C\u6761\u4EF6\u503C 2\uFF0C\u5982\u679C\u201C\u6BD4\u8F83\u6E90 = \u6761\u4EF6\u503C 2\u201D\u6210\u7ACB\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 2\u3002\u6267\u884C\u5904\u7406\u8BED\u53E5 2 \u540E\uFF0C\u8DF3\u5230 END_CASE\u3002 (5) \u5982\u679C\u201C\u6BD4\u8F83\u6E90 = \u6761\u4EF6\u503C 2\u201D\u4E0D\u6210\u7ACB\uFF0C\u5219\u8F6C\u5230\u4E0B\u4E00\u4E2A\u6761\u4EF6\u503C\u6BD4\u8F83\u3002 (6) \u6BD4\u8F83\u6BD4\u8F83\u6E90\u548C\u6761\u4EF6\u503C 3\uFF0C\u5982\u679C\u201C\u6BD4\u8F83\u6E90 = \u6761\u4EF6\u503C 3\u201D\u6210\u7ACB\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 3\u3002\u6267\u884C\u5904\u7406\u8BED\u53E5 3 \u540E\uFF0C\u8DF3\u5230 END_CASE\u3002 (7) \u5982\u679C\u201C\u201C\u6BD4\u8F83\u6E90 = \u6761\u4EF6\u503C 3\u201D\u4E0D\u6210\u7ACB\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5 4\u3002 \u00A0 \u2022 \u9009\u62E9\u7684\u5E38\u6570\u53EF\u4EE5\u662F\u5355\u4E00\u5E38\u6570\uFF0C\u6216\u5305\u62EC\u591A\u9879\u6307\u5B9A\u548C\u8303\u56F4\u6307\u5B9A\u7684\u5E38\u6570\u3002 \u6307\u5B9A\u4F8B\uFF09 1 : \u5355\u4E00\u6307\u5B9A\uFF08 \u4EC5\u9650 1\uFF09 3, 9, 12, 50 : \u591A\u4E2A\u6307\u5B9A\uFF08 3 \u62169 \u621612 \u6216 50 \uFF09 8..20 :\u8303\u56F4\u6307\u5B9A\uFF088 \u4EE5\u4E0A\u300120 \u4EE5\u4E0B\u7684\u8303\u56F4\u5185\uFF09 \u2022 ELSE\u003C\u5904\u7406\u8BED\u53E5\u003E\u7684\u7F16\u7A0B\u53EF\u4EE5\u7701\u7565\u3002 \u4F46\u201C\u5982\u679C CASE \u6761\u4EF6\u5168\u4E0D\u6210\u7ACB\u201D\u7684 CASE ELSE \u53EF\u5E2E\u52A9\u89E3\u51B3\u53D1\u751F\u610F\u5916\u4E8B\u4EF6\u7684\u95EE\u9898\u3002 FOR \uFF5E END_FOR \u8BED\u53E5\uFF08\u6307\u5B9A\u6B21\u6570\u7684\u5FAA\u73AF\u63A7\u5236\uFF09 \u258C FOR\uFF5EEND_FOR \u6839\u636E\u5FAA\u73AF\u6761\u4EF6\uFF0C\u51B3\u5B9A\u5904\u7406\u8BED\u53E5\u6267\u884C\u6B21\u6570\u7684\u63A7\u5236\u8BED\u53E5\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E FOR \u003C\u53D8\u91CF\u003E := \u003C\u521D\u59CB\u503C\u003E TO \u003C\u6700\u7EC8\u503C\u003E[ BY \u003C\u589E\u91CF\u503C\u003E] \u00A0 DO \u003C\u5904\u7406\u8BED\u53E5\u003E; END_FOR; 1\uFF0E\u5728\uFF1C\u53D8\u91CF\uFF1E\u4E2D\u5B58\u50A8\uFF1C\u9ED8\u8BA4\u503C\uFF1E\u3002 2\uFF0E\u6EE1\u8DB3\u4EE5\u4E0B\u6761\u4EF6\u65F6\uFF0C\u6267\u884C\uFF1C\u5904\u7406\u8BED\u53E5\uFF1E\u3002\u4E0D\u6EE1\u8DB3\u65F6\uFF0CFOR\u8BED\u53E5\u7ED3\u675F\u3002 \u00B7\uFF1C\u589E\u91CF\u503C\uFF1E \u003E 0\u65F6\uFF0C\uFF1C\u53D8\u91CF\uFF1E\u2264\uFF1C\u6700\u7EC8\u503C\uFF1E \u00B7\uFF1C\u589E\u91CF\u503C\uFF1E \u003C 0\u65F6\uFF0C\uFF1C\u53D8\u91CF\uFF1E\u2265\uFF1C\u6700\u7EC8\u503C\uFF1E 3\uFF0E\uFF1C\u53D8\u91CF\uFF1E\u52A0\u4E0A\uFF1C\u589E\u91CF\u503C\uFF1E\u540E\u8FD4\u56DE2\u3002 *1: [\u3000]\u5185\u7684\u7F16\u7A0B\u53EF\u4EE5\u7701\u7565\u3002\u5982\u679C\u7701\u7565\uFF0C\u5219\u4F5C\u4E3A BY 1 \u6267\u884C\u3002 \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E FOR uiIdx := 0 TO 99 BY 5 DO \u3000\u3000uiValue := uiValue \u002B 5; END_FOR; uiIdx \u7684\u503C\u4ECE 0 \u5230\u8D85\u8FC7 99\uFF0C\u5FAA\u73AF\u3002 \u5C06 uiValue \u52A0\u4E0A 5 \u7684\u7ED3\u679C\u5B58\u50A8\u5230 uiValue\u3002 \u5728 uiIdx \u7684\u5F53\u524D\u503C\u52A0\u4E0A\u589E\u91CF\u503C 5\uFF0C\u8FD4\u56DE FOR~\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u4E3A\u53D8\u91CF\u8D4B\u503C\u521D\u59CB\u503C\u3002 (2) \u8BBE\u7F6E\u8868\u793A\u5FAA\u73AF\u5904\u7406\u7ED3\u675F\u7684\u6700\u7EC8\u503C\u3002\u53E6\u5916\uFF0C\u8BBE\u7F6E\u52A0\u5728\u53D8\u91CF\u503C\u4E0A\u7684\u589E\u91CF\u503C\u3002 (3) \u5224\u5B9A\u53D8\u91CF\u503C\u662F\u5426\u5C0F\u4E8E\u6700\u7EC8\u503C\u3002 (4) \u5982\u679C (3) \u7684\u6761\u4EF6\u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5\u3002 (5) \u201CFALSE\u201D\uFF0C\u5219\u7ED3\u675F\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u3002 (6) \u5C06\u53D8\u91CF\u503C\u52A0\u4E0A\u589E\u91CF\u503C\uFF0C\u8FD4\u56DE (3)\u3002 WHILE \u8BED\u53E5\uFF08\u524D\u5224\u5B9A\u5FAA\u73AF\u63A7\u5236\uFF09 \u258C WHILE\uFF5EEND_WHILE \u5FAA\u73AF\u6761\u4EF6\u4E3A\u201CTRUE\u201D\u671F\u95F4\uFF0C\u6267\u884C\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u7684\u63A7\u5236\u8BED\u53E5\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E WHILE \u003C\u6761\u4EF6\u5F0F\u003E DO \u3000\u3000\u003C\u5904\u7406\u8BED\u53E5\u003E; END_WHILE; \u6761\u4EF6\u5F0F\u6210\u7ACB\u65F6\u3001 *1 \u6267\u884C\u5904\u7406\u8BED\u53E5\u3002 \u8FD4\u56DE\u53E5\u9996\uFF08WHILE\uFF09\u3002; * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 *1: \u5982\u679C\u6761\u4EF6\u5F0F\u4E0D\u6210\u7ACB\uFF0C\u5219\u7ED3\u675F\u5FAA\u73AF\u5904\u7406\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E WHILE uiValue \u003C 100 DO \u3000\u3000uiValue := uiValue \u002B 5; END_WHILE; \u5982\u679C uiValue \u7684\u503C\u4E0D\u8DB3 100\uFF0C \u5219\u5728 uiValue \u52A0 5\u3002 \u8FD4\u56DE\u53E5\u9996(WHILE)\u3002 *2: \u5982\u679C uiValue \u7684\u503C\u4E3A 100 \u4EE5\u4E0A\uFF0C\u5219\u4E0D\u6267\u884C\u5904\u7406\u8BED\u53E5\uFF0C\u4ECE END WHILE \u7684\u4E0B\u4E00\u884C\u8D77\u6267\u884C\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u4EE5 WHILE \u6267\u884C\u6761\u4EF6\u5224\u5B9A\u201CTRUE\u201D\u6216\u201CFALSE\u201D\uFF0C\u51B3\u5B9A WHILE~END_WHILE \u95F4\u7684\u5904\u7406\u65B9\u6CD5\u3002 (2) \u5982\u679C\u6267\u884C\u6761\u4EF6\u4E3A\u201CTRUE\u201D\uFF0C\u5219\u6267\u884C\u5904\u7406\u8BED\u53E5\uFF0C\u8FD4\u56DE (1)\uFF08WHILE \u8BED\u53E5\u7684\u53E5\u9996\uFF09\u3002 (3) \u5982\u679C\u6267\u884C\u6761\u4EF6\u4E3A\u201CFALSE\u201D\uFF0C\u5219 END_WHILE \u8BED\u53E5\u8FDB\u5230\u4E0B\u4E00\u6B65\u3002 REPEAT \u8BED\u53E5\uFF08\u540E\u5224\u5B9A\u5FAA\u73AF\u63A7\u5236\uFF09 \u258C REPEAT\uFF5EEND_REPEAT UNTIL \u7684\u6761\u4EF6\u4E3A\u201CFALSE\u201D\u671F\u95F4\uFF0C\u6267\u884C\u5FAA\u73AF\u5904\u7406\u8BED\u53E5\u7684\u63A7\u5236\u8BED\u53E5\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E REPEAT \u3000\u3000\u003C\u5904\u7406\u8BED\u53E5\u003E \u3000\u3000UNTIL \u003C\u6761\u4EF6\u5F0F\u003E END_REPEAT; \u8FDB\u884C\u5FAA\u73AF\u63A7\u5236\u3002 \u6267\u884C\u5904\u7406\u8BED\u53E5\u3002 \u5982\u679C\u6761\u4EF6\u5F0F\u4E0D\u6210\u7ACB\uFF0C\u5219\u8FD4\u56DE\u53E5\u9996\uFF08REPEAT\uFF09\u3002 *1 * : \u8868\u793A\u63D2\u5165\u534A\u89D2\u7A7A\u683C\u3002 *1: \u5982\u679C\u6761\u4EF6\u5F0F\u6210\u7ACB\uFF0C\u5219\u7ED3\u675F\u5FAA\u73AF\u5904\u7406\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E REPEAT \u3000\u3000uiValue := uiValue \u002B 5; \u3000\u3000UNTIL uiValue \u003E= 100 END_REPEAT; \u8FDB\u884C\u4E0B\u4E00\u6B65\u5F00\u59CB\u7684\u5904\u7406\u3002 \u5728 uiValue \u52A0 5\u3002 \u5982\u679C uiValue \u7684\u503C\u4E0D\u5728 100 \u4EE5\u4E0A\uFF0C\u5219\u8FD4\u56DE\u53E5\u9996\uFF08REPEAT\uFF09\u3002 *2 *2: \u5982\u679C uiValue \u7684\u503C\u4E3A 100 \u4EE5\u4E0A\uFF0C\u5219\u4E0D\u6267\u884C\u5904\u7406\u8BED\u53E5\uFF0C\u4ECE END_REPEAT \u7684\u4E0B\u4E00\u884C\u8D77\u6267\u884C\u3002 \u258C \u5904\u7406\u6D41\u7A0B \u00A0 (1) \u6267\u884C\u5904\u7406\u8BED\u53E5\u3002 (2) \u5224\u5B9A UNTIL \u6761\u4EF6\u5F0F\u662F\u201CTRUE\u201D\u8FD8\u662F\u201CFALSE\u201D\uFF0C\u5E76\u786E\u8BA4\u662F\u5426\u7EE7\u7EED\u6267\u884C\u5FAA\u73AF\u5904\u7406\u3002 (3) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CFALSE\u201D\uFF0C\u5219\u8FD4\u56DE (1)\u3002 (4) \u5982\u679C\u6761\u4EF6\u5F0F\u4E3A\u201CTRUE\u201D\uFF0C\u5219\u8FDB\u5165\u4E0B\u4E00\u6B65\u3002 EXIT \u5904\u7406 \u258C EXIT \u4F7F\u5FAA\u73AF\u63A7\u5236\u5F3A\u5236\u7ED3\u675F\uFF08\u4ECE\u5FAA\u73AF\u4E2D\u9000\u51FA\uFF09\u65F6\u4F7F\u7528\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E \u003C\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u5F00\u59CB\u003E \u3000\u3000EXIT; \u003C\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u7ED3\u675F\u003E \u5728\u5FAA\u73AF\u5904\u7406\u4E2D\u7F16\u7A0B\u3002 *1 \u5F3A\u5236\u7ED3\u675F\u8BE5\u5FAA\u73AF\u5904\u7406\u3002 \u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u7ED3\u675F\u3002 *1: EXIT \u5FC5\u987B\u5728\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u4E2D\u7F16\u7A0B\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E FOR uiValue1 := 0 TO 50 BY 2 DO \u3000\u3000uiValue2 := uiValue2 \u002B 5; \u3000\u3000IF uiValue2 \u003E 70 THEN \u3000\u3000\u3000\u3000EXIT; \u3000\u3000END_IF; END_FOR; uiValue1 \u4ECE 0 \u00A0\u5230 50\uFF0C\u5FAA\u73AF\u3002 \u5728 uiValue2 \u52A0 5\u3002 \u5982\u679C uiValue2 \u7684\u503C\u8D85\u8FC7 70\uFF0C \u4F7F\u5FAA\u73AF\u63A7\u5236\uFF08FOR~END_FOR\uFF09\u5F3A\u5236\u7ED3\u675F\u3002 IF \u8BED\u53E5\u7ED3\u675F\u3002 \u5728 uiValue1 \u52A0 2\uFF0C\u8FD4\u56DE FOR \u8BED\u53E5\u7684\u53E5\u9996\u3002 * : EXIT \u9664 FOR \u5916\uFF0C\u4E5F\u53EF\u5728 WHILE \u8BED\u53E5\u3001REPEAT \u8BED\u53E5\u4E2D\u4F7F\u7528\u3002 \u00A0 EXIT \u5FC5\u987B\u5199\u5728\u5FAA\u73AF\u5904\u7406\u7684\u5185\u4FA7\u3002 \u5982\u679C\u5199\u5728\u5FAA\u73AF\u5904\u7406\u5916\uFF0C\u4F1A\u51FA\u73B0\u53D8\u6362\u9519\u8BEF\u3002 CONTINUE \u5904\u7406 \u258C CONTINUE \u7ED3\u675F\u6B63\u5728\u6267\u884C\u7684\u5FAA\u73AF\u5904\u7406\uFF0C\u8FDB\u5165\u4E0B\u4E00\u4E2A\u5FAA\u73AF\u65F6\u4F7F\u7528\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E \u003C\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u5F00\u59CB\u003E \u3000\u3000CONTINUE; \u003C\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u7ED3\u675F\u003E \u5728\u5FAA\u73AF\u5904\u7406\u4E2D\u7F16\u7A0B\u3002 *1 \u7ED3\u675F\u6B63\u5728\u6267\u884C\u7684\u5FAA\u73AF\u5904\u7406\uFF0C\u8FDB\u5165\u4E0B\u4E00\u4E2A\u5FAA\u73AF\u5904\u7406\u3002 \u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u7ED3\u675F\u3002 *1: CONTINUE \u5FC5\u987B\u5728\u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u4E2D\u7F16\u7A0B\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E FOR uiValue1 := 0 TO 50 BY 2 DO \u3000\u3000uiValue2 := uiValue2 \u002B 5; \u3000\u3000IF bFlag1 THEN \u3000\u3000\u3000\u3000CONTINUE; \u3000\u3000END_IF; END_FOR; uiValue1 \u4ECE 0 \u00A0\u5230 50\uFF0C\u5FAA\u73AF\u3002 \u5728 uiValue2 \u52A0 5\u3002 \u5982\u679CbFlag\u662FTRUE\uFF0C\u5219\u4E0D\u4F1A\u6267\u884CCONTINUE\uFF5EEND_IF;\u7684\u5904\u7406\uFF0C\u800C\u662F\u8FD4\u56DEFOR\u8BED\u53E5\u7684\u5F00\u5934\u3002 IF \u8BED\u53E5\u7ED3\u675F\u3002 \u5728 uiValue1 \u52A0 2\uFF0C\u8FD4\u56DE FOR \u8BED\u53E5\u7684\u53E5\u9996\u3002 * : CONTINUE \u9664 FOR \u5916\uFF0C\u4E5F\u53EF\u5728 WHILE \u8BED\u53E5\u3001REPEAT \u8BED\u53E5\u4E2D\u4F7F\u7528\u3002 \u00A0 CONTINUE \u5FC5\u987B\u5199\u5728\u5FAA\u73AF\u5904\u7406\u7684\u5185\u4FA7\u3002 \u5982\u679C\u5199\u5728\u5FAA\u73AF\u5904\u7406\u5916\uFF0C\u4F1A\u51FA\u73B0\u53D8\u6362\u9519\u8BEF\u3002 RETURN \u5904\u7406 \u258C RETURN RETURN\u4E3A\u7528\u4E8E\u5F3A\u5236\u7ED3\u675F\u5DF2\u7F16\u5199\u7A0B\u5E8F\uFF08\u6A21\u5757/\u5B8F/\u529F\u80FD\u5757/\u51FD\u6570\uFF09\u7684\u6267\u884C\u3002 \u63A7\u5236\u8BED\u53E5 \u683C\u5F0F\u8BF4\u660E \u003C\u5904\u7406\u8BED\u53E5\u003E RETURN; \u003C\u5904\u7406\u8BED\u53E5\u003E \u00A0 \u7ED3\u675F\u5DF2\u7F16\u5199\u7A0B\u5E8F\u7684\u6267\u884C\u3002 \u683C\u5F0F\u4E3E\u4F8B \u8BF4\u660E FOR uiValue1 := 0 TO 50 BY 2 DO \u3000\u3000uiValue2 := uiValue2 \u002B 5; \u3000\u3000IF uiValue2 \u003E 70 THEN \u3000\u3000\u3000\u3000RETURN; \u3000\u3000END_IF; END_FOR; uiValue1 \u4ECE 0 \u00A0\u5230 50\uFF0C\u5FAA\u73AF\u3002 \u5728 uiValue2 \u52A0 5\u3002 \u5982\u679C uiValue2 \u7684\u503C\u8D85\u8FC7 70\uFF0C\u8DF3\u81F3\u6B64\u7A0B\u5E8F\u7684 END \u6307\u4EE4\u4F4D\u7F6E\uFF0C\u7ED3\u675F\u7A0B\u5F0F\u7684\u6267\u884C\u3002 IF \u8BED\u53E5\u7ED3\u675F\u3002 \u5728 uiValue1 \u52A0 2\uFF0C\u8FD4\u56DE FOR \u8BED\u53E5\u7684\u53E5\u9996\u3002 \u4F7F\u7528\u63A7\u5236\u8BED\u53E5\u65F6\u7684\u6CE8\u610F\u4E8B\u9879 \u5FAA\u73AF\u63A7\u5236\u8BED\u53E5\u548C\u5904\u7406\u65F6\u95F4 \u4F7F\u7528FOR\u8BED\u53E5\u3001WHILE\u8BED\u53E5\u3001REPEAT\u8BED\u53E5\u6267\u884C\u5FAA\u73AF\u5904\u7406\u65F6\uFF0C\u5982\u679C1\u6B21\u626B\u63CF\u4E2D\u7684\u5FAA\u73AF\u6B21\u6570\u53D8\u591A\uFF0C\u90A3\u4E48\u626B\u63CF\u65F6\u95F4\u4E5F\u4F1A\u53D8\u957F\u3002 \u626B\u63CF\u65F6\u95F4\u8D85\u8FC7300ms\u65F6\uFF0CCPU\u5355\u5143\u4F1A\u53D1\u751F\u626B\u63CF\u8D85\u65F6\uFF0C\u8F6C\u4E3APROGRAM\u6A21\u5F0F\u540E\u505C\u6B62\u52A8\u4F5C\u3002 \u56E0\u6B64\uFF0C\u9700\u8981\u5728\u4E00\u5B9A\u7A0B\u5EA6\u4E0A\u63A7\u52361\u6B21\u626B\u63CF\u4E2D\u7684\u5FAA\u73AF\u6B21\u6570\uFF0C\u4EE5\u514D\u53D1\u751F\u626B\u63CF\u8D85\u65F6\u3002 \u00A0 \u4F8B\u5982\uFF0C\u6267\u884C20\u4E07\u6B21\u5FAA\u73AF\u5904\u7406\u65F6\uFF0C\u8BF7\u4E0D\u8981\u57281\u6B21\u626B\u63CF\u4E2D\u6267\u884C20\u4E07\u6B21\u5FAA\u73AF\u5904\u7406\uFF0C \u800C\u662F\u6309\u7167\u30001000\u6B21\u5FAA\u73AF\u5904\u7406/1\u6B21\u626B\u63CF\u00D7200\u6B21\u626B\u63CF\u3000\u7B49\u65B9\u5F0F\uFF0C\u5206\u6210\u591A\u6B21\u626B\u63CF\u6267\u884C\u5FAA\u73AF\u5904\u7406\u3002"},{"link":"./99_00_Appendix-1.html","title":"\u9644\u5F55","body":"\u9644\u5F55 \u2022 \u5904\u7406\u65F6\u95F4\u7684\u53C2\u8003 \u2022 \u793A\u4F8B\u7A0B\u5E8F"},{"link":"./99_00_Appendix-2.html","title":"\u5904\u7406\u65F6\u95F4\u7684\u53C2\u8003","body":"\u5904\u7406\u65F6\u95F4\u7684\u53C2\u8003 \u672C\u90E8\u5206\u8BF4\u660E\u7A0B\u5E8F\u7684\u6267\u884C\u65F6\u95F4\u3002 \u7A0B\u5E8F\u6267\u884C\u65F6\u95F4\u7684\u53C2\u8003\u503C \u7A0B\u5E8F\u7684\u6267\u884C\u65F6\u95F4\u53D6\u51B3\u4E8E\u5728\u7A0B\u5E8F\u4E2D\u4F7F\u7528\u7684\u6307\u4EE4\u6570\u91CF\u3002\u4E0B\u8FF0\u662F\u5728\u6807\u51C6\u7A0B\u5E8F\u4E2D\u6D4B\u91CF\u5230\u7684\u6267\u884C\u65F6\u95F4\u7ED3\u679C\uFF0C\u8BF7\u4F5C\u4E3A\u53C2\u8003\u3002 \u258C \u68AF\u5F62\u56FE\u7A0B\u5E8F \u00A0 \u00A0 \u00A0 \u4E0A\u56FE\u662F\u5728\u4E0B\u8FF0\u7ED3\u6784\u7684\u7A0B\u5E8F\u4E2D\uFF0C\u6267\u884C\u7387\u4E3A20%\u65F6\u7684\u6D4B\u91CF\u7ED3\u679C\u3002 \u6307\u4EE4\u5206\u7C7B \u6307\u4EE4 \u6307\u4EE4\u7684\u6BD4\u7387[\uFF05] \u63A5\u70B9\u8F93\u5165/\u8F93\u51FA LD, LDB, OUT, SET, RES 80.7 \u6BD4\u8F83 EQ, LT 4.0 \u5B9A\u65F6\u5668 \u8BA1\u6570\u5668 TON, CTU 1.3 \u7B97\u672F ADD, SUB, MUL, DIV, 2.7 \u903B\u8F91\u8FD0\u7B97 OR, AND 6.0 \u6570\u636E\u7C7B\u578B\u8F6C\u6362 INT_TO_DINT, UINT_BCD_TO_UINT 1.3 \u6570\u636E\u4F20\u8F93 MOVE 4.0 \u258C ST\u7A0B\u5E8F \u00A0 \u00A0 \u00A0 \u4E0A\u56FE\u662F\u5728\u4E0B\u8FF0\u7ED3\u6784\u7684\u7A0B\u5E8F\u4E2D\u7684\u6D4B\u91CF\u7ED3\u679C\u3002 \u6307\u4EE4\u5206\u7C7B \u6307\u4EE4 \u6307\u4EE4\u7684\u6BD4\u7387[\uFF05] \u63A7\u5236\u8BED\u53E5 IF, ELSIF, END_IF 71.0 \u6BD4\u8F83\u8FD0\u7B97\u7B26 \uFF1D, \u003C 5.0 \u5B9A\u65F6\u5668 TON, CTU 1.9 \u7B97\u672F\u8FD0\u7B97\u7B26 \u002B, -, *, / 2.8 \u6570\u636E\u7C7B\u578B\u8F6C\u6362 INT_TO_DINT, BCD_TO_UINT 0.6 \u4F4D\u5217\u8FD0\u7B97 AND, OR 7.6 \u8D4B\u503C\u8FD0\u7B97\u7B26 := 11.0 \u7F29\u77ED\u6267\u884C\u65F6\u95F4 \u4E0B\u9762\u8BF4\u660E\u7F29\u77ED\u7A0B\u5E8F\u6267\u884C\u65F6\u95F4\u7684\u65B9\u6CD5\u3002 \u00A0 \u8BB0\u8FF0\u4EE5\u4E0B\u5185\u5BB9\u7684\u7A0B\u5E8F\u65F6\uFF0C\u6267\u884C\u65F6\u95F4\u4F1A\u5EF6\u957F\u3002\u5982\u9700\u7F29\u77ED\u6267\u884C\u65F6\u95F4\uFF0C\u5EFA\u8BAE\u907F\u5F00\u4E0B\u8FF0\u8BB0\u8FF0\u3002 \u2022 \u5BF9\u8F6F\u5143\u4EF6\u4F7F\u7528\u53D8\u5740\u4FEE\u6539\u3001\u95F4\u63A5\u6307\u5B9A \u2022 \u53D1\u751F \u6570\u636E\u7C7B\u578B\u7684\u81EA\u52A8\u8F6C\u6362 \u2022 \u5BF9\u6570\u7EC4\u7684\u4E0B\u6807\u6307\u5B9A\u5E38\u6570\u4EE5\u5916\u7684\u503C \u2022 \u4F7F\u7528\u76F4\u63A5\u8F93\u5165/\u8F93\u51FA\uFF08DR\uFF09"},{"link":"./99_00_Appendix-3.html","title":"\u793A\u4F8B\u7A0B\u5E8F","body":"\u793A\u4F8B\u7A0B\u5E8F \u2022 \u68AF\u5F62\u56FE\u7A0B\u5E8F \u2022 ST"},{"link":"./99_00_Appendix-4.html","title":"\u68AF\u5F62\u56FE\u7A0B\u5E8F","body":"\u68AF\u5F62\u56FE\u7A0B\u5E8F \u4F7F\u7528\u4E86\u5404\u6307\u4EE4\u7684\u793A\u4F8B\u7A0B\u5E8F\u3002 \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 (1) \u5728 xFlag1 \u53D8\u4E3ATRUE\u768412.3\u79D2\u4E4B\u540E\u5C06 xFlag2 \u8BBE\u4E3ATRUE\u3002 (2) \u5728 xFlag1 \u4E3ATRUE\u7684\u671F\u95F4\u5185\uFF0C\u5C06\u4ECE\u53D8\u4E3ATRUE\u5F00\u59CB\u7684\u7ECF\u8FC7\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09\uFF0C\u4EE5UDINT\u7C7B\u578B\u5B58\u50A8\u5230 diMillSec \u4E2D\u3002 \u00A0 \u8BF7\u5C06\u65AD\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668\u66FF\u6362\u7406\u89E3\u4E3ATOF\uFF0C\u5C06\u5355\u6B21\u5B9A\u65F6\u5668\u66FF\u6362\u7406\u89E3\u4E3ATP\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA TON1 TON FB\u5B9E\u4F8B xFlag1 BOOL \u8F93\u5165\u4F4D xFlag2 BOOL \u8F93\u51FA\u4F4D\uFF08\u5EF6\u65F6\u63A5\u901A\uFF09 diMillSec DINT \u7ECF\u8FC7\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag1 FBEAND TON TON1 T#12.3s ??? OUT xFlag2 LD xFlag1 FUN TimeToMilliSec diMillSec TON1.ET \u258C \u76F8\u5173\u6307\u4EE4 TON TOF TP TimeToMilliSec \u6570\u7EC4\u7684\u79FB\u4F4D (1) \u68C0\u6D4B\u5230 xFlag1 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4F1A\u5C06UINT\u578B\u6570\u7EC4 auiData [0]\uFF5E auiData [9]\u768410\u4E2A\u6570\u636E\u79FB\u5230 auiData [20]\uFF5E auiData [29]\u4E2D\u3002 \u56E0\u79FB\u52A8\u800C\u7A7A\u51FA\u6765\u7684 auiData [0]\uFF5E auiData [19]\u7684\u6570\u636E\u4F1A\u88AB\u6E05\u9664\u3002 (2) \u68C0\u6D4B\u5230 xFlag2 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4F1A\u5C06BOOL\u578B\u6570\u7EC4 abData [50]\uFF5E abData [59]\u768410\u4E2A\u6570\u636E\u79FB\u5230 abData [0]\uFF5E abData [9]\u4E2D\u3002 \u56E0\u79FB\u52A8\u800C\u7A7A\u51FA\u6765\u7684 abData [10]\uFF5E abData [59]\u7684\u6570\u636E\u4F1A\u88AB\u6E05\u9664\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xFlag1 BOOL \u6267\u884C\u6761\u4EF6 xFlag2 BOOL \u6267\u884C\u6761\u4EF6 auiData ARRAY[0..99] OF UINT \u79FB\u4F4D\u5BF9\u8C61\u7684\u6570\u7EC4 abData ARRAY[0..99] OF BOOL \u79FB\u4F4D\u5BF9\u8C61\u7684\u6570\u7EC4 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xFlag1 FUN AryShiftL auiData[#0] \u002B10 \u002B20 LDP xFlag2 FUN AryShiftR abData[#50] \u002B10 \u002B50 \u258C \u76F8\u5173\u6307\u4EE4 AryShiftL AryShiftR \u4E09\u89D2\u51FD\u6570\uFF08SIN/COS/TAN\uFF09 (1) \u5C06 rDegree \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u00B0\uFF09\u8F6C\u6362\u4E3A\u5F27\u5EA6\u5355\u4F4D\uFF0C\u5B58\u50A8\u5230 rRadian \u4E2D\u3002 (2) \u6839\u636E rRadian \u7684\u503C\u8BA1\u7B97\u6B63\u5F26\u3001\u4F59\u5F26\u548C\u6B63\u5207\u7684\u503C\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF\u6570\u636E \u7C7B\u578B \u6CE8\u91CA rDegree REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 rRadian REAL \u89D2\u5EA6\uFF08rad\uFF09 rSIN REAL \u6B63\u5F26\uFF08SIN\uFF09 rCOS REAL \u4F59\u5F26\uFF08COS\uFF09 rTAN REAL \u6B63\u5207\uFF08TAN\uFF09 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 FUNLD DegToRad rRadian rDegree FUN SIN rSIN rRadian FUN COS rCOS rRadian FUN TAN rTAN rRadian \u258C \u76F8\u5173\u6307\u4EE4 SIN COS TAN DegToRad \u53CD\u4E09\u89D2\u51FD\u6570\uFF08ASIN/ACOS/ATAN\uFF09 (1) \u6839\u636E rSIN / rCOS / rTAN \u4E2D\u5B58\u50A8\u7684\u6B63\u5F26\u3001\u4F59\u5F26\u3001\u6B63\u5207\u7684\u503C\u8BA1\u7B97\u5F27\u5EA6\u5355\u4F4D\u7684\u89D2\u5EA6\uFF0C\u5B58\u50A8\u5230 rRadian1 \uFF5E rRadian3 \u4E2D\u3002 (2) \u5C06 rRadian1 \uFF5E rRadian 3 \u7684\u503C\u8F6C\u6362\u4E3A\u89D2\u5EA6\uFF08\u00B0\uFF09\uFF0C\u5B58\u50A8\u5230 rDegree1 \uFF5E rDegree 3 \u4E2D\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF\u6570\u636E \u7C7B\u578B \u6CE8\u91CA rSIN REAL \u6B63\u5F26\uFF08SIN\uFF09 rCOS REAL \u4F59\u5F26\uFF08COS\uFF09 rTAN REAL \u6B63\u5207\uFF08TAN\uFF09 rRadian1 REAL \u89D2\u5EA6\uFF08rad\uFF09 rRadian2 REAL \u89D2\u5EA6\uFF08rad\uFF09 rRadian3 REAL \u89D2\u5EA6\uFF08rad\uFF09 rDegree1 REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 rDegree2 REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 rDegree3 REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 FUNLD ASIN rRadian1 rSIN FUN RadToDeg rDegree1 rRadian1 FUNLD ACOS rRadian2 rCOS FUN RadToDeg rDegree2 rRadian2 FUNLD ATAN rRadian3 rTAN FUN RadToDeg rDegree3 rRadian3 \u258C \u76F8\u5173\u6307\u4EE4 ASIN ACOS ATAN RadToDeg \u6570\u636E\u7684\u6392\u5E8F \u6309\u7167\u5B58\u50A8\u5728\u6210\u5458\u53D8\u91CFrHeight\u4E2D\u7684\u503C\uFF0C\u5C06 ProductData \uFF08\u7ED3\u6784\u4F53\u6570\u7EC4\uFF09\u7684\u6570\u636E\u8FDB\u884C\u5347\u5E8F\u6392\u5E8F\u3002 (1) \u901A\u8FC7GetAryCount\u6307\u4EE4\uFF0C\u5C06 ProductData \u7684\u8981\u7D20\u6570\u91CF\u5B58\u653E\u5230 udiAryCount \u4E2D\u3002 (2) \u6309\u7167\u5B58\u50A8\u5728\u6210\u5458\u53D8\u91CFrHeight\u4E2D\u7684\u503C\uFF0C\u5C06\u7ED3\u6784\u4F53\u6570\u7EC4\u7684\u6570\u636E\u8FDB\u884C\u6392\u5E8F\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StructSort1 StructSort FB\u5B9E\u4F8B xSort BOOL \u6267\u884C\u6392\u5E8F ProductData ARRAY[0..99] OF ProductInfo \u4EA7\u54C1\u4FE1\u606F udiAryCount UDINT \u6570\u7EC4\u8981\u7D20\u6570\u91CF xSortDone BOOL \u5B8C\u6210\u6392\u5E8F \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xSort MPS FUN GetAryCount udiAryCount ProductData \u002B1 MPP FBEAND StructSort StructSort1 ProductData[#0] udiAryCount TRUE \u0027rHeight\u0027 ??? ??? ??? ??? OUT xSortDone \u258C \u76F8\u5173\u6307\u4EE4 GetAryCount StructSort \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u6309\u7167REAL\u7C7B\u578B\uFF0C\u8BA1\u7B97UINT\u6570\u7EC4 auiData \u4E2D\u5B58\u50A8\u7684\u503C\u7684\u5E73\u5747\u503C\u3002 (1) \u4F7F\u7528GetAryCount\u6307\u4EE4\uFF0C\u5C06 auiData \u7684\u8981\u7D20\u6570\u91CF\u5B58\u50A8\u5230 udiCount \u4E2D\u3002 (2) \u4F7F\u7528ArySum\u6307\u4EE4\uFF0C\u5C06 auiData \u4E2D\u5B58\u50A8\u7684\u503C\u7684\u5408\u8BA1\u503C\u5B58\u50A8\u5230 udiSum \u4E2D\u3002 (3) \u4F7F\u7528UDINT_TO_REAL\u6307\u4EE4\uFF0C\u5C06 udiSum \u4E2D\u5B58\u50A8\u7684\u503C\u8F6C\u6362\u4E3AREAL\u7C7B\u578B\uFF0C\u5B58\u50A8\u5230 rSum \u4E2D\u3002 (4) \u5C06 rSum \u7684\u503C\u9664\u4EE5\u6570\u7EC4\u7684\u8981\u7D20\u6570\u91CF\uFF0C\u8BA1\u7B97\u51FAREAL\u7C7B\u578B\u7684\u5E73\u5747\u503C\uFF0C\u5B58\u50A8\u5230 rMean \u4E2D\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xFlag BOOL \u89E6\u53D1 auiData ARRAY[0..99] OF UINT \u6570\u7EC4 udiCount UDINT \u6570\u7EC4\u8981\u7D20\u6570\u91CF udiSum LREAL \u5408\u8BA1\uFF08UDINT\uFF09 rSum REAL \u5408\u8BA1\uFF08REAL\uFF09 rMean REAL \u5E73\u5747\u503C \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xFlag FUN GetAryCount udiCount auiData \u002B1 FUN ArySum udiSum auiData[#0] udiCount FUN UDINT_TO_REAL rSum udiSum FUN DIV rMean rSum udiCount \u258C \u76F8\u5173\u6307\u4EE4 *_TO_** GetAryCount ArySum FIFO \u5BF9\u6570\u636E\u8868\u8FDB\u884C\u5148\u5165\u5148\u51FA\u5904\u7406\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\u4F7F\u7528GetAryCount\u6307\u4EE4\uFF0C\u83B7\u53D6 auiTableData \uFF08\u6570\u636E\u8868\uFF09\u7684\u6570\u7EC4\u8981\u7D20\u6570\u91CF\u3002 (2) \u5728 xFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5C06\u6570\u636E\u5B58\u50A8\u5230\u6570\u636E\u8868\u7684\u5F00\u5934\uFF08 auiTableData [0]\uFF09\u5904\u3002\u6BCF\u6B21\u5B58\u50A8\u6570\u636E\u65F6\uFF0C udiDataNum \u7684\u503C\u90FD\u4F1A\u9012\u589E1\u3002 \u5F53 udiDataNum \u7684\u503C\u8FBE\u5230 udiMaxDataNum \u65F6\uFF0C\u5728 xFlag \u7684\u4E0A\u5347\u6CBF\u5C06\u6570\u636E\u8868\u7684\u503C\u8BFB\u53D6\u5230 uiReadData \u4E2D\uFF0C\u5E76\u4E14\u5C06\u6570\u636E\u8868\u7684\u6570\u636E\u9010\u4E2A\u5411\u524D\u79FB\u52A8\u3002 (3) \u4E4B\u540E\uFF0C\u5728\u6570\u636E\u8868\u7684\u672B\u5C3E\uFF08 auiDataTable [ udiMaxDataNum ]\uFF09\u5904\u5B58\u50A8 uiWriteData \u7684\u503C\u3002 (4) \u5728 xInsertFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5411\u7528\u6570\u636E\u8868\u7684 udiInsertPos \u6307\u5B9A\u7684\u4F4D\u7F6E\u5B58\u50A8 uiWriteData \u7684\u503C\u3002\u5B58\u50A8\u540E\uFF0C udiDataNum \u7684\u503C\u4F1A\u52A0\u4E0A1\u3002 (5) \u5728 xDeleteFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5220\u9664\u7528\u6570\u636E\u8868\u7684 udiDeletePos \u6307\u5B9A\u7684\u4F4D\u7F6E\u7684\u6570\u636E\u3002\u5220\u9664\u540E\uFF0C udiDataNum \u7684\u503C\u88AB\u51CF\u53BB1\u3002 \u00A0 \u2022 \u8BF7\u5BF9\u64CD\u4F5C\u540C\u4E00\u4E2A\u6570\u636E\u8868\u7684FIFOWrite/FIFORead/FIFOInsert/FIFODelete\u7684 udiDataNum \uFF0C\u6307\u5B9A\u901A\u7528\u7684\u53D8\u91CF\u3002 \u5982\u679C\u6307\u5B9A\u4E0D\u540C\u7684\u53D8\u91CF\uFF0C\u5219\u53EF\u80FD\u5BFC\u81F4\u64CD\u4F5C\u975E\u9884\u671F\u4F4D\u7F6E\u7684\u6570\u636E\u3002 \u2022 \u7531\u4E8E uiDataNum \u4F1A\u6839\u636EFIFOWrite/FIFORead/FIFOInsert/FIFODelete\u6307\u4EE4\u81EA\u52A8\u8FDB\u884C\u52A0\u51CF\uFF0C\u6240\u4EE5\u8BF7\u4E0D\u8981\u5728\u7A0B\u5E8F\u4E2D\u5199\u5165\u503C\u3002 \u5982\u679C\u5728\u7A0B\u5E8F\u4E2D\u5199\u5165\u503C\uFF0C\u5219\u53EF\u80FD\u5BFC\u81F4\u64CD\u4F5C\u975E\u9884\u671F\u4F4D\u7F6E\u7684\u6570\u636E\u3002 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xFlag BOOL \u8BFB\u5199\u6570\u636E\u8868 xInsertFalg BOOL \u5220\u9664\u6570\u636E xDeleteFlag BOOL \u63D2\u5165\u6570\u636E auiTableData ARRAY[0..99] OF UINT \u6570\u636E\u8868 udiDataNum UDINT \u5B58\u50A8\u6570\u636E\u6570 udiMaxDataNum UDINT \u6700\u5927\u5B58\u50A8\u6570\u636E\u6570 uiWriteData UINT \u8981\u5B58\u50A8\u7684\u6570\u636E uiReadData UINT \u5DF2\u8BFB\u53D6\u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E udiInsertPos UDINT \u63D2\u5165\u4F4D\u7F6E udiDeletePos UDINT \u5220\u9664\u4F4D\u7F6E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _FirstScanOn FUN GetAryCount udiMaxDataNum auiTableData \u002B1 LDP xFlag MPS FUNAND EQ udiDataNum udiMaxDataNum FUN FIFORead auiTableData[#0] udiMaxDataNum udiDataNum uiReadData MPP FUN FIFOWrite uiWriteData udiMaxDataNum udiDataNum auiTableData[#0] LDP xInsertFalg FUNAND LT udiDataNum udiMaxDataNum FUN FIFOInsert uiWriteData udiMaxDataNum udiDataNum auiTableData[#0] udiInsertPos LDP xDeleteFlag FUN FIFODelete auiTableData[#0] udiMaxDataNum udiDataNum udiDeletePos \u258C \u76F8\u5173\u6307\u4EE4 GetAryCount FIFOWrite FIFORead FIFOInsert FIFODelete \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u5199\u5165CSV \u5C06 auiData \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u5199\u5165CSV\u6587\u4EF6\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u4F1A\u5B58\u50A8\u8981\u5199\u5165\u6570\u636E\u7684\u6587\u4EF6\u8DEF\u5F84\u548CBOM\u6570\u636E\u3002 \u5728\u8DEF\u5F84\u7684\u5F00\u5934\u6DFB\u52A0\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u53EF\u4EE5\u6307\u5B9A\u4FDD\u5B58\u5904\u7684\u5B58\u50A8\u5668\u3002 \u30000:\\(\u5B58\u50A8\u5361) \u30001:\\(CPU\u5185\u5B58) \u5982\u679C\u7701\u7565\u4E86\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u5219\u4FDD\u5B58\u5904\u4F1A\u53D8\u4E3A\u5B58\u50A8\u5361\u3002 (2) xBomWrite \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5728\u6587\u4EF6\u5F00\u5934\u5199\u5165BOM\u6570\u636E\u3002 (3) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4ECEBOM\u6570\u636E\u7684\u540E\u9762\u5F00\u59CB\u5199\u5165UINT\u6570\u7EC4 auiData \u4E2D\u5B58\u50A8\u7684\u503C\u3002 \u00A0 \u2022 \u9879\u76EE\u8BED\u8A00\u8BBE\u4E3AUTF-8\u65F6\uFF0C\u5982\u679C\u4E0D\u5728\u6587\u4EF6\u5F00\u5934\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u5728\u7528\u8868\u683C\u8BA1\u7B97\u8F6F\u4EF6\u7B49\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E71\u7801\u3002 \u2022 \u5982\u679C\u65E0\u9700\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u4E0B\u8FF0\u793A\u4F8B\u7A0B\u5E8F\u4E2DStorageWriteBin_BOM\u548CStorageWriteBin_BOM.Done\u7684\u63A5\u70B9\u4E5F\u662F\u4E0D\u9700\u8981\u7684\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StorageWriteBin_BOM StorageWriteBin FB\u5B9E\u4F8B StorageWriteBin1 StorageWriteBin FB\u5B9E\u4F8B strFilePath STRING[246] \u6587\u4EF6\u8DEF\u5F84 udiBOM UDINT BOM xBomWrite BOOL BOM\u5199\u5165\u89E6\u53D1 xBomDone BOOL BOM\u5199\u5165\u5B8C\u6210 xFlag BOOL \u6570\u636E\u5199\u5165\u89E6\u53D1 auiData ARRAY[0..49] OF UINT \u5199\u5165\u7684\u6570\u636E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _FirstScanOn FUN MOVE \u00270:\\ABC\\TEST.csv\u0027 strFilePath FUN MOVE UDINT#16#BFBBEF udiBOM LD xBomWrite FBEXEC StorageWriteBin StorageWriteBin_BOM strFilePath \u002B0 \u002B3 \u002B0 udiBOM ??? ??? ??? ??? ??? LD xFlag AND StorageWriteBin_BOM.Done FBEXEC StorageWriteBin StorageWriteBin1 strFilePath \u002B0 \u002B100 \u002B0 auiData[#0] ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 StorageWriteBin \u5C06\u5B57\u7B26\u4E32\u5199\u5165CSV \u5C06 strData \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u5199\u5165CSV\u6587\u4EF6\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u4F1A\u5B58\u50A8\u8981\u5199\u5165\u6570\u636E\u7684\u6587\u4EF6\u8DEF\u5F84\u548CBOM\u6570\u636E\u3002 \u5728\u8DEF\u5F84\u7684\u5F00\u5934\u6DFB\u52A0\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u53EF\u4EE5\u6307\u5B9A\u4FDD\u5B58\u5904\u7684\u5B58\u50A8\u5668\u3002 \u30000:\\(\u5B58\u50A8\u5361) \u30001:\\(CPU\u5185\u5B58) \u5982\u679C\u7701\u7565\u4E86\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u5219\u4FDD\u5B58\u5904\u4F1A\u53D8\u4E3A\u5B58\u50A8\u5361\u3002 (2) xBomWrite \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5728\u6587\u4EF6\u5F00\u5934\u5199\u5165BOM\u6570\u636E\u3002 (3) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4ECEBOM\u6570\u636E\u7684\u540E\u9762\u5F00\u59CB\u5199\u5165 strData \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u3002 \u00A0 \u2022 \u9879\u76EE\u8BED\u8A00\u8BBE\u4E3AUTF-8\u65F6\uFF0C\u5982\u679C\u4E0D\u5728\u6587\u4EF6\u5F00\u5934\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u5728\u7528\u8868\u683C\u8BA1\u7B97\u8F6F\u4EF6\u7B49\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E71\u7801\u3002 \u2022 \u5982\u679C\u65E0\u9700\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u4E0B\u8FF0\u793A\u4F8B\u7A0B\u5E8F\u4E2DStorageWriteBin_BOM\u548CStorageWriteBin_BOM.Done\u7684\u63A5\u70B9\u4E5F\u662F\u4E0D\u9700\u8981\u7684\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StorageWriteBin_BOM StorageWriteBin FB\u5B9E\u4F8B StoragePrint1 StoragePrint FB\u5B9E\u4F8B strFilePath STRING[246] \u6587\u4EF6\u8DEF\u5F84 udiBOM UDINT BOM xBomWrite BOOL BOM\u5199\u5165\u89E6\u53D1 xBomDone BOOL BOM\u5199\u5165\u5B8C\u6210 xFlag BOOL \u6570\u636E\u5199\u5165\u89E6\u53D1 strData STRING[32] \u5199\u5165\u7684\u6570\u636E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _FirstScanOn FUN MOVE \u00270:\\ABC\\TEST.csv\u0027 strFilePath FUN MOVE UDINT#16#BFBBEF udiBOM LD xBomWrite FBEXEC StorageWriteBin StorageWriteBin_BOM strFilePath \u002B0 \u002B3 \u002B0 udiBOM ??? ??? ??? ??? ??? LD xFlag AND StorageWriteBin_BOM.Done FBEXEC StoragePrint StoragePrint1 strFilePath strData ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 StorageWriteBin StoragePrint \u83B7\u53D6\u6587\u4EF6\u5939\u5185\u7684\u6587\u4EF6\u5217\u8868 \u83B7\u53D6\u6587\u4EF6\u5939\u4E2D\u4FDD\u5B58\u7684\u6587\u4EF6\u5217\u8868\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u4F1A\u5B58\u50A8\u6587\u4EF6\u8DEF\u5F84\u548C\u67E5\u627E\u6587\u4EF6\u540D\u3002 \u5728\u8DEF\u5F84\u7684\u5F00\u5934\u6DFB\u52A0\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u53EF\u4EE5\u6307\u5B9A\u4FDD\u5B58\u5904\u7684\u5B58\u50A8\u5668\u3002 \u30000:\\(\u5B58\u50A8\u5361) \u30001:\\(CPU\u5185\u5B58) \u5982\u679C\u7701\u7565\u4E86\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u5219\u4FDD\u5B58\u5904\u4F1A\u53D8\u4E3A\u5B58\u50A8\u5361\u3002 \u67E5\u627E\u6587\u4EF6\u540D\u53EF\u4F7F\u7528\u901A\u914D\u7B26\u3002 \u4E0B\u8FF0\u793A\u4F8B\u662F\u53EA\u67E5\u627E\u6587\u4EF6\u540D\u4E2D\u542B\u6709\u201C20240527\u201D\u7684\u6587\u4EF6\u3002 (2) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4ECE\u7531 strFolderPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\uFF0C\u4EE5\u6587\u4EF6\u540D\u542B\u6709\u201C20240527\u201D\u7684\u6587\u4EF6\u4E3A\u5BF9\u8C61\uFF0C\u83B7\u53D6\u6587\u4EF6\u5217\u8868\u3002\u83B7\u53D6\u7684\u6587\u4EF6\u5217\u8868\u4F1A\u5B58\u50A8\u5728 stFileList \u4E2D\u3002 \u5982\u679C strFileList \u4E3A\u7A7A\uFF0C\u5219\u4F1A\u83B7\u53D6\u8BE5\u6587\u4EF6\u5939\u5185\u6240\u6709\u6587\u4EF6\u7684\u6587\u4EF6\u5217\u8868\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StorageGetFileList1 StorageGetFileList FB\u5B9E\u4F8B strFolderPath STRING[32] \u67E5\u627E\u5BF9\u8C61\u6587\u4EF6\u5939\u7684\u8DEF\u5F84 strFileName STRING[32] \u7B5B\u9009\u7684\u6587\u4EF6\u540D\u79F0 xFlag BOOL \u89E6\u53D1 stFileList ARRAY[0..99] OF _FILE_INFO \u6587\u4EF6\u5217\u8868 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _FirstScanOn FUN MOVE \u00270:\\ABC\u0027 strFolderPath FUN MOVE \u0027*20240527*\u0027 strFileName LD xFlag FBEXEC StorageGetFileList StorageGetFileList1 strFolderPath strFileName \u002B0 \u002B1000 stFileList ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 StorageGetFileList TCP\u5957\u63A5\u5B57\u901A\u4FE1 \u901A\u8FC7TCP\u5957\u63A5\u5B57\u901A\u4FE1\u63A5\u6536\u548C\u53D1\u9001\u6570\u636E\u3002 (1) \u5728 xTCPOpen \u7684\u4E0A\u5347\u6CBF\u8FDB\u884C\u4E3B\u52A8\u6253\u5F00\u5904\u7406\u3002\u5728 uiSockNo \u4E2D\u5B58\u50A8\u7528\u4E8E\u8FDE\u63A5\u7684\u5957\u63A5\u5B57\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u3002 \u5B58\u50A8\u5728 uiSockNo \u4E2D\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u4F1A\u5728\u5176\u4ED6\u5957\u63A5\u5B57\u901A\u4FE1FB\u4E2D\u4F7F\u7528\u3002 (2) \u5982\u679C\u5728\u5DF2\u5EFA\u7ACB\u8FDE\u63A5\u7684\u72B6\u6001\u4E0B\u68C0\u6D4B\u5230 xTCPSend \u7684\u4E0A\u5347\u6CBF\uFF0C\u5219\u4F1A\u4EE5 auiSendData [0]\u4E3A\u5F00\u5934\uFF0C\u53D1\u900116384byte\u7684\u6570\u636E\u3002 (3) \u6570\u636E\u53D1\u9001\u5B8C\u6210\u540E\uFF0C\u4F1A\u7B49\u5F85\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u6570\u636E\u3002\u7531\u4E8E\u5DF2\u5C06Timeout\u6307\u5B9A\u4E3A0\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u68C0\u6D4B\u8D85\u65F6\u3002 \u5728\u63A5\u6536\u5230\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u7684\u6570\u636E\u65F6\u8FDB\u884C\u63A5\u6536\u5904\u7406\u3002 (4) \u5728 xTCPClose \u7684\u4E0A\u5347\u6CBF\uFF0C\u8FDB\u884C\u5173\u95ED\u5957\u63A5\u5B57\u5904\u7406\uFF0C\u7ED3\u675F\u901A\u4FE1\u3002 \u00A0 \u5982\u9700\u8FDB\u884CTCP\u88AB\u52A8\u6253\u5F00\u64CD\u4F5C\uFF0C\u8BF7\u66FF\u6362\u4E3A SocketTCP_PassiveOpen \u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA SocketTCP_ActiveOpen1 SocketTCP_ActiveOpen FB\u5B9E\u4F8B SocketTCP_Send1 SocketTCP_Send FB\u5B9E\u4F8B SocketTCP_Recv1 SocketTCP_Recv FB\u5B9E\u4F8B SocketClose1 SocketClose FB\u5B9E\u4F8B xTCPOpen BOOL \u4E3B\u52A8\u6253\u5F00\u8BF7\u6C42 xTCPSend BOOL \u53D1\u9001\u8BF7\u6C42 xTCPClose BOOL \u5173\u95ED\u8BF7\u6C42 uiSocketNo UINT \u5957\u63A5\u5B57\u7F16\u53F7 udiRecvByteSize UDINT \u63A5\u6536\u5B57\u8282\u6570 auiSendData ARRAY[0..16383] OF UINT \u53D1\u9001\u6570\u636E auiRecvData ARRAY[0..16383] OF UINT \u63A5\u6536\u6570\u636E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xTCPOpen ANB SocketTCP_ActiveOpen1.Busy FBEXEC SocketTCP_ActiveOpen SocketTCP_ActiveOpen1 \u002B0 \u002B0 \u0027192.168.0.20\u0027 \u002B9001 uiSocketNo ??? ??? ??? LDP xTCPSend ANB SocketTCP_Send1.Busy FBEXEC SocketTCP_Send SocketTCP_Send1 uiSocketNo \u002B16384 auiSendData[#0] ??? ??? ??? LD SocketTCP_Send1.Done ANB SocketTCP_Recv1.Busy FBEXEC SocketTCP_Recv SocketTCP_Recv1 uiSocketNo \u002B0 auiRecvData[#0] \u002B0 udiRecvByteSize ??? ??? ??? LDP xTCPClose ANB SocketClose1.Busy FBEXEC SocketClose SocketClose1 uiSocketNo ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 SocketTCP_ActiveOpen SocketTCP_PassiveOpen SocketTCP_Send SocketTCP_Recv SocketClose UDP\u5957\u63A5\u5B57\u901A\u4FE1 \u901A\u8FC7UDP\u5957\u63A5\u5B57\u901A\u4FE1\u63A5\u6536\u548C\u53D1\u9001\u6570\u636E\u3002 (1) \u5728 xUDPOpen \u7684\u4E0A\u5347\u6CBF\u8FDB\u884C\u6253\u5F00\u5904\u7406\u3002\u5728 uiSockNo \u4E2D\u5B58\u50A8\u7528\u4E8E\u8FDE\u63A5\u7684\u5957\u63A5\u5B57\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u3002 \u5B58\u50A8\u5728 uiSockNo \u4E2D\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u4F1A\u5728\u5176\u4ED6\u5957\u63A5\u5B57\u901A\u4FE1FB\u4E2D\u4F7F\u7528\u3002 (2) \u6253\u5F00\u5904\u7406\u5B8C\u6210\u540E\uFF0C\u4F1A\u7B49\u5F85\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u6570\u636E\u3002\u7531\u4E8E\u5DF2\u5C06Timeout\u6307\u5B9A\u4E3A0\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u68C0\u6D4B\u8D85\u65F6\u3002 \u5728\u63A5\u6536\u5230\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u7684\u6570\u636E\u65F6\uFF0C\u8FDB\u884C\u63A5\u6536\u5904\u7406\uFF0C\u5E76\u5728 strDstAddress \u548C uiDstPortNo \u4E2D\u5B58\u50A8\u5BF9\u65B9\u8BBE\u5907\u7684IP\u5730\u5740\u548C\u7AEF\u53E3\u53F7\u3002 (3) \u6570\u636E\u63A5\u6536\u5B8C\u6210\u540E\uFF0C\u8FDB\u884C\u6570\u636E\u53D1\u9001\u3002\u5BF9\u53D1\u9001\u76EE\u6807\u6307\u5B9A\u5728\uFF082\uFF09\u4E2D\u5B58\u50A8\u7684\u5BF9\u65B9\u8BBE\u5907\u7684IP\u5730\u5740\u548C\u7AEF\u53E3\u53F7\u3002 \u6570\u636E\u53D1\u9001\u5B8C\u6210\u540E\uFF0C\u4F1A\u8FD4\u56DE\u5230\uFF082\uFF09\u7684\u7B49\u5F85\u63A5\u6536\u6570\u636E\u72B6\u6001\u3002\u6B64\u540E\uFF0C\u4F1A\u6309\u7167\u540C\u6837\u7684\u6B65\u9AA4\u91CD\u590D\u8FDB\u884C\u6570\u636E\u7684\u63A5\u6536\u548C\u53D1\u9001\u3002 (4) \u5728 xTCPClose \u7684\u4E0A\u5347\u6CBF\uFF0C\u8FDB\u884C\u5173\u95ED\u5957\u63A5\u5B57\u5904\u7406\uFF0C\u7ED3\u675F\u901A\u4FE1\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA SocketUDP_Open1 SocketUDP_Open FB\u5B9E\u4F8B SocketUDP_Recv1 SocketUDP_Recv FB\u5B9E\u4F8B SocketUDP_Send1 SocketUDP_Send FB\u5B9E\u4F8B SocketClose1 SocketClose FB\u5B9E\u4F8B xUDPOpen BOOL \u6253\u5F00\u8BF7\u6C42 xUDPClose BOOL \u5173\u95ED\u8BF7\u6C42 uiSocketNo UINT \u5957\u63A5\u5B57\u7F16\u53F7 strDstAddress STRING[15] \u5BF9\u65B9\u8BBE\u5907\u7684IP\u5730\u5740 uiDstPortNo UINT \u5BF9\u65B9\u8BBE\u5907\u7684\u7AEF\u53E3\u53F7 udiRecvByteSize UDINT \u63A5\u6536\u5B57\u8282\u6570 auiSendData ARRAY[0..16383] OF UINT \u53D1\u9001\u6570\u636E auiRecvData ARRAY[0..16383] OF UINT \u63A5\u6536\u6570\u636E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xUDPOpen ANB SocketUDP_Open1.Busy FBEXEC SocketUDP_Open SocketUDP_Open1 \u002B0 \u002B0 uiSocketNo ??? ??? ??? LD SocketUDP_Open1.Done OR SocketUDP_Send1.Done ANB SocketUDP_Recv1.Busy FBEXEC SocketUDP_Recv SocketUDP_Recv1 uiSocketNo \u002B16384 auiRecvData[#0] \u002B0 udiRecvByteSize strDstAddress uiDstPortNo ??? ??? ??? LD SocketUDP_Recv1.Done ANB SocketUDP_Send1.Busy FBEXEC SocketUDP_Send SocketUDP_Send1 uiSocketNo strDstAddress uiDstPortNo \u002B16384 auiSendData[#0] ??? ??? ??? LDP xUDPClose ANB SocketClose1.Busy FBEXEC SocketClose SocketClose1 uiSocketNo ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 SocketUDP_Open SocketUDP_Recv SocketUDP_Send SocketClose \u901A\u8FC7Ping\u8FDB\u884C\u8FDE\u63A5\u786E\u8BA4 \u6267\u884CPing\u6307\u4EE4\uFF0C\u4EE5\u786E\u8BA4\u4E0E\u6307\u5B9AIP\u5730\u5740\u7684\u8BBE\u5907\u4E4B\u95F4\u662F\u5426\u5904\u4E8E\u94FE\u63A5\u72B6\u6001\u3002\u5982\u679C\u5DF2\u5EFA\u7ACB\u94FE\u63A5\uFF0C\u5219 xConnected \u4F1A\u53D8\u4E3ATRUE\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA Ping1 Ping FB\u5B9E\u4F8B xFlag BOOL \u89E6\u53D1 xConnected BOOL \u5EFA\u7ACB\u94FE\u63A5 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEAND Ping Ping1 \u0027192.168.0.20\u0027 \u002B100 ??? ??? ??? SET xConnected \u258C \u76F8\u5173\u6307\u4EE4 Ping \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u591A\u4E2A\u6570\u636E\uFF09 \u8BFB\u5199\u5355\u5143\u7F16\u53F71\u7684\u6269\u5C55\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u503C\u3002\u4F7F\u7528\u7CFB\u7EDF\u53D8\u91CF_ExpansionUnit.Connected\uFF0C\u786E\u8BA4\u6307\u5B9A\u7F16\u53F7\u7684\u6269\u5C55\u5355\u5143\u662F\u5426\u5B58\u5728\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xFlag BOOL \u89E6\u53D1 auiReadData ARRAY[0..99] OF UINT \u8BFB\u53D6\u6570\u636E auiWriteData ARRAY[0..99] OF UINT \u5199\u5165\u6570\u636E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xFlag AND _ExpansionUnit.Connected[#1] FUN UnitBufMemBlockRead \u002B1 \u002B0 auiReadData[#0] \u002B100 FUN UnitBufMemBlockWrite \u002B1 \u002B10000 auiWriteData[#0] \u002B100 \u258C \u76F8\u5173\u6307\u4EE4 UnitBufMemBlockRead UnitBufMemBlockWrite \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u5355\u4E2A\u6570\u636E\uFF09 \u8BFB\u5199\u5355\u5143\u7F16\u53F71\u7684\u6269\u5C55\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u503C\u3002\u4F7F\u7528\u7CFB\u7EDF\u53D8\u91CF_ExpansionUnit.Connected\uFF0C\u786E\u8BA4\u6307\u5B9A\u7F16\u53F7\u7684\u6269\u5C55\u5355\u5143\u662F\u5426\u5B58\u5728\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xFlag BOOL \u89E6\u53D1 diReadData DINT \u8BFB\u53D6\u6570\u636E diWriteData DINT \u5199\u5165\u6570\u636E \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xFlag AND _ExpansionUnit.Connected[#1] FUN UnitBufMemRead #1 \u002B0 diReadData FUN UnitBufMemWrite \u002B1 \u002B10000 diWriteData \u258C \u76F8\u5173\u6307\u4EE4 UnitBufMemRead UnitBufMemWrite 2\u70B9\u95F4\u7684\u65F6\u95F4\u6D4B\u91CF \u6D4B\u91CF\u4ECE xFlag1 \u7684\u4E0A\u5347\u6CBF\u5230 xFlag2 \u7684\u4E0A\u5347\u6CBF\u7684\u65F6\u95F4\uFF08\u4EE5100ns\u4E3A\u5355\u4F4D\uFF09\u3002 (1) \u68C0\u6D4B\u5230 xFlag1 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u5237\u65B0\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\uFF0C\u5E76\u5C06\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\u5B58\u50A8\u5230 udiFreeRunCounter \u4E2D\u3002 (2) \u68C0\u6D4B\u5230 xFlag2 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u5237\u65B0\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\uFF0C\u7136\u540E\u8BA1\u7B97\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u5F53\u524D\u503C\u4E0E\u5728\uFF081\uFF09\u4E2D\u83B7\u53D6\u7684\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\u7684\u5DEE\u503C\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xFlag1 BOOL \u89E6\u53D11 udiFreeRunCounter UDINT xFlag1\u4E0A\u5347\u65F6\u7684\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668 xFlag2 BOOL \u89E6\u53D12 udiElapsedTime UDINT 2\u70B9\u95F4\u7684\u7ECF\u8FC7\u65F6\u95F4 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xFlag1 FUN RefreshFreerunCounter FUN MOVE _FreeRunCounter100ns udiFreeRunCounter LDP xFlag2 FUN RefreshFreerunCounter FUN SUB udiElapsedTime _FreeRunCounter100ns udiFreeRunCounter \u258C \u76F8\u5173\u6307\u4EE4 RefreshFreerunCounter \u7981\u6B62\u4E2D\u65AD\uFF08\u6307\u5B9A\u8303\u56F4\uFF09 \u4EC5\u5728\u6267\u884C\u7A0B\u5E8F\u4E2D\u6307\u5B9A\u7684\u4F4D\u7F6E\u65F6\uFF0C\u7981\u6B62\u4E2D\u65AD\u5904\u7406\u3002 (1) \u5728 xTrigger \u53D8\u4E3ATRUE\u65F6\u6267\u884C\u5141\u8BB8\u4E2D\u65AD\uFF0C\u5728 xTrigger \u53D8\u4E3AFALSE\u65F6\u6267\u884C\u7981\u6B62\u4E2D\u65AD\u3002 (2) \u5728\u8981\u7981\u6B62\u4E2D\u65AD\u7684\u4F4D\u7F6E\u7684\u524D\u9762\uFF0C\u6267\u884CDisableInterruptRange\u6307\u4EE4\u3002 (3) \u4ECEDisableInterruptRange\u6307\u4EE4\u5F00\u59CB\uFF0C\u5230\u6267\u884C\u4E0B\u4E00\u4E2AEnableInterrupt\u6307\u4EE4\u4E3A\u6B62\u7684\u8303\u56F4\uFF0C\u662F\u7981\u6B62\u4E2D\u65AD\u7684\u4F4D\u7F6E\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xTrigger BOOL \u4E2D\u65AD\u5141\u8BB8 Flag BOOL \u4E2D\u65AD\u7684\u5141\u8BB8/\u7981\u6B62\u72B6\u6001 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xTrigger FUN EnableInterrupt LDB xTrigger FUN DisableInterrupt LD _AlwaysOn FUN DisableInterruptRange Flag RUNG_COMMENT ;\u4E2D\u65AD\u7981\u7528\u8303\u56F4\u5F00\u59CB RUNG_COMMENT ;\u4E2D\u65AD\u7981\u6B62\u8303\u56F4\u7ED3\u675F LD Flag FUN EnableInterrupt \u258C \u76F8\u5173\u6307\u4EE4 EnableInterrupt DisableInterrupt DisableInterruptRange \u83B7\u53D6\u56FA\u5B9A\u5468\u671F/\u5355\u5143\u95F4\u540C\u6B65/\u4E2D\u65AD\u65F6\u7684\u65E5\u5FD7\u6570\u636E \u5728\u56FA\u5B9A\u5468\u671F/\u5355\u5143\u95F4\u540C\u6B65/\u4E2D\u65AD\u7B49\u4EFB\u610F\u65F6\u673A\uFF0C\u83B7\u53D6\u65E5\u5FD7/\u8DDF\u8E2A\u7684\u8F6F\u5143\u4EF6\u6570\u636E\u3002 \u4E0B\u8FF0\u793A\u4F8B\u7A0B\u5E8F\u662F\u901A\u8FC7\u5728\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u4E2D\u59CB\u7EC8\u542F\u7528LoggingTrigger\u6307\u4EE4\uFF0C\u6765\u83B7\u53D6\u5355\u5143\u95F4\u540C\u6B65\u5468\u671F\u5185\u7684\u8F6F\u5143\u4EF6\u6570\u636E\u3002 \u00A0 \u5982\u9700\u901A\u8FC7LoggingTrigger\u6307\u4EE4\u83B7\u53D6\u8FD0\u884C\u8BB0\u5F55\uFF0C\u5219\u5E94\u5C06\u5176\u8BBE\u4E3A\u901A\u8FC7\u89E6\u53D1\u6307\u4EE4\u6765\u6536\u96C6\u8FD0\u884C\u8BB0\u5F55\u3002 \u00A0 \u5173\u4E8E\u65E5\u5FD7/\u8DDF\u8E2A\u529F\u80FD\u7684\u8BE6\u7EC6\u5185\u5BB9\uFF0C\u8BF7\u53C2\u8003\u6240\u4F7F\u7528\u7684CPU\u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _AlwaysOn FUN LoggingTrigger \u002B0 \u258C \u76F8\u5173\u6307\u4EE4 LoggingTrigger \u83B7\u53D6\u56FA\u5B9A\u5468\u671F/\u5355\u5143\u95F4\u540C\u6B65/\u4E2D\u65AD\u65F6\u7684\u8FD0\u884C\u8BB0\u5F55\u6570\u636E \u5728\u56FA\u5B9A\u5468\u671F/\u5355\u5143\u95F4\u540C\u6B65/\u4E2D\u65AD\u7B49\u4EFB\u610F\u65F6\u673A\uFF0C\u83B7\u53D6\u8FD0\u884C\u8BB0\u5F55\u7684\u8F6F\u5143\u4EF6\u6570\u636E\u3002 \u4E0B\u8FF0\u793A\u4F8B\u7A0B\u5E8F\u662F\u901A\u8FC7\u5728\u5355\u5143\u95F4\u540C\u6B65\u6A21\u5757\u4E2D\u59CB\u7EC8\u542F\u7528OperationRecordCapture\u6307\u4EE4\uFF0C\u6765\u83B7\u53D6\u5355\u5143\u95F4\u540C\u6B65\u5468\u671F\u5185\u7684\u8F6F\u5143\u4EF6\u6570\u636E\u3002 \u00A0 \u5982\u9700\u901A\u8FC7OperationRecordCapture\u6307\u4EE4\u83B7\u53D6\u8FD0\u884C\u8BB0\u5F55\uFF0C\u5219\u5E94\u5C06\u5176\u8BBE\u4E3A\u901A\u8FC7\u89E6\u53D1\u6307\u4EE4\u6765\u6536\u96C6\u8FD0\u884C\u8BB0\u5F55\u3002 \u00A0 \u5173\u4E8E\u8FD0\u884C\u8BB0\u5F55\u529F\u80FD\u7684\u8BE6\u7EC6\u5185\u5BB9\uFF0C\u8BF7\u53C2\u8003\u6240\u4F7F\u7528\u7684CPU\u5355\u5143\u7684\u7528\u6237\u624B\u518C\u3002 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _AlwaysOn FUN OperationRecordCapture \u002B0 \u258C \u76F8\u5173\u6307\u4EE4 OperationRecordCapture \u4FDD\u5B58\u8FD0\u884C\u8BB0\u5F55 \u5728\u68C0\u6D4B\u5230 xTrigger \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4FDD\u5B58ID0\u7684\u8FD0\u884C\u8BB0\u5F55\u3002\u5C06 strTrgComment \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u6DFB\u52A0\u5230\u8FD0\u884C\u8BB0\u5F55\u7684\u6587\u4EF6\u5939\u540D\u4E0A\u3002 \u8FD0\u884C\u8BB0\u5F55\u4FDD\u5B58\u5B8C\u6210\u540E\uFF0C xCmp \u4F1A\u53D8\u4E3A TRUE\uFF1B\u5982\u679C\u4FDD\u5B58\u5931\u8D25\uFF0C\u5219 xError \u4F1A\u53D8\u4E3ATRUE\u3002 \u00A0 \u4F7F\u7528OperationRecordSave\u6307\u4EE4\u53EF\u4EE5\u8BBE\u5B9A17\u4E2A\u4EE5\u4E0A\u7684\u4FDD\u5B58\u89E6\u53D1\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA xTrigger BOOL \u4FDD\u5B58\u89E6\u53D1 strComment STRING[64] \u89E6\u53D1\u6CE8\u91CA xCmp BOOL \u4FDD\u5B58\u5B8C\u6210 xErr BOOL \u4FDD\u5B58\u5931\u8D25 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xTrigger FUN OperationRecordSave \u002B0 strComment LD _OperationRecorder[#0].SaveComplete OUT xCmp LD _OperationRecorder[#0].SaveError OUT xErr \u258C \u76F8\u5173\u6307\u4EE4 OperationRecordSave \u7A0B\u5E8F\u8D44\u4EA7\u5316 \u83B7\u53D6\u8F6F\u5143\u4EF6\u5730\u5740\u6307\u4EE4\u3001\u5355\u5143\u7C7B\u578B\u5224\u5B9A\u6307\u4EE4\u4EE5\u53CAFB\uFF08\u529F\u80FD\u5757\uFF09\uFF0C\u6765\u7F16\u5199\u4E0D\u4F9D\u8D56\u4E8E\u5355\u5143\u7F16\u53F7\u548C\u8F6F\u5143\u4EF6\u5206\u914D\u7684\u6807\u51C6\u7A0B\u5E8F\u3002\u4E0B\u8FF0\u662F\u5C06\u53EF\u5728CPU\u5355\u5143\u3001KV-XLE02\u4E2D\u4F7F\u7528\u7684EtherNet/IP\u901A\u4FE1\u7684\u4F20\u611F\u5668\u8BBE\u5B9A\u6279\u91CF\u4F20\u8F93\u529F\u80FD\u8FDB\u884CFB\u5316\u5904\u7406\u7684\u793A\u4F8B\u3002 \u258C FB\u5916\u90E8 \u4F7F\u7528\u81EA\u5B9A\u4E49FB\u201CSensorSettingTransfer\u201D\uFF0C\u6267\u884C\u4F20\u611F\u5668\u8BBE\u5B9A\u6279\u91CF\u4F20\u8F93\u529F\u80FD\u3002 (1) \u5C06 xFlag \u7F6E\u4E3ATRUE\u65F6\uFF0C\u5373\u4F1A\u6267\u884C\u7528\u4E8E\u8FD0\u884C\u4F20\u611F\u5668\u8BBE\u5B9A\u6279\u91CF\u4F20\u8F93\u529F\u80FD\u7684\u529F\u80FD\u5757\u3002\u5728\u8FD9\u4E2A\u793A\u4F8B\u4E2D\uFF0C\u662F\u901A\u8FC7FBEXEC\uFF08\u59CB\u7EC8\u6267\u884C\uFF09\u6765\u8C03\u7528FB\u7684\u3002 (2) \u5BF9\u81EA\u53D8\u91CF EIPUnit \uFF0C\u6307\u5B9A\u4F7F\u7528\u6279\u91CF\u4F20\u8F93\u529F\u80FD\u7684\u5355\u5143\uFF08CPU\u5355\u5143\u6216KV-XLE02\uFF09\u7684\u7CFB\u7EDF\u53D8\u91CF_UnitIdAdr\u3002 \u4F8B\uFF1A\u6307\u5B9A\u5355\u5143\u7F16\u53F70\u7684CPU\u5355\u5143\u7684_UnitIdAdr\u65F6\uFF0C\u5E94\u6307\u5B9A\u4E3A_UnitIdAdr[0]\u3002 (3) \u5728 xFlag \u4E3ATRUE\u7684\u72B6\u6001\u4E0B\u5C06 xWrite \u8BBE\u4E3ATRUE\uFF0C\u5373\u4F1A\u6267\u884C\u4F20\u611F\u5668\u8BBE\u5B9A\u6279\u91CF\u4F20\u8F93\u3002\u4F20\u8F93\u6210\u529F\u65F6\uFF0C xCmp \u4F1A\u53D8\u4E3ATRUE\uFF1B\u4F20\u8F93\u5931\u8D25\u65F6\uFF0C xFail \u4F1A\u53D8\u4E3ATRUE\u3002 \u5176\u4ED6\u81EA\u53D8\u91CF\u8BF7\u53C2\u9605\u4E0B\u8FF0\u81EA\u53D8\u91CF\u5217\u8868\u3002 \u81EA\u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u81EA\u53D8\u91CF\u7C7B\u578B \u6570\u636E\u7C7B\u578B \u6CE8\u91CA EIPUnit IN _UNIT_ID_ADR _UnitIdAdr[N]\uFF08N\u662F\u5BF9\u8C61\u5355\u5143\u7684\u5355\u5143\u7F16\u53F7\uFF09 xWriteReq IN BOOL \u4F20\u611F\u5668\u8BBE\u5B9A\u6279\u91CF\u4F20\u8F93\u8BF7\u6C42 uiTransNo IN UINT \u6279\u91CF\u4F20\u8F93\u7F16\u53F7 uiSettingNo IN UINT \u6279\u91CF\u4F20\u8F93\u8BBE\u5B9A\u7F16\u53F7 xBusy OUT BOOL \u6267\u884C\u4E2D xCmp OUT BOOL \u5B8C\u6210 xFail OUT BOOL \u5931\u8D25 uiCmpCode OUT UINT \u5B8C\u6210\u4EE3\u7801 uiExecTime OUT UINT \u6267\u884C\u65F6\u95F4 xUnitError OUT BOOL \u5355\u5143\u8BBE\u5B9A\u9519\u8BEF \u7A0B\u5E8F \u00A0 \u258C FB\u5185\u90E8 \u4E0B\u9762\u8BF4\u660E\u81EA\u5B9A\u4E49FB\u201CSensorSettingTransfer\u201D\u5185\u90E8\u7684\u7A0B\u5E8F\u3002 (1) \u5F53FB\u7684\u6267\u884C\u6761\u4EF6\u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C xInitialize \u4F1A\u53EA\u5728\u4E00\u6B21\u626B\u63CF\u4E2D\u53D8\u4E3ATRUE\u3002\u53EF\u5C06 xInitialize \u7528\u4F5C\u521D\u59CB\u5316\u7684\u6807\u5FD7\u3002 (2) \u4EE5EN\u7684FALSE\u4F5C\u4E3A\u6761\u4EF6\uFF0C\u4F7F\u7A0B\u5E8F\u8DF3\u8F6C\u5230END\u6307\u4EE4\u7684\u524D\u9762\u4F4D\u7F6E\u3002\u7531\u4E8E\u793A\u4F8B\u4E2D\u7684FB\u662F\u901A\u8FC7FBEXEC\u6307\u4EE4\u8C03\u7528\u7684\uFF0C\u6240\u4EE5\u5373\u4F7FFB\u7684\u6267\u884C\u6761\u4EF6\u4E3AFALSE\uFF0C\u4E5F\u4F1A\u4E00\u76F4\u6267\u884CFB\u5185\u90E8\u7684\u7A0B\u5E8F\u3002 \u5982\u679C\u4E0D\u60F3\u5728FB\u7684\u6267\u884C\u6761\u4EF6\u4E3AFALSE\u65F6\u6267\u884CFB\u5185\u90E8\u7684\u7A0B\u5E8F\uFF0C\u5219\u53EF\u4EE5\u50CF\u672C\u793A\u4F8B\u8FD9\u6837\uFF0C\u63CF\u8FF0\u5728EN\u4E3AFALSE\u65F6\u8DF3\u8F6C\u5230END\u6307\u4EE4\u7684\u5904\u7406\u3002 EN\u662F\u7528\u4E8E\u5728FB\u5185\u90E8\u786E\u8BA4FB\u6267\u884C\u6761\u4EF6\u7684\u53D8\u91CF\u3002FB\u6267\u884C\u6761\u4EF6\u7684TRUE/FALSE\u4F1A\u88AB\u590D\u5236\u5230FB\u5185\u90E8\u7684EN\u4E0A\u3002 (3) xInitialize \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4F7F\u7528IS_**\uFF08\u5355\u5143\u7C7B\u578B\u5224\u5B9A\u6307\u4EE4\uFF09\u6765\u786E\u8BA4\u5BF9 EIPUnit \u6307\u5B9A\u7684\u5355\u5143\u662FCPU\u5355\u5143\u8FD8\u662FKV-XLE02\u3002 (4) \u5982\u679C\u5BF9 EIPUnit \u6307\u5B9A\u7684\u5355\u5143\u662FCPU\u5355\u5143\u6216KV-XLE02\uFF0C\u5219\u4F1A\u8DF3\u8F6C\u5230SBN\uFF5ERET\u4E4B\u95F4\u7684\u5B50\u7A0B\u5E8F\u4E2D\uFF0C\u8FDB\u884C\u8F6F\u5143\u4EF6\u5730\u5740\u7684\u8BA1\u7B97\u3002 \u5982\u679C\u5BF9 EIPUnit \u6307\u5B9A\u7684\u5355\u5143\u65E2\u4E0D\u662FCPU\u5355\u5143\u4E5F\u4E0D\u662FKV-XLE02\uFF0C\u5219\u4F1A\u5C06 xUnitError \u7F6E\u4E3ATRUE\u3002 (5) \u5728\u5B50\u7A0B\u5E8F\u5185\u90E8\u8FDB\u884C\u8F6F\u5143\u4EF6\u5730\u5740\u7684\u8BA1\u7B97\u3002\u5728 EIPUnit \u4E2D\u6307\u5B9A\u7684\u5355\u5143\u7684\u5F00\u5934R\u5730\u5740\u548C\u5F00\u5934DM\u5730\u5740\u4F1A\u88AB\u5B58\u50A8\u5230\u4E0B\u8FF0\u53D8\u91CF\u4E2D\u3002 \u00B7  EIPUnit.RelayAdr \uFF1A\u5F00\u5934R\u5730\u5740 \u00B7  EIPUnit.DmAdr \uFF1A\u5F00\u5934DM\u5730\u5740 \u4F7F\u7528DevAddressAdd\u6307\u4EE4\uFF0C\u83B7\u53D6\u6279\u91CF\u4F20\u8F93\u8BF7\u6C42\u7EE7\u7535\u5668\u7B49\u5728FB\u5185\u90E8\u4F7F\u7528\u7684\u5355\u5143\u8F6F\u5143\u4EF6\u7684\u5730\u5740\u3002\u6B64\u5916\uFF0C\u7531\u4E8ECPU\u5355\u5143\u548CKV-XLE02\u7684\u5730\u5740\u6620\u5C04\u4E0D\u540C\uFF0C\u6240\u4EE5\u8FDB\u884C\u4E86\u8BA1\u7B97\u7684\u5206\u652F\u5904\u7406\u3002 (6) \u4F7F\u7528\u83B7\u53D6\u5230\u7684\u5730\u5740\uFF0C\u7F16\u5199\u6279\u91CF\u4F20\u8F93\u8BF7\u6C42\u7684\u7A0B\u5E8F\u3002\u901A\u8FC7\u5728\u5B58\u50A8\u4E86\u5730\u5740\u7684\u53D8\u91CF\u540D\u5F00\u5934\u6DFB\u52A0\u201C*\u201D\uFF0C\u6765\u6307\u5B9A\u8BE5\u5730\u5740\u6240\u6307\u5411\u7684\u8F6F\u5143\u4EF6\u3002 \u4F7F\u7528UnitBufMemRead\u6307\u4EE4\u7B49\u6307\u5B9A\u5355\u5143\u7F16\u53F7\u65F6\uFF0C\u5E94\u4F7F\u7528 EIPUnit.UnitNo \uFF08\u5355\u5143\u7F16\u53F7\uFF09\u3002 \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA x_CPU BOOL \u6307\u5B9A\u5355\u5143\u662FCPU\u5355\u5143 x_XLE02 BOOL \u6307\u5B9A\u5355\u5143\u662FKV-XLE02 xInitialize BOOL \u521D\u59CB\u5316\u6807\u5FD7 pWriteReq UDINT \u6279\u91CF\u4F20\u8F93\u8BF7\u6C42\u7EE7\u7535\u5668\u7684\u5730\u5740\u5B58\u50A8\u4F4D\u7F6E pCmp UDINT \u6279\u91CF\u4F20\u8F93\u5B8C\u6210\u7EE7\u7535\u5668\u7684\u5730\u5740\u5B58\u50A8\u4F4D\u7F6E pFail UDINT \u6279\u91CF\u4F20\u8F93\u5931\u8D25\u7EE7\u7535\u5668\u7684\u5730\u5740\u5B58\u50A8\u4F4D\u7F6E pBusy UDINT \u6279\u91CF\u4F20\u8F93\u6267\u884C\u4E2D\u7EE7\u7535\u5668\u7684\u5730\u5740\u5B58\u50A8\u4F4D\u7F6E pBatchTransSettingNo UDINT \u6279\u91CF\u4F20\u8F93\u8BBE\u5B9A\u7F16\u53F7\u7684\u5730\u5740\u5B58\u50A8\u4F4D\u7F6E pBatchTransCmpNo UDINT \u6279\u91CF\u4F20\u8F93\u5B8C\u6210\u4EE3\u7801\u7684\u5730\u5740\u5B58\u50A8\u4F4D\u7F6E uiBufExecTime UINT \u6279\u91CF\u4F20\u8F93\u5904\u7406\u65F6\u95F4\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u5730\u5740 \u7A0B\u5E8F \u00A0 \u00A0 \u00A0 \u00A0 \u2022 \u4F7F\u7528FBCALL\u6307\u4EE4\u8C03\u7528\u4E86FB\u65F6\uFF0C\u4E0D\u5728FB\u5185\u90E8\u68C0\u6D4BEN\u7684\u4E0A\u5347\u6CBF\u3002\u56E0\u6B64\uFF0C\u5982\u679C\u8981\u5728FB\u7684\u6267\u884C\u6761\u4EF6\u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u5728FB\u5185\u90E8\u8FDB\u884C\u521D\u59CB\u5316\u5904\u7406\uFF0C\u8BF7\u50CF\u672C\u793A\u4F8B\u8FD9\u6837\uFF0C\u4F7F\u7528FBEXEC\u6307\u4EE4\u8C03\u7528FB\uFF0C\u5E76\u5728FB\u5185\u90E8\u4F7F\u7528EN\u7684\u4E0A\u5347\u6CBF\u3002 \u2022 \u521D\u6B21\u6267\u884CFB\u65F6\uFF0C\u65E0\u6CD5\u5728FB\u5185\u90E8\u68C0\u6D4B\u5230EN\u7684\u4E0A\u5347\u6CBF\u3002\u5982\u9700\u5305\u62EC\u521D\u6B21\u6267\u884C\u5728\u5185\u90FD\u8FDB\u884C\u521D\u59CB\u5316\u5904\u7406\uFF0C\u8BF7\u4F7F\u7528EN\u7684\u4E0A\u5347\u6CBF\u548C_ProgramFirstRun\u7684OR\u6761\u4EF6\u6765\u8FDB\u884C\u521D\u59CB\u5316\u5904\u7406\u3002 \u2022 \u5EFA\u8BAE\u5728FB\u5185\u90E8\u4EC5\u4F7F\u7528\u5C40\u90E8\u53D8\u91CF\u3001\u5C40\u90E8\u8F6F\u5143\u4EF6\u3002\u5982\u679C\u4F7F\u7528\u5168\u5C40\u53D8\u91CF\u3001\u5168\u5C40\u8F6F\u5143\u4EF6\uFF0C\u90A3\u4E48\u5728\u8C03\u7528\u591A\u4E2A\u76F8\u540CFB\u65F6\uFF0CFB\u4E4B\u95F4\u53EF\u80FD\u4F1A\u53D1\u751F\u8F6F\u5143\u4EF6\u51B2\u7A81\uFF0C\u51FA\u73B0\u7C7B\u4F3C\u53CC\u91CD\u7EBF\u5708\u7684\u60C5\u51B5\u3002 \u258C \u76F8\u5173\u6307\u4EE4 SBN CALL RET CJ LABEL FBEXEC IS_*** DevAddressAdd \u5355\u8F74\u63A7\u5236 \u4F7F\u7528\u5355\u8F74\u8FDB\u884C\u52A8\u4F5C\u5141\u8BB8\u3001\u4F3A\u670D\u5F00\u542F\u3001\u539F\u70B9\u590D\u5F52\u3001JOG\u3001\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u3001\u6E05\u9664\u9519\u8BEF\u7B49\u64CD\u4F5C\u3002 (1) \u4F7F\u7528\u7CFB\u7EDF\u53D8\u91CF_MC_Common.StatusBit.Enable\uFF08\u52A8\u4F5C\u5C31\u7EEA\uFF09\u548C_MC_Axis[#1].StatusBit.ServoReady\uFF08\u8F741\u4F3A\u670D\u5C31\u7EEA\uFF09\u521B\u5EFA\u8054\u9501\u3002 \u8BF7\u6839\u636E\u9700\u8981\u6DFB\u52A0\u8FD0\u884C\u6240\u9700\u7684\u6761\u4EF6\uFF08\u63A5\u70B9\uFF09\u3002 (2) \u5728 xOperationEnable \u4E3ATRUE\u7684\u671F\u95F4\uFF0C\u5141\u8BB8\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u8FD0\u884C\u3002\u5728\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u53D8\u4E3A\u53EF\u8FD0\u884C\u72B6\u6001\u540E\uFF0C\u5C06\u8F741\u7F6E\u4E8E\u4F3A\u670D\u5F00\u542F\u72B6\u6001\u3002 \u5728\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u53D8\u4E3A\u53EF\u8FD0\u884C\u72B6\u6001\uFF0C\u8F741\u53D8\u4E3A\u4F3A\u670D\u5F00\u542F\u72B6\u6001\u65F6\uFF0C xAxisOpReady \uFF08\u8FD0\u52A8FB\u7684\u8054\u9501\uFF09\u4F1A\u53D8\u4E3ATRUE\u3002 (3) xHoming \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 (4) \u5728 xJogFowardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogForward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u6B63\u65B9\u5411JOG\u5904\u7406\u3002\u5728 xJogBackwardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogBackward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u8D1F\u65B9\u5411JOG\u5904\u7406\u3002 \u5BF9 xJogForward \u548C xJogBackward \u8FDB\u884C\u4E92\u65A5\u63A7\u5236\uFF0C\u4EE5\u786E\u4FDD\u5B83\u4EEC\u4E0D\u4F1A\u540C\u65F6\u53D8\u4E3ATRUE\u3002 (5) \u5C06 xMove \u7F6E\u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDB\u884C\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u3002 (6) \u5C06 xErrClear \u7F6E\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u6E05\u9664\u9519\u8BEF\u548C\u9A71\u52A8\u5668\u62A5\u8B66\u590D\u4F4D\u5904\u7406\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_OperationEnable1 MC_OperationEnable FB\u5B9E\u4F8B MC_Power1 MC_Power FB\u5B9E\u4F8B MC_Home1 MC_Home FB\u5B9E\u4F8B MC_Jog1 MC_Jog FB\u5B9E\u4F8B MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_Reset1 MC_Reset FB\u5B9E\u4F8B xAxisOpReady BOOL \u8FD0\u52A8FB\u7684\u8054\u9501 xOperationEnable BOOL \u52A8\u4F5C\u5141\u8BB8 xHoming BOOL \u539F\u70B9\u590D\u5F52 xJogForwardReq BOOL \u6B63\u65B9\u5411JOG\u8BF7\u6C42 xJogBackwardReq BOOL \u8D1F\u65B9\u5411JOG\u8BF7\u6C42 xJogForward BOOL \u6B63\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogBackward BOOL \u8D1F\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogFast BOOL \u9AD8\u901FJOG xMove BOOL \u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D xErrClear BOOL \u6E05\u9664\u9519\u8BEF \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _MC_Common.StatusBit.Enable AND _MC_Axis[#1].StatusBit.ServoReady OUT xAxisOpReady LD xOperationEnable FBEAND MC_OperationEnable MC_OperationEnable1 ??? ??? ??? FBEXEC MC_Power MC_Power1 _MC_Axis[#1] ??? ??? ??? LD xHoming AND xAxisOpReady FBEXEC MC_Home MC_Home1 _MC_Axis[#1] \u002B0 ??? ??? ??? ??? LD xJogForwardReq AND xAxisOpReady ANB xJogBackward OUT xJogForward LD xJogBackwardReq AND xAxisOpReady ANB xJogForward OUT xJogBackward LD xJogForward FBEXEC MC_Jog MC_Jog1 _MC_Axis[#1] xJogBackward xJogFast \u002B100 \u002B500 \u002B12.3 \u002B50 \u002B50 \u002B100 ??? ??? ??? ??? LD xMove AND xAxisOpReady FBEXEC MC_MoveAbsolute MC_MoveAbsolute1 _MC_Axis[#1] \u002B123.45 \u002B50 \u002B25 \u002B25 \u002B100 ??? ??? ??? ??? ??? ??? ??? LD xErrClear FBEXEC MC_Reset MC_Reset1 _MC_Axis[#1] ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_OperationEnable MC_Power MC_Home MC_Jog MC_MoveAbsolute MC_Reset \u52A8\u4F5C\u5141\u8BB8\u548C\u4F3A\u670D\u5F00\u542F \u5728 xFlag \u4E3ATRUE\u7684\u671F\u95F4\uFF0C\u5141\u8BB8\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u8FD0\u884C\u3002\u5728\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u53D8\u4E3A\u53EF\u8FD0\u884C\u72B6\u6001\u540E\uFF0C\u5C06\u8F741\u7F6E\u4E8E\u4F3A\u670D\u5F00\u542F\u72B6\u6001\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Power1 MC_Power FB\u5B9E\u4F8B MC_OperationEnable1 MC_OperationEnable FB\u5B9E\u4F8B xFlag BOOL \u52A8\u4F5C\u5141\u8BB8_\u4F3A\u670D\u5F00\u542F \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEAND MC_OperationEnable MC_OperationEnable1 ??? ??? ??? FBEXEC MC_Power MC_Power1 _MC_Axis[#1] ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_Power MC_OperationEnable \u6E05\u9664\u9519\u8BEF \u5C06 xFlag \u7F6E\u4E3ATRUE\u65F6\uFF0C\u4F1A\u91CD\u7F6E\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u9519\u8BEF\u3001\u8F74\u9519\u8BEF\u4EE5\u53CA\u9A71\u52A8\u5668\u62A5\u8B66\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Reset1 MC_Reset FB\u5B9E\u4F8B xFlag BOOL \u6E05\u9664\u9519\u8BEF \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_Reset MC_Reset1 _MC_Axis[#1] ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_Reset JOG \u5728 xJogFowardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogForward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u6B63\u65B9\u5411JOG\u5904\u7406\u3002\u5728 xJogBackwardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogBackward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u8D1F\u65B9\u5411JOG\u5904\u7406\u3002 \u5BF9 xJogForward \u548C xJogBackward \u8FDB\u884C\u4E92\u65A5\u63A7\u5236\uFF0C\u4EE5\u786E\u4FDD\u5B83\u4EEC\u4E0D\u4F1A\u540C\u65F6\u53D8\u4E3ATRUE\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Jog1 MC_Jog FB\u5B9E\u4F8B xJogForward BOOL \u6B63\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogBackward BOOL \u8D1F\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogFast BOOL \u9AD8\u901FJOG xJogForwardReq BOOL \u6B63\u65B9\u5411JOG\u8BF7\u6C42 xJogBackwardReq BOOL \u8D1F\u65B9\u5411JOG\u8BF7\u6C42 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xJogForwardReq ANB xJogBackward OUT xJogForward LD xJogBackwardReq ANB xJogForward OUT xJogBackward LD xJogForward FBEXEC MC_Jog MC_Jog1 _MC_Axis[#1] xJogBackward xJogFast \u002B100 \u002B500 \u002B50 \u002B75 \u002B75 \u002B100 ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_Jog \u539F\u70B9\u590D\u5F52 xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Home1 MC_Home FB\u5B9E\u4F8B xFlag BOOL \u539F\u70B9\u590D\u5F52 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_Home MC_Home1 _MC_Axis[#1] \u002B0 ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_Home \u539F\u70B9\u590D\u5F52/\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 \u4F7F\u7528MC_InternalHomeSensor\u8FDB\u884C\u539F\u70B9\u590D\u5F52\uFF0C\u4EE3\u66FF\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u539F\u70B9\u4F20\u611F\u5668\u3002 (1) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 (2) \u5728\u539F\u70B9\u590D\u5F52\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C xHomeSensor \u53D8\u4E3ATRUE\uFF0C\u5E76\u4E14\u6267\u884CMC_InternalHomeSensor\uFF0C\u5219\u4F1A\u5C06\u5176\u89C6\u4E3A\u4EE3\u66FF\u539F\u70B9\u4F20\u611F\u5668\u3002 \u53EF\u5BF9 xHomeSensor \u4F7F\u7528\u8F93\u5165\u5355\u5143\u7684\u8F93\u5165\u4FE1\u53F7\u7B49\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Home1 MC_Home FB\u5B9E\u4F8B MC_InternalHomeSensor1 MC_InternalHomeSensor FB\u5B9E\u4F8B xFlag BOOL \u539F\u70B9\u590D\u5F52 xHomeSensor BOOL \u4EE3\u66FF\u539F\u70B9\u4F20\u611F\u5668\u7684\u4FE1\u53F7 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_Home MC_Home1 _MC_Axis[#1] \u002B0 ??? ??? ??? ??? LD MC_Home1.Busy AND xHomeSensor FBEXEC MC_InternalHomeSensor MC_InternalHomeSensor1 _MC_Axis[#1] ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_Home MC_InternalHomeSensor \u539F\u70B9\u590D\u5F52/\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8 \u5728\u539F\u70B9\u590D\u5F52\u5B8C\u6210\u540E\uFF0C\u79FB\u52A8\u5230\u5728\u57FA\u672C\u4F4D\u7F6E\u4E2D\u6307\u5B9A\u7684\u5750\u6807\u5904\u3002 \u5982\u9700\u50CF\u4E0B\u8FF0\u8FD9\u6837\uFF0C\u5C06\u673A\u68B0\u6781\u9650\u4F4D\u7F6E\u7A0D\u5FAE\u9760\u524D\u7684\u4F4D\u7F6E\u8BBE\u4E3A\u5750\u6807\u76840.000mm\uFF0C\u5219\u5E94\u8BBE\u4E3A \u2022 \u539F\u70B9\u5750\u6807\uFF1A-5.000mm\uFF08\u673A\u68B0\u7684\u6781\u9650\u4F4D\u7F6E\uFF09 \u2022 \u57FA\u672C\u4F4D\u7F6E\u5750\u6807\uFF1A0.000mm\uFF08\u673A\u68B0\u6781\u9650\u4F4D\u7F6E\u7A0D\u5FAE\u9760\u524D\u7684\u4F4D\u7F6E\uFF09 \u7136\u540E\u6267\u884C\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8\u3002 \u00A0 (1) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002\u5C06Position\uFF08\u539F\u70B9\u5750\u6807\uFF09\u6307\u5B9A\u4E3A-5\uFF08mm\uFF09\u3002 (2) \u5728\u539F\u70B9\u590D\u5F52\u5B8C\u6210\u540E\uFF0C\u79FB\u52A8\u5230\u57FA\u672C\u4F4D\u7F6E\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Home1 MC_Home FB\u5B9E\u4F8B MC_MoveToBasePosition1 MC_MoveToBasePosition FB\u5B9E\u4F8B xFlag BOOL \u539F\u70B9\u590D\u5F52 \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u2022 \u57FA\u672C\u4F4D\u7F6E\u7684\u5750\u6807\u5E94\u5728\u8F74\u63A7\u5236\u8BBE\u5B9A\u4E2D\u7684\u201C\u57FA\u672C\u4F4D\u7F6E\u5750\u6807\u201D\u4E2D\u6307\u5B9A\u3002 \u2022 \u5982\u679C\u5728\u8F74\u63A7\u5236\u8BBE\u5B9A\u4E2D\u5C06\u201C\u81EA\u52A8\u79FB\u52A8\u57FA\u672C\u4F4D\u7F6E\u201D\u6307\u5B9A\u4E3A\u201C\u6267\u884C\u201D\uFF0C\u5219\u4F1A\u5728\u539F\u70B9\u590D\u5F52\u5B8C\u6210\u65F6\u81EA\u52A8\u79FB\u5230\u57FA\u672C\u4F4D\u7F6E\u3002\u56E0\u6B64\uFF0C\u65E0\u9700\u4F7F\u7528MC_MoveToBasePositon\u6307\u4EE4\u3002 \u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u4E0B\u8FF0\u624B\u518C\u3002 \u300AKV-X500/X300\u7CFB\u5217\u3000\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_Home MC_Home1 _MC_Axis[#1] -5 ??? ??? ??? ??? LD MC_Home1.Done FBEXEC MC_MoveToBasePosition MC_MoveToBasePosition1 _MC_Axis[#1] ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_Home MC_MoveToBasePosition \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 \u5728\u539F\u70B9\u672A\u786E\u5B9A\u6807\u5FD7\u4E3AFALSE\u7684\u72B6\u6001\uFF08\u5373\u539F\u70B9\u5DF2\u786E\u5B9A\u7684\u72B6\u6001\uFF09\u4E0B\uFF0C\u5982\u679C\u5C06 xFlag \u8BBE\u4E3ATRUE\uFF0C\u5219\u4F1A\u8FDB\u884C\u9AD8\u901F\u539F\u70B9\u79FB\u52A8\u3002 \u00A0 \u5982\u679C\u5728\u4ECE\u672A\u8FDB\u884C\u8FC7\u539F\u70B9\u590D\u5F52\u7684\u72B6\u6001\uFF08\u5373\u539F\u70B9\u5750\u6807\u672A\u786E\u5B9A\u7684\u72B6\u6001\uFF09\u4E0B\u8FDB\u884C\u9AD8\u901F\u539F\u70B9\u79FB\u52A8\uFF0C\u5219\u53EF\u80FD\u4F1A\u5B9A\u4F4D\u5230\u975E\u9884\u671F\u7684\u5750\u6807\u4F4D\u7F6E\uFF0C\u4ECE\u800C\u4F7F\u673A\u68B0\u53D7\u635F\u3002 \u56E0\u6B64\uFF0C\u5E94\u5728\u539F\u70B9\u672A\u786E\u5B9A\uFF08_MC_Axis[N].StatusBit.HomeIsNotDefined\uFF09\u7684\u72B6\u6001\u4E0B\u8BBE\u5B9A\u8054\u9501\u3002 \u4F46\u662F\uFF0C\u7531\u4E8E\u7EDD\u5BF9\u4F4D\u7F6E\u68C0\u6D4B\u7CFB\u7EDF\u4E3A\u201CABS\u201D\u65F6\uFF0C_MC_Axis[N].StatusBit.HomeIsNotDefined\u59CB\u7EC8\u4E3AFALSE\uFF0C\u6240\u4EE5\u65E0\u6CD5\u7528\u4E8E\u8054\u9501\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_FastMoveToHome1 MC_FastMoveToHome FB\u5B9E\u4F8B xFLag BOOL \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFLag ANB _MC_Axis[#1].StatusBit.HomeIsNotDefined FBEXEC MC_FastMoveToHome MC_FastMoveToHome1 _MC_Axis[#1] ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_FastMoveToHome \u8FDE\u7EED\u5B9A\u4F4D (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u5411\u5750\u6807\u4E3A123.45\u7684\u4F4D\u7F6E\u8FDB\u884C\u7EDD\u5BF9\u5B9A\u4F4D\u3002 (2) \u5728\u5B8C\u6210\u5411\u5750\u6807100\u7684\u7EDD\u5BF9\u5B9A\u4F4D\u5E76\u7ECF\u8FC70.5\u79D2\u540E\uFF0C\u5F00\u59CB\u5411\u5750\u68070\u7684\u7EDD\u5BF9\u5B9A\u4F4D\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute2 MC_MoveAbsolute FB\u5B9E\u4F8B TON1 TON FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FDE\u7EED\u5B9A\u4F4D \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEAND MC_MoveAbsolute MC_MoveAbsolute1 _MC_Axis[#1] \u002B123.45 \u002B40 \u002B100 \u002B100 \u002B100 ??? ??? ??? ??? ??? ??? ??? FBEXEC TON TON1 T#0.5S ??? LD TON1.Q FBEXEC MC_MoveAbsolute MC_MoveAbsolute2 _MC_Axis[#1] \u002B0 \u002B40 \u002B100 \u002B100 \u002B100 ??? ??? ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveAbsolute MC_MoveRelative TON \u8FDE\u7EED\u5B9A\u4F4D\uFF08\u7F13\u51B2\u6A21\u5F0F\uFF09 \u6267\u884C\u8FDE\u7EED\u5B9A\u4F4D\u3002\u901A\u8FC7BufferMode\u6307\u5B9A\u901F\u5EA6\u7684\u8FDE\u63A5\u65B9\u6CD5\u3002\u4E0B\u9762\u4EE5\u793A\u4F8B\u7A0B\u5E8F\u548C\u65F6\u5E8F\u56FE\u4E3A\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u5411\u5750\u6807\u4E3A1000\u7684\u4F4D\u7F6E\u8FDB\u884C\u7EDD\u5BF9\u5B9A\u4F4D\u3002 (2) \u4F7F\u7528 MC_MoveAbsolute1 \u5F00\u59CB\u63A7\u5236\u65F6\uFF0C MC_MoveAbsolute1.Active \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u542F\u52A8 MC_MoveAbsolute2 \u3002 \u4F46\u7531\u4E8E MC_MoveAbsolute2 \u7684BufferMode\u4E0D\u662F_MC_BM_Aborting\uFF0C\u6240\u4EE5\u4F1A\u7B49\u5F85 MC_MoveAbsolute2 \u5B8C\u6210\u8F74\u63A7\u5236\u3002 (3) MC_MoveAbsolute1 \u5B8C\u6210\u8F74\u63A7\u5236\u540E\uFF0C\u4F1A\u5F00\u59CB MC_MoveAbsolute2 \u7684\u8F74\u63A7\u5236\u3002\u7531\u4E8E MC_MoveAbsolute2 \u7684BufferMode\u662FBuffered\uFF0C\u6240\u4EE5\u4F1A\u5728\u5C06\u8FD0\u884C\u901F\u5EA6\u964D\u4F4E\u5230\u542F\u52A8\u901F\u5EA6\u7684\u72B6\u6001\u4E0B\uFF0C\u5728\u5750\u68071000\u5904\u8FDE\u63A5\u8FD0\u884C\uFF08\u65F6\u5E8F\u56FE\uFF08A\uFF09\uFF09\u3002 (4) \u7531\u4E8E MC_MoveAbsolute3 \u7684BufferMode\u662FBlendingLow\uFF0C\u6240\u4EE5\u4F1A\u8FDB\u884C\u5207\u6362\uFF0C\u4EE5\u4FBF\u80FD\u6309\u8FD0\u884C\u901F\u5EA6\u8F83\u6162\u7684 MC_MoveAbsolute3 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF0C\u5E76\u4F1A\u5728\u5207\u6362\u4E4B\u524D\u5F00\u59CB\u51CF\u901F\uFF0C\u7136\u540E\u5728\u5750\u68072000\u7684\u4F4D\u7F6E\u6309 MC_MoveAbsolute3 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF08\u65F6\u5E8F\u56FE\uFF08B\uFF09\uFF09\u3002 (5) \u7531\u4E8E MC_MoveAbsolute4 \u7684BufferMode\u662FBlendingHigh\uFF0C\u6240\u4EE5\u4F1A\u8FDB\u884C\u5207\u6362\uFF0C\u4EE5\u4FBF\u80FD\u6309\u8FD0\u884C\u901F\u5EA6\u8F83\u5FEB\u7684 MC_MoveAbsolute4 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF0C\u5E76\u4F1A\u5728\u5207\u6362\u4E4B\u524D\u5F00\u59CB\u52A0\u901F\uFF0C\u7136\u540E\u5728\u5750\u68073000\u7684\u4F4D\u7F6E\u6309 MC_MoveAbsolute4 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF08\u65F6\u5E8F\u56FE\uFF08C\uFF09\uFF09\u3002 (6) \u901A\u8FC7 MC_MoveAbsolute4 \u6267\u884C\u8F74\u63A7\u5236\uFF0C\u5728\u5750\u68074000\u7684\u4F4D\u7F6E\u5B8C\u6210\u8F74\u63A7\u5236\u3002 \u258C \u65F6\u5E8F\u56FE \u00A0 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute2 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute3 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute4 MC_MoveAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FDE\u7EED\u5B9A\u4F4D \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_MoveAbsolute MC_MoveAbsolute1 _MC_Axis[#1] \u002B1000 \u002B400 \u002B200 \u002B200 \u002B0 ??? ??? ??? ??? ??? ??? ??? LD MC_MoveAbsolute1.Active FBEXEC MC_MoveAbsolute MC_MoveAbsolute2 _MC_Axis[#1] \u002B2000 \u002B400 \u002B200 \u002B200 \u002B0 ??? _MC_BM_Buffered ??? ??? ??? ??? ??? LD MC_MoveAbsolute2.Active FBEXEC MC_MoveAbsolute MC_MoveAbsolute3 _MC_Axis[#1] \u002B3000 \u002B300 \u002B200 \u002B200 \u002B0 ??? _MC_BM_BlendingLow ??? ??? ??? ??? ??? LD MC_MoveAbsolute3.Active FBEXEC MC_MoveAbsolute MC_MoveAbsolute4 _MC_Axis[#1] \u002B4000 \u002B500 \u002B200 \u002B200 \u002B0 ??? _MC_BM_BlendingHigh ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveAbsolute \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 \u5728\u5B9A\u4F4D\u8FD0\u884C\u4E2D\u66F4\u6539\u76EE\u6807\u5750\u6807\u3001\u8FD0\u884C\u901F\u5EA6\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C MC_MoveAbsolute1 \uFF0C\u5F00\u59CB\u7EDD\u5BF9\u5B9A\u4F4D\u3002 (2) \u5982\u679C\u5728\u6267\u884C MC_MoveAbsolute1 \u7684\u8FC7\u7A0B\u4E2D\u5C06 xChgFlag \u8BBE\u4E3ATRUE\uFF0C\u5219\u4F1A\u4EE5Aborting\u6267\u884C\u53E6\u4E00\u4E2A\u5B9E\u4F8B\u7684 MC_MoveAbsolute2 \u3002 \u6B64\u65F6\uFF0C\u7528\u4E8E\u7EDD\u5BF9\u5B9A\u4F4D\u7684\u53C2\u6570\u4F1A\u88AB\u66F4\u6539\u4E3A MC_MoveAbsolute2 \u7684\u53C2\u6570\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute2 MC_MoveAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FD0\u884C xChgFlag BOOL \u66F4\u6539\u53C2\u6570 \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u2022 \u5373\u4F7F\u5BF9 Busy \u4E3ATRUE\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u66F4\u6539\u53C2\u6570\uFF0C\u5E76\u4F7F Execute \u8FDB\u884CFALSE\u2192TRUE\u7684\u5207\u6362\uFF0C\u4E5F\u4E0D\u4F1A\u5E94\u7528\u53C2\u6570\u3002 \u5982\u9700\u5728\u8F74\u7684\u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF0C\u5219\u4F1A\u50CF\u672C\u793A\u4F8B\u8FD9\u6837\uFF0C\u7528Aborting\u6267\u884C\u53E6\u4E00\u4E2A\u5B9E\u4F8B\u7684\u529F\u80FD\u5757\u3002 \u91CD\u542F\u5B9E\u4F8B \u2022 \u5982\u9700\u5728\u901A\u8FC7MC_MoveToPoint\u4F7F\u7528\u70B9\u53C2\u6570\u8FDB\u884C\u5B9A\u4F4D\u64CD\u4F5C\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\uFF0C\u5219\u5E94\u4F7F\u7528MC_ChangeTargetPosition\u6307\u4EE4\u3002 \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_MoveAbsolute MC_MoveAbsolute1 _MC_Axis[#1] \u002B123.45 \u002B40 \u002B40 \u002B40 \u002B100 ??? ??? ??? ??? ??? ??? ??? LD xChgFlag AND MC_MoveAbsolute1.Active FBEXEC MC_MoveAbsolute MC_MoveAbsolute2 _MC_Axis[#1] \u002B500 \u002B150 \u002B100 \u002B100 \u002B100 ??? _MC_BM_Aborting ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveAbsolute MC_MoveRelative \u5B9A\u4F4D\u548C\u51CF\u901F\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF08\u70B9\u53C2\u6570\uFF09 \u5728\u6267\u884C\u70B9\u8FD0\u884C\u671F\u95F4\uFF0C\u91CD\u65B0\u5F00\u59CB\u7528\u51CF\u901F\u505C\u6B62\u6307\u4EE4\u4E2D\u65AD\u7684\u8FD0\u884C\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u4F7F\u7528\u4E86\u70B9\u53C2\u6570\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 (2) xStop \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u51CF\u901F\u505C\u6B62\u3002\u5982\u679C\u901A\u8FC7\u51CF\u901F\u505C\u6B62\u4E2D\u65AD\u5B9A\u4F4D\u8FD0\u884C\uFF0C\u90A3\u4E48 MC_MoveAbsolute1.Resumable \uFF08\u7B49\u5F85\u8FD0\u884C\u91CD\u65B0\u5F00\u59CB\uFF09\u4F1A\u53D8\u4E3ATRUE\u3002 (3) xResume \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u91CD\u65B0\u5F00\u59CB\u56E0\u51CF\u901F\u505C\u6B62\u800C\u4E2D\u65AD\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 \u00A0 \u2022 \u53EF\u901A\u8FC7MC_ResumePositioning\u91CD\u65B0\u5F00\u59CB\u7684\u8FD0\u884C\u4EC5\u9650\u4E8E\u4F7F\u7528\u4E86MC_MoveToPoint\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 \u2022 \u505C\u6B62\u7C7B\u6307\u4EE4\u53EA\u8981\u67091\u4E2A Execute \u662FTRUE\uFF0C\u5C31\u65E0\u6CD5\u6267\u884C\u5B9A\u4F4D\u3002\u56E0\u6B64\uFF0C\u8BF7\u5728\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u4E4B\u524D\uFF0C\u5C06MC_Stop\u7684 Execute \u8BBE\u4E3AFALSE\u3002 \u505C\u6B62\u7C7B\u6307\u4EE4\u548C\u8F74\u63A7\u5236 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveToPoint1 MC_MoveToPoint FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B MC_ResumePositioning1 MC_ResumePositioning FB\u5B9E\u4F8B xFlag BOOL \u70B9\u8FD0\u8F6C xStop BOOL \u51CF\u901F\u505C\u6B62 xResume BOOL \u91CD\u65B0\u5F00\u59CB\u8FD0\u884C \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_MoveToPoint MC_MoveToPoint1 _MC_Axis[#1] \u002B1 ??? ??? ??? ??? ??? ??? ??? ??? LD xStop FBEXEC MC_Stop MC_Stop1 _MC_Axis[#1] \u002B1000 \u002B100 ??? ??? ??? ??? LD xResume AND MC_MoveToPoint1.Resumable ANB MC_Stop1.Done FBEXEC MC_ResumePositioning MC_ResumePositioning1 _MC_Axis[#1] ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveToPoint MC_Stop MC_ResumePositioning \u8FDE\u7EED\u8FD0\u884C\u7684\u5F85\u673A\u4E0E\u89E3\u9664\uFF08\u70B9\u53C2\u6570\uFF09 \u5728\u7B49\u5F85\u901A\u8FC7\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u8FDB\u884C\u8FDE\u7EED\u5B9A\u4F4D\u4F7F\uFF0C\u89E3\u9664\u5F85\u673A\u72B6\u6001\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u4F7F\u7528\u4E86\u70B9\u53C2\u6570\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 (2) \u70B9\u53C2\u6570\u7684\u8FDE\u7EED\u6A21\u5F0F\u5904\u4E8E\u5F85\u673A\u65F6\uFF0C\u4E0D\u4F1A\u524D\u5F80\u7531\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u6307\u5B9A\u7684\u70B9\uFF0C\u800C\u662F\u5904\u4E8E\u5F85\u673A\u72B6\u6001\u3002 \u6B64\u65F6\uFF0C MC_MoveToPoint 1 .Standby \uFF08\u5F85\u673A\uFF09\u53D8\u4E3ATRUE\u3002 (3) xRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u89E3\u9664\u5F85\u673A\u72B6\u6001\uFF0C\u5E76\u5411\u7531\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u6307\u5B9A\u7684\u70B9\u5F00\u59CB\u5B9A\u4F4D\u8FD0\u884C\u3002 xRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5373\u4F7F\u8FDE\u7EED\u6A21\u5F0F\u88AB\u8BBE\u4E3A\u5F85\u673A\uFF0C\u4E5F\u4E0D\u4F1A\u8FDB\u5165\u5F85\u673A\u72B6\u6001\uFF0C\u800C\u662F\u4F1A\u8FD0\u884C\u524D\u5F80\u7531\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u6307\u5B9A\u7684\u70B9\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveToPoint1 MC_MoveToPoint FB\u5B9E\u4F8B MC_ReleaseStandby1 MC_ReleaseStandby FB\u5B9E\u4F8B xFlag BOOL \u70B9\u8FD0\u8F6C xRelease BOOL \u5F85\u673A\u89E3\u9664 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_MoveToPoint MC_MoveToPoint1 _MC_Axis[#1] \u002B1 ??? ??? ??? ??? ??? ??? ??? ??? LD xRelease FBEXEC MC_ReleaseStandby MC_ReleaseStandby1 _MC_Axis[#1] ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveToPoint MC_ReleaseStandby \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 \u5728\u6267\u884C\u70B9\u8FD0\u884C\u65F6\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u4F7F\u7528\u4E86\u70B9\u53C2\u6570\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 (2) \u5728\u6267\u884C\u70B9\u8FD0\u884C\u65F6\u5C06 xChgFlag \u8BBE\u4E3ATRUE\uFF0C\u53EF\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\u3002 \u00A0 \u53EF\u901A\u8FC7MC_ChangeTargetPosition\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\u7684\u8FD0\u884C\uFF0C\u4EC5\u9650\u4E8E\u4F7F\u7528\u4E86MC_MoveToPoint\u7684\u8FD0\u884C\u3002 \u5728\u8FD0\u884C\u4E2D\u901A\u8FC7MC_MoveAbsolute\u6216MC_MoveRelative\u66F4\u6539\u76EE\u6807\u5750\u6807\u6216\u8FD0\u884C\u901F\u5EA6\u65F6\uFF0C\u5E94\u5728\u8FD0\u884C\u4E2D\u542F\u52A8\u540C\u4E00\u529F\u80FD\u5757\u7684\u53E6\u4E00\u4E2A\u5B9E\u4F8B\u3002 \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveToPoint1 MC_MoveToPoint FB\u5B9E\u4F8B MC_ChangeTargetPosition1 MC_ChangeTargetPosition FB\u5B9E\u4F8B xFlag BOOL \u70B9\u8FD0\u8F6C xChgFlag BOOL \u66F4\u6539\u53C2\u6570 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xFlag FBEXEC MC_MoveToPoint MC_MoveToPoint1 _MC_Axis[#1] \u002B1 ??? ??? ??? ??? ??? ??? ??? ??? LD xChgFlag AND MC_MoveToPoint1.Active FBEXEC MC_ChangeTargetPosition MC_ChangeTargetPosition1 _MC_Axis[#1] \u002B25000 \u002B5000 ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveToPoint MC_ChangeTargetPosition \u76F4\u7EBF\u63D2\u8865 \u6267\u884C\u4E24\u8F74\u7684\u76F4\u7EBF\u63D2\u8865\u8FD0\u884C\uFF0C\u7ED8\u5236\u4E0B\u8FF0\u83F1\u5F62\u8F68\u8FF9\u3002 \u00A0 (1) \u5728\u8FD0\u884C\u5F00\u59CB\u65F6\uFF0C\u5B58\u50A8 Pos1 \uFF5E Pos4 \u7684\u5750\u6807\u3002 (2) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u901A\u8FC7MC_MoveLinearAbsolute\u6267\u884C\u76F4\u7EBF\u63D2\u8865\u8FD0\u884C\u3002 \u5C06\u4E0A\u4E00\u6B21MC_MoveLinearAbsolute\u7684Active\u4F5C\u4E3A\u4E0B\u4E00\u6B21MC_MoveLinearAbsolute\u7684\u6267\u884C\u6761\u4EF6\uFF0C\u6765\u6267\u884C\u8FDE\u7EED\u8FD0\u884C\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F4\u7EBF\u63D2\u8865\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveLinearRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveLinearAbsolute1 MC_MoveLinearAbsolute FB\u5B9E\u4F8B MC_MoveLinearAbsolute2 MC_MoveLinearAbsolute FB\u5B9E\u4F8B MC_MoveLinearAbsolute3 MC_MoveLinearAbsolute FB\u5B9E\u4F8B MC_MoveLinearAbsolute4 MC_MoveLinearAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FD0\u884C Pos1 ARRAY[0..1] OF LREAL \u5750\u68071 Pos2 ARRAY[0..1] OF LREAL \u5750\u68072 Pos3 ARRAY[0..1] OF LREAL \u5750\u68073 Pos4 ARRAY[0..1] OF LREAL \u5750\u68074 \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _FirstScanOn BOX_ST ;Pos1[0] := 100; ;Pos1[1] := 50; ; ;Pos2[0] := 200; ;Pos2[1] := 0; ; ;Pos3[0] := 100; ;Pos3[1] := -50; ; ;Pos4[0] := 0; ;Pos4[1] := 0; LD xFlag FBEXEC MC_MoveLinearAbsolute MC_MoveLinearAbsolute1 _MC_AxisGroup[#1] Pos1 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered _MC_TM_None ??? ??? ??? ??? ??? ??? LD MC_MoveLinearAbsolute1.Active FBEXEC MC_MoveLinearAbsolute MC_MoveLinearAbsolute2 _MC_AxisGroup[#1] Pos2 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered _MC_TM_None ??? ??? ??? ??? ??? ??? LD MC_MoveLinearAbsolute2.Active FBEXEC MC_MoveLinearAbsolute MC_MoveLinearAbsolute3 _MC_AxisGroup[#1] Pos3 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered _MC_TM_None ??? ??? ??? ??? ??? ??? LD MC_MoveLinearAbsolute3.Active FBEXEC MC_MoveLinearAbsolute MC_MoveLinearAbsolute4 _MC_AxisGroup[#1] Pos4 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered _MC_TM_None ??? ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveLinearAbsolute MC_MoveLinearRelative \u5706\u5F27\u63D2\u8865 \u6267\u884C\u4E24\u8F74\u7684\u5706\u5F27\u63D2\u8865\u8FD0\u884C\uFF0C\u7ED8\u5236\u4E0B\u8FF0\u8F68\u8FF9\u3002 \u00A0 (1) \u5728\u8FD0\u884C\u5F00\u59CB\u65F6\uFF0C\u5B58\u50A8 AuxPoint \uFF08\u7ECF\u8FC7\u70B9\uFF09\u548C EndPoint1 \uFF5E EndPoint4 \u7684\u5750\u6807\u3002 (2) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u901A\u8FC7MC_MoveCircularAbsolute\u6267\u884C\u5706\u5F27\u63D2\u8865\u8FD0\u884C\u3002 \u5C06\u4E0A\u4E00\u6B21MC_MoveCircularAbsolute\u7684Active\u4F5C\u4E3A\u4E0B\u4E00\u6B21MC_MoveCircularAbsolute\u7684\u6267\u884C\u6761\u4EF6\uFF0C\u6765\u6267\u884C\u8FDE\u7EED\u8FD0\u884C\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u5706\u5F27\u63D2\u8865\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveCircularRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveCircularAbsolute1 MC_MoveCircularAbsolute FB\u5B9E\u4F8B MC_MoveCircularAbsolute2 MC_MoveCircularAbsolute FB\u5B9E\u4F8B MC_MoveCircularAbsolute3 MC_MoveCircularAbsolute FB\u5B9E\u4F8B MC_MoveCircularAbsolute4 MC_MoveCircularAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FD0\u884C EndPoint1 ARRAY[0..1] OF LREAL \u5750\u68071 EndPoint2 ARRAY[0..1] OF LREAL \u5750\u68072 EndPoint3 ARRAY[0..1] OF LREAL \u5750\u68073 EndPoint4 ARRAY[0..1] OF LREAL \u5750\u68074 AuxPoint ARRAY[0..1] OF LREAL \u7ECF\u8FC7\u70B9 \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u00A0 \u52A9\u8BB0\u7B26\u8868 LD _FirstScanOn BOX_ST ;AuxPoint[0] := 50; ;AuxPoint[1] := 50; ; ;EndPoint1[0] := 100; ;EndPoint1[1] := 0; ; ;EndPoint2[0] := 100; ;EndPoint2[1] := 100; ; ;EndPoint3[0] := 0; ;EndPoint3[1] := 100; ; ;EndPoint4[0] := 0; ;EndPoint4[1] := 0; LD xFlag FBEXEC MC_MoveCircularAbsolute MC_MoveCircularAbsolute1 _MC_AxisGroup[#1] \u002B0 AuxPoint EndPoint1 \u002B0 \u002B100 \u002B40 \u002B40 \u002B100 ??? ??? ??? ??? ??? ??? ??? ??? LD MC_MoveCircularAbsolute1.Active FBEXEC MC_MoveCircularAbsolute MC_MoveCircularAbsolute2 _MC_AxisGroup[#1] \u002B0 AuxPoint EndPoint2 \u002B0 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered ??? ??? ??? ??? ??? ??? ??? LD MC_MoveCircularAbsolute2.Active FBEXEC MC_MoveCircularAbsolute MC_MoveCircularAbsolute3 _MC_AxisGroup[#1] \u002B0 AuxPoint EndPoint3 \u002B0 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered ??? ??? ??? ??? ??? ??? ??? LD MC_MoveCircularAbsolute3.Active FBEXEC MC_MoveCircularAbsolute MC_MoveCircularAbsolute4 _MC_AxisGroup[#1] \u002B0 AuxPoint EndPoint4 \u002B0 \u002B100 \u002B40 \u002B40 \u002B100 _MC_BM_Buffered ??? ??? ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveCircularAbsolute MC_MoveCircularRelative \u901F\u5EA6\u63A7\u5236/\u8F6C\u77E9\u63A7\u5236 \u6267\u884C\u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09\u3001\u8F6C\u77E9\u63A7\u5236\uFF08CST\uFF09\u3002 (1) xVelFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5207\u6362\u5230\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u8FDB\u884C\u63A7\u5236\uFF1B xTrqFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5207\u6362\u5230\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u8FDB\u884C\u63A7\u5236\u3002 \u5728\u8FDB\u884C\u6A21\u5F0F\u5207\u6362\u4E4B\u524D\uFF0C\u901A\u8FC7\u5411\u901F\u5EA6\u6307\u4EE4\u548C\u8F6C\u77E9\u6307\u4EE4\u4E2D\u5B58\u50A80\uFF0C\u6765\u9632\u6B62\u5207\u6362\u6A21\u5F0F\u540E\u7ACB\u5373\u8FD0\u884C\u3002 (2) xReleaseFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884CMC_Stop\u6307\u4EE4\uFF0C\u5E76\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002 \u00A0 \u5728CSP\u6A21\u5F0F\u4E0B\u8FDB\u884C\u901F\u5EA6\u63A7\u5236\u65F6\uFF0C\u5E94\u6267\u884C MC_MoveVelocity \u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_VelocityControl1 MC_VelocityControl FB\u5B9E\u4F8B MC_TorqueControl1 MC_TorqueControl FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B xVelFlag BOOL \u5207\u6362\u4E3A\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F xTrqFlag BOOL \u5207\u6362\u4E3A\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F xReleaseFlag BOOL \u7ED3\u675F\u901F\u5EA6/\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F lrCmdVel LREAL \u901F\u5EA6\u6307\u4EE4\u503C lrTrqLim LREAL \u8F6C\u77E9\u9650\u5236\u503C lrCmdTrq LREAL \u8F6C\u77E9\u6307\u4EE4\u503C lrVelLim LREAL \u901F\u5EA6\u9650\u5236\u503C \u258C \u7A0B\u5E8F \u00A0 \u00A0 \u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u3001\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u4E2D\uFF0C\u53EF\u901A\u8FC7\u66F4\u6539 lrCmdVel \u3001 lrCmdTrq \uFF0C\u6765\u5B9E\u65F6\u66F4\u6539\u901F\u5EA6\u6307\u4EE4\u503C\u3001\u8F6C\u77E9\u6307\u4EE4\u503C\u3002 \u52A9\u8BB0\u7B26\u8868 LDP xVelFlag FUN MOVE \u002B0 lrCmdVel LD xVelFlag FBEXEC MC_VelocityControl MC_VelocityControl1 _MC_Axis[#1] lrCmdVel lrTrqLim ??? ??? ??? ??? LDP xTrqFlag FUN MOVE \u002B0 lrCmdTrq LD xTrqFlag FBEXEC MC_TorqueControl MC_TorqueControl1 _MC_Axis[#1] lrCmdTrq lrVelLim ??? ??? ??? ??? LD xReleaseFlag FBEXEC MC_Stop MC_Stop1 _MC_Axis[#1] ??? ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_VelocityControl MC_TorqueControl MC_Stop \u540C\u6B65\u63A7\u5236 \u6839\u636E\u540C\u6B65\u53C2\u6570\u6267\u884C\u540C\u6B65\u63A7\u5236\u3002 (1) xSyncExe \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u3002 (2) \u5728\u540C\u6B65\u63A7\u5236\u4E2D\u6267\u884CMC_SwitchCam\u6307\u4EE4\uFF0C\u53EF\u4EE5\u66F4\u6539\u7528\u4E8E\u540C\u6B65\u63A7\u5236\u7684\u51F8\u8F6E\u6570\u636E\u3002 (3) \u5982\u679C\u8981\u5728\u7A0B\u5E8F\u4E2D\u66F4\u6539\u540C\u6B65\u53C2\u6570\uFF0C\u5219\u5E94\u5411\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam\u5199\u5165\u503C\u3002 xChgGear \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u66F4\u6539\u53EF\u53D8\u9F7F\u8F6E\u5206\u5B50/\u53EF\u53D8\u9F7F\u8F6E\u5206\u6BCD\u7684\u8BBE\u5B9A\u503C\u3002 (4) xSyncRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884CMC_Stop\u6307\u4EE4\uFF0C\u89E3\u9664\u540C\u6B65\u63A7\u5236\u3002 \u00A0 \u4F7F\u7528\u4E0B\u8FF0\u4EFB\u610F\u4E00\u79CD\u65B9\u6CD5\u8BBE\u5B9A\u540C\u6B65\u53C2\u6570\u3002 \u2022 KV STUDIO\u7684\u540C\u6B65\u53C2\u6570 \u2022 \u6539\u5199\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam\u7684\u503C \u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u4E0B\u8FF0\u624B\u518C\u3002 \u300AKV-X500/X300\u7CFB\u5217\u3000\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_SyncControl1 MC_SyncControl FB\u5B9E\u4F8B MC_SwitchCam1 MC_SwitchCam FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B xSyncExe BOOL \u5F00\u59CB\u540C\u6B65\u63A7\u5236 xCamSwitch BOOL \u5207\u6362\u51F8\u8F6E\u6570\u636E uiCamNo UINT \u51F8\u8F6E\u7F16\u53F7 xChgGear BOOL \u53EF\u53D8\u9F7F\u8F6E\u66F4\u6539\u8BF7\u6C42 xSyncRelease BOOL \u89E3\u9664\u540C\u6B65\u63A7\u5236 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LD xSyncExe FBEXEC MC_SyncControl MC_SyncControl1 _MC_Axis[#1] ??? ??? ??? ??? LD xCamSwitch AND MC_SyncControl1.InControl FBEXEC MC_SwitchCam MC_SwitchCam1 _MC_Axis[#1] uiCamNo \u002B0 ??? ??? ??? LDP xChgGear AND MC_SyncControl1.InControl BOX_ST ;_MC_SyncParam[1].VariableGearRatioNumerator := 10; ;_MC_SyncParam[1].VariableGearRatioDenominator := 1; LD xSyncRelease AND MC_SyncControl1.InControl FBEXEC MC_Stop MC_Stop1 _MC_Axis[#1] ??? ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_SyncControl MC_SwitchCam MC_Stop \u79BB\u5408\u5668 \u5728\u540C\u6B65\u63A7\u5236\u4E2D\uFF0C\u901A\u8FC7\u5BF9\u79BB\u5408\u5668\u8FDB\u884CON/OFF\u64CD\u4F5C\u6765\u63A7\u5236\u4E3B\u8F74\u4E0E\u4ECE\u8F74\u7684\u8FDE\u63A5\u72B6\u6001\u3002 (1) xSyncExe \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5411_MC_SyncParam\uFF08\u540C\u6B65\u53C2\u6570\uFF09\u5199\u5165\u4E0E\u79BB\u5408\u5668\u76F8\u5173\u7684\u8BBE\u5B9A\u503C\u3002 \u5728\u672C\u793A\u4F8B\u4E2D\uFF0C\u5C06\u4E3B\u79BB\u5408\u5668\u00A0\u79BB\u5408\u5668ON\u539F\u56E0\u66F4\u6539\u4E3A\u201C\u79BB\u5408\u5668\u63A7\u5236\uFF08\u7535\u5E73\uFF09\u201D\uFF08H10\uFF09\u3002 \u6267\u884CMC_SyncControl\uFF0C\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u3002 (2) xClutchCtrl \u8BBE\u4E3ATRUE\u65F6\uFF0C\u53EF\u4EE5\u63A7\u5236\u79BB\u5408\u5668\u7684\u8FDE\u63A5/\u5206\u79BB\u3002 xClutchConnect \u4E3AFALSE\u65F6\uFF0C\u79BB\u5408\u5668\u4F1A\u88AB\u5206\u79BB\uFF0C\u4E3B\u8F74\u548C\u4ECE\u8F74\u7684\u8FD0\u884C\u88AB\u5207\u65AD\u3002 xClutchConnect \u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDE\u63A5\u79BB\u5408\u5668\uFF0C\u4E3B\u8F74\u548C\u4ECE\u8F74\u7684\u8FD0\u884C\u8FDB\u5165\u8FDE\u63A5\u72B6\u6001\u3002 (3) xSyncRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884CMC_Stop\u6307\u4EE4\uFF0C\u89E3\u9664\u540C\u6B65\u63A7\u5236\u3002 \u00A0 \u2022 \u5982\u9700\u4F7F\u7528\u8F85\u52A9\u79BB\u5408\u5668\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_AuxClutch \u3002 \u2022 \u4F7F\u7528\u4E0B\u8FF0\u4EFB\u610F\u4E00\u79CD\u65B9\u6CD5\u8BBE\u5B9A\u540C\u6B65\u53C2\u6570\u3002 \u2012 KV STUDIO\u7684\u540C\u6B65\u53C2\u6570 \u2012 \u6539\u5199\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam\u7684\u503C \u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u4E0B\u8FF0\u624B\u518C\u3002 \u300AKV-X500/X300\u7CFB\u5217\u3000\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_SyncControl1 MC_SyncControl FB\u5B9E\u4F8B MC_MainClutch1 MC_MainClutch FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B xSyncExe BOOL \u5F00\u59CB\u540C\u6B65\u63A7\u5236 xClutchCtrl BOOL \u79BB\u5408\u5668\u63A7\u5236 xClutchConnect BOOL \u8FDE\u63A5\u79BB\u5408\u5668\uFF08\u7535\u5E73\uFF09 xSyncRelease BOOL \u89E3\u9664\u540C\u6B65\u63A7\u5236 \u258C \u7A0B\u5E8F \u00A0 \u52A9\u8BB0\u7B26\u8868 LDP xSyncExe BOX_ST ;_MC_SyncParam[1].MainClutchOnCondition := H0010; LD xSyncExe FBEXEC MC_SyncControl MC_SyncControl1 _MC_Axis[#1] ??? ??? ??? ??? LD xClutchCtrl FBEXEC MC_MainClutch MC_MainClutch1 _MC_Axis[#1] xClutchConnect ??? ??? ??? ??? ??? ??? ??? ??? LD xSyncRelease AND MC_SyncControl1.InControl FBEXEC MC_Stop MC_Stop1 _MC_Axis[#1] ??? ??? ??? ??? ??? ??? \u258C \u76F8\u5173\u6307\u4EE4 MC_SyncControl MC_MainClutch MC_Stop"},{"link":"./99_00_Appendix-5.html","title":"ST","body":"ST \u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF \u68C0\u6D4B\u4E0A\u5347\u6CBF/\u4E0B\u964D\u6CBF\u3002\u7531\u4E8E\u5728ST\u4E2D\u65E0\u6CD5\u4F7F\u7528LDP/LDF\u6307\u4EE4\uFF0C\u6240\u4EE5\u4F7F\u7528R_TRIG/F_TRIG\u3002 (1) xFlag1 \u53D1\u751FFALSE\u2192TRUE\u53D8\u5316\u65F6\uFF0C xRisingEdge \u4EC5\u57281\u6B21\u626B\u63CF\u65F6\u53D8\u4E3ATRUE\u3002 (2) xRisingEdge \u4E3ATRUE\u65F6\uFF0C\u4F1A\u5728 uiData \u4E2D\u5B58\u50A810\u3002 (3) xFlag1 \u53D1\u751FTRUE\u2192FALSE\u53D8\u5316\u65F6\uFF0C xFallingEdge \u4EC5\u57281\u6B21\u626B\u63CF\u65F6\u53D8\u4E3ATRUE\u3002 (4) xFallingEdge \u4E3ATRUE\u65F6\uFF0C\u4F1A\u5728 uiData \u4E2D\u5B58\u50A820\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B F_TRIG1 F_TRIG FB\u5B9E\u4F8B xFlag1 BOOL \u89E6\u53D1 xRisingEdge BOOL \u4E0A\u5347\u65F61\u6B21\u626B\u63CFON xFallingEdge BOOL \u4E0B\u964D\u65F61\u6B21\u626B\u63CFON uiData UINT \u6570\u636E\u5B58\u50A8\u4F4D\u7F6E \u258C \u7A0B\u5E8F R_TRIG1 (CLK :=  xFlag1 , Q =\u003E  xRisingEdge ); F_TRIG1 (CLK :=  xFlag1 , Q =\u003E  xFallingEdge ); //xFlag1\u7684\u4E0A\u5347\u6CBF IF xRisingEdge THEN \u00A0\u00A0\u00A0 uiData  := 10; END_IF ; //xFlag1\u7684\u4E0B\u964D\u6CBF IF xFallingEdge THEN \u00A0\u00A0\u00A0 uiData  := 20; END_IF ; \u258C \u76F8\u5173\u6307\u4EE4 R_TRIG F_TRIG \u901A\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668 (1) \u5728 xFlag1 \u53D8\u4E3ATRUE\u768412.3\u79D2\u4E4B\u540E\u5C06 xFlag2 \u7F6E\u4E3ATRUE\u3002 (2) \u5728 xFlag1 \u4E3ATRUE\u7684\u671F\u95F4\u5185\uFF0C\u5C06\u4ECE\u53D8\u4E3ATRUE\u5F00\u59CB\u7684\u7ECF\u8FC7\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09\uFF0C\u4EE5UDINT\u7C7B\u578B\u5B58\u50A8\u5230 diMillSec \u4E2D\u3002 \u00A0 \u8BF7\u5C06\u65AD\u7535\u5EF6\u65F6\u5B9A\u65F6\u5668\u66FF\u6362\u7406\u89E3\u4E3ATOF\uFF0C\u5C06\u5355\u6B21\u5B9A\u65F6\u5668\u66FF\u6362\u7406\u89E3\u4E3ATP\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA TON1 TON FB\u5B9E\u4F8B xFlag1 BOOL \u8F93\u5165\u4F4D xFlag2 BOOL \u8F93\u51FA\u4F4D\uFF08\u5EF6\u65F6\u63A5\u901A\uFF09 diMillSec DINT \u7ECF\u8FC7\u65F6\u95F4\uFF08\u6BEB\u79D2\uFF09 \u258C \u7A0B\u5E8F TON1 (In :=  xFlag1 , PT := T#12.3s, Q =\u003E  xFlag2 ); IF xFlag1 THEN \u00A0\u00A0\u00A0 diMillSec \u00A0:=  TimeToMilliSec (In :=  TON1.ET ); END_IF ; \u258C \u76F8\u5173\u6307\u4EE4 TON TOF TP TimeToMilliSec \u6570\u7EC4\u7684\u79FB\u4F4D (1) \u68C0\u6D4B\u5230 xFlag1 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4F1A\u5C06UINT\u578B\u6570\u7EC4 auiData [0]\uFF5E auiData [9]\u768410\u4E2A\u6570\u636E\u79FB\u5230 auiData [20]\uFF5E auiData [29]\u4E2D\u3002 \u56E0\u79FB\u52A8\u800C\u7A7A\u51FA\u6765\u7684auiData[0]\uFF5EauiData[19]\u7684\u6570\u636E\u4F1A\u88AB\u6E05\u9664\u3002 (2) \u68C0\u6D4B\u5230 xFlag2 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u4F1A\u5C06BOOL\u578B\u6570\u7EC4 abData [50]\uFF5E abData [59]\u768410\u4E2A\u6570\u636E\u79FB\u5230 abData [0]\uFF5E abData [9]\u4E2D\u3002 \u56E0\u79FB\u52A8\u800C\u7A7A\u51FA\u6765\u7684 abData [10]\uFF5E abData [59]\u7684\u6570\u636E\u4F1A\u88AB\u6E05\u9664\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B R_TRIG2 R_TRIG FB\u5B9E\u4F8B xFlag1 BOOL \u6267\u884C\u6761\u4EF6 xFlag2 BOOL \u6267\u884C\u6761\u4EF6 auiData ARRAY[0..99] OF UINT \u79FB\u4F4D\u5BF9\u8C61\u7684\u6570\u7EC4 abData ARRAY[0..99] OF BOOL \u79FB\u4F4D\u5BF9\u8C61\u7684\u6570\u7EC4 \u258C \u7A0B\u5E8F R_TRIG1 (CLK :=  xFlag1 ); R_TRIG2 (CLK :=  xFlag2 ); AryShiftL (EN :=  R_TRIG1.Q , InOut :=  auiData [0], Count := 10, ShiftNum := 20); AryShiftR (EN :=  R_TRIG2.Q , InOut :=  abData [50], Count := 10, ShiftNum := 50); \u258C \u76F8\u5173\u6307\u4EE4 AryShiftL AryShiftR \u4E09\u89D2\u51FD\u6570\uFF08SIN/COS/TAN\uFF09 \u5C06 rDegree \u4E2D\u5B58\u50A8\u7684\u89D2\u5EA6\uFF08\u00B0\uFF09\u8F6C\u6362\u4E3A\u5F27\u5EA6\u5355\u4F4D\uFF0C\u8BA1\u7B97\u6B63\u5F26\u3001\u4F59\u5F26\u548C\u6B63\u5207\u7684\u503C\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA rDegree REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 rSIN REAL \u6B63\u5F26\uFF08SIN\uFF09 rCOS REAL \u4F59\u5F26\uFF08COS\uFF09 rTAN REAL \u6B63\u5207\uFF08TAN\uFF09 \u258C \u7A0B\u5E8F rSIN \u00A0\u00A0\u00A0 :=  SIN ( DegToRad ( rDegree )); rCOS \u00A0\u00A0\u00A0 :=  COS ( DegToRad ( rDegree )); rTAN \u00A0\u00A0\u00A0 :=  TAN ( DegToRad ( rDegree )); \u258C \u76F8\u5173\u6307\u4EE4 SIN COS TAN DegToRad \u53CD\u4E09\u89D2\u51FD\u6570\uFF08ASIN/ACOS/ATAN\uFF09 \u6839\u636E rSIN / rCOS / rTAN \u4E2D\u5B58\u50A8\u7684\u6B63\u5F26\u3001\u4F59\u5F26\u3001\u6B63\u5207\u7684\u503C\u8BA1\u7B97\u5F27\u5EA6\u5355\u4F4D\u7684\u89D2\u5EA6\uFF0C\u8F6C\u6362\u4E3A\u89D2\u5EA6\uFF08\u00B0\uFF09\u540E\uFF0C\u5B58\u50A8\u5230 rRadian1 \uFF5E rRadian3 \u4E2D\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA rSIN REAL \u6B63\u5F26\uFF08SIN\uFF09 rCOS REAL \u4F59\u5F26\uFF08COS\uFF09 rTAN REAL \u6B63\u5207\uFF08TAN\uFF09 rDegree1 REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 rDegree2 REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 rDegree3 REAL \u89D2\u5EA6\uFF08\u00B0\uFF09 \u258C \u7A0B\u5E8F rDegree1 \u00A0:=  RadToDeg ( ASIN ( rSIN )); rDegree2 \u00A0:=  RadToDeg ( ACOS ( rCOS )); rDegree3 \u00A0:=  RadToDeg ( ATAN ( rTAN )); \u258C \u76F8\u5173\u6307\u4EE4 ASIN ACOS ATAN RadToDeg \u6570\u636E\u7684\u6392\u5E8F xSort \u4E3ATRUE\u65F6\uFF0C\u6309\u7167\u5B58\u50A8\u5728\u6210\u5458\u53D8\u91CFrHeight\u4E2D\u7684\u503C\uFF0C\u5C06 ProductData \uFF08\u7ED3\u6784\u4F53\u6570\u7EC4\uFF09\u7684\u6570\u636E\u8FDB\u884C\u5347\u5E8F\u6392\u5E8F\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StructSort1 StructSort FB\u5B9E\u4F8B xSort BOOL \u6267\u884C\u6392\u5E8F ProductData ARRAY[0..99] OF ProductInfo \u4EA7\u54C1\u4FE1\u606F udiAryCount UDINT \u6570\u7EC4\u8981\u7D20\u6570\u91CF xSortDone BOOL \u5B8C\u6210\u6392\u5E8F \u258C \u7A0B\u5E8F StructSort1 ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xSort , \u00A0\u00A0\u00A0 InOut  \u00A0\u00A0\u00A0 :=  ProductData [0], \u00A0\u00A0\u00A0 Count  \u00A0\u00A0\u00A0 :=  GetAryCount ( ProductData , 1), \u00A0\u00A0\u00A0 Order  \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 MemberName  \u00A0\u00A0\u00A0 :=  \u0027rHeight\u0027 , \u00A0\u00A0\u00A0 Done  \u00A0\u00A0\u00A0 =\u003E  xSortDone \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 GetAryCount StructSort \u8BA1\u7B97\u5408\u8BA1\u503C \u4F7F\u7528FOR\u8BED\u53E5\uFF0C\u8BA1\u7B97\u5728UINT\u7C7B\u578B\u53D8\u91CF auiData \u4E2D\u5B58\u50A8\u7684\u503C\u7684\u5408\u8BA1\u503C\u3002 \u4E3A\u4E86\u4F7F\u8FD0\u884C\u4E0D\u53D7\u5230\u6570\u7EC4\u7684\u8D77\u59CB\u8981\u7D20\u7F16\u53F7\u7684\u5F71\u54CD\uFF0C\u4F7F\u7528\u4E86LOWER_BOUND/UPPER_BOUND\u6307\u4EE4\u6765\u83B7\u53D6\u8D77\u59CB\u8981\u7D20\u7F16\u53F7\u548C\u7ED3\u675F\u8981\u7D20\u7F16\u53F7\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA auiData ARRAY[1..100] OF UINT \u6570\u7EC4 udiStartCount UDINT \u8D77\u59CB\u8981\u7D20\u7F16\u53F7 udiEndCount UDINT \u7ED3\u675F\u8981\u7D20\u7F16\u53F7 idx UINT \u5FAA\u73AF\u4E13\u7528\u53D8\u91CF udiSum UDINT \u5408\u8BA1\u503C \u258C \u7A0B\u5E8F udiStartCount \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  LOWER_BOUND (ARR :=  auiData , DIM := 1); \u00A0\u00A0\u00A0 //\u8D77\u59CB\u8981\u7D20\u7F16\u53F7 udiEndCount \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  UPPER_BOUND (ARR :=  auiData , DIM := 1); \u00A0\u00A0\u00A0 //\u7ED3\u675F\u8981\u7D20\u7F16\u53F7 udiSum \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0; \u00A0\u00A0\u00A0 //\u5408\u8BA1\u503C\u7684\u521D\u59CB\u5316 FOR idx \u00A0:=  udiStartCount TO udiEndCount BY \u00A01  DO \u00A0\u00A0\u00A0 udiSum \u00A0:=  udiSum \u00A0\u002B  auiData [ idx ]; END_FOR ; \u258C \u76F8\u5173\u6307\u4EE4 LOWER_BOUND UPPER_BOUND FOR FIFO \u5BF9\u6570\u636E\u8868\u8FDB\u884C\u5148\u5165\u5148\u51FA\u5904\u7406\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\u4F7F\u7528GetAryCount\u6307\u4EE4\uFF0C\u83B7\u53D6 auiTableData \uFF08\u6570\u636E\u8868\uFF09\u7684\u6570\u7EC4\u8981\u7D20\u6570\u91CF\u3002 (2) \u5728 xFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5C06\u6570\u636E\u5B58\u50A8\u5230\u6570\u636E\u8868\u7684\u5F00\u5934\uFF08 auiTableData [0]\uFF09\u5904\u3002\u6BCF\u6B21\u5B58\u50A8\u6570\u636E\u65F6\uFF0C udiDataNum \u7684\u503C\u90FD\u4F1A\u9012\u589E1\u3002 \u5F53 udiDataNum \u7684\u503C\u8FBE\u5230 udiMaxDataNum \u65F6\uFF0C\u5728 xFlag \u7684\u4E0A\u5347\u6CBF\u5C06\u6570\u636E\u8868\u7684\u503C\u8BFB\u53D6\u5230 uiReadData \u4E2D\uFF0C\u5E76\u4E14\u5C06\u6570\u636E\u8868\u7684\u6570\u636E\u9010\u4E2A\u5411\u524D\u79FB\u52A8\u3002 (3) \u4E4B\u540E\uFF0C\u5728\u6570\u636E\u8868\u7684\u672B\u5C3E\uFF08 auiDataTable [ udiMaxDataNum ]\uFF09\u5904\u5B58\u50A8 uiWriteData \u7684\u503C\u3002 (4) \u5728 xInsertFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5411\u7528\u6570\u636E\u8868\u7684 udiInsertPos \u6307\u5B9A\u7684\u4F4D\u7F6E\u5B58\u50A8 uiWriteData \u7684\u503C\u3002\u5B58\u50A8\u540E\uFF0C udiDataNum \u7684\u503C\u4F1A\u52A0\u4E0A1\u3002 (5) \u5728 xDeleteFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5220\u9664\u7528\u6570\u636E\u8868\u7684 udiDeletePos \u6307\u5B9A\u7684\u4F4D\u7F6E\u7684\u6570\u636E\u3002\u5220\u9664\u540E\uFF0C udiDataNum \u7684\u503C\u88AB\u51CF\u53BB1\u3002 \u00A0 \u2022 \u8BF7\u5BF9\u64CD\u4F5C\u540C\u4E00\u4E2A\u6570\u636E\u8868\u7684FIFOWrite/FIFORead/FIFOInsert/FIFODelete\u7684 udiDataNum \uFF0C\u6307\u5B9A\u901A\u7528\u7684\u53D8\u91CF\u3002 \u5982\u679C\u6307\u5B9A\u4E0D\u540C\u7684\u53D8\u91CF\uFF0C\u5219\u53EF\u80FD\u5BFC\u81F4\u64CD\u4F5C\u975E\u9884\u671F\u4F4D\u7F6E\u7684\u6570\u636E\u3002 \u2022 \u7531\u4E8E uiDataNum \u4F1A\u6839\u636EFIFOWrite/FIFORead/FIFOInsert/FIFODelete\u6307\u4EE4\u81EA\u52A8\u8FDB\u884C\u52A0\u51CF\uFF0C\u6240\u4EE5\u8BF7\u4E0D\u8981\u5728\u7A0B\u5E8F\u4E2D\u5199\u5165\u503C\u3002 \u5982\u679C\u5728\u7A0B\u5E8F\u4E2D\u5199\u5165\u503C\uFF0C\u5219\u53EF\u80FD\u5BFC\u81F4\u64CD\u4F5C\u975E\u9884\u671F\u4F4D\u7F6E\u7684\u6570\u636E\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B R_TRIG2 R_TRIG FB\u5B9E\u4F8B R_TRIG3 R_TRIG FB\u5B9E\u4F8B xFlag BOOL \u8BFB\u5199\u6570\u636E\u8868 xInsertFalg BOOL \u5220\u9664\u6570\u636E xDeleteFlag BOOL \u63D2\u5165\u6570\u636E auiTableData ARRAY[0..99] OF UINT \u6570\u636E\u8868 udiDataNum UDINT \u5B58\u50A8\u6570\u636E\u6570 udiMaxDataNum UDINT \u6700\u5927\u5B58\u50A8\u6570\u636E\u6570 uiWriteData UINT \u8981\u5B58\u50A8\u7684\u6570\u636E uiReadData UINT \u5DF2\u8BFB\u53D6\u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E udiInsertPos UDINT \u63D2\u5165\u4F4D\u7F6E udiDeletePos UDINT \u5220\u9664\u4F4D\u7F6E \u258C \u7A0B\u5E8F IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 udiMaxDataNum \u00A0:=  GetAryCount (In :=  auiTableData, Dim  := 1); END_IF ; //\u68C0\u6D4B\u5404\u4F4D\u7684\u4E0A\u5347\u6CBF R_TRIG1 (CLK :=  xFlag ); R_TRIG2 (CLK :=  xInsertFalg ); R_TRIG3 (CLK :=  xDeleteFlag ); //\u5B58\u50A8\u6570\u636E\u6570\u8FBE\u5230\u4E86\u6700\u5927\u5B58\u50A8\u6570\u636E\u6570\u65F6 //\u4F1A\u5148\u4ECE\u6570\u636E\u8868\u4E2D\u8BFB\u53D6\u6570\u636E FIFORead ( \u00A0\u00A0\u00A0 EN \u00A0\u00A0\u00A0 :=  R_TRIG1.Q AND  ( udiDataNum \u00A0=  udiMaxDataNum ), \u00A0\u00A0\u00A0 Table  \u00A0\u00A0\u00A0 :=  auiTableData [0], \u00A0\u00A0\u00A0 MaxDataNum  \u00A0\u00A0\u00A0 :=  udiMaxDataNum , \u00A0\u00A0\u00A0 DataNum  \u00A0\u00A0\u00A0 :=  udiDataNum , \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 =\u003E  uiReadData \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 FIFOWrite ( \u00A0\u00A0\u00A0 EN \u00A0\u00A0\u00A0 :=  R_TRIG1.Q , \u00A0\u00A0\u00A0 In  \u00A0\u00A0\u00A0 :=  uiWriteData , \u00A0\u00A0\u00A0 MaxDataNum  \u00A0\u00A0\u00A0 :=  udiMaxDataNum , \u00A0\u00A0\u00A0 DataNum  \u00A0\u00A0\u00A0 :=  udiDataNum , \u00A0\u00A0\u00A0 Table  \u00A0\u00A0\u00A0 :=  auiTableData [0] \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 FIFOInsert ( \u00A0\u00A0\u00A0 EN \u00A0\u00A0\u00A0 :=  R_TRIG2.Q AND \u00A0 ( udiDataNum \u00A0\u003C  udiMaxDataNum ), \u00A0\u00A0\u00A0 In  \u00A0\u00A0\u00A0 :=  uiWriteData , \u00A0\u00A0\u00A0 MaxDataNum  \u00A0\u00A0\u00A0 :=  udiMaxDataNum , \u00A0\u00A0\u00A0 DataNum  \u00A0\u00A0\u00A0 :=  udiDataNum , \u00A0\u00A0\u00A0 Table  \u00A0\u00A0\u00A0 :=  auiTableData [0], \u00A0\u00A0\u00A0 Pos  \u00A0\u00A0\u00A0 :=  udiInsertPos \u00A0\u00A0\u00A0 ); FIFODelete ( \u00A0\u00A0\u00A0 EN \u00A0\u00A0\u00A0 :=  R_TRIG3.Q , \u00A0\u00A0\u00A0 Table  \u00A0\u00A0\u00A0 :=  auiTableData [0], \u00A0\u00A0\u00A0 MaxDataNum  \u00A0\u00A0\u00A0 :=  udiMaxDataNum , \u00A0\u00A0\u00A0 DataNum  \u00A0\u00A0\u00A0 :=  udiDataNum , \u00A0\u00A0\u00A0 Pos  \u00A0\u00A0\u00A0 :=  udiDeletePos \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 GetAryCount FIFOWrite FIFORead FIFOInsert FIFODelete \u521B\u5EFA\u65F6\u95F4\u6233 \u4F7F\u7528\u5B58\u50A8\u5728PLC\u7684\u65E5\u5386\u5B9A\u65F6\u5668\u4E2D\u7684\u65F6\u523B\u4FE1\u606F\uFF0C\u6765\u521B\u5EFA20YY/MM/DD HH:MM:SS\u683C\u5F0F\u7684\u65F6\u95F4\u6233\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA strTimeStamp STRING[20] \u65F6\u95F4\u6233 \u258C \u7A0B\u5E8F //\u8F6C\u6362\u7ED3\u679C := NumToDecString(\u8F6C\u6362\u5BF9\u8C61, \u6D88\u96F6(FALSE:\u65E0\u6548/TRUE:\u6709\u6548), \u002B\u7B26\u53F7\u7701\u7565(FALSE:\u65E0\u6548/TRUE:\u6709\u6548)); //\u7ED3\u679C := RIGHT(\u622A\u53D6\u5BF9\u8C61, \u622A\u53D6\u5B57\u7B26\u6570); //\u521B\u5EFA20YY/MM/DD HH:MM:SS \u683C\u5F0F\u7684\u65F6\u95F4\u6233 strTimeStamp \u00A0:=  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 NumToDecString ((_CurrentDateTime[0] \u002B 2000),  TRUE ,  TRUE ) \u002B  \u0027/\u0027 \u00A0\u00A0\u00A0 //\u5E74(\u516C\u53864\u4F4D) \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u002B \u00A0\u00A0\u00A0 RIGHT ( NumToDecString (_CurrentDateTime[1],  FALSE ,  TRUE ), 2) \u002B  \u0027/\u0027 \u00A0\u00A0\u00A0 //\u6708 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u002B \u00A0\u00A0\u00A0 RIGHT ( NumToDecString (_CurrentDateTime[2],  FALSE ,  TRUE ), 2) \u002B  \u0027\u00A0\u0027 \u00A0\u00A0\u00A0 //\u65E5 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u002B \u00A0\u00A0\u00A0 RIGHT ( NumToDecString (_CurrentDateTime[3],  FALSE ,  TRUE ), 2) \u002B  \u0027:\u0027 \u00A0\u00A0\u00A0 //\u65F6 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u002B \u00A0\u00A0\u00A0 RIGHT ( NumToDecString (_CurrentDateTime[4],  FALSE ,  TRUE ), 2) \u002B  \u0027:\u0027 \u00A0\u00A0\u00A0 //\u5206 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u002B \u00A0\u00A0\u00A0 RIGHT ( NumToDecString (_CurrentDateTime[5],  FALSE ,  TRUE ), 2); \u00A0\u00A0\u00A0 //\u79D2 \u258C \u76F8\u5173\u6307\u4EE4 NumToDecString RIGHT \u8BA1\u7B97\u5E73\u5747\u503C\uFF08\u6570\u636E\u7C7B\u578B\u8F6C\u6362\uFF09 \u6309\u7167REAL\u7C7B\u578B\uFF0C\u8BA1\u7B97UINT\u6570\u7EC4 auiData \u4E2D\u5B58\u50A8\u7684\u503C\u7684\u5E73\u5747\u503C\u3002 (1) \u4F7F\u7528R_TRIG\u6307\u4EE4\u68C0\u6D4B xFlag \u7684\u4E0A\u5347\u6CBF\u3002 (2) \u4F7F\u7528GetAryCount\u6307\u4EE4\uFF0C\u5C06 auiData \u7684\u8981\u7D20\u6570\u91CF\u5B58\u50A8\u5230 udiCount \u4E2D\u3002 (3) \u4F7F\u7528ArySum\u6307\u4EE4\u8BA1\u7B97 auiData \u4E2D\u5B58\u50A8\u7684\u503C\u7684\u5408\u8BA1\u503C\uFF0C\u7136\u540E\u4F7F\u7528UDINT_TO_REAL\u6307\u4EE4\u5C06\u5176\u8F6C\u6362\u4E3AREAL\u7C7B\u578B\u3002 (4) \u5C06 rSum \u7684\u503C\u9664\u4EE5\u6570\u7EC4\u7684\u8981\u7D20\u6570\u91CF\uFF0C\u8BA1\u7B97\u51FAREAL\u7C7B\u578B\u7684\u5E73\u5747\u503C\uFF0C\u5B58\u50A8\u5230 rMean \u4E2D\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B xFlag BOOL \u89E6\u53D1 auiData ARRAY[0..99] OF UINT \u6570\u7EC4 udiCount UDINT \u6570\u7EC4\u8981\u7D20\u6570\u91CF udiSum LREAL \u5408\u8BA1\uFF08UDINT\uFF09 rSum REAL \u5408\u8BA1\uFF08REAL\uFF09 rMean REAL \u5E73\u5747\u503C \u258C \u7A0B\u5E8F R_TRIG1 (CLK :=  xFlag ); IF R_TRIG1.Q THEN \u00A0\u00A0\u00A0 udiCount \u00A0\u00A0\u00A0 :=  GetAryCount (In :=  auiData , Dim := 1); \u00A0\u00A0\u00A0 //\u83B7\u53D6\u6570\u7EC4\u8981\u7D20\u6570\u91CF \u00A0\u00A0\u00A0 rSum \u00A0\u00A0\u00A0 :=  UDINT_TO_REAL ( ArySum ( auiData [0],  udiCount )); \u00A0\u00A0\u00A0 //\u8BA1\u7B97\u6570\u7EC4\u7684\u5408\u8BA1\u503C\uFF0C\u8F6C\u6362\u4E3AREAL\u7C7B\u578B \u00A0\u00A0\u00A0 rMean \u00A0\u00A0\u00A0 :=  rSum \u00A0/  udiCount ; \u00A0\u00A0\u00A0 //\u5C06\u5408\u8BA1\u503C\u9664\u4EE5\u6570\u7EC4\u8981\u7D20\u6570\u91CF END_IF ; \u258C \u76F8\u5173\u6307\u4EE4 R_TRIG *_TO_** GetAryCount ArySum \u5C06\u4E8C\u8FDB\u5236\u6570\u636E\u5199\u5165CSV \u5C06 auiData \u4E2D\u5B58\u50A8\u7684\u6570\u636E\u5199\u5165CSV\u6587\u4EF6\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u4F1A\u5B58\u50A8\u8981\u5199\u5165\u6570\u636E\u7684\u6587\u4EF6\u8DEF\u5F84\u548CBOM\u6570\u636E\u3002 \u5728\u8DEF\u5F84\u7684\u5F00\u5934\u6DFB\u52A0\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u53EF\u4EE5\u6307\u5B9A\u4FDD\u5B58\u5904\u7684\u5B58\u50A8\u5668\u3002 \u30000:\\(\u5B58\u50A8\u5361) \u30001:\\(CPU\u5185\u5B58) \u5982\u679C\u7701\u7565\u4E86\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u5219\u4FDD\u5B58\u5904\u4F1A\u53D8\u4E3A\u5B58\u50A8\u5361\u3002 (2) xBomWrite \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5728\u6587\u4EF6\u5F00\u5934\u5199\u5165BOM\u6570\u636E\u3002 (3) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4ECEBOM\u6570\u636E\u7684\u540E\u9762\u5F00\u59CB\u5199\u5165UINT\u6570\u7EC4 auiData \u4E2D\u5B58\u50A8\u7684\u503C\u3002 \u00A0 \u2022 \u9879\u76EE\u8BED\u8A00\u8BBE\u4E3AUTF-8\u65F6\uFF0C\u5982\u679C\u4E0D\u5728\u6587\u4EF6\u5F00\u5934\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u5728\u7528\u8868\u683C\u8BA1\u7B97\u8F6F\u4EF6\u7B49\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E71\u7801\u3002 \u2022 \u5982\u679C\u65E0\u9700\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u4E0B\u8FF0\u793A\u4F8B\u7A0B\u5E8F\u4E2DStorageWriteBin_BOM\u548CStorageWriteBin_BOM.Done\u7684\u63A5\u70B9\u4E5F\u662F\u4E0D\u9700\u8981\u7684\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StorageWriteBin_BOM StorageWriteBin FB\u5B9E\u4F8B StorageWriteBin1 StorageWriteBin FB\u5B9E\u4F8B strFilePath STRING[246] \u6587\u4EF6\u8DEF\u5F84 udiBOM UDINT BOM xBomWrite BOOL BOM\u5199\u5165\u89E6\u53D1 xBomDone BOOL BOM\u5199\u5165\u5B8C\u6210 xFlag BOOL \u6570\u636E\u5199\u5165\u89E6\u53D1 xStorageWriteBinExe BOOL StorageWriteBin1 \u7684\u6267\u884C\u6761\u4EF6 auiData ARRAY[0..49] OF UINT \u5199\u5165\u7684\u6570\u636E \u258C \u7A0B\u5E8F //\u8BBE\u5B9A\u6587\u4EF6\u8DEF\u5F84\u548CBOM IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 strFilePath \u00A0:=  \u00270:\\ABC\\TEST.csv\u0027 ; \u00A0\u00A0\u00A0 udiBOM  := UDINT#16#BFBBEF; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5728\u5F00\u5934\u5199\u5165\u7684BOM\u5982\u679C\u4E0D\u662FUTF-8\uFF0C\u5219\u65E0\u9700\u5199\u5165 END_IF ; //\u5199\u5165BOM(\u5982\u679C\u4E0D\u662FUTF-8\uFF0C\u5219\u65E0\u9700\u5199\u5165) StorageWriteBin_BOM ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xBomWrite , \u00A0\u00A0\u00A0 Path  \u00A0\u00A0\u00A0 :=  strFilePath , \u00A0\u00A0\u00A0 Mode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 ByteSize  \u00A0\u00A0\u00A0 := 3, \u00A0\u00A0\u00A0 WritePos  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 :=  udiBOM \u00A0\u00A0\u00A0 ); //\u5199\u5165\u6570\u636E IF StorageWriteBin_BOM.Done AND xFlag THEN \u00A0\u00A0\u00A0 xStorageWriteBinExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xStorageWriteBinExe \u00A0:=  FALSE ; END_IF ; StorageWriteBin1 ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xStorageWriteBinExe , \u00A0\u00A0\u00A0 Path  \u00A0\u00A0\u00A0 :=  strFilePath , \u00A0\u00A0\u00A0 Mode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 ByteSize  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 :=  auiData [0] \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 StorageWriteBin \u5C06\u5B57\u7B26\u4E32\u5199\u5165CSV \u5C06 strData \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u5199\u5165CSV\u6587\u4EF6\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u4F1A\u5B58\u50A8\u8981\u5199\u5165\u6570\u636E\u7684\u6587\u4EF6\u8DEF\u5F84\u548CBOM\u6570\u636E\u3002 \u5728\u8DEF\u5F84\u7684\u5F00\u5934\u6DFB\u52A0\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u53EF\u4EE5\u6307\u5B9A\u4FDD\u5B58\u5904\u7684\u5B58\u50A8\u5668\u3002 \u30000:\\(\u5B58\u50A8\u5361) \u30001:\\(CPU\u5185\u5B58) \u5982\u679C\u7701\u7565\u4E86\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u5219\u4FDD\u5B58\u5904\u4F1A\u53D8\u4E3A\u5B58\u50A8\u5361\u3002 (2) xBomWrite \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5728\u6587\u4EF6\u5F00\u5934\u5199\u5165BOM\u6570\u636E\u3002 (3) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u4ECEBOM\u6570\u636E\u7684\u540E\u9762\u5F00\u59CB\u5199\u5165 strData \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u3002 \u00A0 \u2022 \u9879\u76EE\u8BED\u8A00\u8BBE\u4E3AUTF-8\u65F6\uFF0C\u5982\u679C\u4E0D\u5728\u6587\u4EF6\u5F00\u5934\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u5728\u7528\u8868\u683C\u8BA1\u7B97\u8F6F\u4EF6\u7B49\u6253\u5F00\u6587\u4EF6\u65F6\uFF0C\u53EF\u80FD\u4F1A\u51FA\u73B0\u4E71\u7801\u3002 \u2022 \u5982\u679C\u65E0\u9700\u6DFB\u52A0BOM\uFF0C\u90A3\u4E48\u4E0B\u8FF0\u793A\u4F8B\u7A0B\u5E8F\u4E2DStorageWriteBin_BOM\u548CStorageWriteBin_BOM.Done\u7684\u63A5\u70B9\u4E5F\u662F\u4E0D\u9700\u8981\u7684\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StorageWriteBin_BOM StorageWriteBin FB\u5B9E\u4F8B StoragePrint1 StoragePrint FB\u5B9E\u4F8B strFilePath STRING[246] \u6587\u4EF6\u8DEF\u5F84 udiBOM UDINT BOM xBomWrite BOOL BOM\u5199\u5165\u89E6\u53D1 xBomDone BOOL BOM\u5199\u5165\u5B8C\u6210 xFlag BOOL \u6570\u636E\u5199\u5165\u89E6\u53D1 xStoragePrintExe BOOL StoragePrint1 \u7684\u6267\u884C\u6761\u4EF6 strData STRING[32] \u5199\u5165\u7684\u6570\u636E \u258C \u7A0B\u5E8F //\u8BBE\u5B9A\u6587\u4EF6\u8DEF\u5F84\u548CBOM IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 strFilePath \u00A0:=  \u00270:\\ABC\\TEST.csv\u0027 ; \u00A0\u00A0\u00A0 udiBOM  := UDINT#16#BFBBEF; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5728\u5F00\u5934\u5199\u5165\u7684BOM\u5982\u679C\u4E0D\u662FUTF-8\uFF0C\u5219\u65E0\u9700\u5199\u5165 END_IF ; //\u5199\u5165BOM(\u5982\u679C\u4E0D\u662FUTF-8\uFF0C\u5219\u65E0\u9700\u5199\u5165) StorageWriteBin_BOM ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xBomWrite , \u00A0\u00A0\u00A0 Path  \u00A0\u00A0\u00A0 :=  strFilePath , \u00A0\u00A0\u00A0 Mode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 ByteSize  \u00A0\u00A0\u00A0 := 3, \u00A0\u00A0\u00A0 WritePos  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 :=  udiBOM \u00A0\u00A0\u00A0 ); //\u5199\u5165\u6570\u636E IF StorageWriteBin_BOM.Done AND xFlag THEN \u00A0\u00A0\u00A0 xStoragePrintExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xStoragePrintExe \u00A0:=  FALSE ; END_IF ; StoragePrint1 ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xStoragePrintExe , \u00A0\u00A0\u00A0 Path  \u00A0\u00A0\u00A0 :=  strFilePath , \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 :=  strData \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 StorageWriteBin StoragePrint \u83B7\u53D6\u6587\u4EF6\u5939\u5185\u7684\u6587\u4EF6\u5217\u8868 \u83B7\u53D6\u6587\u4EF6\u5939\u4E2D\u4FDD\u5B58\u7684\u6587\u4EF6\u5217\u8868\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u4F1A\u5B58\u50A8\u6587\u4EF6\u8DEF\u5F84\u548C\u67E5\u627E\u6587\u4EF6\u540D\u3002 \u5728\u8DEF\u5F84\u7684\u5F00\u5934\u6DFB\u52A0\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u53EF\u4EE5\u6307\u5B9A\u4FDD\u5B58\u5904\u7684\u5B58\u50A8\u5668\u3002 \u30000:\\(\u5B58\u50A8\u5361) \u30001:\\(CPU\u5185\u5B58) \u5982\u679C\u7701\u7565\u4E86\u9A71\u52A8\u5668\u7F16\u53F7\uFF0C\u5219\u4FDD\u5B58\u5904\u4F1A\u53D8\u4E3A\u5B58\u50A8\u5361\u3002 \u67E5\u627E\u6587\u4EF6\u540D\u53EF\u4F7F\u7528\u901A\u914D\u7B26\u3002 \u4E0B\u8FF0\u793A\u4F8B\u662F\u53EA\u67E5\u627E\u6587\u4EF6\u540D\u4E2D\u542B\u6709\u201C20240527\u201D\u7684\u6587\u4EF6\u3002 (2) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4ECE\u7531 strFolderPath \u6307\u5B9A\u7684\u6587\u4EF6\u5939\u4E2D\uFF0C\u4EE5\u6587\u4EF6\u540D\u542B\u6709\u201C20240527\u201D\u7684\u6587\u4EF6\u4E3A\u5BF9\u8C61\uFF0C\u83B7\u53D6\u6587\u4EF6\u5217\u8868\u3002\u83B7\u53D6\u7684\u6587\u4EF6\u5217\u8868\u4F1A\u5B58\u50A8\u5728 stFileList \u4E2D\u3002 \u5982\u679C strFileList \u4E3A\u7A7A\uFF0C\u5219\u4F1A\u83B7\u53D6\u8BE5\u6587\u4EF6\u5939\u5185\u6240\u6709\u6587\u4EF6\u7684\u6587\u4EF6\u5217\u8868\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA StorageGetFileList1 StorageGetFileList FB\u5B9E\u4F8B strFolderPath STRING[32] \u67E5\u627E\u5BF9\u8C61\u6587\u4EF6\u5939\u7684\u8DEF\u5F84 strFileName STRING[32] \u7B5B\u9009\u7684\u6587\u4EF6\u540D\u79F0 xFlag BOOL \u89E6\u53D1 stFileList ARRAY[0..99] OF _FILE_INFO \u6587\u4EF6\u5217\u8868 \u258C \u7A0B\u5E8F //\u8BBE\u5B9A\u6587\u4EF6\u5939\u8DEF\u5F84 strFolderPath \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  \u00270:\\ABC\u0027 ; //\u67E5\u627E\u6587\u4EF6\u540D(\u542B\u670920240527\u7684\u6587\u4EF6) strFileName \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  \u0027*20240527*\u0027 ; //\u67E5\u627E\u6587\u4EF6\u5217\u8868 StorageGetFileList1 ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 DirPath  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  strFolderPath , \u00A0\u00A0\u00A0 SearchFileName  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  strFileName , \u00A0\u00A0\u00A0 //\u7701\u7565\u65F6\u4F1A\u83B7\u53D6\u6240\u6709\u6587\u4EF6\u7684\u5217\u8868 \u00A0\u00A0\u00A0 Order  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 MaxFileListNum  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 1000, \u00A0\u00A0\u00A0 FileList  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  stFileList \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 StorageGetFileList TCP\u5957\u63A5\u5B57\u901A\u4FE1 \u901A\u8FC7TCP\u5957\u63A5\u5B57\u901A\u4FE1\u63A5\u6536\u548C\u53D1\u9001\u6570\u636E\u3002 (1) xTCPOpen \u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDB\u884C\u4E3B\u52A8\u6253\u5F00\u5904\u7406\u3002\u5728 uiSockNo \u4E2D\u5B58\u50A8\u7528\u4E8E\u8FDE\u63A5\u7684\u5957\u63A5\u5B57\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u3002 \u5B58\u50A8\u5728 uiSockNo \u4E2D\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u4F1A\u5728\u5176\u4ED6\u5957\u63A5\u5B57\u901A\u4FE1FB\u4E2D\u4F7F\u7528\u3002 (2) \u5982\u679C\u5728\u5DF2\u5EFA\u7ACB\u8FDE\u63A5\u7684\u72B6\u6001\u4E0B\u68C0\u6D4B\u5230 xTCPSend \u7684\u4E0A\u5347\u6CBF\uFF0C\u5219\u4F1A\u4EE5 auiSendData [0]\u4E3A\u5F00\u5934\uFF0C\u53D1\u900116384byte\u7684\u6570\u636E\u3002 (3) \u6570\u636E\u53D1\u9001\u5B8C\u6210\u540E\uFF0C\u4F1A\u7B49\u5F85\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u6570\u636E\u3002\u7531\u4E8E\u5DF2\u5C06Timeout\u6307\u5B9A\u4E3A0\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u68C0\u6D4B\u8D85\u65F6\u3002 \u5728\u63A5\u6536\u5230\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u7684\u6570\u636E\u65F6\u8FDB\u884C\u63A5\u6536\u5904\u7406\u3002 (4) xTCPClose \u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDB\u884C\u5173\u95ED\u5957\u63A5\u5B57\u5904\u7406\uFF0C\u7ED3\u675F\u901A\u4FE1\u3002 \u00A0 \u5982\u9700\u8FDB\u884CTCP\u88AB\u52A8\u6253\u5F00\u64CD\u4F5C\uFF0C\u8BF7\u66FF\u6362\u4E3A SocketTCP_PassiveOpen \u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA SocketTCP_ActiveOpen1 SocketTCP_ActiveOpen FB\u5B9E\u4F8B SocketTCP_Send1 SocketTCP_Send FB\u5B9E\u4F8B SocketTCP_Recv1 SocketTCP_Recv FB\u5B9E\u4F8B SocketClose1 SocketClose FB\u5B9E\u4F8B xTCPOpen BOOL \u4E3B\u52A8\u6253\u5F00\u8BF7\u6C42 xTCPSend BOOL \u53D1\u9001\u8BF7\u6C42 xTCPClose BOOL \u5173\u95ED\u8BF7\u6C42 uiSocketNo UINT \u5957\u63A5\u5B57\u7F16\u53F7 udiRecvByteSize UDINT \u63A5\u6536\u5B57\u8282\u6570 auiSendData ARRAY[0..16383] OF UINT \u53D1\u9001\u6570\u636E auiRecvData ARRAY[0..16383] OF UINT \u63A5\u6536\u6570\u636E uiState UINT \u72B6\u6001\u7F16\u53F7 \u258C \u7A0B\u5E8F IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 uiState  := 0; END_IF ; CASE uiState OF \u00A0\u00A0\u00A0 0:  \u00A0\u00A0\u00A0 //FB\u5B9E\u4F8B\u7684\u521D\u59CB\u5316 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_ActiveOpen1 (Execute :=  FALSE ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_Send1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 :=  auiSendData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_Recv1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 :=  auiRecvData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketClose1 (Execute :=  FALSE ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 1; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 1:  \u00A0\u00A0\u00A0 //xTCPOpen\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u4E3B\u52A8\u6253\u5F00 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF xTCPOpen THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 2; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 2:  \u00A0\u00A0\u00A0 //\u4E3B\u52A8\u6253\u5F00 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_ActiveOpen1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 EthernetPort  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SrcPortNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 DstAddress  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  \u0027192.168.0.20\u0027 , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 DstPortNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 9001, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 =\u003E  uiSocketNo \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketTCP_ActiveOpen1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 10; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketTCP_ActiveOpen1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 100; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0 \u00A0\u00A0\u00A0 10:  \u00A0\u00A0\u00A0 //xTCPSend\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u53D1\u9001\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF xTCPSend THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 11; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 11:  \u00A0\u00A0\u00A0 //\u53D1\u9001\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_Send1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  uiSocketNo , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ByteSize  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 16384, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  auiSendData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketTCP_Send1.Done OR SocketTCP_Send1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketTCP_Send1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 20; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketTCP_Send1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 200; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5B9E\u4F8B\u7684\u521D\u59CB\u5316 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_Send1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute \u00A0 \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0:=  auiSendData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 20:  \u00A0\u00A0\u00A0 //\u63A5\u6536\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_Recv1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  uiSocketNo , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ByteSize  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  auiRecvData [0], \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Timeout  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 RecvByteSize  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 =\u003E  udiRecvByteSize \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketTCP_Recv1.Done OR SocketTCP_Recv1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketTCP_Recv1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState \u00A0\u00A0\u00A0 := 30; \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketTCP_Recv1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState \u00A0\u00A0\u00A0 := 300; \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5B9E\u4F8B\u7684\u521D\u59CB\u5316 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketTCP_Recv1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute \u00A0 \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 :=  auiRecvData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 30:  \u00A0\u00A0\u00A0 //\u786E\u8BA4\u5173\u95ED\u8BF7\u6C42 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF xTCPClose THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 40; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u8FDB\u5165\u5173\u95ED\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSE \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 10; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u8FD4\u56DE\u53D1\u9001\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 40:  \u00A0\u00A0\u00A0 //\u5173\u95ED\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketClose1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  uiSocketNo \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketClose1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 50; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketClose1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 400; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 50:  \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSE \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F END_CASE ; \u258C \u76F8\u5173\u6307\u4EE4 SocketTCP_ActiveOpen SocketTCP_PassiveOpen SocketTCP_Send SocketTCP_Recv SocketClose UDP\u5957\u63A5\u5B57\u901A\u4FE1 \u901A\u8FC7UDP\u5957\u63A5\u5B57\u901A\u4FE1\u63A5\u6536\u548C\u53D1\u9001\u6570\u636E\u3002 (1) xUDPOpen \u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDB\u884C\u6253\u5F00\u5904\u7406\u3002\u5728 uiSockNo \u4E2D\u5B58\u50A8\u7528\u4E8E\u8FDE\u63A5\u7684\u5957\u63A5\u5B57\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u3002 \u5B58\u50A8\u5728 uiSockNo \u4E2D\u7684\u5957\u63A5\u5B57\u7F16\u53F7\u4F1A\u5728\u5176\u4ED6\u5957\u63A5\u5B57\u901A\u4FE1FB\u4E2D\u4F7F\u7528\u3002 (2) \u6253\u5F00\u5904\u7406\u5B8C\u6210\u540E\uFF0C\u4F1A\u7B49\u5F85\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u6570\u636E\u3002\u7531\u4E8E\u5DF2\u5C06Timeout\u6307\u5B9A\u4E3A0\uFF0C\u6240\u4EE5\u4E0D\u4F1A\u68C0\u6D4B\u8D85\u65F6\u3002 \u5728\u63A5\u6536\u5230\u5BF9\u65B9\u8BBE\u5907\u53D1\u6765\u7684\u6570\u636E\u65F6\uFF0C\u8FDB\u884C\u63A5\u6536\u5904\u7406\uFF0C\u5E76\u5728 strDstAddress \u548C uiDstPortNo \u4E2D\u5B58\u50A8\u5BF9\u65B9\u8BBE\u5907\u7684IP\u5730\u5740\u548C\u7AEF\u53E3\u53F7\u3002 (3) \u6570\u636E\u63A5\u6536\u5B8C\u6210\u540E\uFF0C\u8FDB\u884C\u6570\u636E\u53D1\u9001\u3002\u5BF9\u53D1\u9001\u76EE\u6807\u6307\u5B9A\u5728\uFF082\uFF09\u4E2D\u5B58\u50A8\u7684\u5BF9\u65B9\u8BBE\u5907\u7684IP\u5730\u5740\u548C\u7AEF\u53E3\u53F7\u3002 \u6570\u636E\u53D1\u9001\u5B8C\u6210\u540E\uFF0C\u4F1A\u8FD4\u56DE\u5230\uFF082\uFF09\u7684\u7B49\u5F85\u63A5\u6536\u6570\u636E\u72B6\u6001\u3002\u6B64\u540E\uFF0C\u4F1A\u6309\u7167\u540C\u6837\u7684\u6B65\u9AA4\u91CD\u590D\u8FDB\u884C\u6570\u636E\u7684\u63A5\u6536\u548C\u53D1\u9001\u3002 (4) xTCPClose \u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDB\u884C\u5173\u95ED\u5957\u63A5\u5B57\u5904\u7406\uFF0C\u7ED3\u675F\u901A\u4FE1\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA SocketUDP_Open1 SocketUDP_Open FB\u5B9E\u4F8B SocketUDP_Recv1 SocketUDP_Recv FB\u5B9E\u4F8B SocketUDP_Send1 SocketUDP_Send FB\u5B9E\u4F8B SocketClose1 SocketClose FB\u5B9E\u4F8B xUDPOpen BOOL \u6253\u5F00\u8BF7\u6C42 xUDPClose BOOL \u5173\u95ED\u8BF7\u6C42 uiSocketNo UINT \u5957\u63A5\u5B57\u7F16\u53F7 strDstAddress STRING[15] \u5BF9\u65B9\u8BBE\u5907\u7684IP\u5730\u5740 uiDstPortNo UINT \u5BF9\u65B9\u8BBE\u5907\u7684\u7AEF\u53E3\u53F7 udiRecvByteSize UDINT \u63A5\u6536\u5B57\u8282\u6570 auiSendData ARRAY[0..16383] OF UINT \u53D1\u9001\u6570\u636E auiRecvData ARRAY[0..16383] OF UINT \u63A5\u6536\u6570\u636E uiState UINT \u72B6\u6001\u7F16\u53F7 \u258C \u7A0B\u5E8F IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 uiState  := 0; END_IF ; CASE uiState OF \u00A0\u00A0\u00A0 0:  \u00A0\u00A0\u00A0 //FB\u5B9E\u4F8B\u7684\u521D\u59CB\u5316 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Open1 (Execute :=  FALSE ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Send1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  auiSendData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Recv1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  auiRecvData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketClose1 (Execute :=  FALSE ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 1; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 1:  \u00A0\u00A0\u00A0 //xUDPOpen\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u4E3B\u52A8\u6253\u5F00 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF xUDPOpen THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 2; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 2:  \u00A0\u00A0\u00A0 //\u4E3B\u52A8\u6253\u5F00 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Open1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 EthernetPort  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SrcPortNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 =\u003E  uiSocketNo \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketUDP_Open1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 10; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketUDP_Open1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 100; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0 \u00A0\u00A0\u00A0 10:  \u00A0\u00A0\u00A0 //\u63A5\u6536\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Recv1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  uiSocketNo , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 MaxByteSize \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 16384, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  auiRecvData [0], \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Timeout  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 RecvByteSize  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 =\u003E  udiRecvByteSize , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SrcAddress \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 =\u003E  strDstAddress , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SrcPortNo \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 =\u003E  uiDstPortNo \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketUDP_Recv1.Done OR SocketUDP_Recv1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketUDP_Recv1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 20; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketUDP_Recv1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 200; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5B9E\u4F8B\u7684\u521D\u59CB\u5316 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Recv1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Dst  \u00A0\u00A0\u00A0 :=  auiRecvData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 20:  \u00A0\u00A0\u00A0 //\u53D1\u9001\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Send1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  uiSocketNo , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 DstAddress  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  strDstAddress , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 DstPortNo  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  uiDstPortNo , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ByteSize  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 := 16384, \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 :=  auiSendData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketUDP_Send1.Done OR SocketUDP_Send1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketUDP_Send1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 30; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketUDP_Send1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 300; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5B9E\u4F8B\u7684\u521D\u59CB\u5316 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketUDP_Send1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  FALSE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Src  \u00A0\u00A0\u00A0 :=  auiSendData [0] \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 30:  \u00A0\u00A0\u00A0 //\u786E\u8BA4\u5173\u95ED\u8BF7\u6C42 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF xUDPClose THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 40; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u8FDB\u5165\u5173\u95ED\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSE \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 10; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u8FD4\u56DE\u63A5\u6536\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 40:  \u00A0\u00A0\u00A0 //\u5173\u95ED\u5904\u7406 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketClose1 ( \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  TRUE , \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 SocketNo  \u00A0\u00A0\u00A0 :=  uiSocketNo \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 IF SocketClose1.Done THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 50; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSIF SocketClose1.Error THEN \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 uiState  := 400; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_IF ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 50:  \u00A0\u00A0\u00A0 //\u6B63\u5E38\u7ED3\u675F \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSE \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5F02\u5E38\u7ED3\u675F END_CASE ; \u258C \u76F8\u5173\u6307\u4EE4 SocketUDP_Open SocketUDP_Recv SocketUDP_Send SocketClose \u901A\u8FC7Ping\u8FDB\u884C\u8FDE\u63A5\u786E\u8BA4 \u6267\u884CPing\u6307\u4EE4\uFF0C\u4EE5\u786E\u8BA4\u4E0E\u6307\u5B9AIP\u5730\u5740\u7684\u8BBE\u5907\u4E4B\u95F4\u662F\u5426\u5904\u4E8E\u94FE\u63A5\u72B6\u6001\u3002\u5982\u679C\u5DF2\u5EFA\u7ACB\u94FE\u63A5\uFF0C\u5219 xConnected \u4F1A\u53D8\u4E3ATRUE\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA Ping1 Ping FB\u5B9E\u4F8B xFlag BOOL \u89E6\u53D1 xConnected BOOL \u5EFA\u7ACB\u94FE\u63A5 \u258C \u7A0B\u5E8F Ping1 ( \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 DstAddress  \u00A0\u00A0\u00A0 :=  \u0027192.168.0.20\u0027 , \u00A0\u00A0\u00A0 Timeout  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); IF Ping1.Done THEN \u00A0\u00A0\u00A0 xConnected \u00A0:=  TRUE ; END_IF ; \u258C \u76F8\u5173\u6307\u4EE4 Ping \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u591A\u4E2A\u6570\u636E\uFF09 \u8BFB\u5199\u5355\u5143\u7F16\u53F71\u7684\u6269\u5C55\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u503C\u3002\u4F7F\u7528\u7CFB\u7EDF\u53D8\u91CF_ExpansionUnit.Connected\uFF0C\u786E\u8BA4\u6307\u5B9A\u7F16\u53F7\u7684\u6269\u5C55\u5355\u5143\u662F\u5426\u5B58\u5728\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B xFlag BOOL \u89E6\u53D1 auiReadData ARRAY[0..99] OF UINT \u8BFB\u53D6\u6570\u636E auiWriteData ARRAY[0..99] OF UINT \u5199\u5165\u6570\u636E \u258C \u7A0B\u5E8F R_TRIG1 (CLK :=  xFlag ); IF \u00A0_ExpansionUnit.Connected[1]  THEN \u00A0\u00A0\u00A0 UnitBufMemBlockRead (EN :=  R_TRIG1.Q , Unit := 1, BufMemAddress := 0, Dst :=  auiReadData [0], WordSize := 100); \u00A0\u00A0\u00A0 UnitBufMemBlockWrite (EN :=  R_TRIG1.Q , Unit := 1, BufMemAddress := 10000, Src :=  auiWriteData [0], WordSize := 100); END_IF; \u258C \u76F8\u5173\u6307\u4EE4 UnitBufMemBlockRead UnitBufMemBlockWrite \u7F13\u51B2\u5B58\u50A8\u5668\u7684\u8BFB\u5199\uFF08\u5355\u4E2A\u6570\u636E\uFF09 \u8BFB\u5199\u5355\u5143\u7F16\u53F71\u7684\u6269\u5C55\u5355\u5143\u7684\u7F13\u51B2\u5B58\u50A8\u5668\u7684\u503C\u3002\u4F7F\u7528\u7CFB\u7EDF\u53D8\u91CF_ExpansionUnit.Connected\uFF0C\u786E\u8BA4\u6307\u5B9A\u7F16\u53F7\u7684\u6269\u5C55\u5355\u5143\u662F\u5426\u5B58\u5728\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B xFlag BOOL \u89E6\u53D1 diReadData DINT \u8BFB\u53D6\u6570\u636E diWriteData DINT \u5199\u5165\u6570\u636E \u258C \u7A0B\u5E8F R_TRIG1 (CLK :=  xFlag ); IF \u00A0_ExpansionUnit.Connected[1]  THEN \u00A0\u00A0\u00A0 UnitBufMemRead (EN :=  R_TRIG1.Q , Unit := 1, BufMemAddress := 0, Dst :=  diReadData ); \u00A0\u00A0\u00A0 UnitBufMemWrite (EN :=  R_TRIG1.Q , Unit := 1, BufMemAddress := 10000, Src :=  diWriteData ); END_IF; \u258C \u76F8\u5173\u6307\u4EE4 UnitBufMemRead UnitBufMemWrite 2\u70B9\u95F4\u7684\u65F6\u95F4\u6D4B\u91CF \u6D4B\u91CF\u4ECE xFlag1 \u7684\u4E0A\u5347\u6CBF\u5230 xFlag2 \u7684\u4E0A\u5347\u6CBF\u7684\u65F6\u95F4\uFF08\u4EE5100ns\u4E3A\u5355\u4F4D\uFF09\u3002 (1) \u68C0\u6D4B\u5230 xFlag1 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u5237\u65B0\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\uFF0C\u5E76\u5C06\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\u5B58\u50A8\u5230 udiFreeRunCounter \u4E2D\u3002 (2) \u68C0\u6D4B\u5230 xFlag2 \u7684\u4E0A\u5347\u6CBF\u65F6\uFF0C\u5237\u65B0\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\uFF0C\u7136\u540E\u8BA1\u7B97\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u5F53\u524D\u503C\u4E0E\u5728\uFF081\uFF09\u4E2D\u83B7\u53D6\u7684\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668\u7684\u503C\u7684\u5DEE\u503C\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA R_TRIG1 R_TRIG FB\u5B9E\u4F8B R_TRIG2 R_TRIG FB\u5B9E\u4F8B xFlag1 BOOL \u89E6\u53D11 udiFreeRunCounter1 UDINT xFlag1\u4E0A\u5347\u65F6\u7684\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668 xFlag2 BOOL \u89E6\u53D12 udiElapsedTime UDINT 2\u70B9\u95F4\u7684\u7ECF\u8FC7\u65F6\u95F4 \u258C \u7A0B\u5E8F //\u68C0\u6D4BxFlag1\u7684\u4E0A\u5347\u6CBF\uFF0C\u83B7\u53D6\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668(100ns)\u7684\u503C R_TRIG1 (CLK :=  xFlag1 ); IF R_TRIG1.Q THEN \u00A0\u00A0\u00A0 RefreshFreerunCounter (); \u00A0\u00A0\u00A0 udiFreeRunCounter1  := _FreeRunCounter100ns; END_IF ; //\u68C0\u6D4BxFlag2\u7684\u4E0A\u5347\u6CBF\uFF0C\u51CF\u53BB\u81EA\u7531\u8FD0\u884C\u8BA1\u6570\u5668(100ns)\u7684\u5F53\u524D\u503C R_TRIG2 (CLK :=  xFlag2 ); IF R_TRIG2.Q THEN \u00A0\u00A0\u00A0 RefreshFreerunCounter (); \u00A0\u00A0\u00A0 udiElapsedTime \u00A0:= _FreeRunCounter100ns -  udiFreeRunCounter1 ; END_IF ; \u258C \u76F8\u5173\u6307\u4EE4 RefreshFreerunCounter \u95F4\u63A5\u6307\u5B9A\u8F6F\u5143\u4EF6 \u83B7\u53D6\u8F6F\u5143\u4EF6\u5730\u5740\uFF0C\u901A\u8FC7\u4F7F\u7528\u4E86\u5730\u5740\u7684\u95F4\u63A5\u6307\u5B9A\u6765\u64CD\u4F5C\u5404\u8F6F\u5143\u4EF6\u3002 (1) \u5728\u5F00\u59CB\u8FD0\u884C\u65F6\uFF0C\u5C06DM100\u7684\u5730\u5740\u5B58\u50A8\u5230 pAddress1 \uFF5E pAddress 5 \u4E2D\u3002 (2) \u4EE5DM100\u4E3A\u8D77\u70B9\uFF0C\u8BA1\u7B97\u5404\u8F6F\u5143\u4EF6\u7684\u5730\u5740\u3002 (3) \u5728 xFlag \u7684\u4E0A\u5347\u6CBF\uFF0C\u5411\u5404\u8F6F\u5143\u4EF6\u5B58\u50A8\u503C\u3002\u4F7F\u7528\u5730\u5740\u64CD\u4F5C\u8F6F\u5143\u4EF6\u65F6\uFF0C\u5E94\u5728\u5B58\u50A8\u4E86\u5730\u5740\u7684\u53D8\u91CF\u540D\u5F00\u5934\u6DFB\u52A0*\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA pAddress1 UDINT \u8F6F\u5143\u4EF6\u5730\u5740 pAddress2 UDINT \u8F6F\u5143\u4EF6\u5730\u5740 pAddress3 UDINT \u8F6F\u5143\u4EF6\u5730\u5740 pAddress4 UDINT \u8F6F\u5143\u4EF6\u5730\u5740 pAddress5 UDINT \u8F6F\u5143\u4EF6\u5730\u5740 R_TRIG1 R_TRIG FB\u5B9E\u4F8B xFlag BOOL \u89E6\u53D1 \u258C \u7A0B\u5E8F //\u5C06DM100\u7684\u5730\u5740\u5B58\u50A8\u5230pAddress1\uFF5E5\u4E2D IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 pAddress1 \u00A0:=  DevAddressGet (DM100); \u00A0\u00A0\u00A0 pAddress2 \u00A0:=  DevAddressGet (DM100); \u00A0\u00A0\u00A0 pAddress3 \u00A0:=  DevAddressGet (DM100); \u00A0\u00A0\u00A0 pAddress4 \u00A0:=  DevAddressGet (DM100); \u00A0\u00A0\u00A0 pAddress5 \u00A0:=  DevAddressGet (DM100); //\u4EE5DM100\u4E3A\u8D77\u70B9\uFF0C\u8BA1\u7B97\u5404\u8F6F\u5143\u4EF6\u7684\u5730\u5740 \u00A0\u00A0\u00A0 DevAddressInc ( pAddress2 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //DM101 \u00A0\u00A0\u00A0 DevAddressDec ( pAddress3 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //DM99 \u00A0\u00A0\u00A0 DevAddressAdd (10,  pAddress4 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //DM110 \u00A0\u00A0\u00A0 DevAddressSub (10,  pAddress5 ); \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //DM90 END_IF ; R_TRIG1 (CLK :=  xFlag ); IF \u00A0R_TRIG1.Q  THEN \u00A0\u00A0\u00A0 * pAddress1  := 1000; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 // DM100 := 1000; \u00A0\u00A0\u00A0 * pAddress2  := 1000; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 // DM101 := 1000; \u00A0\u00A0\u00A0 * pAddress3  := 1000; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 // DM99 \u00A0:= 1000; \u00A0\u00A0\u00A0 * pAddress4  := 1000; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 // DM110 := 1000; \u00A0\u00A0\u00A0 * pAddress5  := 1000; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 // DM90 \u00A0:= 1000; END_IF ; \u258C \u76F8\u5173\u6307\u4EE4 DevAddressGet DevAddressInc DevAddressDec DevAddressAdd DevAddressSub \u6839\u636E\u6761\u4EF6\u8FDB\u884C\u5206\u652F\u5904\u7406 \u6839\u636E uiMeasureData \u7684\u503C\uFF0C\u5BF9 strMessage \u4E2D\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u8FDB\u884C\u5206\u652F\u5904\u7406\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA uiMeasureData UINT \u57FA\u51C6\u6570\u636E strMessage STRING[12] \u5B57\u7B26\u4E32\u5B58\u50A8\u4F4D\u7F6E \u258C \u7A0B\u5E8F CASE uiMeasureData OF //\u5C06uiMeasureData\u7684\u503C\u8BBE\u4E3A\u5206\u652F\u6761\u4EF6 \u00A0\u00A0\u00A0 90..65535: \u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //90 \u2264 uiMeasureData \u003C 65535 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 strMessage \u00A0:=  \u0027Upeer Error\u0027 ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 80..90: \u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //80 \u2264 uiMeasureData \u003C 90 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 strMessage \u00A0:=  \u0027Upper Warning\u0027 ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 20..80: \u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //20 \u2264 uiMeasureData \u003C 80 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 strMessage \u00A0:=  \u0027Normal\u0027 ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 10..20:  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //10 \u2264 uiMeasureData \u003C 20 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 strMessage \u00A0:=  \u0027Lower Warning\u0027 ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 0..10:  \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //0 \u2264 uiMeasureData \u003C 10 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 strMessage \u00A0:=  \u0027Lower Error\u0027 ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 ELSE \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //Other \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 strMessage \u00A0:=  \u0027Emergency\u0027 ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 END_CASE ; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 //\u5206\u652F\u8BED\u53E5\u7ED3\u675F \u258C \u76F8\u5173\u6307\u4EE4 CASE \u5355\u8F74\u63A7\u5236 \u4F7F\u7528\u5355\u8F74\u8FDB\u884C\u52A8\u4F5C\u5141\u8BB8\u3001\u4F3A\u670D\u5F00\u542F\u3001\u539F\u70B9\u590D\u5F52\u3001JOG\u3001\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u3001\u6E05\u9664\u9519\u8BEF\u7B49\u64CD\u4F5C\u3002 (1) \u4F7F\u7528\u7CFB\u7EDF\u53D8\u91CF_MC_Common.StatusBit.Enable\uFF08\u52A8\u4F5C\u5C31\u7EEA\uFF09\u548C_MC_Axis[#1].StatusBit.ServoReady\uFF08\u8F741\u4F3A\u670D\u5C31\u7EEA\uFF09\u521B\u5EFA\u8054\u9501\u6807\u5FD7\u3002 \u8BF7\u6839\u636E\u9700\u8981\u6DFB\u52A0\u8FD0\u884C\u6240\u9700\u7684\u6761\u4EF6\uFF08\u63A5\u70B9\uFF09\u3002 (2) \u5728 xOperationEnable \u4E3ATRUE\u7684\u671F\u95F4\uFF0C\u5141\u8BB8\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u8FD0\u884C\u3002\u5728\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u53D8\u4E3A\u53EF\u8FD0\u884C\u72B6\u6001\u540E\uFF0C\u5C06\u8F741\u7F6E\u4E8E\u4F3A\u670D\u5F00\u542F\u72B6\u6001\u3002 \u5728\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u53D8\u4E3A\u53EF\u8FD0\u884C\u72B6\u6001\uFF0C\u8F741\u53D8\u4E3A\u4F3A\u670D\u5F00\u542F\u72B6\u6001\u65F6\uFF0C xAxisOpReady \uFF08\u8FD0\u52A8FB\u7684\u8054\u9501\uFF09\u4F1A\u53D8\u4E3ATRUE\u3002 (3) xHoming \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 (4) \u5728 xJogFowardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogForward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u6B63\u65B9\u5411JOG\u5904\u7406\u3002\u5728 xJogBackwardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogBackward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u8D1F\u65B9\u5411JOG\u5904\u7406\u3002 \u5BF9 xJogForward \u548C xJogBackward \u8FDB\u884C\u4E92\u65A5\u63A7\u5236\uFF0C\u4EE5\u786E\u4FDD\u5B83\u4EEC\u4E0D\u4F1A\u540C\u65F6\u53D8\u4E3ATRUE\u3002 (5) \u5C06 xMove \u7F6E\u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDB\u884C\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D\u3002 (6) \u5C06 xErrClear \u7F6E\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u6E05\u9664\u9519\u8BEF\u548C\u9A71\u52A8\u5668\u62A5\u8B66\u590D\u4F4D\u5904\u7406\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_OperationEnable1 MC_OperationEnable FB\u5B9E\u4F8B MC_Power1 MC_Power FB\u5B9E\u4F8B MC_Home1 MC_Home FB\u5B9E\u4F8B MC_Jog1 MC_Jog FB\u5B9E\u4F8B MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_Reset1 MC_Reset FB\u5B9E\u4F8B xAxisOpReady BOOL \u8FD0\u52A8FB\u7684\u8054\u9501 xOperationEnable BOOL \u52A8\u4F5C\u5141\u8BB8 xHoming BOOL \u539F\u70B9\u590D\u5F52 xJogForwardReq BOOL \u6B63\u65B9\u5411JOG\u8BF7\u6C42 xJogBackwardReq BOOL \u8D1F\u65B9\u5411JOG\u8BF7\u6C42 xJogForward BOOL \u6B63\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogBackward BOOL \u8D1F\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogFast BOOL \u9AD8\u901FJOG xMove BOOL \u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D xErrClear BOOL \u6E05\u9664\u9519\u8BEF xHomeExe BOOL MC_Home1\u7684\u6267\u884C\u6761\u4EF6 xAbsExe BOOL MC_MoveAbsolute1\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //\u521B\u5EFA\u8054\u9501\u6807\u5FD7 xAxisOpReady \u00A0:= _MC_Common.StatusBit.Enable  AND  _MC_Axis[1].StatusBit.ServoReady; //\u539F\u70B9\u590D\u5F52 IF xHoming AND xAxisOpReady THEN \u00A0\u00A0\u00A0 xHomeExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xHomeExe \u00A0:=  FALSE ; END_IF ; //JOG //xJogForward(\u6B63\u65B9\u5411JOG)\u548CxJogBackward(\u8D1F\u65B9\u5411JOG)\u7684\u4E92\u65A5\u5904\u7406 //\u6B63\u65B9\u5411JOG IF xJogForwardReq AND xAxisOpReady AND NOT xJogBackward THEN \u00A0\u00A0\u00A0 xJogForward \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xJogForward \u00A0:=  FALSE ; END_IF ; //\u8D1F\u65B9\u5411JOG IF xJogBackwardReq AND xAxisOpReady AND NOT xJogForward THEN \u00A0\u00A0\u00A0 xJogBackward \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xJogBackward \u00A0:=  FALSE ; END_IF ; //\u7EDD\u5BF9\u4F4D\u7F6E\u5B9A\u4F4D IF xMove AND xAxisOpReady THEN \u00A0\u00A0\u00A0 xAbsExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xAbsExe \u00A0:=  FALSE ; END_IF ; //\u6267\u884CFB MC_OperationEnable1 ( \u00A0\u00A0\u00A0 Enable  \u00A0\u00A0\u00A0 :=  xOperationEnable \u00A0\u00A0\u00A0 ); MC_Power1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Enable  \u00A0\u00A0\u00A0 :=  MC_OperationEnable1.Status \u00A0\u00A0\u00A0 ); MC_Home1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xHomeExe , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 0 \u00A0\u00A0\u00A0 ); MC_Jog1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 JogForward  \u00A0\u00A0\u00A0 :=  xJogForward , \u00A0\u00A0\u00A0 JogBackward  \u00A0\u00A0\u00A0 :=  xJogBackward , \u00A0\u00A0\u00A0 Fast  \u00A0\u00A0\u00A0 :=  xJogFast , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 VelocityFast  \u00A0\u00A0\u00A0 := 500, \u00A0\u00A0\u00A0 InchingMovement  \u00A0\u00A0\u00A0 := 12.3, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 50, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 50, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_MoveAbsolute1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xAbsExe , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 123.45, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 50, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 25, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 25, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_Reset1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xErrClear \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_OperationEnable MC_Power MC_Home MC_Jog MC_MoveAbsolute MC_Reset \u52A8\u4F5C\u5141\u8BB8\u548C\u4F3A\u670D\u5F00\u542F \u5728 xFlag \u4E3ATRUE\u7684\u671F\u95F4\uFF0C\u5141\u8BB8\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u8FD0\u884C\u3002\u5728\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u53D8\u4E3A\u53EF\u8FD0\u884C\u72B6\u6001\u540E\uFF0C\u5C06\u8F741\u7F6E\u4E8E\u4F3A\u670D\u5F00\u542F\u72B6\u6001\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Power1 MC_Power FB\u5B9E\u4F8B MC_OperationEnable1 MC_OperationEnable FB\u5B9E\u4F8B xFlag BOOL \u52A8\u4F5C\u5141\u8BB8_\u4F3A\u670D\u5F00\u542F \u258C \u7A0B\u5E8F MC_OperationEnable1 (Enable :=  xFlag ); MC_Power1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Enable  \u00A0\u00A0\u00A0 :=  MC_OperationEnable1.Status \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_Power MC_OperationEnable \u6E05\u9664\u9519\u8BEF \u5C06 xFlag \u7F6E\u4E3ATRUE\u65F6\uFF0C\u4F1A\u91CD\u7F6E\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7684\u9519\u8BEF\u3001\u8F74\u9519\u8BEF\u4EE5\u53CA\u9A71\u52A8\u5668\u62A5\u8B66\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Reset1 MC_Reset FB\u5B9E\u4F8B xFlag BOOL \u6E05\u9664\u9519\u8BEF \u258C \u7A0B\u5E8F MC_Reset1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_Reset JOG \u5728 xJogFowardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogForward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u6B63\u65B9\u5411JOG\u5904\u7406\u3002\u5728 xJogBackwardReq \u662FTRUE\u7684\u671F\u95F4\uFF0C xJogBackward \u53D8\u4E3ATRUE\uFF0C\u6267\u884C\u8D1F\u65B9\u5411JOG\u5904\u7406\u3002 \u5BF9 xJogForward \u548C xJogBackward \u8FDB\u884C\u4E92\u65A5\u63A7\u5236\uFF0C\u4EE5\u786E\u4FDD\u5B83\u4EEC\u4E0D\u4F1A\u540C\u65F6\u53D8\u4E3ATRUE\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Jog1 MC_Jog FB\u5B9E\u4F8B xJogForward BOOL \u6B63\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogBackward BOOL \u8D1F\u65B9\u5411JOG\uFF08MC_Jog1\u7684\u6267\u884C\u6761\u4EF6\uFF09 xJogFast BOOL \u9AD8\u901FJOG xJogForwardReq BOOL \u6B63\u65B9\u5411JOG\u8BF7\u6C42 xJogBackwardReq BOOL \u8D1F\u65B9\u5411JOG\u8BF7\u6C42 \u258C \u7A0B\u5E8F //xJogForward(\u6B63\u65B9\u5411JOG)\u548CxJogBackward(\u8D1F\u65B9\u5411JOG)\u7684\u4E92\u65A5\u5904\u7406 //\u6B63\u65B9\u5411JOG IF xJogForwardReq AND NOT xJogBackward THEN \u00A0\u00A0\u00A0 xJogForward \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xJogForward \u00A0:=  FALSE ; END_IF ; //\u8D1F\u65B9\u5411JOG IF xJogBackwardReq AND NOT xJogForward THEN \u00A0\u00A0\u00A0 xJogBackward \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xJogBackward \u00A0:=  FALSE ; END_IF ; MC_Jog1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 JogForward  \u00A0\u00A0\u00A0 :=  xJogForward , \u00A0\u00A0\u00A0 JogBackward  \u00A0\u00A0\u00A0 := xJogBackward, \u00A0\u00A0\u00A0 Fast  \u00A0\u00A0\u00A0 :=  xJogFast , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 VelocityFast  \u00A0\u00A0\u00A0 := 500, \u00A0\u00A0\u00A0 InchingMovement  \u00A0\u00A0\u00A0 := 50, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 75, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 75, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_Jog \u539F\u70B9\u590D\u5F52 xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Home1 MC_Home FB\u5B9E\u4F8B xFlag BOOL MC_Home1\u7684\u6267\u884C\u6761\u4EF6 xHomeExe BOOL \u539F\u70B9\u590D\u5F52 \u258C \u7A0B\u5E8F MC_Home1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 0 \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_Home \u539F\u70B9\u590D\u5F52/\u539F\u70B9\u4F20\u611F\u5668\u8BF7\u6C42 \u4F7F\u7528MC_InternalHomeSensor\u8FDB\u884C\u539F\u70B9\u590D\u5F52\uFF0C\u4EE3\u66FF\u8FD0\u52A8\u529F\u80FD\u6620\u5C04\u7684\u539F\u70B9\u4F20\u611F\u5668\u3002 (1) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002 (2) \u5728\u539F\u70B9\u590D\u5F52\u8FC7\u7A0B\u4E2D\uFF0C\u5982\u679C xHomeSensor \u53D8\u4E3ATRUE\uFF0C\u5E76\u4E14\u6267\u884CMC_InternalHomeSensor\uFF0C\u5219\u4F1A\u5C06\u5176\u89C6\u4E3A\u4EE3\u66FF\u539F\u70B9\u4F20\u611F\u5668\u3002 \u53EF\u5BF9 xHomeSensor \u4F7F\u7528\u8F93\u5165\u5355\u5143\u7684\u8F93\u5165\u4FE1\u53F7\u7B49\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Home1 MC_Home FB\u5B9E\u4F8B MC_InternalHomeSensor1 MC_InternalHomeSensor FB\u5B9E\u4F8B xFlag BOOL \u539F\u70B9\u590D\u5F52 xHomeExe BOOL MC_Home1\u7684\u6267\u884C\u6761\u4EF6 xHomeSensor BOOL \u4EE3\u66FF\u539F\u70B9\u4F20\u611F\u5668\u7684\u4FE1\u53F7 \u258C \u7A0B\u5E8F MC_Home1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 0 \u00A0\u00A0\u00A0 ); IF MC_Home1.Busy AND xHomeSensor THEN \u00A0\u00A0\u00A0 xHomeExe \u00A0\u00A0\u00A0 :=  TRUE ; ELSE \u00A0\u00A0\u00A0 xHomeExe \u00A0\u00A0\u00A0 :=  FALSE ; END_IF ; MC_InternalHomeSensor1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Enable  \u00A0\u00A0\u00A0 :=  xHomeExe \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_Home MC_InternalHomeSensor \u539F\u70B9\u590D\u5F52/\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8 \u5728\u539F\u70B9\u590D\u5F52\u5B8C\u6210\u540E\uFF0C\u79FB\u52A8\u5230\u5728\u57FA\u672C\u4F4D\u7F6E\u4E2D\u6307\u5B9A\u7684\u5750\u6807\u5904\u3002 \u5982\u9700\u50CF\u4E0B\u8FF0\u8FD9\u6837\uFF0C\u5C06\u673A\u68B0\u6781\u9650\u4F4D\u7F6E\u7A0D\u5FAE\u9760\u524D\u7684\u4F4D\u7F6E\u8BBE\u4E3A\u5750\u6807\u76840.000mm\uFF0C\u5219\u5E94\u8BBE\u4E3A \u2022 \u539F\u70B9\u5750\u6807\uFF1A-5.000mm\uFF08\u673A\u68B0\u7684\u6781\u9650\u4F4D\u7F6E\uFF09 \u2022 \u57FA\u672C\u4F4D\u7F6E\u5750\u6807\uFF1A0.000mm\uFF08\u673A\u68B0\u6781\u9650\u4F4D\u7F6E\u7A0D\u5FAE\u9760\u524D\u7684\u4F4D\u7F6E\uFF09 \u7136\u540E\u6267\u884C\u57FA\u672C\u4F4D\u7F6E\u79FB\u52A8\u3002 \u00A0 (1) xFlag \u53D8\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884C\u539F\u70B9\u590D\u5F52\u3002\u5C06Position\uFF08\u539F\u70B9\u5750\u6807\uFF09\u6307\u5B9A\u4E3A-5\uFF08mm\uFF09\u3002 (2) \u5728\u539F\u70B9\u590D\u5F52\u5B8C\u6210\u540E\uFF0C\u79FB\u52A8\u5230\u57FA\u672C\u4F4D\u7F6E\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_Home1 MC_Home FB\u5B9E\u4F8B MC_MoveToBasePosition1 MC_MoveToBasePosition FB\u5B9E\u4F8B xFlag BOOL \u539F\u70B9\u590D\u5F52 \u00A0 \u2022 \u57FA\u672C\u4F4D\u7F6E\u7684\u5750\u6807\u5E94\u5728\u8F74\u63A7\u5236\u8BBE\u5B9A\u4E2D\u7684\u201C\u57FA\u672C\u4F4D\u7F6E\u5750\u6807\u201D\u4E2D\u6307\u5B9A\u3002 \u2022 \u5982\u679C\u5728\u8F74\u63A7\u5236\u8BBE\u5B9A\u4E2D\u5C06\u201C\u81EA\u52A8\u79FB\u52A8\u57FA\u672C\u4F4D\u7F6E\u201D\u6307\u5B9A\u4E3A\u201C\u6267\u884C\u201D\uFF0C\u5219\u4F1A\u5728\u539F\u70B9\u590D\u5F52\u5B8C\u6210\u65F6\u81EA\u52A8\u79FB\u5230\u57FA\u672C\u4F4D\u7F6E\u3002\u56E0\u6B64\uFF0C\u65E0\u9700\u4F7F\u7528MC_MoveToBasePositon\u6307\u4EE4\u3002 \u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u4E0B\u8FF0\u624B\u518C\u3002 \u300AKV-X500/X300\u7CFB\u5217\u3000\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B \u258C \u7A0B\u5E8F MC_Home1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := -5 \u00A0\u00A0\u00A0 ); MC_MoveToBasePosition1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_Home1 .Done \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_Home MC_MoveToBasePosition \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 \u5728\u539F\u70B9\u672A\u786E\u5B9A\u6807\u5FD7\u4E3AFALSE\u7684\u72B6\u6001\uFF08\u5373\u539F\u70B9\u5DF2\u786E\u5B9A\u7684\u72B6\u6001\uFF09\u4E0B\uFF0C\u5982\u679C\u5C06 xFlag \u8BBE\u4E3ATRUE\uFF0C\u5219\u4F1A\u8FDB\u884C\u9AD8\u901F\u539F\u70B9\u79FB\u52A8\u3002 \u00A0 \u5982\u679C\u5728\u4ECE\u672A\u8FDB\u884C\u8FC7\u539F\u70B9\u590D\u5F52\u7684\u72B6\u6001\uFF08\u5373\u539F\u70B9\u5750\u6807\u672A\u786E\u5B9A\u7684\u72B6\u6001\uFF09\u4E0B\u8FDB\u884C\u9AD8\u901F\u539F\u70B9\u79FB\u52A8\uFF0C\u5219\u53EF\u80FD\u4F1A\u5B9A\u4F4D\u5230\u975E\u9884\u671F\u7684\u5750\u6807\u4F4D\u7F6E\uFF0C\u4ECE\u800C\u4F7F\u673A\u68B0\u53D7\u635F\u3002 \u56E0\u6B64\uFF0C\u5E94\u5728\u539F\u70B9\u672A\u786E\u5B9A\uFF08_MC_Axis[N].StatusBit.HomeIsNotDefined\uFF09\u7684\u72B6\u6001\u4E0B\u8BBE\u5B9A\u8054\u9501\u3002 \u4F46\u662F\uFF0C\u7531\u4E8E\u7EDD\u5BF9\u4F4D\u7F6E\u68C0\u6D4B\u7CFB\u7EDF\u4E3A\u201CABS\u201D\u65F6\uFF0C_MC_Axis[N].StatusBit.HomeIsNotDefined\u59CB\u7EC8\u4E3AFALSE\uFF0C\u6240\u4EE5\u65E0\u6CD5\u7528\u4E8E\u8054\u9501\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_FastMoveToHome1 MC_FastMoveToHome FB\u5B9E\u4F8B xFlag BOOL \u9AD8\u901F\u539F\u70B9\u79FB\u52A8 xFastHomeExe BOOL MC_FastMoveToHome1\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //_MC_Axis[1].StatusBit.HomeIsNotDefined(\u539F\u70B9\u672A\u786E\u5B9A)\u4E3AFALSE\u65F6\u6267\u884C IF xFlag AND NOT \u00A0_MC_Axis[1].StatusBit.HomeIsNotDefined  THEN \u00A0\u00A0\u00A0 xFastHomeExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xFastHomeExe \u00A0:=  FALSE ; END_IF ; MC_FastMoveToHome1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFastHomeExe \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_FastMoveToHome \u8FDE\u7EED\u5B9A\u4F4D (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u5411\u5750\u6807\u4E3A123.45\u7684\u4F4D\u7F6E\u8FDB\u884C\u7EDD\u5BF9\u5B9A\u4F4D\u3002 (2) \u5728\u5B8C\u6210\u5411\u5750\u6807100\u7684\u7EDD\u5BF9\u5B9A\u4F4D\u5E76\u7ECF\u8FC70.5\u79D2\u540E\uFF0C\u5F00\u59CB\u5411\u5750\u68070\u7684\u7EDD\u5BF9\u5B9A\u4F4D\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute2 MC_MoveAbsolute FB\u5B9E\u4F8B TON1 TON FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FDE\u7EED\u5B9A\u4F4D \u258C \u7A0B\u5E8F MC_MoveAbsolute1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0  := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0:=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0  := 123.45, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0  := 40, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 \u00A0:= 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 \u00A0:= 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0  := 100, \u00A0\u00A0\u00A0 Direction  \u00A0\u00A0\u00A0  := _MC_Dir_Positive \u00A0\u00A0\u00A0 ); TON1 (In :=  MC_MoveAbsolute1.Done , PT := T#0.5s); MC_MoveAbsolute2 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0  := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 \u00A0:=  TON1.Q , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0  := 0, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0  := 40, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 \u00A0:= 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 \u00A0:= 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0  := 100, \u00A0\u00A0\u00A0 Direction  \u00A0\u00A0\u00A0  := _MC_Dir_Positive \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveAbsolute MC_MoveRelative TON \u8FDE\u7EED\u5B9A\u4F4D\uFF08\u7F13\u51B2\u6A21\u5F0F\uFF09 \u6267\u884C\u8FDE\u7EED\u5B9A\u4F4D\u3002\u901A\u8FC7BufferMode\u6307\u5B9A\u901F\u5EA6\u7684\u8FDE\u63A5\u65B9\u6CD5\u3002\u4E0B\u9762\u4EE5\u793A\u4F8B\u7A0B\u5E8F\u548C\u65F6\u5E8F\u56FE\u4E3A\u4F8B\u8FDB\u884C\u8BF4\u660E\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u5411\u5750\u6807\u4E3A1000\u7684\u4F4D\u7F6E\u8FDB\u884C\u7EDD\u5BF9\u5B9A\u4F4D\u3002 (2) \u4F7F\u7528 MC_MoveAbsolute1 \u5F00\u59CB\u8F74\u63A7\u5236\u65F6\uFF0C MC_MoveAbsolute1.Active \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u542F\u52A8 MC_MoveAbsolute2 \u3002 \u4F46\u7531\u4E8E MC_MoveAbsolute2 \u7684BufferMode\u4E0D\u662F_MC_BM_Aborting\uFF0C\u6240\u4EE5\u4F1A\u7B49\u5F85 MC_MoveAbsolute2 \u5B8C\u6210\u8F74\u63A7\u5236\u3002 (3) MC_MoveAbsolute1 \u5B8C\u6210\u8F74\u63A7\u5236\u540E\uFF0C\u4F1A\u5F00\u59CB MC_MoveAbsolute2 \u7684\u8F74\u63A7\u5236\u3002\u7531\u4E8E MC_MoveAbsolute2 \u7684BufferMode\u662FBuffered\uFF0C\u6240\u4EE5\u4F1A\u5728\u5C06\u8FD0\u884C\u901F\u5EA6\u964D\u4F4E\u5230\u542F\u52A8\u901F\u5EA6\u7684\u72B6\u6001\u4E0B\uFF0C\u5728\u5750\u68071000\u5904\u8FDE\u63A5\u8FD0\u884C\uFF08\u65F6\u5E8F\u56FE\uFF08A\uFF09\uFF09\u3002 (4) \u7531\u4E8E MC_MoveAbsolute3 \u7684BufferMode\u662FBlendingLow\uFF0C\u6240\u4EE5\u4F1A\u8FDB\u884C\u5207\u6362\uFF0C\u4EE5\u4FBF\u80FD\u6309\u8FD0\u884C\u901F\u5EA6\u8F83\u6162\u7684 MC_MoveAbsolute3 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF0C\u5E76\u4F1A\u5728\u5207\u6362\u4E4B\u524D\u5F00\u59CB\u51CF\u901F\uFF0C\u7136\u540E\u5728\u5750\u68072000\u7684\u4F4D\u7F6E\u6309 MC_MoveAbsolute3 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF08\u65F6\u5E8F\u56FE\uFF08B\uFF09\uFF09\u3002 (5) \u7531\u4E8E MC_MoveAbsolute4 \u7684BufferMode\u662FBlendingHigh\uFF0C\u6240\u4EE5\u4F1A\u8FDB\u884C\u5207\u6362\uFF0C\u4EE5\u4FBF\u80FD\u6309\u8FD0\u884C\u901F\u5EA6\u8F83\u5FEB\u7684 MC_MoveAbsolute4 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF0C\u5E76\u4F1A\u5728\u5207\u6362\u4E4B\u524D\u5F00\u59CB\u52A0\u901F\uFF0C\u7136\u540E\u5728\u5750\u68073000\u7684\u4F4D\u7F6E\u6309 MC_MoveAbsolute4 \u7684\u901F\u5EA6\u8FDB\u884C\u8FDE\u63A5\uFF08\u65F6\u5E8F\u56FE\uFF08C\uFF09\uFF09\u3002 (6) \u901A\u8FC7 MC_MoveAbsolute4 \u6267\u884C\u8F74\u63A7\u5236\uFF0C\u5728\u5750\u68074000\u7684\u4F4D\u7F6E\u5B8C\u6210\u8F74\u63A7\u5236\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveRelative \u6307\u4EE4\u3002 \u258C \u65F6\u5E8F\u56FE \u00A0 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute2 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute3 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute4 MC_MoveAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FDE\u7EED\u5B9A\u4F4D \u258C \u7A0B\u5E8F MC_MoveAbsolute1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 1000, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 400, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 0 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_MoveAbsolute2 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveAbsolute1.Active , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 2000, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 400, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_Buffered \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_MoveAbsolute3 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveAbsolute2.Active, \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 3000, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 300, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_BlendingLow \u00A0\u00A0\u00A0 ); MC_MoveAbsolute4 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveAbsolute3.Active , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 4000, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 500, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 200, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_BlendingHigh \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveAbsolute MC_MoveRelative \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 \u5728\u5B9A\u4F4D\u8FD0\u884C\u4E2D\u66F4\u6539\u76EE\u6807\u5750\u6807\u3001\u8FD0\u884C\u901F\u5EA6\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C MC_MoveAbsolute1 \uFF0C\u5F00\u59CB\u7EDD\u5BF9\u5B9A\u4F4D\u3002 (2) \u5982\u679C\u5728\u6267\u884C MC_MoveAbsolute1 \u7684\u8FC7\u7A0B\u4E2D\u5C06 xChgFlag \u8BBE\u4E3ATRUE\uFF0C\u5219 xAbs2Exe \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u4EE5Aborting\u6267\u884C\u53E6\u4E00\u4E2A\u5B9E\u4F8B\u7684 MC_MoveAbsolute2 \u3002 \u6B64\u65F6\uFF0C\u7528\u4E8E\u7EDD\u5BF9\u5B9A\u4F4D\u7684\u53C2\u6570\u4F1A\u88AB\u66F4\u6539\u4E3A MC_MoveAbsolute2 \u7684\u53C2\u6570\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveAbsolute1 MC_MoveAbsolute FB\u5B9E\u4F8B MC_MoveAbsolute2 MC_MoveAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FD0\u884C xChgFlag BOOL \u66F4\u6539\u53C2\u6570 xAbs2Exe BOOL MC_MoveAbsolute2\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //\u6B63\u5728\u6267\u884CMC_MoveAbsolute1\u5E76\u4E14xChgFlag\u4E3ATRUE\u65F6\uFF0C\u5C06xAbs 2 Exe\u8BBE\u4E3ATRUE IF xChgFlag AND MC_MoveAbsolute1.Active THEN \u00A0\u00A0\u00A0 xAbs2Exe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xAbs2Exe \u00A0:=  FALSE ; END_IF ; MC_MoveAbsolute1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 123.45, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); MC_MoveAbsolute2 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xAbs2Exe , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 500, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode \u00A0\u00A0\u00A0 := _MC_BM_Aborting \u00A0\u00A0\u00A0 ); \u00A0 \u2022 \u5373\u4F7F\u5BF9 Busy \u4E3ATRUE\u7684\u8FD0\u52A8\u63A7\u5236\u6307\u4EE4\u66F4\u6539\u53C2\u6570\uFF0C\u5E76\u4F7F Execute \u8FDB\u884CFALSE\u2192TRUE\u7684\u5207\u6362\uFF0C\u4E5F\u4E0D\u4F1A\u5E94\u7528\u53C2\u6570\u3002 \u5982\u9700\u5728\u8F74\u7684\u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF0C\u5219\u4F1A\u50CF\u672C\u793A\u4F8B\u8FD9\u6837\uFF0C\u7528Aborting\u6267\u884C\u53E6\u4E00\u4E2A\u5B9E\u4F8B\u7684\u529F\u80FD\u5757\u3002 \u91CD\u542F\u5B9E\u4F8B \u2022 \u5982\u9700\u5728\u901A\u8FC7MC_MoveToPoint\u4F7F\u7528\u70B9\u53C2\u6570\u8FDB\u884C\u5B9A\u4F4D\u64CD\u4F5C\u7684\u8FC7\u7A0B\u4E2D\uFF0C\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\uFF0C\u5219\u5E94\u4F7F\u7528MC_ChangeTargetPosition\u6307\u4EE4\u3002 \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveAbsolute MC_MoveRelative \u5B9A\u4F4D\u548C\u51CF\u901F\u505C\u6B62/\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\uFF08\u70B9\u53C2\u6570\uFF09 \u5728\u6267\u884C\u70B9\u8FD0\u884C\u671F\u95F4\uFF0C\u91CD\u65B0\u5F00\u59CB\u7528\u51CF\u901F\u505C\u6B62\u6307\u4EE4\u4E2D\u65AD\u7684\u8FD0\u884C\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u4F7F\u7528\u4E86\u70B9\u53C2\u6570\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 (2) xStop \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u51CF\u901F\u505C\u6B62\u3002\u5982\u679C\u901A\u8FC7\u51CF\u901F\u505C\u6B62\u4E2D\u65AD\u5B9A\u4F4D\u8FD0\u884C\uFF0C\u90A3\u4E48 MC_MoveAbsolute1.Resumable \uFF08\u7B49\u5F85\u8FD0\u884C\u91CD\u65B0\u5F00\u59CB\uFF09\u4F1A\u53D8\u4E3ATRUE\u3002 (3) \u5C06 xStop \u8BBE\u4E3AFALSE\uFF0C\u5C06 xResume \u8BBE\u4E3ATRUE\u65F6\uFF0C xResumeExe \u4F1A\u53D8\u4E3ATRUE\uFF0C\u5E76\u91CD\u65B0\u5F00\u59CB\u56E0\u51CF\u901F\u505C\u6B62\u800C\u4E2D\u65AD\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 \u00A0 \u2022 \u53EF\u901A\u8FC7MC_ResumePositioning\u91CD\u65B0\u5F00\u59CB\u7684\u8FD0\u884C\u4EC5\u9650\u4E8E\u4F7F\u7528\u4E86MC_MoveToPoint\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 \u2022 \u505C\u6B62\u7C7B\u6307\u4EE4\u53EA\u8981\u67091\u4E2A Execute \u662FTRUE\uFF0C\u5C31\u65E0\u6CD5\u6267\u884C\u5B9A\u4F4D\u3002\u56E0\u6B64\uFF0C\u8BF7\u5728\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u4E4B\u524D\uFF0C\u5C06MC_Stop\u7684 Execute \u8BBE\u4E3AFALSE\u3002 \u505C\u6B62\u7C7B\u6307\u4EE4\u548C\u8F74\u63A7\u5236 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveToPoint1 MC_MoveToPoint FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B MC_ResumePositioning1 MC_ResumePositioning FB\u5B9E\u4F8B xFlag BOOL \u70B9\u8FD0\u8F6C xStop BOOL \u51CF\u901F\u505C\u6B62 xResume BOOL \u91CD\u65B0\u5F00\u59CB\u8FD0\u884C xResumeExe BOOL MC_ResumePositioning\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //MC_MoveToPoint1\u5904\u4E8E\u7B49\u5F85\u91CD\u65B0\u5F00\u59CB\u8FD0\u884C\u72B6\u6001\uFF0C\u5E76\u4E14\u672A\u6267\u884CMC_Stop1\u65F6\uFF0C\u5C06xResumeExe\u8BBE\u4E3ATRUE IF xResume AND MC_MoveToPoint1.Resumable AND NOT MC_Stop1.Done THEN \u00A0\u00A0\u00A0 xResumeExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xResumeExe \u00A0:=  FALSE ; END_IF ; MC_MoveToPoint1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 PointNo  \u00A0\u00A0\u00A0 := 1 \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_Stop1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xStop , \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 1000, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); MC_ResumePositioning1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xResumeExe \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveToPoint MC_Stop MC_ResumePositioning \u8FDE\u7EED\u8FD0\u884C\u7684\u5F85\u673A\u4E0E\u89E3\u9664\uFF08\u70B9\u53C2\u6570\uFF09 \u5728\u7B49\u5F85\u901A\u8FC7\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u8FDB\u884C\u8FDE\u7EED\u5B9A\u4F4D\u4F7F\uFF0C\u89E3\u9664\u5F85\u673A\u72B6\u6001\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u4F7F\u7528\u4E86\u70B9\u53C2\u6570\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 (2) \u70B9\u53C2\u6570\u7684\u8FDE\u7EED\u6A21\u5F0F\u5904\u4E8E\u5F85\u673A\u65F6\uFF0C\u4E0D\u4F1A\u524D\u5F80\u7531\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u6307\u5B9A\u7684\u70B9\uFF0C\u800C\u662F\u5904\u4E8E\u5F85\u673A\u72B6\u6001\u3002 \u6B64\u65F6\uFF0C MC_MoveToPoint.Standby1 \uFF08\u5F85\u673A\uFF09\u53D8\u4E3ATRUE\u3002 (3) xRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u89E3\u9664\u5F85\u673A\u72B6\u6001\uFF0C\u5E76\u5411\u7531\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u6307\u5B9A\u7684\u70B9\u5F00\u59CB\u5B9A\u4F4D\u8FD0\u884C\u3002 xRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5373\u4F7F\u8FDE\u7EED\u6A21\u5F0F\u88AB\u8BBE\u4E3A\u5F85\u673A\uFF0C\u4E5F\u4E0D\u4F1A\u8FDB\u5165\u5F85\u673A\u72B6\u6001\uFF0C\u800C\u662F\u4F1A\u8FD0\u884C\u524D\u5F80\u7531\u4E0B\u4E00\u4E2A\u70B9\u7F16\u53F7\u6307\u5B9A\u7684\u70B9\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveToPoint1 MC_MoveToPoint FB\u5B9E\u4F8B MC_ReleaseStandby1 MC_ReleaseStandby FB\u5B9E\u4F8B xFlag BOOL \u70B9\u8FD0\u8F6C xRelease BOOL \u5F85\u673A\u89E3\u9664 \u258C \u7A0B\u5E8F MC_MoveToPoint1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 PointNo  \u00A0\u00A0\u00A0 := 1 \u00A0\u00A0\u00A0 ); MC_ReleaseStandby1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Enable  \u00A0\u00A0\u00A0 :=  xRelease \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveToPoint MC_ReleaseStandby \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570\uFF08\u70B9\u53C2\u6570\uFF09 \u5728\u6267\u884C\u70B9\u8FD0\u884C\u65F6\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\u3002 (1) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u6267\u884C\u4F7F\u7528\u4E86\u70B9\u53C2\u6570\u7684\u5B9A\u4F4D\u8FD0\u884C\u3002 (2) \u5728\u6267\u884C\u70B9\u8FD0\u884C\u65F6\u5C06 xChgFlag \u8BBE\u4E3ATRUE\uFF0C xChgExe \u4F1A\u53D8\u4E3ATRUE\uFF0C\u53EF\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\u3002 \u00A0 \u53EF\u901A\u8FC7MC_ChangeTargetPosition\u66F4\u6539\u76EE\u6807\u5750\u6807\u548C\u8FD0\u884C\u901F\u5EA6\u7684\u8FD0\u884C\uFF0C\u4EC5\u9650\u4E8E\u4F7F\u7528\u4E86MC_MoveToPoint\u7684\u8FD0\u884C\u3002 \u5728\u8FD0\u884C\u4E2D\u901A\u8FC7MC_MoveAbsolute\u6216MC_MoveRelative\u66F4\u6539\u76EE\u6807\u5750\u6807\u6216\u8FD0\u884C\u901F\u5EA6\u65F6\uFF0C\u5E94\u5728\u8FD0\u884C\u4E2D\u542F\u52A8\u540C\u4E00\u529F\u80FD\u5757\u7684\u53E6\u4E00\u4E2A\u5B9E\u4F8B\u3002 \u8FD0\u884C\u4E2D\u66F4\u6539\u53C2\u6570 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveToPoint1 MC_MoveToPoint FB\u5B9E\u4F8B MC_ChangeTargetPosition1 MC_ChangeTargetPosition FB\u5B9E\u4F8B xFlag BOOL \u70B9\u8FD0\u8F6C xChgFlag BOOL \u66F4\u6539\u53C2\u6570 xChgExe BOOL MC_ChangeTargetPosition\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //\u5728\u901A\u8FC7MC_MoveToPoint1\u6267\u884C\u8F74\u63A7\u5236\u65F6\u5C06xChgFlag\u8BBE\u4E3ATRUE\uFF0C\u5C06xChgExe\u8BBE\u4E3ATRUE IF xChgFlag AND MC_MoveToPoint1.Active THEN \u00A0\u00A0\u00A0 xChgExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xChgExe \u00A0:=  FALSE ; END_IF ; MC_MoveToPoint1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 PointNo  \u00A0\u00A0\u00A0 := 1 \u00A0\u00A0\u00A0 ); MC_ChangeTargetPosition1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xChgExe , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 := 25000, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 5000 \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveToPoint MC_ChangeTargetPosition \u76F4\u7EBF\u63D2\u8865 \u6267\u884C\u4E24\u8F74\u7684\u76F4\u7EBF\u63D2\u8865\u8FD0\u884C\uFF0C\u7ED8\u5236\u4E0B\u8FF0\u83F1\u5F62\u8F68\u8FF9\u3002 \u00A0 (1) \u5728\u8FD0\u884C\u5F00\u59CB\u65F6\uFF0C\u5B58\u50A8 Pos1 \uFF5E Pos4 \u7684\u5750\u6807\u3002 (2) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u901A\u8FC7MC_MoveLinearAbsolute\u6267\u884C\u76F4\u7EBF\u63D2\u8865\u8FD0\u884C\u3002 \u5C06\u4E0A\u4E00\u6B21MC_MoveLinearAbsolute\u7684Active\u4F5C\u4E3A\u4E0B\u4E00\u6B21MC_MoveLinearAbsolute\u7684\u6267\u884C\u6761\u4EF6\uFF0C\u6765\u6267\u884C\u8FDE\u7EED\u8FD0\u884C\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u76F4\u7EBF\u63D2\u8865\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveLinearRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveLinearAbsolute1 MC_MoveLinearAbsolute FB\u5B9E\u4F8B MC_MoveLinearAbsolute2 MC_MoveLinearAbsolute FB\u5B9E\u4F8B MC_MoveLinearAbsolute3 MC_MoveLinearAbsolute FB\u5B9E\u4F8B MC_MoveLinearAbsolute4 MC_MoveLinearAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FD0\u884C Pos1 ARRAY[0..1] OF LREAL \u5750\u68071 Pos2 ARRAY[0..1] OF LREAL \u5750\u68072 Pos3 ARRAY[0..1] OF LREAL \u5750\u68073 Pos4 ARRAY[0..1] OF LREAL \u5750\u68074 \u258C \u7A0B\u5E8F IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 Pos1 [0] := 100; \u00A0\u00A0\u00A0 Pos1 [1] := 50; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Pos2 [0] := 200; \u00A0\u00A0\u00A0 Pos2 [1] := 0; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Pos3 [0] := 100; \u00A0\u00A0\u00A0 Pos3 [1] := -50; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 Pos4 [0] := 0; \u00A0\u00A0\u00A0 Pos4 [1] := 0; END_IF ; MC_MoveLinearAbsolute1 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 :=  Pos1 , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_Buffered, \u00A0\u00A0\u00A0 TransitionMode  \u00A0\u00A0\u00A0 := _MC_TM_None \u00A0\u00A0\u00A0 ); MC_MoveLinearAbsolute2 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveLinearAbsolute1.Active , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 :=  Pos2 , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_Buffered, \u00A0\u00A0\u00A0 TransitionMode  \u00A0\u00A0\u00A0 := _MC_TM_None \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_MoveLinearAbsolute3 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveLinearAbsolute2.Active , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 :=  Pos3 , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_Buffered, \u00A0\u00A0\u00A0 TransitionMode  \u00A0\u00A0\u00A0 := _MC_TM_None \u00A0\u00A0\u00A0 ); MC_MoveLinearAbsolute4 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveLinearAbsolute3.Active , \u00A0\u00A0\u00A0 Position  \u00A0\u00A0\u00A0 :=  Pos4 , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode  \u00A0\u00A0\u00A0 := _MC_BM_Buffered, \u00A0\u00A0\u00A0 TransitionMode  \u00A0\u00A0\u00A0 := _MC_TM_None \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveLinearAbsolute MC_MoveLinearRelative \u5706\u5F27\u63D2\u8865 \u6267\u884C\u4E24\u8F74\u7684\u5706\u5F27\u63D2\u8865\u8FD0\u884C\uFF0C\u7ED8\u5236\u4E0B\u8FF0\u8F68\u8FF9\u3002 \u00A0 (1) \u5728\u8FD0\u884C\u5F00\u59CB\u65F6\uFF0C\u5B58\u50A8 AuxPoint \uFF08\u7ECF\u8FC7\u70B9\uFF09\u548C EndPoint 1 \uFF5E EndPoint 4 \u7684\u5750\u6807\u3002 (2) xFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u901A\u8FC7MC_MoveCircularAbsolute\u6267\u884C\u5706\u5F27\u63D2\u8865\u8FD0\u884C\u3002 \u5C06\u4E0A\u4E00\u6B21MC_MoveCircularAbsolute\u7684Active\u4F5C\u4E3A\u4E0B\u4E00\u6B21MC_MoveCircularAbsolute\u7684\u6267\u884C\u6761\u4EF6\uFF0C\u6765\u6267\u884C\u8FDE\u7EED\u8FD0\u884C\u3002 \u00A0 \u5982\u9700\u8FDB\u884C\u5706\u5F27\u63D2\u8865\u76F8\u5BF9\u5B9A\u4F4D\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_MoveCircularRelative \u6307\u4EE4\u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_MoveCircularAbsolute1 MC_MoveCircularAbsolute FB\u5B9E\u4F8B MC_MoveCircularAbsolute2 MC_MoveCircularAbsolute FB\u5B9E\u4F8B MC_MoveCircularAbsolute3 MC_MoveCircularAbsolute FB\u5B9E\u4F8B MC_MoveCircularAbsolute4 MC_MoveCircularAbsolute FB\u5B9E\u4F8B xFlag BOOL \u5F00\u59CB\u8FD0\u884C EndPoint1 ARRAY[0..1] OF LREAL \u5750\u68071 EndPoint2 ARRAY[0..1] OF LREAL \u5750\u68072 EndPoint3 ARRAY[0..1] OF LREAL \u5750\u68073 EndPoint4 ARRAY[0..1] OF LREAL \u5750\u68074 AuxPoint ARRAY[0..1] OF LREAL \u7ECF\u8FC7\u70B9 \u258C \u7A0B\u5E8F //\u8BBE\u5B9A\u7ECF\u8FC7\u70B9\u548C\u5750\u6807 IF \u00A0_FirstScanOn  THEN \u00A0\u00A0\u00A0 AuxPoint [0] := 50; \u00A0\u00A0\u00A0 AuxPoint [1] := 50; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 EndPoint1 [0] := 100; \u00A0\u00A0\u00A0 EndPoint1 [1] := 0; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 EndPoint2 [0] := 100; \u00A0\u00A0\u00A0 EndPoint2 [1] := 100; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 EndPoint3 [0] := 0; \u00A0\u00A0\u00A0 EndPoint3 [1] := 100; \u00A0\u00A0\u00A0 \u00A0\u00A0\u00A0 EndPoint4 [0] := 0; \u00A0\u00A0\u00A0 EndPoint4 [1] := 0; END_IF ; MC_MoveCircularAbsolute1 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xFlag , \u00A0\u00A0\u00A0 CircMode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 AuxPoint  \u00A0\u00A0\u00A0 :=  AuxPoint , \u00A0\u00A0\u00A0 EndPoint  \u00A0\u00A0\u00A0 :=  EndPoint1 , \u00A0\u00A0\u00A0 PathChoice  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); MC_MoveCircularAbsolute2 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveCircularAbsolute1 .Active, \u00A0\u00A0\u00A0 CircMode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 AuxPoint  \u00A0\u00A0\u00A0 :=  AuxPoint , \u00A0\u00A0\u00A0 EndPoint  \u00A0\u00A0\u00A0 :=  EndPoint2 , \u00A0\u00A0\u00A0 PathChoice  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode \u00A0\u00A0\u00A0 := _MC_BM_Buffered \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_MoveCircularAbsolute3 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveCircularAbsolute2.Active , \u00A0\u00A0\u00A0 CircMode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 AuxPoint  \u00A0\u00A0\u00A0 :=  AuxPoint , \u00A0\u00A0\u00A0 EndPoint  \u00A0\u00A0\u00A0 :=  EndPoint3 , \u00A0\u00A0\u00A0 PathChoice  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode \u00A0\u00A0\u00A0 := _MC_BM_Buffered \u00A0\u00A0\u00A0 ); MC_MoveCircularAbsolute4 ( \u00A0\u00A0\u00A0 AxisGroup  \u00A0\u00A0\u00A0 := _MC_AxisGroup[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  MC_MoveCircularAbsolute3.Active , \u00A0\u00A0\u00A0 CircMode  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 AuxPoint  \u00A0\u00A0\u00A0 :=  AuxPoint , \u00A0\u00A0\u00A0 EndPoint  \u00A0\u00A0\u00A0 :=  EndPoint4 , \u00A0\u00A0\u00A0 PathChoice  \u00A0\u00A0\u00A0 := 0, \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 Acceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 40, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100, \u00A0\u00A0\u00A0 BufferMode \u00A0\u00A0\u00A0 := _MC_BM_Buffered \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_MoveCircularAbsolute MC_MoveCircularRelative \u901F\u5EA6\u63A7\u5236/\u8F6C\u77E9\u63A7\u5236 \u6267\u884C\u901F\u5EA6\u63A7\u5236\uFF08CSV\uFF09\u3001\u8F6C\u77E9\u63A7\u5236\uFF08CST\uFF09\u3002 (1) xVelFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5207\u6362\u5230\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u8FDB\u884C\u63A7\u5236\uFF1B xTrqFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5207\u6362\u5230\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u8FDB\u884C\u63A7\u5236\u3002 \u5728\u8FDB\u884C\u6A21\u5F0F\u5207\u6362\u4E4B\u524D\uFF0C\u901A\u8FC7\u5411\u901F\u5EA6\u6307\u4EE4\u548C\u8F6C\u77E9\u6307\u4EE4\u4E2D\u5B58\u50A80\uFF0C\u6765\u9632\u6B62\u5207\u6362\u6A21\u5F0F\u540E\u7ACB\u5373\u8FD0\u884C\u3002 (2) xReleaseFlag \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884CMC_Stop\u6307\u4EE4\uFF0C\u5E76\u5207\u6362\u4E3A\u4F4D\u7F6E\u63A7\u5236\u6A21\u5F0F\uFF08CSP\uFF09\u3002 \u00A0 \u5728CSP\u6A21\u5F0F\u4E0B\u8FDB\u884C\u901F\u5EA6\u63A7\u5236\u65F6\uFF0C\u5E94\u6267\u884C MC_MoveVelocity \u3002 \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_VelocityControl1 MC_VelocityControl FB\u5B9E\u4F8B MC_TorqueControl1 MC_TorqueControl FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B R_TRIG1 R_TRIG FB\u5B9E\u4F8B R_TRIG2 R_TRIG FB\u5B9E\u4F8B xVelFlag BOOL \u5207\u6362\u4E3A\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F xTrqFlag BOOL \u5207\u6362\u4E3A\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F xReleaseFlag BOOL \u7ED3\u675F\u901F\u5EA6/\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F lrCmdVel LREAL \u901F\u5EA6\u6307\u4EE4\u503C lrTrqLim LREAL \u8F6C\u77E9\u9650\u5236\u503C lrCmdTrq LREAL \u8F6C\u77E9\u6307\u4EE4\u503C lrVelLim LREAL \u901F\u5EA6\u9650\u5236\u503C \u258C \u7A0B\u5E8F //\u68C0\u6D4BxVelFlag\u7684\u4E0A\u5347\u6CBF R_TRIG1 (CLK :=  xVelFlag ); IF R_TRIG1.Q THEN \u00A0\u00A0\u00A0 lrCmdVel  := 0; END_IF ; //\u68C0\u6D4BxTrqFlag\u7684\u4E0A\u5347\u6CBF R_TRIG2 (CLK :=  xTrqFlag ); IF R_TRIG2.Q THEN \u00A0\u00A0\u00A0 lrCmdTrq  := 0; END_IF ; MC_VelocityControl1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xVelFlag , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 :=  lrCmdVel , \u00A0\u00A0\u00A0 Torque  \u00A0\u00A0\u00A0 :=  lrTrqLim \u00A0\u00A0\u00A0 ); \u00A0\u00A0\u00A0 MC_TorqueControl1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xTrqFlag , \u00A0\u00A0\u00A0 Torque  \u00A0\u00A0\u00A0 :=  lrCmdTrq , \u00A0\u00A0\u00A0 Velocity  \u00A0\u00A0\u00A0 :=  lrVelLim \u00A0\u00A0\u00A0 ); MC_Stop1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xReleaseFlag \u00A0\u00A0\u00A0 ); \u00A0 \u5728\u901F\u5EA6\u63A7\u5236\u6A21\u5F0F\uFF08CSV\uFF09\u3001\u8F6C\u77E9\u63A7\u5236\u6A21\u5F0F\uFF08CST\uFF09\u4E2D\uFF0C\u53EF\u901A\u8FC7\u66F4\u6539 lrCmdVel \u3001 lrCmdTrq \uFF0C\u6765\u5B9E\u65F6\u66F4\u6539\u901F\u5EA6\u6307\u4EE4\u503C\u3001\u8F6C\u77E9\u6307\u4EE4\u503C\u3002 \u258C \u76F8\u5173\u6307\u4EE4 MC_VelocityControl MC_TorqueControl MC_Stop \u540C\u6B65\u63A7\u5236 \u6839\u636E\u540C\u6B65\u53C2\u6570\u6267\u884C\u540C\u6B65\u63A7\u5236\u3002 (1) xSyncExe \u8BBE\u4E3ATRUE\u65F6\uFF0C\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u3002 (2) \u5728\u540C\u6B65\u63A7\u5236\u4E2D\u6267\u884CMC_SwitchCam\u6307\u4EE4\uFF0C\u53EF\u4EE5\u66F4\u6539\u7528\u4E8E\u540C\u6B65\u63A7\u5236\u7684\u51F8\u8F6E\u6570\u636E\u3002 (3) \u5982\u679C\u8981\u5728\u7A0B\u5E8F\u4E2D\u66F4\u6539\u540C\u6B65\u53C2\u6570\uFF0C\u5219\u5E94\u5411\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam\u5199\u5165\u503C\u3002 xChgGear \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u66F4\u6539\u53EF\u53D8\u9F7F\u8F6E\u5206\u5B50/\u53EF\u53D8\u9F7F\u8F6E\u5206\u6BCD\u7684\u8BBE\u5B9A\u503C\u3002 (4) xSyncRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884CMC_Stop\u6307\u4EE4\uFF0C\u89E3\u9664\u540C\u6B65\u63A7\u5236\u3002 \u00A0 \u4F7F\u7528\u4E0B\u8FF0\u4EFB\u610F\u4E00\u79CD\u65B9\u6CD5\u8BBE\u5B9A\u540C\u6B65\u53C2\u6570\u3002 \u2022 KV STUDIO\u7684\u540C\u6B65\u53C2\u6570 \u2022 \u6539\u5199\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam\u7684\u503C \u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u4E0B\u8FF0\u624B\u518C\u3002 \u300AKV-X500/X300\u7CFB\u5217\u3000\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_SyncControl1 MC_SyncControl FB\u5B9E\u4F8B MC_SwitchCam1 MC_SwitchCam FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B R_TRIG1 R_TRIG FB\u5B9E\u4F8B xSyncExe BOOL \u5F00\u59CB\u540C\u6B65\u63A7\u5236 xCamSwitch BOOL \u5207\u6362\u51F8\u8F6E\u6570\u636E xSwitchExe BOOL MC_SwitchCam\u7684\u6267\u884C\u6761\u4EF6 uiCamNo UINT \u51F8\u8F6E\u7F16\u53F7 xChgGear BOOL \u53EF\u53D8\u9F7F\u8F6E\u66F4\u6539\u8BF7\u6C42 xSyncRelease BOOL \u89E3\u9664\u540C\u6B65\u63A7\u5236 xReleaseExe BOOL MC_Stop\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //MC_SyncControl1.InControl(\u540C\u6B65\u63A7\u5236\u4E2D)\u4E3ATRUE\uFF0C\u5E76\u4E14xCamSwitch\u4E5F\u4E3ATRUE\u65F6\uFF0C\u5C06xSwitchExe\u8BBE\u4E3ATRUE IF xCamSwitch AND MC_SyncControl1.InControl THEN \u00A0\u00A0\u00A0 xSwitchExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xSwitchExe \u00A0:=  FALSE ; END_IF ; //\u5728\u68C0\u6D4BxChgGear\u7684\u4E0A\u5347\u6CBF\u4E2D\uFF0C\u66F4\u6539\u53EF\u53D8\u9F7F\u8F6E\u5206\u5B50/\u5206\u6BCD\u7684\u53C2\u6570 R_TRIG1 (CLK :=  xChgGear ); IF R_TRIG1.Q AND MC_SyncControl1.InControl THEN \u00A0\u00A0\u00A0 _MC_SyncParam[1].VariableGearRatioNumerator := 10; \u00A0\u00A0\u00A0 _MC_SyncParam[1].VariableGearRatioDenominator := 1; END_IF ; //MC_SyncControl1.InControl(\u540C\u6B65\u63A7\u5236\u4E2D)\u4E3ATRUE\uFF0C\u5E76\u4E14xCamSyncRelease\u4E5F\u4E3ATRUE\u65F6\uFF0C\u5C06xReleaseExe\u8BBE\u4E3ATRUE IF xSyncRelease AND MC_SyncControl1.InControl THEN \u00A0\u00A0\u00A0 xReleaseExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xReleaseExe \u00A0:=  FALSE ; END_IF ; MC_SyncControl1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xSyncExe \u00A0\u00A0\u00A0 ); MC_SwitchCam1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xSwitchExe , \u00A0\u00A0\u00A0 CamNo  \u00A0\u00A0\u00A0 :=  uiCamNo , \u00A0\u00A0\u00A0 SwitchPos  \u00A0\u00A0\u00A0 := 0 \u00A0\u00A0\u00A0 ); MC_Stop1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xReleaseExe , \u00A0\u00A0\u00A0 Deceleration  \u00A0\u00A0\u00A0 := 1000, \u00A0\u00A0\u00A0 Jerk  \u00A0\u00A0\u00A0 := 100 \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_SyncControl MC_SwitchCam MC_Stop \u79BB\u5408\u5668 \u5728\u540C\u6B65\u63A7\u5236\u4E2D\uFF0C\u901A\u8FC7\u5BF9\u79BB\u5408\u5668\u8FDB\u884CON/OFF\u64CD\u4F5C\u6765\u63A7\u5236\u4E3B\u8F74\u4E0E\u4ECE\u8F74\u7684\u8FDE\u63A5\u72B6\u6001\u3002 (1) xSyncExe \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u5411_MC_SyncParam\uFF08\u540C\u6B65\u53C2\u6570\uFF09\u5199\u5165\u4E0E\u79BB\u5408\u5668\u76F8\u5173\u7684\u8BBE\u5B9A\u503C\u3002 \u5728\u672C\u793A\u4F8B\u4E2D\uFF0C\u5C06\u4E3B\u79BB\u5408\u5668 \u79BB\u5408\u5668ON\u539F\u56E0\u66F4\u6539\u4E3A\u201C\u79BB\u5408\u5668\u63A7\u5236\uFF08\u7535\u5E73\uFF09\u201D\uFF08H10\uFF09\u3002 \u6267\u884CMC_SyncControl\uFF0C\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u3002 (2) xClutchCtrl \u8BBE\u4E3ATRUE\u65F6\uFF0C\u53EF\u4EE5\u63A7\u5236\u79BB\u5408\u5668\u7684\u8FDE\u63A5/\u5206\u79BB\u3002 xClutchConnect \u4E3AFALSE\u65F6\uFF0C\u79BB\u5408\u5668\u4F1A\u88AB\u5206\u79BB\uFF0C\u4E3B\u8F74\u548C\u4ECE\u8F74\u7684\u8FD0\u884C\u88AB\u5207\u65AD\u3002 xClutchConnect \u4E3ATRUE\u65F6\uFF0C\u4F1A\u8FDE\u63A5\u79BB\u5408\u5668\uFF0C\u4E3B\u8F74\u548C\u4ECE\u8F74\u7684\u8FD0\u884C\u8FDB\u5165\u8FDE\u63A5\u72B6\u6001\u3002 (3) xSyncRelease \u8BBE\u4E3ATRUE\u65F6\uFF0C\u4F1A\u6267\u884CMC_Stop\u6307\u4EE4\uFF0C\u89E3\u9664\u540C\u6B65\u63A7\u5236\u3002 \u00A0 \u2022 \u5982\u9700\u4F7F\u7528\u8F85\u52A9\u79BB\u5408\u5668\uFF0C\u8BF7\u66FF\u6362\u4E3A MC_AuxClutch \u3002 \u2022 \u4F7F\u7528\u4E0B\u8FF0\u4EFB\u610F\u4E00\u79CD\u65B9\u6CD5\u8BBE\u5B9A\u540C\u6B65\u53C2\u6570\u3002 \u2012 KV STUDIO\u7684\u540C\u6B65\u53C2\u6570 \u2012 \u6539\u5199\u7CFB\u7EDF\u53D8\u91CF_MC_SyncParam\u7684\u503C \u8BE6\u7EC6\u5185\u5BB9\u8BF7\u53C2\u9605\u4E0B\u8FF0\u624B\u518C\u3002 \u300AKV-X500/X300\u7CFB\u5217\u3000\u8FD0\u52A8\u63A7\u5236\u529F\u80FD\u7528\u6237\u624B\u518C\u300B \u258C \u53D8\u91CF\u5217\u8868 \u53D8\u91CF \u6570\u636E\u7C7B\u578B \u6CE8\u91CA MC_SyncControl1 MC_SyncControl FB\u5B9E\u4F8B MC_MainClutch1 MC_MainClutch FB\u5B9E\u4F8B MC_Stop1 MC_Stop FB\u5B9E\u4F8B R_TRIG1 R_TRIG FB\u5B9E\u4F8B xSyncExe BOOL \u5F00\u59CB\u540C\u6B65\u63A7\u5236 xClutchCtrl BOOL \u79BB\u5408\u5668\u63A7\u5236 xClutchConnect BOOL \u8FDE\u63A5\u79BB\u5408\u5668\uFF08\u7535\u5E73\uFF09 xSyncRelease BOOL \u89E3\u9664\u540C\u6B65\u63A7\u5236 xReleaseExe BOOL MC_Stop\u7684\u6267\u884C\u6761\u4EF6 \u258C \u7A0B\u5E8F //\u5728\u5F00\u59CB\u540C\u6B65\u63A7\u5236\u65F6\u5C06\u79BB\u5408\u5668ON\u539F\u56E0\u8BBE\u4E3A\u201C\u79BB\u5408\u5668\u63A7\u5236(\u7535\u5E73)\u201D(H10) R_TRIG1 (CLK :=  xSyncExe ); IF R_TRIG1.Q THEN \u00A0\u00A0\u00A0 _MC_SyncParam[1].MainClutchOnCondition := H0010; END_IF ; //MC_SyncControl1.InControl\u4E3ATRUE(\u540C\u6B65\u63A7\u5236\u4E2D)\uFF0C\u5E76\u4E14xSyncRelease\u4E5F\u4E3ATRUE\u65F6\uFF0C\u5C06xReleaseExe\u8BBE\u4E3ATRUE IF xSyncRelease AND MC_SyncControl1.InControl THEN \u00A0\u00A0\u00A0 xReleaseExe \u00A0:=  TRUE ; ELSE \u00A0\u00A0\u00A0 xReleaseExe \u00A0:=  FALSE ; END_IF ; MC_SyncControl1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xSyncExe \u00A0\u00A0\u00A0 ); MC_MainClutch1 ( \u00A0\u00A0\u00A0 Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Enable  \u00A0\u00A0\u00A0 :=  xClutchCtrl , \u00A0\u00A0\u00A0 Level \u00A0\u00A0\u00A0 :=  xClutchConnect \u00A0\u00A0\u00A0 ); MC_Stop1 \u00A0\u00A0\u00A0 (Axis  \u00A0\u00A0\u00A0 := _MC_Axis[1], \u00A0\u00A0\u00A0 Execute  \u00A0\u00A0\u00A0 :=  xReleaseExe \u00A0\u00A0\u00A0 ); \u258C \u76F8\u5173\u6307\u4EE4 MC_SyncControl MC_MainClutch MC_Stop"}];
    }
});